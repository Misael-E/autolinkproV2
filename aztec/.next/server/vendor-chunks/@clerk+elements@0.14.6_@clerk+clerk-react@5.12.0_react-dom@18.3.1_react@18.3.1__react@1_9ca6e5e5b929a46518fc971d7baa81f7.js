"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7";
exports.ids = ["vendor-chunks/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-7WFXAEQQ.mjs":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-7WFXAEQQ.mjs ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Router: () => (/* reexport safe */ _clerk_shared_router__WEBPACK_IMPORTED_MODULE_3__.Router),\n/* harmony export */   useClerkRouter: () => (/* reexport safe */ _clerk_shared_router__WEBPACK_IMPORTED_MODULE_3__.useClerkRouter),\n/* harmony export */   useNextRouter: () => (/* binding */ useNextRouter),\n/* harmony export */   usePathnameWithoutCatchAll: () => (/* binding */ usePathnameWithoutCatchAll),\n/* harmony export */   useVirtualRouter: () => (/* binding */ useVirtualRouter)\n/* harmony export */ });\n/* harmony import */ var _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-BXZUXUGF.mjs */ \"(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-BXZUXUGF.mjs\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _clerk_shared_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @clerk/shared/router */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/router.mjs\");\n/* harmony import */ var next_compat_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/compat/router */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/compat/router.js\");\n\n\n// src/react/router/next.ts\n\nvar useNextRouter = () => {\n  const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.useRouter)();\n  const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.usePathname)();\n  const searchParams = typeof window === \"undefined\" ? new URLSearchParams() : (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.useSearchParams)();\n  const canUseWindowHistoryAPIs = typeof window !== \"undefined\" && window.next && window.next.version >= _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.NEXT_WINDOW_HISTORY_SUPPORT_VERSION;\n  return {\n    mode: \"path\",\n    name: \"NextRouter\",\n    push: (path) => router.push(path),\n    replace: (path) => canUseWindowHistoryAPIs ? window.history.replaceState(null, \"\", path) : router.replace(path),\n    shallowPush(path) {\n      canUseWindowHistoryAPIs ? window.history.pushState(null, \"\", path) : router.push(path, {});\n    },\n    pathname: () => pathname,\n    searchParams: () => searchParams\n  };\n};\n\n// src/react/router/virtual.ts\n\nvar DUMMY_ORIGIN = \"https://clerk.dummy\";\nvar _url, _listeners;\nvar VirtualRouter = class {\n  constructor(path) {\n    this.name = \"VirtualRouter\";\n    this.mode = \"virtual\";\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _url);\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateAdd)(this, _listeners, /* @__PURE__ */ new Set());\n    const origin = typeof window === \"undefined\" ? DUMMY_ORIGIN : window.location.origin;\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _url, new URL(path != null ? path : \"/\", origin));\n  }\n  push(path) {\n    const newUrl = new URL((0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _url).toString());\n    newUrl.pathname = path;\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateSet)(this, _url, newUrl);\n    this.emit();\n  }\n  replace(path) {\n    this.push(path);\n  }\n  shallowPush(path) {\n    this.push(path);\n  }\n  pathname() {\n    return (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _url).pathname;\n  }\n  searchParams() {\n    return (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _url).searchParams;\n  }\n  subscribe(listener) {\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _listeners).add(listener);\n    return () => (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _listeners).delete(listener);\n  }\n  emit() {\n    (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _listeners).forEach((listener) => listener((0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _url)));\n  }\n  getSnapshot() {\n    return (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_1__.__privateGet)(this, _url);\n  }\n};\n_url = new WeakMap();\n_listeners = new WeakMap();\nvar virtualRouter = new VirtualRouter(\"/\");\nvar useVirtualRouter = () => {\n  const url = (0,react__WEBPACK_IMPORTED_MODULE_2__.useSyncExternalStore)(\n    virtualRouter.subscribe.bind(virtualRouter),\n    virtualRouter.getSnapshot.bind(virtualRouter)\n  );\n  return {\n    mode: virtualRouter.mode,\n    name: virtualRouter.name,\n    pathname: () => url.pathname,\n    push: virtualRouter.push.bind(virtualRouter),\n    replace: virtualRouter.replace.bind(virtualRouter),\n    searchParams: () => url.searchParams,\n    shallowPush: virtualRouter.shallowPush.bind(virtualRouter)\n  };\n};\n\n// src/react/router/index.ts\n\n\n// src/react/utils/path-inference/next.tsx\n\n\n\n\n// src/react/utils/path-inference/utils.ts\nfunction removeOptionalCatchAllSegment(pathname) {\n  return pathname.replace(/\\/\\[\\[\\.\\.\\..*/, \"\");\n}\n\n// src/react/utils/path-inference/next.tsx\nvar usePathnameWithoutCatchAll = () => {\n  const pathRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef();\n  const pagesRouter = (0,next_compat_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n  if (pagesRouter) {\n    if (pathRef.current) {\n      return pathRef.current;\n    } else {\n      pathRef.current = removeOptionalCatchAllSegment(pagesRouter.pathname);\n      return pathRef.current;\n    }\n  }\n  const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.usePathname)() || \"\";\n  const pathParts = pathname.split(\"/\").filter(Boolean);\n  const catchAllParams = Object.values((0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.useParams)() || {}).filter((v) => Array.isArray(v)).flat(Infinity);\n  if (pathRef.current) {\n    return pathRef.current;\n  } else {\n    pathRef.current = `/${pathParts.slice(0, pathParts.length - catchAllParams.length).join(\"/\")}`;\n    return pathRef.current;\n  }\n};\n\n\n//# sourceMappingURL=chunk-7WFXAEQQ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGNsZXJrK2VsZW1lbnRzQDAuMTQuNl9AY2xlcmsrY2xlcmstcmVhY3RANS4xMi4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxXzljYTZlNWU1YjkyOWE0NjUxOGZjOTcxZDdiYWE4MWY3L25vZGVfbW9kdWxlcy9AY2xlcmsvZWxlbWVudHMvZGlzdC9jaHVuay03V0ZYQUVRUS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUs4Qjs7QUFFOUI7QUFDMEU7QUFDMUU7QUFDQSxpQkFBaUIsMERBQVM7QUFDMUIsbUJBQW1CLDREQUFXO0FBQzlCLCtFQUErRSxnRUFBZTtBQUM5Rix5R0FBeUcsb0ZBQW1DO0FBQzVJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxpRUFBWTtBQUNoQixJQUFJLGlFQUFZO0FBQ2hCO0FBQ0EsSUFBSSxpRUFBWTtBQUNoQjtBQUNBO0FBQ0EsMkJBQTJCLGlFQUFZO0FBQ3ZDO0FBQ0EsSUFBSSxpRUFBWTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlFQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxXQUFXLGlFQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxJQUFJLGlFQUFZO0FBQ2hCLGlCQUFpQixpRUFBWTtBQUM3QjtBQUNBO0FBQ0EsSUFBSSxpRUFBWSxrREFBa0QsaUVBQVk7QUFDOUU7QUFDQTtBQUNBLFdBQVcsaUVBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyREFBb0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDcUU7O0FBRXJFO0FBQzZEO0FBQ1k7QUFDL0M7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IseUNBQVk7QUFDOUIsc0JBQXNCLDZEQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0REFBWTtBQUMvQjtBQUNBLHVDQUF1QywwREFBUyxRQUFRO0FBQ3hEO0FBQ0E7QUFDQSxJQUFJO0FBQ0osMEJBQTBCLHVFQUF1RTtBQUNqRztBQUNBO0FBQ0E7O0FBUUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BjbGVyaytlbGVtZW50c0AwLjE0LjZfQGNsZXJrK2NsZXJrLXJlYWN0QDUuMTIuMF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMV85Y2E2ZTVlNWI5MjlhNDY1MThmYzk3MWQ3YmFhODFmNy9ub2RlX21vZHVsZXMvQGNsZXJrL2VsZW1lbnRzL2Rpc3QvY2h1bmstN1dGWEFFUVEubWpzPzkzZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTkVYVF9XSU5ET1dfSElTVE9SWV9TVVBQT1JUX1ZFUlNJT04sXG4gIF9fcHJpdmF0ZUFkZCxcbiAgX19wcml2YXRlR2V0LFxuICBfX3ByaXZhdGVTZXRcbn0gZnJvbSBcIi4vY2h1bmstQlhaVVhVR0YubWpzXCI7XG5cbi8vIHNyYy9yZWFjdC9yb3V0ZXIvbmV4dC50c1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUsIHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xudmFyIHVzZU5leHRSb3V0ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKCkgOiB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3QgY2FuVXNlV2luZG93SGlzdG9yeUFQSXMgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5uZXh0ICYmIHdpbmRvdy5uZXh0LnZlcnNpb24gPj0gTkVYVF9XSU5ET1dfSElTVE9SWV9TVVBQT1JUX1ZFUlNJT047XG4gIHJldHVybiB7XG4gICAgbW9kZTogXCJwYXRoXCIsXG4gICAgbmFtZTogXCJOZXh0Um91dGVyXCIsXG4gICAgcHVzaDogKHBhdGgpID0+IHJvdXRlci5wdXNoKHBhdGgpLFxuICAgIHJlcGxhY2U6IChwYXRoKSA9PiBjYW5Vc2VXaW5kb3dIaXN0b3J5QVBJcyA/IHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCBwYXRoKSA6IHJvdXRlci5yZXBsYWNlKHBhdGgpLFxuICAgIHNoYWxsb3dQdXNoKHBhdGgpIHtcbiAgICAgIGNhblVzZVdpbmRvd0hpc3RvcnlBUElzID8gd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIFwiXCIsIHBhdGgpIDogcm91dGVyLnB1c2gocGF0aCwge30pO1xuICAgIH0sXG4gICAgcGF0aG5hbWU6ICgpID0+IHBhdGhuYW1lLFxuICAgIHNlYXJjaFBhcmFtczogKCkgPT4gc2VhcmNoUGFyYW1zXG4gIH07XG59O1xuXG4vLyBzcmMvcmVhY3Qvcm91dGVyL3ZpcnR1YWwudHNcbmltcG9ydCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgRFVNTVlfT1JJR0lOID0gXCJodHRwczovL2NsZXJrLmR1bW15XCI7XG52YXIgX3VybCwgX2xpc3RlbmVycztcbnZhciBWaXJ0dWFsUm91dGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihwYXRoKSB7XG4gICAgdGhpcy5uYW1lID0gXCJWaXJ0dWFsUm91dGVyXCI7XG4gICAgdGhpcy5tb2RlID0gXCJ2aXJ0dWFsXCI7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF91cmwpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbGlzdGVuZXJzLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBjb25zdCBvcmlnaW4gPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gRFVNTVlfT1JJR0lOIDogd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3VybCwgbmV3IFVSTChwYXRoICE9IG51bGwgPyBwYXRoIDogXCIvXCIsIG9yaWdpbikpO1xuICB9XG4gIHB1c2gocGF0aCkge1xuICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwoX19wcml2YXRlR2V0KHRoaXMsIF91cmwpLnRvU3RyaW5nKCkpO1xuICAgIG5ld1VybC5wYXRobmFtZSA9IHBhdGg7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF91cmwsIG5ld1VybCk7XG4gICAgdGhpcy5lbWl0KCk7XG4gIH1cbiAgcmVwbGFjZShwYXRoKSB7XG4gICAgdGhpcy5wdXNoKHBhdGgpO1xuICB9XG4gIHNoYWxsb3dQdXNoKHBhdGgpIHtcbiAgICB0aGlzLnB1c2gocGF0aCk7XG4gIH1cbiAgcGF0aG5hbWUoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfdXJsKS5wYXRobmFtZTtcbiAgfVxuICBzZWFyY2hQYXJhbXMoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfdXJsKS5zZWFyY2hQYXJhbXM7XG4gIH1cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9saXN0ZW5lcnMpLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IF9fcHJpdmF0ZUdldCh0aGlzLCBfbGlzdGVuZXJzKS5kZWxldGUobGlzdGVuZXIpO1xuICB9XG4gIGVtaXQoKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9saXN0ZW5lcnMpLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihfX3ByaXZhdGVHZXQodGhpcywgX3VybCkpKTtcbiAgfVxuICBnZXRTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF91cmwpO1xuICB9XG59O1xuX3VybCA9IG5ldyBXZWFrTWFwKCk7XG5fbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKTtcbnZhciB2aXJ0dWFsUm91dGVyID0gbmV3IFZpcnR1YWxSb3V0ZXIoXCIvXCIpO1xudmFyIHVzZVZpcnR1YWxSb3V0ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHVybCA9IHVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgIHZpcnR1YWxSb3V0ZXIuc3Vic2NyaWJlLmJpbmQodmlydHVhbFJvdXRlciksXG4gICAgdmlydHVhbFJvdXRlci5nZXRTbmFwc2hvdC5iaW5kKHZpcnR1YWxSb3V0ZXIpXG4gICk7XG4gIHJldHVybiB7XG4gICAgbW9kZTogdmlydHVhbFJvdXRlci5tb2RlLFxuICAgIG5hbWU6IHZpcnR1YWxSb3V0ZXIubmFtZSxcbiAgICBwYXRobmFtZTogKCkgPT4gdXJsLnBhdGhuYW1lLFxuICAgIHB1c2g6IHZpcnR1YWxSb3V0ZXIucHVzaC5iaW5kKHZpcnR1YWxSb3V0ZXIpLFxuICAgIHJlcGxhY2U6IHZpcnR1YWxSb3V0ZXIucmVwbGFjZS5iaW5kKHZpcnR1YWxSb3V0ZXIpLFxuICAgIHNlYXJjaFBhcmFtczogKCkgPT4gdXJsLnNlYXJjaFBhcmFtcyxcbiAgICBzaGFsbG93UHVzaDogdmlydHVhbFJvdXRlci5zaGFsbG93UHVzaC5iaW5kKHZpcnR1YWxSb3V0ZXIpXG4gIH07XG59O1xuXG4vLyBzcmMvcmVhY3Qvcm91dGVyL2luZGV4LnRzXG5pbXBvcnQgeyBSb3V0ZSwgUm91dGVyLCB1c2VDbGVya1JvdXRlciB9IGZyb20gXCJAY2xlcmsvc2hhcmVkL3JvdXRlclwiO1xuXG4vLyBzcmMvcmVhY3QvdXRpbHMvcGF0aC1pbmZlcmVuY2UvbmV4dC50c3hcbmltcG9ydCB7IHVzZVJvdXRlciBhcyB1c2VSb3V0ZXIyIH0gZnJvbSBcIm5leHQvY29tcGF0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VQYXRobmFtZSBhcyB1c2VQYXRobmFtZTIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC91dGlscy9wYXRoLWluZmVyZW5jZS91dGlscy50c1xuZnVuY3Rpb24gcmVtb3ZlT3B0aW9uYWxDYXRjaEFsbFNlZ21lbnQocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLnJlcGxhY2UoL1xcL1xcW1xcW1xcLlxcLlxcLi4qLywgXCJcIik7XG59XG5cbi8vIHNyYy9yZWFjdC91dGlscy9wYXRoLWluZmVyZW5jZS9uZXh0LnRzeFxudmFyIHVzZVBhdGhuYW1lV2l0aG91dENhdGNoQWxsID0gKCkgPT4ge1xuICBjb25zdCBwYXRoUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gIGNvbnN0IHBhZ2VzUm91dGVyID0gdXNlUm91dGVyMigpO1xuICBpZiAocGFnZXNSb3V0ZXIpIHtcbiAgICBpZiAocGF0aFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm4gcGF0aFJlZi5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRoUmVmLmN1cnJlbnQgPSByZW1vdmVPcHRpb25hbENhdGNoQWxsU2VnbWVudChwYWdlc1JvdXRlci5wYXRobmFtZSk7XG4gICAgICByZXR1cm4gcGF0aFJlZi5jdXJyZW50O1xuICAgIH1cbiAgfVxuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lMigpIHx8IFwiXCI7XG4gIGNvbnN0IHBhdGhQYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IGNhdGNoQWxsUGFyYW1zID0gT2JqZWN0LnZhbHVlcyh1c2VQYXJhbXMoKSB8fCB7fSkuZmlsdGVyKCh2KSA9PiBBcnJheS5pc0FycmF5KHYpKS5mbGF0KEluZmluaXR5KTtcbiAgaWYgKHBhdGhSZWYuY3VycmVudCkge1xuICAgIHJldHVybiBwYXRoUmVmLmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcGF0aFJlZi5jdXJyZW50ID0gYC8ke3BhdGhQYXJ0cy5zbGljZSgwLCBwYXRoUGFydHMubGVuZ3RoIC0gY2F0Y2hBbGxQYXJhbXMubGVuZ3RoKS5qb2luKFwiL1wiKX1gO1xuICAgIHJldHVybiBwYXRoUmVmLmN1cnJlbnQ7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIHVzZU5leHRSb3V0ZXIsXG4gIHVzZVZpcnR1YWxSb3V0ZXIsXG4gIFJvdXRlcixcbiAgdXNlQ2xlcmtSb3V0ZXIsXG4gIHVzZVBhdGhuYW1lV2l0aG91dENhdGNoQWxsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstN1dGWEFFUVEubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-7WFXAEQQ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-BXZUXUGF.mjs":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-BXZUXUGF.mjs ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CAPTCHA_ELEMENT_ID: () => (/* binding */ CAPTCHA_ELEMENT_ID),\n/* harmony export */   ClerkElementsError: () => (/* binding */ ClerkElementsError),\n/* harmony export */   ClerkElementsRuntimeError: () => (/* binding */ ClerkElementsRuntimeError),\n/* harmony export */   Connection: () => (/* binding */ Connection),\n/* harmony export */   ERROR_CODES: () => (/* binding */ ERROR_CODES),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   FieldError: () => (/* binding */ FieldError),\n/* harmony export */   FieldState: () => (/* binding */ FieldState),\n/* harmony export */   Form: () => (/* binding */ Form),\n/* harmony export */   FormStoreProvider: () => (/* binding */ FormStoreProvider),\n/* harmony export */   GlobalError: () => (/* binding */ GlobalError),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   Loading: () => (/* binding */ Loading),\n/* harmony export */   MAGIC_LINK_VERIFY_PATH_ROUTE: () => (/* binding */ MAGIC_LINK_VERIFY_PATH_ROUTE),\n/* harmony export */   NEXT_WINDOW_HISTORY_SUPPORT_VERSION: () => (/* binding */ NEXT_WINDOW_HISTORY_SUPPORT_VERSION),\n/* harmony export */   RESENDABLE_COUNTDOWN_DEFAULT: () => (/* binding */ RESENDABLE_COUNTDOWN_DEFAULT),\n/* harmony export */   ROUTING: () => (/* binding */ ROUTING),\n/* harmony export */   SEARCH_PARAMS: () => (/* binding */ SEARCH_PARAMS),\n/* harmony export */   SIGN_IN_DEFAULT_BASE_PATH: () => (/* binding */ SIGN_IN_DEFAULT_BASE_PATH),\n/* harmony export */   SIGN_UP_DEFAULT_BASE_PATH: () => (/* binding */ SIGN_UP_DEFAULT_BASE_PATH),\n/* harmony export */   SSO_CALLBACK_PATH_ROUTE: () => (/* binding */ SSO_CALLBACK_PATH_ROUTE),\n/* harmony export */   SignInFirstFactor: () => (/* binding */ SignInFirstFactor),\n/* harmony export */   SignInFirstFactorCtx: () => (/* binding */ SignInFirstFactorCtx),\n/* harmony export */   SignInRouterCtx: () => (/* binding */ SignInRouterCtx),\n/* harmony export */   SignInRouterMachine: () => (/* binding */ SignInRouterMachine),\n/* harmony export */   SignInSafeIdentifierSelectorForStrategy: () => (/* binding */ SignInSafeIdentifierSelectorForStrategy),\n/* harmony export */   SignInSalutationSelector: () => (/* binding */ SignInSalutationSelector),\n/* harmony export */   SignInSecondFactor: () => (/* binding */ SignInSecondFactor),\n/* harmony export */   SignInSecondFactorCtx: () => (/* binding */ SignInSecondFactorCtx),\n/* harmony export */   SignInSessionList: () => (/* binding */ SignInSessionList),\n/* harmony export */   SignInSessionListItem: () => (/* binding */ SignInSessionListItem),\n/* harmony export */   SignInStep: () => (/* binding */ SignInStep),\n/* harmony export */   SignInStrategy: () => (/* binding */ SignInStrategy),\n/* harmony export */   SignInSupportedStrategy: () => (/* binding */ SignInSupportedStrategy),\n/* harmony export */   SignUpRouterCtx: () => (/* binding */ SignUpRouterCtx),\n/* harmony export */   SignUpStartCtx: () => (/* binding */ SignUpStartCtx),\n/* harmony export */   SignUpStep: () => (/* binding */ SignUpStep),\n/* harmony export */   SignUpStrategy: () => (/* binding */ SignUpStrategy),\n/* harmony export */   SignUpVerificationCtx: () => (/* binding */ SignUpVerificationCtx),\n/* harmony export */   Submit: () => (/* binding */ Submit),\n/* harmony export */   ThirdPartyMachine: () => (/* binding */ ThirdPartyMachine),\n/* harmony export */   ThirdPartyMachineId: () => (/* binding */ ThirdPartyMachineId),\n/* harmony export */   __privateAdd: () => (/* binding */ __privateAdd),\n/* harmony export */   __privateGet: () => (/* binding */ __privateGet),\n/* harmony export */   __privateSet: () => (/* binding */ __privateSet),\n/* harmony export */   assertActorEventError: () => (/* binding */ assertActorEventError),\n/* harmony export */   inspect: () => (/* binding */ inspect),\n/* harmony export */   sendToLoading: () => (/* binding */ sendToLoading),\n/* harmony export */   shouldUseVirtualRouting: () => (/* binding */ shouldUseVirtualRouting),\n/* harmony export */   useFormStore: () => (/* binding */ useFormStore),\n/* harmony export */   useSignInActiveSessionContext: () => (/* binding */ useSignInActiveSessionContext),\n/* harmony export */   useSignInStrategy: () => (/* binding */ useSignInStrategy)\n/* harmony export */ });\n/* harmony import */ var client_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! client-only */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/client-only/index.js\");\n/* harmony import */ var _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-form */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-form@0.1.2_@types+react-dom@18.3.5_@types+react@18.3.18__@types+react@1_9bb67f453e26f5661818d7508b67dcb9/node_modules/@radix-ui/react-form/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @xstate/react */ \"(ssr)/./node_modules/.pnpm/@xstate+react@4.1.3_@types+react@18.3.18_react@18.3.1_xstate@5.19.2/node_modules/@xstate/react/dist/xstate-react.development.esm.js\");\n/* harmony import */ var _clerk_shared_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/shared/error */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/error.mjs\");\n/* harmony import */ var _clerk_shared_underscore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @clerk/shared/underscore */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/underscore.mjs\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! xstate */ \"(ssr)/./node_modules/.pnpm/xstate@5.19.2/node_modules/xstate/dist/xstate.development.esm.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! xstate */ \"(ssr)/./node_modules/.pnpm/xstate@5.19.2/node_modules/xstate/dist/log-0acd9069.development.esm.js\");\n/* harmony import */ var _clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @clerk/clerk-react */ \"(ssr)/./node_modules/.pnpm/@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var _clerk_shared__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @clerk/shared */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.2_@types+react@18.3.18_react@18.3.1/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var _clerk_shared_logger__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @clerk/shared/logger */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/logger.mjs\");\n/* harmony import */ var _clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @clerk/shared/telemetry */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/telemetry.mjs\");\n/* harmony import */ var _clerk_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @clerk/types */ \"(ssr)/./node_modules/.pnpm/@clerk+types@4.46.1/node_modules/@clerk/types/dist/esm/index.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! xstate */ \"(ssr)/./node_modules/.pnpm/xstate@5.19.2/node_modules/xstate/actors/dist/xstate-actors.development.esm.js\");\n/* harmony import */ var _clerk_shared_webauthn__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @clerk/shared/webauthn */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/webauthn.mjs\");\n/* harmony import */ var _clerk_shared_url__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @clerk/shared/url */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/url.mjs\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! xstate */ \"(ssr)/./node_modules/.pnpm/xstate@5.19.2/node_modules/xstate/dist/raise-1db27a82.development.esm.js\");\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\n\n// src/react/common/index.ts\n\n\n// src/react/common/form/field.tsx\n\n\n\n// src/internals/machines/form/form.context.ts\n\n\n// src/internals/machines/form/form.machine.ts\n\n\n\n\n// src/internals/errors/index.ts\nvar ClerkElementsErrorBase = class extends Error {\n  constructor(code, message) {\n    super(message);\n    this.code = code;\n    this.clerkError = true;\n    this.clerkElementsError = true;\n    this.name = \"ClerkElementsError\";\n    this.rawMessage = message;\n  }\n  toString() {\n    return `[${this.name}]\nCode: ${this.code}\nMessage: ${this.message}`;\n  }\n};\nvar ClerkElementsError = class _ClerkElementsError extends ClerkElementsErrorBase {\n  static fromAPIError(error) {\n    return new _ClerkElementsError(error.code, error.longMessage || error.message);\n  }\n  constructor(code, message) {\n    super(code, message);\n    this.name = \"ClerkElementsError\";\n  }\n};\nvar ClerkElementsRuntimeError = class extends ClerkElementsErrorBase {\n  constructor(message) {\n    super(\"elements_runtime_error\", message);\n    this.name = \"ClerkElementsRuntimeError\";\n  }\n};\nvar ClerkElementsFieldError = class _ClerkElementsFieldError extends ClerkElementsErrorBase {\n  constructor(code, message) {\n    super(code, message);\n    this.matchFn = () => true;\n    this.name = \"ClerkElementsFieldError\";\n  }\n  static fromAPIError(error) {\n    return new _ClerkElementsFieldError(error.code, error.longMessage || error.message);\n  }\n  get validityState() {\n    return this.code;\n  }\n  get forceMatch() {\n    return true;\n  }\n};\n\n// src/internals/machines/form/form.machine.ts\nvar FormMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actions: {\n    setGlobalErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      errors: (_, params) => [...params.errors]\n    }),\n    setFieldFeedback: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      fields: ({ context }, params) => {\n        if (!params.name) {\n          throw new Error(\"Field name is required\");\n        }\n        if (context.fields.has(params.name)) {\n          context.fields.get(params.name).feedback = params.feedback;\n        }\n        return context.fields;\n      }\n    })\n  },\n  types: {}\n}).createMachine({\n  id: \"Form\",\n  context: () => ({\n    defaultValues: /* @__PURE__ */ new Map(),\n    errors: [],\n    fields: /* @__PURE__ */ new Map(),\n    progressive: false\n  }),\n  on: {\n    \"ERRORS.SET\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.b)(({ enqueue, event }) => {\n        var _a3, _b3;\n        if ((0,_clerk_shared_error__WEBPACK_IMPORTED_MODULE_2__.isKnownError)(event.error)) {\n          const fields = {};\n          const globalErrors = [];\n          for (const error of event.error.errors || [event.error]) {\n            const name = (0,_clerk_shared_underscore__WEBPACK_IMPORTED_MODULE_3__.snakeToCamel)((_a3 = error.meta) == null ? void 0 : _a3.paramName);\n            if (!name) {\n              globalErrors.push(ClerkElementsError.fromAPIError(error));\n              continue;\n            } else if (!fields[name]) {\n              fields[name] = [];\n            }\n            (_b3 = fields[name]) == null ? void 0 : _b3.push(ClerkElementsFieldError.fromAPIError(error));\n          }\n          enqueue({\n            type: \"setGlobalErrors\",\n            params: {\n              errors: globalErrors\n            }\n          });\n          for (const field in fields) {\n            enqueue({\n              type: \"setFieldFeedback\",\n              params: {\n                name: field,\n                feedback: {\n                  type: \"error\",\n                  message: fields[field][0]\n                }\n              }\n            });\n          }\n        }\n      })\n    },\n    \"ERRORS.CLEAR\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        errors: () => []\n      })\n    },\n    \"FIELD.ADD\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          event.field.value = event.field.value || context.defaultValues.get(event.field.name) || void 0;\n          context.fields.set(event.field.name, event.field);\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.UPDATE\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          const field = context.fields.get(event.field.name);\n          if (field) {\n            field.checked = event.field.checked;\n            field.disabled = event.field.disabled || false;\n            field.value = event.field.value;\n            context.fields.set(event.field.name, field);\n          }\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.DISABLE\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          const field = context.fields.get(event.field.name);\n          if (field) {\n            field.disabled = true;\n            context.fields.set(event.field.name, field);\n          }\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.ENABLE\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          const field = context.fields.get(event.field.name);\n          if (field) {\n            field.disabled = false;\n            context.fields.set(event.field.name, field);\n          }\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.REMOVE\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          context.fields.delete(event.field.name);\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.FEEDBACK.SET\": {\n      actions: [\n        {\n          type: \"setFieldFeedback\",\n          params: ({ event }) => event.field\n        }\n      ]\n    },\n    \"FIELD.FEEDBACK.CLEAR\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context, event }) => {\n          if (!event.field.name) {\n            throw new Error(\"Field name is required\");\n          }\n          if (context.fields.has(event.field.name)) {\n            context.fields.get(event.field.name).feedback = void 0;\n          }\n          return context.fields;\n        }\n      })\n    },\n    \"FIELD.FEEDBACK.CLEAR.ALL\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        fields: ({ context }) => {\n          context.fields.forEach((field) => {\n            field.feedback = void 0;\n          });\n          return context.fields;\n        }\n      })\n    },\n    MARK_AS_PROGRESSIVE: {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)(({ event }) => {\n        const missing = new Set(event.missing);\n        return {\n          defaultValues: event.defaultValues,\n          hidden: /* @__PURE__ */ new Set([...event.required.filter((f) => !missing.has(f)), ...event.optional]),\n          missing,\n          optional: new Set(event.optional),\n          progressive: true,\n          required: new Set(event.required)\n        };\n      })\n    },\n    UNMARK_AS_PROGRESSIVE: {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        defaultValues: /* @__PURE__ */ new Map(),\n        hidden: void 0,\n        missing: void 0,\n        optional: void 0,\n        progressive: false,\n        required: void 0\n      })\n    },\n    PREFILL_DEFAULT_VALUES: {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)(({ event }) => {\n        return {\n          defaultValues: event.defaultValues\n        };\n      })\n    }\n  }\n});\n\n// src/internals/utils/inspector/index.ts\nvar inspect;\nif (false) {}\n\n// src/internals/machines/form/form.context.ts\nvar FormMachineContext = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.createActorContext)(FormMachine, { inspect });\nvar FormStoreProvider = FormMachineContext.Provider;\nvar useFormStore = FormMachineContext.useActorRef;\nvar useFormSelector = FormMachineContext.useSelector;\nvar globalErrorsSelector = (state) => state.context.errors;\nvar fieldValueSelector = (name) => (state) => {\n  var _a3;\n  return name ? (_a3 = state.context.fields.get(name)) == null ? void 0 : _a3.value : \"\";\n};\nvar fieldHasValueSelector = (name) => (state) => Boolean(fieldValueSelector(name)(state));\nvar fieldFeedbackSelector = (name) => (state) => {\n  var _a3;\n  return name ? (_a3 = state.context.fields.get(name)) == null ? void 0 : _a3.feedback : void 0;\n};\n\n// src/react/common/form/hooks/use-field-feedback.ts\nfunction useFieldFeedback({ name }) {\n  const feedback = useFormSelector(fieldFeedbackSelector(name));\n  return {\n    feedback\n  };\n}\n\n// src/react/common/form/hooks/use-field.ts\nfunction useField({ name }) {\n  const hasValue = useFormSelector(fieldHasValueSelector(name));\n  const { feedback } = useFieldFeedback({ name });\n  const shouldBeHidden = false;\n  const hasError = feedback ? feedback.type === \"error\" : false;\n  return {\n    hasValue,\n    props: {\n      \"data-hidden\": shouldBeHidden ? true : void 0,\n      serverInvalid: hasError\n    }\n  };\n}\n\n// src/react/common/form/hooks/use-field-context.ts\n\nvar FieldContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);\nvar useFieldContext = () => react__WEBPACK_IMPORTED_MODULE_1__.useContext(FieldContext);\n\n// src/react/common/form/types.ts\nvar FIELD_STATES = {\n  success: \"success\",\n  error: \"error\",\n  idle: \"idle\",\n  warning: \"warning\",\n  info: \"info\"\n};\n\n// src/react/common/form/hooks/use-field-state.ts\nfunction useFieldState({ name }) {\n  const { feedback } = useFieldFeedback({ name });\n  const hasValue = useFormSelector(fieldHasValueSelector(name));\n  let state = FIELD_STATES.idle;\n  if (!hasValue) {\n    state = FIELD_STATES.idle;\n  }\n  switch (feedback == null ? void 0 : feedback.type) {\n    case \"error\":\n      state = FIELD_STATES.error;\n      break;\n    case \"warning\":\n      state = FIELD_STATES.warning;\n      break;\n    case \"info\":\n      state = FIELD_STATES.info;\n      break;\n    case \"success\":\n      state = FIELD_STATES.success;\n      break;\n    default:\n      break;\n  }\n  return {\n    state\n  };\n}\n\n// src/react/common/form/hooks/use-form.ts\n\n\n// src/react/common/form/hooks/use-global-errors.ts\nfunction useGlobalErrors() {\n  const errors = useFormSelector(globalErrorsSelector);\n  return {\n    errors\n  };\n}\n\n// src/react/common/form/hooks/use-form.ts\nfunction useForm({ flowActor }) {\n  const { errors } = useGlobalErrors();\n  const onSubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      event.preventDefault();\n      if (flowActor) {\n        flowActor.send({ type: \"SUBMIT\", action: \"submit\" });\n      }\n    },\n    [flowActor]\n  );\n  return {\n    props: {\n      ...errors.length > 0 ? { \"data-global-error\": true } : {},\n      onSubmit\n    }\n  };\n}\n\n// src/react/common/form/hooks/use-input.tsx\n\n\n\n// src/react/hooks/use-password.hook.ts\n\n\n\n\n// src/react/utils/generate-password-error-text.ts\nvar errorMessages = {\n  max_length: [\"less than %length% characters\", \"length\"],\n  min_length: [\"%length% or more characters\", \"length\"],\n  require_numbers: \"a number\",\n  require_lowercase: \"a lowercase letter\",\n  require_uppercase: \"an uppercase letter\",\n  require_special_char: \"a special character\"\n};\nvar createListFormat = (message) => {\n  let messageWithPrefix;\n  if (\"ListFormat\" in Intl) {\n    const formatter = new Intl.ListFormat(\"en\", { style: \"long\", type: \"conjunction\" });\n    messageWithPrefix = formatter.format(message);\n  } else {\n    messageWithPrefix = message.join(\", \");\n  }\n  return messageWithPrefix;\n};\nfunction buildErrorTuple(key, config) {\n  switch (key) {\n    case \"max_length\":\n      return [key, { max_length: config.max_length }];\n    case \"min_length\":\n      return [key, { min_length: config.min_length }];\n    case \"require_special_char\":\n      return [key, { allowed_special_characters: config.allowed_special_characters }];\n    default:\n      return key;\n  }\n}\nvar generatePasswordErrorText = ({ config, failedValidations }) => {\n  const codes = [];\n  if (!failedValidations || Object.keys(failedValidations).length === 0) {\n    return {\n      codes,\n      message: \"\"\n    };\n  }\n  const hasMinLengthError = (failedValidations == null ? void 0 : failedValidations.min_length) || false;\n  const messages = Object.entries(failedValidations).filter((k) => hasMinLengthError ? k[0] === \"min_length\" : true).filter(([, v]) => !!v).map(([k]) => {\n    const entry = k;\n    const errorTuple = buildErrorTuple(entry, config);\n    codes.push(errorTuple);\n    const errorKey = errorMessages[entry];\n    if (Array.isArray(errorKey)) {\n      const [msg, replaceValue] = errorKey;\n      return msg.replace(`%${replaceValue}%`, config[k]);\n    }\n    return errorKey;\n  });\n  const messageWithPrefix = createListFormat(messages);\n  return {\n    codes,\n    message: `Your password must contain ${messageWithPrefix}.`\n  };\n};\n\n// src/react/hooks/use-password.hook.ts\nvar usePassword = (callbacks) => {\n  var _a3;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n  const passwordSettings = (_a3 = clerk.__unstable__environment) == null ? void 0 : _a3.userSettings.passwordSettings;\n  const { disable_hibp, min_zxcvbn_strength, show_zxcvbn, ...config } = passwordSettings || {};\n  const {\n    onValidationError = _clerk_shared__WEBPACK_IMPORTED_MODULE_8__.noop,\n    onValidationSuccess = _clerk_shared__WEBPACK_IMPORTED_MODULE_8__.noop,\n    onValidationWarning = _clerk_shared__WEBPACK_IMPORTED_MODULE_8__.noop,\n    onValidationInfo = _clerk_shared__WEBPACK_IMPORTED_MODULE_8__.noop,\n    onValidationComplexity\n  } = callbacks || {};\n  const onValidate = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(\n    (res) => {\n      var _a4, _b3, _c;\n      if (res.complexity) {\n        if (Object.values(res == null ? void 0 : res.complexity).length > 0) {\n          const { message, codes } = generatePasswordErrorText({\n            config,\n            failedValidations: res.complexity\n          });\n          if ((_a4 = res.complexity) == null ? void 0 : _a4.min_length) {\n            return onValidationInfo(message, codes);\n          }\n          return onValidationError(message, codes);\n        }\n      }\n      if (((_b3 = res == null ? void 0 : res.strength) == null ? void 0 : _b3.state) === \"fail\") {\n        const keys = res.strength.keys;\n        const error = keys.map((key) => get(zxcvbnKeys, key)).join(\" \");\n        return onValidationError(error, keys);\n      }\n      if (((_c = res == null ? void 0 : res.strength) == null ? void 0 : _c.state) === \"pass\") {\n        const keys = res.strength.keys;\n        const error = keys.map((key) => get(zxcvbnKeys, key)).join(\" \");\n        return onValidationWarning(error, keys);\n      }\n      return onValidationSuccess();\n    },\n    [callbacks, config]\n  );\n  const validatePassword = react__WEBPACK_IMPORTED_MODULE_1__.useMemo(() => {\n    return (password) => {\n      return clerk.client.signUp.validatePassword(password, {\n        onValidation: onValidate,\n        onValidationComplexity\n      });\n    };\n  }, [onValidate]);\n  return {\n    validatePassword\n  };\n};\nvar get = (t, path) => path.split(\".\").reduce((r, k) => r == null ? void 0 : r[k], t);\nvar zxcvbnKeys = {\n  unstable__errors: {\n    zxcvbn: {\n      couldBeStronger: \"Your password works, but could be stronger. Try adding more characters.\",\n      goodPassword: \"Your password meets all the necessary requirements.\",\n      notEnough: \"Your password is not strong enough.\",\n      suggestions: {\n        allUppercase: \"Capitalize some, but not all letters.\",\n        anotherWord: \"Add more words that are less common.\",\n        associatedYears: \"Avoid years that are associated with you.\",\n        capitalization: \"Capitalize more than the first letter.\",\n        dates: \"Avoid dates and years that are associated with you.\",\n        l33t: \"Avoid predictable letter substitutions like '@' for 'a'.\",\n        longerKeyboardPattern: \"Use longer keyboard patterns and change typing direction multiple times.\",\n        noNeed: \"You can create strong passwords without using symbols, numbers, or uppercase letters.\",\n        pwned: \"If you use this password elsewhere, you should change it.\",\n        recentYears: \"Avoid recent years.\",\n        repeated: \"Avoid repeated words and characters.\",\n        reverseWords: \"Avoid reversed spellings of common words.\",\n        sequences: \"Avoid common character sequences.\",\n        useWords: \"Use multiple words, but avoid common phrases.\"\n      },\n      warnings: {\n        common: \"This is a commonly used password.\",\n        commonNames: \"Common names and surnames are easy to guess.\",\n        dates: \"Dates are easy to guess.\",\n        extendedRepeat: 'Repeated character patterns like \"abcabcabc\" are easy to guess.',\n        keyPattern: \"Short keyboard patterns are easy to guess.\",\n        namesByThemselves: \"Single names or surnames are easy to guess.\",\n        pwned: \"Your password was exposed by a data breach on the Internet.\",\n        recentYears: \"Recent years are easy to guess.\",\n        sequences: 'Common character sequences like \"abc\" are easy to guess.',\n        similarToCommon: \"This is similar to a commonly used password.\",\n        simpleRepeat: 'Repeated characters like \"aaa\" are easy to guess.',\n        straightRow: \"Straight rows of keys on your keyboard are easy to guess.\",\n        topHundred: \"This is a frequently used password.\",\n        topTen: \"This is a heavily used password.\",\n        userInputs: \"There should not be any personal or page related data.\",\n        wordByItself: \"Single words are easy to guess.\"\n      }\n    }\n  }\n};\n\n// src/react/common/form/otp.tsx\n\n\n\nvar ZERO = [0, 0];\nvar OUTSIDE = [-1, -1];\nvar OTP_LENGTH_DEFAULT = 6;\nvar PASSWORD_MANAGER_OFFSET_DEFAULT = 40;\nvar OTPInput = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function OTPInput2(props, ref) {\n  const { render, length, autoSubmit, ...rest } = props;\n  const hasRenderProp = typeof render !== \"undefined\";\n  if (hasRenderProp) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      OTPInputSegmented,\n      {\n        ...rest,\n        ref,\n        render,\n        length,\n        autoSubmit\n      }\n    );\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    OTPInputStandard,\n    {\n      ...rest,\n      ref,\n      length,\n      autoSubmit\n    }\n  );\n});\nvar OTPInputStandard = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  function OTPInput3(props, ref) {\n    const { length = OTP_LENGTH_DEFAULT, autoSubmit = false, ...rest } = props;\n    const innerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(ref, () => innerRef.current, []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n      var _a3, _b3;\n      if (String(props.value).length === length && autoSubmit) {\n        (_b3 = (_a3 = innerRef.current) == null ? void 0 : _a3.form) == null ? void 0 : _b3.requestSubmit();\n      }\n    }, [props.value, length, autoSubmit]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Control,\n      {\n        ref: innerRef,\n        ...rest,\n        \"data-otp-input-standard\": true\n      }\n    );\n  }\n);\nvar OTPInputSegmented = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  function OTPInput4(props, ref) {\n    const {\n      className: userProvidedClassName,\n      render,\n      length = OTP_LENGTH_DEFAULT,\n      autoSubmit = false,\n      passwordManagerOffset = PASSWORD_MANAGER_OFFSET_DEFAULT,\n      ...rest\n    } = props;\n    const innerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [selectionRange, setSelectionRange] = react__WEBPACK_IMPORTED_MODULE_1__.useState(props.autoFocus ? ZERO : OUTSIDE);\n    const [isHovering, setIsHovering] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const isFocused = () => document.activeElement === innerRef.current;\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(ref, () => innerRef.current, []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect(() => {\n      if (document.activeElement !== innerRef.current) {\n        return;\n      }\n      setSelectionRange((cur) => selectionRangeUpdater(cur, innerRef));\n    }, [props.value]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n      function onSelectionChange() {\n        if (!isFocused()) {\n          return;\n        }\n        setSelectionRange((cur) => selectionRangeUpdater(cur, innerRef));\n      }\n      document.addEventListener(\"selectionchange\", onSelectionChange, { capture: true });\n      return () => document.removeEventListener(\"selectionchange\", onSelectionChange);\n    }, []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n      var _a3, _b3;\n      if (String(props.value).length === length && autoSubmit) {\n        (_b3 = (_a3 = innerRef.current) == null ? void 0 : _a3.form) == null ? void 0 : _b3.requestSubmit();\n      }\n    }, [props.value, length, autoSubmit]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(\n      \"div\",\n      {\n        \"data-otp-input-wrapper\": true,\n        style: wrapperStyle,\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"style\", { children: `\n      input[data-otp-input-segmented]::selection {\n        color: transparent;\n        background-color: transparent;\n      }\n      ` }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n            _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Control,\n            {\n              \"data-otp-input-segmented\": true,\n              ref: innerRef,\n              ...rest,\n              onFocus: (event) => {\n                var _a3;\n                if (innerRef.current) {\n                  const start = Math.min(innerRef.current.value.length, length - 1);\n                  const end = innerRef.current.value.length;\n                  innerRef.current.setSelectionRange(start, end);\n                  setSelectionRange([start, end]);\n                }\n                (_a3 = rest == null ? void 0 : rest.onFocus) == null ? void 0 : _a3.call(rest, event);\n              },\n              onBlur: (event) => {\n                var _a3;\n                setSelectionRange([-1, -1]);\n                (_a3 = rest == null ? void 0 : rest.onBlur) == null ? void 0 : _a3.call(rest, event);\n              },\n              onMouseOver: (event) => {\n                var _a3;\n                if (!isFocused()) {\n                  setIsHovering(true);\n                }\n                (_a3 = props.onMouseOver) == null ? void 0 : _a3.call(props, event);\n              },\n              onMouseLeave: (event) => {\n                var _a3;\n                setIsHovering(false);\n                (_a3 = props.onMouseLeave) == null ? void 0 : _a3.call(props, event);\n              },\n              style: {\n                ...inputStyle,\n                clipPath: `inset(0 calc(1ch + ${passwordManagerOffset}px) 0 0)`,\n                width: `calc(100% + 1ch + ${passwordManagerOffset}px)`\n              }\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n            \"div\",\n            {\n              className: userProvidedClassName,\n              \"aria-hidden\": true,\n              style: segmentWrapperStyle,\n              children: Array.from({ length }).map((_, i) => {\n                var _a3, _b3;\n                const isHovered = isHovering && !isFocused();\n                const isCursor = selectionRange[0] === selectionRange[1] && selectionRange[0] === i;\n                const isSelected = ((_a3 = selectionRange[0]) != null ? _a3 : -1) <= i && ((_b3 = selectionRange[1]) != null ? _b3 : -1) > i;\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: render({\n                  value: String(props.value)[i] || \"\",\n                  status: isHovered ? \"hovered\" : isCursor ? \"cursor\" : isSelected ? \"selected\" : \"none\",\n                  index: i\n                }) }, `otp-segment-${i}`);\n              })\n            }\n          )\n        ]\n      }\n    );\n  }\n);\nfunction selectionRangeUpdater(cur, inputRef) {\n  var _a3, _b3, _c, _d, _e, _f, _g, _h, _i;\n  let updated = [\n    (_b3 = (_a3 = inputRef.current) == null ? void 0 : _a3.selectionStart) != null ? _b3 : 0,\n    (_d = (_c = inputRef.current) == null ? void 0 : _c.selectionEnd) != null ? _d : 0,\n    (_f = (_e = inputRef.current) == null ? void 0 : _e.selectionDirection) != null ? _f : null\n  ];\n  if (cur[0] === updated[0] && cur[1] === updated[1]) {\n    return cur;\n  }\n  if (updated[0] === 0 && updated[1] === 1) {\n    updated[2] = \"forward\";\n  }\n  if (updated[0] === updated[1]) {\n    if (updated[0] > 0 && cur[0] === updated[0] && cur[1] === updated[0] + 1) {\n      updated = [updated[0] - 1, updated[1], \"backward\"];\n    } else if (typeof ((_g = inputRef.current) == null ? void 0 : _g.value[updated[0]]) !== \"undefined\") {\n      updated = [updated[0], updated[1] + 1, \"backward\"];\n    } else if (updated[0] >= OTP_LENGTH_DEFAULT) {\n      updated = [updated[0] - 1, updated[1], \"backward\"];\n    }\n  }\n  (_i = inputRef.current) == null ? void 0 : _i.setSelectionRange(updated[0], updated[1], (_h = updated[2]) != null ? _h : void 0);\n  return [updated[0], updated[1]];\n}\nvar wrapperStyle = {\n  position: \"relative\",\n  userSelect: \"none\"\n};\nvar inputStyle = {\n  display: \"block\",\n  background: \"transparent\",\n  opacity: 0,\n  outline: \"transparent solid 0px\",\n  appearance: \"none\",\n  color: \"transparent\",\n  position: \"absolute\",\n  inset: 0,\n  caretColor: \"transparent\",\n  border: \"0px solid transparent\",\n  // width is handled inline\n  height: \"100%\",\n  letterSpacing: \"-1rem\"\n};\nvar segmentWrapperStyle = {\n  zIndex: 1,\n  pointerEvents: \"none\"\n};\n\n// src/react/common/form/utils/enrich-field-state.ts\nfunction enrichFieldState(validity, fieldState) {\n  return (validity == null ? void 0 : validity.valid) === false ? FIELD_STATES.error : fieldState;\n}\n\n// src/react/common/form/utils/determine-input-type-from-name.ts\nfunction determineInputTypeFromName(name) {\n  if (name === \"password\" || name === \"confirmPassword\" || name === \"currentPassword\" || name === \"newPassword\") {\n    return \"password\";\n  }\n  if (name === \"emailAddress\") {\n    return \"email\";\n  }\n  if (name === \"phoneNumber\") {\n    return \"tel\";\n  }\n  if (name === \"code\") {\n    return \"otp\";\n  }\n  if (name === \"backup_code\") {\n    return \"backup_code\";\n  }\n  return \"text\";\n}\n\n// src/react/common/form/hooks/use-previous.ts\n\nfunction usePrevious(value) {\n  const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef();\n  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n// src/react/common/form/hooks/use-validity-state-context.ts\n\nvar ValidityStateContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nvar useValidityStateContext = () => react__WEBPACK_IMPORTED_MODULE_1__.useContext(ValidityStateContext);\n\n// src/react/common/form/hooks/use-input.tsx\nfunction useInput({\n  name: inputName,\n  value: providedValue,\n  checked: providedChecked,\n  onChange: onChangeProp,\n  onBlur: onBlurProp,\n  onFocus: onFocusProp,\n  type: inputType,\n  ...passthroughProps\n}) {\n  const fieldContext = useFieldContext();\n  const rawName = inputName || (fieldContext == null ? void 0 : fieldContext.name);\n  const name = rawName === \"backup_code\" ? \"code\" : rawName;\n  const { state: fieldState } = useFieldState({ name });\n  const validity = useValidityStateContext();\n  if (!rawName || !name) {\n    throw new Error(\"Clerk: <Input /> must be wrapped in a <Field> component or have a name prop.\");\n  }\n  const ref = useFormStore();\n  const [hasPassedValiation, setHasPassedValidation] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n  const { validatePassword } = usePassword({\n    onValidationComplexity: (hasPassed) => setHasPassedValidation(hasPassed),\n    onValidationSuccess: () => {\n      ref.send({\n        type: \"FIELD.FEEDBACK.SET\",\n        field: { name, feedback: { type: \"success\", message: \"Your password meets all the necessary requirements.\" } }\n      });\n    },\n    onValidationError: (error, codes) => {\n      if (error) {\n        ref.send({\n          type: \"FIELD.FEEDBACK.SET\",\n          field: {\n            name,\n            feedback: {\n              type: \"error\",\n              message: new ClerkElementsFieldError(\"password-validation-error\", error),\n              codes\n            }\n          }\n        });\n      }\n    },\n    onValidationWarning: (warning, codes) => ref.send({\n      type: \"FIELD.FEEDBACK.SET\",\n      field: { name, feedback: { type: \"warning\", message: warning, codes } }\n    }),\n    onValidationInfo: (info, codes) => {\n      ref.send({\n        type: \"FIELD.FEEDBACK.SET\",\n        field: {\n          name,\n          feedback: {\n            type: \"info\",\n            message: info,\n            codes\n          }\n        }\n      });\n    }\n  });\n  const value = useFormSelector(fieldValueSelector(name));\n  const prevValue = usePrevious(value);\n  const hasValue = Boolean(value);\n  const type = inputType != null ? inputType : determineInputTypeFromName(rawName);\n  let nativeFieldType = type;\n  let shouldValidatePassword = false;\n  if (type === \"password\" || type === \"text\") {\n    shouldValidatePassword = Boolean(passthroughProps.validatePassword);\n  }\n  if (nativeFieldType === \"otp\" || nativeFieldType === \"backup_code\") {\n    nativeFieldType = \"text\";\n  }\n  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n    if (!name) {\n      return;\n    }\n    ref.send({\n      type: \"FIELD.ADD\",\n      field: { name, type: nativeFieldType, value: providedValue, checked: providedChecked }\n    });\n    return () => ref.send({ type: \"FIELD.REMOVE\", field: { name } });\n  }, [ref]);\n  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n    if (!name) {\n      return;\n    }\n    if (type === \"checkbox\" && providedChecked !== void 0 || type !== \"checkbox\" && providedValue !== void 0) {\n      ref.send({\n        type: \"FIELD.UPDATE\",\n        field: { name, value: providedValue, checked: providedChecked }\n      });\n    }\n  }, [name, type, ref, providedValue, providedChecked]);\n  const onChange = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(\n    (event) => {\n      onChangeProp == null ? void 0 : onChangeProp(event);\n      if (!name) {\n        return;\n      }\n      ref.send({ type: \"FIELD.UPDATE\", field: { name, value: event.target.value, checked: event.target.checked } });\n      if (shouldValidatePassword) {\n        validatePassword(event.target.value);\n      }\n    },\n    [ref, name, onChangeProp, shouldValidatePassword, validatePassword]\n  );\n  const onBlur = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(\n    (event) => {\n      onBlurProp == null ? void 0 : onBlurProp(event);\n      if (shouldValidatePassword && event.target.value !== prevValue) {\n        validatePassword(event.target.value);\n      }\n    },\n    [onBlurProp, shouldValidatePassword, validatePassword, prevValue]\n  );\n  const onFocus = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(\n    (event) => {\n      onFocusProp == null ? void 0 : onFocusProp(event);\n      if (shouldValidatePassword && event.target.value !== prevValue) {\n        validatePassword(event.target.value);\n      }\n    },\n    [onFocusProp, shouldValidatePassword, validatePassword, prevValue]\n  );\n  const shouldBeHidden = false;\n  const Element = type === \"otp\" ? OTPInput : _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Control;\n  let props = {};\n  if (type === \"otp\") {\n    const p = passthroughProps;\n    const length = p.length || OTP_LENGTH_DEFAULT;\n    props = {\n      \"data-otp-input\": true,\n      autoComplete: \"one-time-code\",\n      inputMode: \"numeric\",\n      pattern: `[0-9]{${length}}`,\n      minLength: length,\n      maxLength: length,\n      onChange: (event) => {\n        event.currentTarget.value = event.currentTarget.value.replace(/\\D+/g, \"\");\n        onChange(event);\n      },\n      type: \"text\",\n      spellCheck: false\n    };\n  } else if (type === \"backup_code\") {\n    props = {\n      autoComplete: \"off\",\n      type: \"text\",\n      spellCheck: false\n    };\n  } else if (type === \"password\" && shouldValidatePassword) {\n    props = {\n      \"data-has-passed-validation\": hasPassedValiation ? true : void 0\n    };\n  }\n  const { validatePassword: _1, ...rest } = passthroughProps;\n  return {\n    Element,\n    props: {\n      type,\n      value: value != null ? value : \"\",\n      onChange,\n      onBlur,\n      onFocus,\n      \"data-hidden\": shouldBeHidden ? true : void 0,\n      \"data-has-value\": hasValue ? true : void 0,\n      \"data-state\": enrichFieldState(validity, fieldState),\n      ...props,\n      ...rest\n    }\n  };\n}\n\n// src/react/common/form/field.tsx\n\nvar DISPLAY_NAME = \"ClerkElementsField\";\nvar DISPLAY_NAME_INNER = \"ClerkElementsFieldInner\";\nvar Field = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ alwaysShow, ...rest }, forwardedRef) => {\n  var _a3;\n  const formRef = useFormStore();\n  const formCtx = formRef.getSnapshot().context;\n  const isHiddenField = formCtx.progressive && Boolean((_a3 = formCtx.hidden) == null ? void 0 : _a3.has(rest.name));\n  const shouldHide = alwaysShow ? false : isHiddenField;\n  return shouldHide ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(FieldContext.Provider, { value: { name: rest.name }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    FieldInner,\n    {\n      ...rest,\n      ref: forwardedRef\n    }\n  ) });\n});\nField.displayName = DISPLAY_NAME;\nvar FieldInner = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((props, forwardedRef) => {\n  const { children, ...rest } = props;\n  const field = useField({ name: rest.name });\n  const { state: fieldState } = useFieldState({ name: rest.name });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Field,\n    {\n      ...field.props,\n      ...rest,\n      ref: forwardedRef,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.ValidityState, { children: (validity) => {\n        const enrichedFieldState = enrichFieldState(validity, fieldState);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ValidityStateContext.Provider, { value: validity, children: typeof children === \"function\" ? children(enrichedFieldState) : children });\n      } })\n    }\n  );\n});\nFieldInner.displayName = DISPLAY_NAME_INNER;\n\n// src/react/common/form/field-error.tsx\n\n\n\n\n// src/react/utils/is-react-fragment.ts\n\nfunction isReactFragment(node) {\n  return react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(node) && node.type === react__WEBPACK_IMPORTED_MODULE_1__.Fragment;\n}\n\n// src/react/common/form/field-error.tsx\n\nvar DISPLAY_NAME2 = \"ClerkElementsFieldError\";\nvar FieldError = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  ({ asChild = false, children, code, name, ...rest }, forwardedRef) => {\n    const fieldContext = useFieldContext();\n    const rawFieldName = (fieldContext == null ? void 0 : fieldContext.name) || name;\n    const fieldName = rawFieldName === \"backup_code\" ? \"code\" : rawFieldName;\n    const { feedback } = useFieldFeedback({ name: fieldName });\n    if (!((feedback == null ? void 0 : feedback.type) === \"error\")) {\n      return null;\n    }\n    const error = feedback.message;\n    if (!error) {\n      return null;\n    }\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"span\";\n    const child = typeof children === \"function\" ? children(error) : children;\n    if (isReactFragment(child)) {\n      throw new ClerkElementsRuntimeError(\"<FieldError /> cannot render a Fragment as a child.\");\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.FormMessage,\n      {\n        \"data-error-code\": error.code,\n        ...rest,\n        ref: forwardedRef,\n        asChild: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Comp, { children: child || error.message })\n      }\n    );\n  }\n);\nFieldError.displayName = DISPLAY_NAME2;\n\n// src/react/common/form/field-state.tsx\nvar DISPLAY_NAME3 = \"ClerkElementsFieldState\";\nfunction FieldState({ children }) {\n  const field = useFieldContext();\n  const { feedback } = useFieldFeedback({ name: field == null ? void 0 : field.name });\n  const { state } = useFieldState({ name: field == null ? void 0 : field.name });\n  const validity = useValidityStateContext();\n  const message = (feedback == null ? void 0 : feedback.message) instanceof ClerkElementsFieldError ? feedback.message.message : feedback == null ? void 0 : feedback.message;\n  const codes = feedback == null ? void 0 : feedback.codes;\n  const fieldState = { state: enrichFieldState(validity, state), message, codes };\n  return children(fieldState);\n}\nFieldState.displayName = DISPLAY_NAME3;\n\n// node_modules/@radix-ui/primitive/dist/index.mjs\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler == null ? void 0 : originalEventHandler(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler == null ? void 0 : ourEventHandler(event);\n    }\n  };\n}\n\n// src/react/common/form/form.tsx\n\n\n\nvar DISPLAY_NAME4 = \"ClerkElementsForm\";\nvar Form = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ flowActor, onSubmit, ...rest }, forwardedRef) => {\n  const form = useForm({ flowActor });\n  const { onSubmit: internalOnSubmit, ...internalFormProps } = form.props;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Form,\n    {\n      ...internalFormProps,\n      ...rest,\n      onSubmit: composeEventHandlers(internalOnSubmit, onSubmit),\n      ref: forwardedRef\n    }\n  );\n});\nForm.displayName = DISPLAY_NAME4;\n\n// src/react/common/form/global-error.tsx\n\n\n\nvar DISPLAY_NAME5 = \"ClerkElementsGlobalError\";\nvar GlobalError = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  ({ asChild = false, children, code, ...rest }, forwardedRef) => {\n    const { errors } = useGlobalErrors();\n    const error = errors == null ? void 0 : errors[0];\n    if (!error || code && error.code !== code) {\n      return null;\n    }\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"div\";\n    const child = typeof children === \"function\" ? children(error) : children;\n    if (isReactFragment(child)) {\n      throw new ClerkElementsRuntimeError(\"<GlobalError /> cannot render a Fragment as a child.\");\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      Comp,\n      {\n        role: \"alert\",\n        ...rest,\n        ref: forwardedRef,\n        children: child || error.message\n      }\n    );\n  }\n);\nGlobalError.displayName = DISPLAY_NAME5;\n\n// src/react/common/form/input.tsx\n\n\n\n\n\n// src/react/utils/create-context-from-actor-ref.ts\n\n\nfunction createContextFromActorRef(displayName) {\n  const ReactContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);\n  const OriginalProvider = ReactContext.Provider;\n  function Provider({ children, actorRef }) {\n    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\n      OriginalProvider,\n      {\n        value: actorRef\n      },\n      children\n    );\n  }\n  Provider.displayName = displayName;\n  function useContext9(allowMissingActor = false) {\n    const actorRef = react__WEBPACK_IMPORTED_MODULE_1__.useContext(ReactContext);\n    if (!allowMissingActor && !actorRef) {\n      throw new Error(\n        `You used a hook from \"${Provider.displayName}\" but it's not inside a <${Provider.displayName}.Provider> component.`\n      );\n    }\n    return actorRef;\n  }\n  function useSelector6(selector, compare) {\n    const actor = useContext9();\n    return (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(actor, selector, compare);\n  }\n  return {\n    Provider,\n    useActorRef: useContext9,\n    useSelector: useSelector6\n  };\n}\n\n// src/react/sign-in/context/router.context.ts\nvar SignInRouterCtx = createContextFromActorRef(\"SignInRouterCtx\");\nfunction useSignInStep(name) {\n  return SignInRouterCtx.useSelector((state) => state.children[name]);\n}\nvar useSignInStartStep = () => useSignInStep(\"start\");\nvar useSignInFirstFactorStep = () => useSignInStep(\"firstFactor\");\nvar useSignInSecondFactorStep = () => useSignInStep(\"secondFactor\");\nvar useSignInResetPasswordStep = () => useSignInStep(\"resetPassword\");\nvar useSignInPasskeyAutofill = () => SignInRouterCtx.useSelector((state) => state.context.webAuthnAutofillSupport);\n\n// src/react/sign-in/context/sign-in-strategy.context.ts\n\nvar SignInStrategyContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  strategy: void 0\n});\nfunction useSignInStrategy() {\n  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SignInStrategyContext);\n  if (!ctx) {\n    throw new ClerkElementsRuntimeError(\n      \"useSignInStrategy must be used within a <SignIn.Strategy> or <SignIn.SupportedStrategy> component.\"\n    );\n  }\n  const { strategy } = ctx;\n  return strategy;\n}\n\n// src/react/sign-in/context/strategies.context.ts\n\nvar StrategiesContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  current: void 0,\n  isActive: (_name) => false,\n  preferred: void 0\n});\nfunction useStrategy(name) {\n  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StrategiesContext);\n  if (!ctx) {\n    throw new ClerkElementsRuntimeError(\n      'useStrategy must be used within a <SignIn.Step name=\"verifications\"> component. Did you mean to `import { Step } from \"@clerk/elements/sign-up\"` instead?'\n    );\n  }\n  const { current, preferred, isActive } = ctx;\n  return {\n    current,\n    preferred,\n    get active() {\n      return isActive(name);\n    }\n  };\n}\n\n// src/react/common/form/input.tsx\n\nvar DISPLAY_NAME6 = \"ClerkElementsInput\";\nvar DISPLAY_NAME_PASSKEYS_AUTOFILL = \"ClerkElementsInputWithPasskeyAutofill\";\nvar Input = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  (props, forwardedRef) => {\n    var _a3, _b3, _c;\n    const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n    const field = useInput(props);\n    const hasPasskeyAutofillProp = Boolean((_a3 = field.props.autoComplete) == null ? void 0 : _a3.includes(\"webauthn\"));\n    const allowedTypeForPasskey = [\"text\", \"email\", \"tel\"].includes(field.props.type);\n    const signInRouterRef = SignInRouterCtx.useActorRef(true);\n    (_c = clerk.telemetry) == null ? void 0 : _c.record(\n      (0,_clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_13__.eventComponentMounted)(\"Elements_Input\", {\n        type: (_b3 = props.type) != null ? _b3 : false,\n        // @ts-expect-error - Depending on type the props can be different\n        render: Boolean(props == null ? void 0 : props.render),\n        // @ts-expect-error - Depending on type the props can be different\n        asChild: Boolean(props == null ? void 0 : props.asChild),\n        // @ts-expect-error - Depending on type the props can be different\n        validatePassword: Boolean(props == null ? void 0 : props.validatePassword)\n      })\n    );\n    if (signInRouterRef && hasPasskeyAutofillProp && allowedTypeForPasskey) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n        InputWithPasskeyAutofill,\n        {\n          ref: forwardedRef,\n          ...props\n        }\n      );\n    }\n    if (hasPasskeyAutofillProp && !allowedTypeForPasskey) {\n      _clerk_shared_logger__WEBPACK_IMPORTED_MODULE_12__.logger.warnOnce(\n        `<Input autoComplete=\"webauthn\"> can only be used with <Input type=\"text\"> or <Input type=\"email\">`\n      );\n    } else if (hasPasskeyAutofillProp) {\n      _clerk_shared_logger__WEBPACK_IMPORTED_MODULE_12__.logger.warnOnce(\n        `<Input autoComplete=\"webauthn\"> can only be used inside <SignIn> in order to trigger a sign-in attempt, otherwise it will be ignored.`\n      );\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      field.Element,\n      {\n        ref: forwardedRef,\n        ...field.props\n      }\n    );\n  }\n);\nInput.displayName = DISPLAY_NAME6;\nvar InputWithPasskeyAutofill = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  (props, forwardedRef) => {\n    const signInRouterRef = SignInRouterCtx.useActorRef(true);\n    const passkeyAutofillSupported = useSignInPasskeyAutofill();\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(() => {\n      if (passkeyAutofillSupported) {\n        signInRouterRef == null ? void 0 : signInRouterRef.send({ type: \"AUTHENTICATE.PASSKEY.AUTOFILL\" });\n      }\n    }, [passkeyAutofillSupported, signInRouterRef]);\n    const field = useInput(props);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      field.Element,\n      {\n        ref: forwardedRef,\n        ...field.props\n      }\n    );\n  }\n);\nInputWithPasskeyAutofill.displayName = DISPLAY_NAME_PASSKEYS_AUTOFILL;\n\n// src/react/common/form/label.tsx\n\nvar DISPLAY_NAME7 = \"ClerkElementsLabel\";\nvar Label = _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Label;\nLabel.displayName = DISPLAY_NAME7;\n\n// src/react/common/form/submit.tsx\n\nvar DISPLAY_NAME8 = \"ClerkElementsSubmit\";\nvar Submit = _radix_ui_react_form__WEBPACK_IMPORTED_MODULE_10__.Submit;\nSubmit.displayName = DISPLAY_NAME8;\n\n// src/react/common/connections.tsx\n\n\n\n// src/react/hooks/use-active-tags.hook.ts\n\nvar ActiveTagsMode = {\n  any: \"any\",\n  all: \"all\"\n};\nfunction useActiveTags(actor, tags, mode = ActiveTagsMode.any) {\n  const state = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(\n    actor,\n    (s) => s,\n    (prev, next) => prev.tags === next.tags\n  );\n  if (!state) {\n    return false;\n  }\n  if (typeof tags === \"string\") {\n    return state.hasTag(tags);\n  }\n  if (!Array.isArray(tags)) {\n    throw new Error(\"Invalid tags parameter provided to useActiveTags\");\n  }\n  switch (mode) {\n    case ActiveTagsMode.any: {\n      const matching = new Set(tags.filter((tag) => state.hasTag(tag)));\n      return { active: matching.size > 0, activeTags: matching };\n    }\n    case ActiveTagsMode.all:\n      return tags.length === state.tags.size ? tags.every((tag) => state.hasTag(tag)) : false;\n    default:\n      return false;\n  }\n}\n\n// src/react/hooks/use-third-party-provider.hook.ts\n\n\n\n// src/utils/third-party-strategies.ts\n\n\n// src/utils/clerk-js.ts\nvar fromEntries = (iterable) => {\n  return [...iterable].reduce((obj, [key, val]) => {\n    obj[key] = val;\n    return obj;\n  }, {});\n};\nfunction iconImageUrl(id) {\n  return `https://img.clerk.com/static/${id}.svg`;\n}\n\n// src/utils/third-party-strategies.ts\nvar oauthStrategies = _clerk_types__WEBPACK_IMPORTED_MODULE_14__.OAUTH_PROVIDERS.map((p) => p.strategy);\nvar providerToDisplayData = fromEntries(\n  [..._clerk_types__WEBPACK_IMPORTED_MODULE_14__.OAUTH_PROVIDERS, ..._clerk_types__WEBPACK_IMPORTED_MODULE_14__.WEB3_PROVIDERS].map((p) => {\n    return [p.provider, { iconUrl: iconImageUrl(p.provider), name: p.name, strategy: p.strategy }];\n  })\n);\nvar strategyToDisplayData = fromEntries(\n  [..._clerk_types__WEBPACK_IMPORTED_MODULE_14__.OAUTH_PROVIDERS, ..._clerk_types__WEBPACK_IMPORTED_MODULE_14__.WEB3_PROVIDERS].map((p) => {\n    return [p.strategy, { iconUrl: iconImageUrl(p.provider), id: p.provider, name: p.name }];\n  })\n);\nfunction isSamlStrategy(strategy) {\n  return strategy === \"saml\";\n}\nfunction isWeb3Strategy(strategy, available) {\n  return available.includes(strategy.startsWith(\"web3_\") ? strategy : `web3_${strategy}_signature`);\n}\nfunction isAuthenticatableOauthStrategy(strategy, available) {\n  return available.includes(strategy.startsWith(\"oauth_\") ? strategy : `oauth_${strategy}`);\n}\nvar emptyThirdPartyProviders = {\n  authenticatableOauthStrategies: [],\n  providerToDisplayData: {},\n  strategies: [],\n  strategyToDisplayData: {},\n  web3Strategies: []\n};\nvar getEnabledThirdPartyProviders = (environment) => {\n  if (!(environment == null ? void 0 : environment.userSettings)) {\n    return emptyThirdPartyProviders;\n  }\n  const { socialProviderStrategies, web3FirstFactors, authenticatableSocialStrategies } = environment.userSettings;\n  const knownSocialProviderStrategies = socialProviderStrategies.filter((s) => oauthStrategies.includes(s));\n  const knownAuthenticatableSocialStrategies = authenticatableSocialStrategies.filter((s) => oauthStrategies.includes(s));\n  return {\n    authenticatableOauthStrategies: [...knownAuthenticatableSocialStrategies],\n    providerToDisplayData,\n    strategies: [...knownSocialProviderStrategies, ...web3FirstFactors],\n    strategyToDisplayData,\n    web3Strategies: web3FirstFactors\n  };\n};\n\n// src/react/hooks/use-third-party-provider.hook.ts\nvar useIsProviderEnabled = (provider) => {\n  var _a3, _b3;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n  if (!clerk.loaded) {\n    return null;\n  }\n  if (provider === \"saml\") {\n    return (_b3 = (_a3 = clerk.__unstable__environment) == null ? void 0 : _a3.userSettings.saml.enabled) != null ? _b3 : false;\n  }\n  const data = getEnabledThirdPartyProviders(clerk.__unstable__environment);\n  return isAuthenticatableOauthStrategy(provider, data.authenticatableOauthStrategies) || isWeb3Strategy(provider, data.web3Strategies);\n};\nvar useThirdPartyProvider = (ref, provider) => {\n  const isProviderEnabled = useIsProviderEnabled(provider);\n  const isSaml = isSamlStrategy(provider);\n  const details = isSaml ? {\n    name: \"SAML\",\n    strategy: \"saml\"\n  } : providerToDisplayData[provider];\n  const authenticate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (event) => {\n      if (!isProviderEnabled) {\n        return;\n      }\n      event.preventDefault();\n      if (isSaml) {\n        return ref.send({ type: \"AUTHENTICATE.SAML\" });\n      }\n      if (provider === \"metamask\") {\n        return ref.send({ type: \"AUTHENTICATE.WEB3\", strategy: \"web3_metamask_signature\" });\n      }\n      if (provider === \"coinbase\") {\n        return ref.send({ type: \"AUTHENTICATE.WEB3\", strategy: \"web3_coinbase_signature\" });\n      }\n      if (provider === \"coinbase_wallet\") {\n        return ref.send({ type: \"AUTHENTICATE.WEB3\", strategy: \"web3_coinbase_wallet_signature\" });\n      }\n      return ref.send({ type: \"AUTHENTICATE.OAUTH\", strategy: `oauth_${provider}` });\n    },\n    [provider, isProviderEnabled, isSaml, ref]\n  );\n  if (isProviderEnabled === false) {\n    const dashboardPath = `https://dashboard.clerk.com/last-active?path=/user-authentication/${provider === \"metamask\" ? \"web3\" : \"social-connections\"}`;\n    throw new ClerkElementsRuntimeError(\n      `You have used <Connection name=\"${provider}\"> which isn't enabled for your project. Enable ${details.name} in your Clerk dashboard: ${dashboardPath}`\n    );\n  }\n  return {\n    events: {\n      authenticate\n    },\n    ...details\n  };\n};\n\n// src/react/sign-up/context/router.context.ts\nvar SignUpRouterCtx = createContextFromActorRef(\"SignUpRouterCtx\");\nfunction useSignUpStep(name) {\n  return SignUpRouterCtx.useSelector((state) => state.children[name]);\n}\nvar useSignUpStartStep = () => useSignUpStep(\"start\");\nvar useSignUpContinueStep = () => useSignUpStep(\"continue\");\nvar useSignUpVerificationStep = () => useSignUpStep(\"verification\");\n\n// src/react/common/connections.tsx\n\nvar ConnectionContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nvar useConnectionContext = () => {\n  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConnectionContext);\n  if (!ctx) {\n    throw new Error(\"useConnectionContext must be used within <Clerk.Connection>\");\n  }\n  return ctx;\n};\nfunction Connection({ asChild, name, ...rest }) {\n  const signInRef = SignInRouterCtx.useActorRef(true);\n  const signUpRef = SignUpRouterCtx.useActorRef(true);\n  const provider = useThirdPartyProvider(signInRef || signUpRef, name);\n  if (!provider) {\n    return null;\n  }\n  const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"button\";\n  const defaultProps = asChild ? {} : { type: \"button\" };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(ConnectionContext.Provider, { value: provider, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Comp,\n    {\n      onClick: provider.events.authenticate,\n      ...defaultProps,\n      ...rest\n    }\n  ) });\n}\nfunction Icon({ asChild, ...rest }) {\n  const { iconUrl, name } = useConnectionContext();\n  const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"img\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Comp,\n    {\n      alt: `${name} logo`,\n      src: iconUrl,\n      ...rest\n    }\n  );\n}\n\n// src/react/common/loading.tsx\n\n\n\n\n// src/react/hooks/use-loading.hook.ts\n\nvar selectLoading = (snapshot) => {\n  var _a3;\n  return (_a3 = snapshot == null ? void 0 : snapshot.context) == null ? void 0 : _a3.loading;\n};\nvar compareLoadingValue = (prev, next) => (prev == null ? void 0 : prev.isLoading) === (next == null ? void 0 : next.isLoading);\nfunction useLoading(actor) {\n  const loadingCtx = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(actor, selectLoading, compareLoadingValue);\n  if (!loadingCtx) {\n    return [false, { step: void 0, strategy: void 0, action: void 0 }];\n  }\n  return [loadingCtx.isLoading, { step: loadingCtx.step, strategy: loadingCtx.strategy, action: loadingCtx.action }];\n}\n\n// src/react/sign-in/step.tsx\n\n\n\n// src/react/sign-in/choose-session/choose-session.tsx\n\n\n\n// src/react/utils/create-context-for-dom-validation.ts\n\nfunction createContextForDomValidation(displayName) {\n  const ReactContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext(false);\n  const OriginalProvider = ReactContext.Provider;\n  function Provider({ children }) {\n    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\n      OriginalProvider,\n      {\n        value: true\n      },\n      children\n    );\n  }\n  Provider.displayName = displayName;\n  function useContext9(allowMissingContext = false) {\n    const context = react__WEBPACK_IMPORTED_MODULE_1__.useContext(ReactContext);\n    if (!allowMissingContext && !context) {\n      throw new Error(\n        `You used a hook from \"${Provider.displayName}\" but it's not inside a <${Provider.displayName}.Provider> component.`\n      );\n    }\n    return context;\n  }\n  return {\n    Provider,\n    useDomValidation: useContext9\n  };\n}\n\n// src/react/utils/is-valid-component-type.ts\n\nfunction isValidComponentType(child, type) {\n  return react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(child) && child.type === type;\n}\n\n// src/react/sign-in/choose-session/choose-session.hooks.ts\n\nvar SignInActiveSessionContext = react__WEBPACK_IMPORTED_MODULE_1__.createContext(null);\nfunction useSignInActiveSessionContext() {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_1__.useContext(SignInActiveSessionContext);\n  if (!ctx) {\n    throw new Error(\"SignInActiveSessionContext must be used within a SessionList/SignInSessionListItem\");\n  }\n  return ctx;\n}\nfunction useSignInChooseSessionIsActive() {\n  const routerRef = SignInRouterCtx.useActorRef();\n  return useActiveTags(routerRef, \"step:choose-session\");\n}\nfunction useSignInActiveSessionList(params) {\n  const { omitCurrent = true } = params || {};\n  return SignInRouterCtx.useSelector((state) => {\n    var _a3, _b3, _c, _d;\n    const activeSessions = ((_b3 = (_a3 = state.context.clerk) == null ? void 0 : _a3.client) == null ? void 0 : _b3.activeSessions) || [];\n    const currentSessionId = (_d = (_c = state.context.clerk) == null ? void 0 : _c.session) == null ? void 0 : _d.id;\n    const filteredSessions = omitCurrent ? activeSessions.filter((s) => s.id !== currentSessionId) : activeSessions;\n    return filteredSessions.map((s) => ({\n      id: s.id,\n      ...s.publicUserData\n    }));\n  });\n}\n\n// src/react/sign-in/choose-session/choose-session.tsx\n\nvar SignInChooseSessionCtx = createContextForDomValidation(\"SignInChooseSessionCtx\");\nfunction SignInChooseSession({ children, ...props }) {\n  const activeState = useSignInChooseSessionIsActive();\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInChooseSessionCtx.Provider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", { ...props, children }) }) : null;\n}\nfunction SignInSessionList({ asChild, children, includeCurrentSession, ...props }) {\n  const sessions = useSignInActiveSessionList({ omitCurrent: !includeCurrentSession });\n  if (!children || !(sessions == null ? void 0 : sessions.length)) {\n    return null;\n  }\n  if (react__WEBPACK_IMPORTED_MODULE_1__.Children.count(children) > 1) {\n    return react__WEBPACK_IMPORTED_MODULE_1__.Children.only(null);\n  }\n  if (asChild && isValidComponentType(children, SignInSessionListItem)) {\n    throw new Error(\"asChild cannot be used with SessionListItem as the direct child\");\n  }\n  if (!react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(children)) {\n    throw new Error(\"children must be a valid React element\");\n  }\n  const newChildren = asChild ? children.props.children : children;\n  const childrenWithCtx = sessions.map((session) => {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      SignInActiveSessionContext.Provider,\n      {\n        value: session,\n        children: newChildren\n      },\n      `SignInActiveSessionContext-${session.id}`\n    );\n  });\n  if (asChild) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot, { ...props, children: react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(children, void 0, childrenWithCtx) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"ul\", { ...props, children: childrenWithCtx });\n}\nfunction SignInSessionListItem(props) {\n  const { asChild = false, children, ...passthroughProps } = props;\n  const session = useSignInActiveSessionContext();\n  const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"li\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(Comp, { ...passthroughProps, children: children({ session }) });\n}\n\n// src/react/sign-in/choose-strategy.tsx\n\n\n\n\n// src/internals/machines/sign-in/verification.machine.ts\n\n\n\n// src/internals/constants/index.ts\nvar SSO_CALLBACK_PATH_ROUTE = \"/sso-callback\";\nvar CHOOSE_SESSION_PATH_ROUTE = \"/choose\";\nvar MAGIC_LINK_VERIFY_PATH_ROUTE = \"/verify\";\nvar _a, _b;\nvar SIGN_IN_DEFAULT_BASE_PATH = (_b = (_a = process.env.CLERK_SIGN_IN_URL) != null ? _a : process.env.NEXT_PUBLIC_CLERK_SIGN_IN_URL) != null ? _b : \"/sign-in\";\nvar _a2, _b2;\nvar SIGN_UP_DEFAULT_BASE_PATH = (_b2 = (_a2 = process.env.CLERK_SIGN_UP_URL) != null ? _a2 : process.env.NEXT_PUBLIC_CLERK_SIGN_UP_URL) != null ? _b2 : \"/sign-up\";\nvar NEXT_WINDOW_HISTORY_SUPPORT_VERSION = \"14.1.0\";\nvar SEARCH_PARAMS = {\n  createdSession: \"__clerk_created_session\",\n  handshake: \"__clerk_handshake\",\n  help: \"__clerk_help\",\n  invitationToken: \"__clerk_invitation_token\",\n  modalState: \"__clerk_modal_state\",\n  satelliteUrl: \"__clerk_satellite_url\",\n  status: \"__clerk_status\",\n  synced: \"__clerk_synced\",\n  ticket: \"__clerk_ticket\",\n  transfer: \"__clerk_transfer\"\n};\nvar RESENDABLE_COUNTDOWN_DEFAULT = 60;\nvar CAPTCHA_ELEMENT_ID = \"clerk-captcha\";\nvar ERROR_CODES = {\n  FORM_IDENTIFIER_NOT_FOUND: \"form_identifier_not_found\",\n  FORM_PASSWORD_INCORRECT: \"form_password_incorrect\",\n  INVALID_STRATEGY_FOR_USER: \"strategy_for_user_invalid\",\n  NOT_ALLOWED_TO_SIGN_UP: \"not_allowed_to_sign_up\",\n  OAUTH_ACCESS_DENIED: \"oauth_access_denied\",\n  OAUTH_EMAIL_DOMAIN_RESERVED_BY_SAML: \"oauth_email_domain_reserved_by_saml\",\n  NOT_ALLOWED_ACCESS: \"not_allowed_access\",\n  SAML_USER_ATTRIBUTE_MISSING: \"saml_user_attribute_missing\",\n  USER_LOCKED: \"user_locked\"\n};\nvar ROUTING = {\n  path: \"path\",\n  virtual: \"virtual\"\n};\n\n// src/internals/machines/shared/shared.actions.ts\nfunction sendToLoading({ context, event }) {\n  let step;\n  let strategy;\n  let action;\n  if (event.type.startsWith(\"xstate.done.\") || event.type.startsWith(\"xstate.error.\")) {\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: false,\n      step: void 0,\n      strategy: void 0\n    });\n  }\n  if (context.loadingStep === \"strategy\") {\n    step = void 0;\n    if (event.type === \"REDIRECT\") {\n      strategy = event.params.strategy;\n    }\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: true,\n      step,\n      strategy\n    });\n  } else if (context.loadingStep === \"continue\") {\n    step = \"continue\";\n    strategy = void 0;\n    action = \"action\" in event ? event.action : void 0;\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: true,\n      step,\n      strategy,\n      action\n    });\n  } else if (context.loadingStep === \"reset-password\") {\n    step = \"reset-password\";\n    strategy = void 0;\n    action = \"action\" in event ? event.action : void 0;\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: true,\n      step,\n      strategy,\n      action\n    });\n  } else if (context.loadingStep === \"start\") {\n    step = \"start\";\n    strategy = void 0;\n    action = \"action\" in event ? event.action : void 0;\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: true,\n      step,\n      strategy,\n      action\n    });\n  } else {\n    step = context.loadingStep;\n    strategy = void 0;\n    action = \"action\" in event ? event.action : void 0;\n    return context.parent.send({\n      type: \"LOADING\",\n      isLoading: true,\n      step,\n      strategy,\n      action\n    });\n  }\n}\n\n// src/internals/machines/sign-in/utils/starting-factors.ts\n\nvar makeSortingOrderMap = (arr) => arr.reduce(\n  (acc, k, i) => {\n    acc[k] = i;\n    return acc;\n  },\n  {}\n);\nvar STRATEGY_SORT_ORDER_PASSWORD_PREF = makeSortingOrderMap([\n  \"passkey\",\n  \"password\",\n  \"email_link\",\n  \"email_code\",\n  \"phone_code\"\n]);\nvar STRATEGY_SORT_ORDER_OTP_PREF = makeSortingOrderMap([\n  \"email_code\",\n  \"email_link\",\n  \"phone_code\",\n  \"passkey\",\n  \"password\"\n]);\nvar makeSortingFunction = (sortingMap) => (a, b) => {\n  const orderA = sortingMap[a.strategy];\n  const orderB = sortingMap[b.strategy];\n  if (orderA === void 0 || orderB === void 0) {\n    return 0;\n  }\n  return orderA - orderB;\n};\nvar passwordPrefFactorComparator = makeSortingFunction(STRATEGY_SORT_ORDER_PASSWORD_PREF);\nvar otpPrefFactorComparator = makeSortingFunction(STRATEGY_SORT_ORDER_OTP_PREF);\nvar findFactorForIdentifier = (i) => (f) => {\n  return \"safeIdentifier\" in f && f.safeIdentifier === i;\n};\nfunction determineStartingSignInFactor(firstFactors, identifier, preferredSignInStrategy) {\n  if (!firstFactors || firstFactors.length === 0) {\n    return null;\n  }\n  return preferredSignInStrategy === \"password\" ? determineStrategyWhenPasswordIsPreferred(firstFactors, identifier) : determineStrategyWhenOTPIsPreferred(firstFactors, identifier);\n}\nfunction findPasskeyStrategy(factors) {\n  if ((0,_clerk_shared_webauthn__WEBPACK_IMPORTED_MODULE_15__.isWebAuthnSupported)()) {\n    const passkeyFactor = factors.find(({ strategy }) => strategy === \"passkey\");\n    if (passkeyFactor) {\n      return passkeyFactor;\n    }\n  }\n  return null;\n}\nfunction determineStrategyWhenPasswordIsPreferred(factors, identifier) {\n  const passkeyFactor = findPasskeyStrategy(factors);\n  if (passkeyFactor) {\n    return passkeyFactor;\n  }\n  const selected = factors.sort(passwordPrefFactorComparator)[0];\n  if (selected.strategy === \"password\") {\n    return selected;\n  }\n  return factors.find(findFactorForIdentifier(identifier)) || selected || null;\n}\nfunction determineStrategyWhenOTPIsPreferred(factors, identifier) {\n  const passkeyFactor = findPasskeyStrategy(factors);\n  if (passkeyFactor) {\n    return passkeyFactor;\n  }\n  const sortedBasedOnPrefFactor = factors.sort(otpPrefFactorComparator);\n  const forIdentifier = sortedBasedOnPrefFactor.find(findFactorForIdentifier(identifier));\n  if (forIdentifier) {\n    return forIdentifier;\n  }\n  const firstBasedOnPref = sortedBasedOnPrefFactor[0];\n  if (firstBasedOnPref.strategy === \"email_link\") {\n    return firstBasedOnPref;\n  }\n  return factors.find(findFactorForIdentifier(identifier)) || firstBasedOnPref || null;\n}\nfunction determineStartingSignInSecondFactor(secondFactors) {\n  if (!secondFactors || secondFactors.length === 0) {\n    return null;\n  }\n  const totpFactor = secondFactors.find((f) => f.strategy === \"totp\");\n  if (totpFactor) {\n    return totpFactor;\n  }\n  const phoneCodeFactor = secondFactors.find((f) => f.strategy === \"phone_code\");\n  if (phoneCodeFactor) {\n    return phoneCodeFactor;\n  }\n  return secondFactors[0];\n}\n\n// src/internals/machines/utils/assert.ts\nfunction assertIsDefined(value, label) {\n  if (value === void 0 || value === null) {\n    throw new Error(`${label || value} is not defined`);\n  }\n}\nfunction assertActorEventError(event) {\n  if (\"error\" in event === false) {\n    throw new Error(`Expected an error event, got \"${event.type}\"`);\n  }\n}\n\n// src/internals/machines/sign-in/verification.types.ts\nvar SignInVerificationDelays = {\n  resendableTimeout: 1e3\n  // 1 second\n};\n\n// src/internals/machines/sign-in/verification.machine.ts\nvar isNonPreperableStrategy = (strategy) => {\n  if (!strategy) {\n    return false;\n  }\n  return [\"passkey\", \"password\"].includes(strategy);\n};\nvar SignInVerificationMachineId = \"SignInVerification\";\nvar SignInVerificationMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actors: {\n    determineStartingFactor: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      () => Promise.reject(new ClerkElementsRuntimeError(\"Actor `determineStartingFactor` must be overridden\"))\n    ),\n    prepare: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      () => Promise.reject(new ClerkElementsRuntimeError(\"Actor `prepare` must be overridden\"))\n    ),\n    attempt: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      () => Promise.reject(new ClerkElementsRuntimeError(\"Actor `attempt` must be overridden\"))\n    )\n  },\n  actions: {\n    resendableTick: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)(({ context }) => ({\n      resendable: context.resendableAfter === 0,\n      resendableAfter: context.resendableAfter > 0 ? context.resendableAfter - 1 : context.resendableAfter\n    })),\n    resendableReset: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      resendable: false,\n      resendableAfter: RESENDABLE_COUNTDOWN_DEFAULT\n    }),\n    validateRegisteredStrategies: ({ context }) => {\n      var _a3;\n      const clerk = context.parent.getSnapshot().context.clerk;\n      if ((_a3 = clerk.__unstable__environment) == null ? void 0 : _a3.isProduction()) {\n        return;\n      }\n      if (false) {}\n    },\n    sendToNext: ({ context, event }) => context.parent.send({ type: \"NEXT\", resource: event.output }),\n    sendToLoading,\n    setFormErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\n      ({ context }) => context.formRef,\n      ({ event }) => {\n        assertActorEventError(event);\n        return {\n          type: \"ERRORS.SET\",\n          error: event.error\n        };\n      }\n    ),\n    setConsoleError: ({ event }) => {\n      if (true) {\n        return;\n      }\n      assertActorEventError(event);\n      const error = (0,_clerk_shared_error__WEBPACK_IMPORTED_MODULE_2__.isClerkAPIResponseError)(event.error) ? event.error.errors[0].longMessage : event.error.message;\n      console.error(`Unable to fulfill the prepare or attempt request for the sign-in verification.\n      Error: ${error}\n      Please open an issue if you continue to run into this issue.`);\n    }\n  },\n  guards: {\n    isResendable: ({ context }) => context.resendable || context.resendableAfter === 0,\n    isNeverResendable: ({ context }) => {\n      var _a3;\n      return isNonPreperableStrategy((_a3 = context.currentFactor) == null ? void 0 : _a3.strategy);\n    }\n  },\n  delays: SignInVerificationDelays,\n  types: {}\n}).createMachine({\n  id: SignInVerificationMachineId,\n  context: ({ input }) => ({\n    currentFactor: null,\n    basePath: input.basePath || SIGN_IN_DEFAULT_BASE_PATH,\n    formRef: input.formRef,\n    loadingStep: \"verifications\",\n    parent: input.parent,\n    registeredStrategies: /* @__PURE__ */ new Set(),\n    resendable: false,\n    resendableAfter: RESENDABLE_COUNTDOWN_DEFAULT\n  }),\n  initial: \"Init\",\n  on: {\n    \"NAVIGATE.PREVIOUS\": \".Hist\",\n    \"STRATEGY.REGISTER\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        registeredStrategies: ({ context, event }) => context.registeredStrategies.add(event.factor)\n      })\n    },\n    \"STRATEGY.UNREGISTER\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n        registeredStrategies: ({ context, event }) => {\n          context.registeredStrategies.delete(event.factor);\n          return context.registeredStrategies;\n        }\n      })\n    }\n  },\n  states: {\n    Init: {\n      tags: [\"state:preparing\", \"state:loading\"],\n      invoke: {\n        id: \"determineStartingFactor\",\n        src: \"determineStartingFactor\",\n        input: ({ context }) => ({\n          parent: context.parent\n        }),\n        onDone: {\n          target: \"Preparing\",\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n            currentFactor: ({ event }) => event.output\n          })\n        },\n        onError: {\n          target: \"Preparing\",\n          actions: [\n            (0,xstate__WEBPACK_IMPORTED_MODULE_5__.l)(\"Clerk [Sign In Verification]: Error determining starting factor\"),\n            (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n              currentFactor: { strategy: \"password\" }\n            })\n          ]\n        }\n      }\n    },\n    Preparing: {\n      tags: [\"state:preparing\", \"state:loading\"],\n      invoke: {\n        id: \"prepare\",\n        src: \"prepare\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          resendable: context.resendable,\n          params: {\n            ...context.currentFactor,\n            redirectUrl: `${window.location.origin}${context.basePath}${MAGIC_LINK_VERIFY_PATH_ROUTE}`\n          }\n        }),\n        onDone: {\n          actions: \"resendableReset\",\n          target: \"Pending\"\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"setConsoleError\"],\n          target: \"Pending\"\n        }\n      }\n    },\n    Pending: {\n      tags: [\"state:pending\"],\n      description: \"Waiting for user input\",\n      on: {\n        \"NAVIGATE.CHOOSE_STRATEGY\": \"ChooseStrategy\",\n        \"NAVIGATE.FORGOT_PASSWORD\": \"ChooseStrategy\",\n        RETRY: \"Preparing\",\n        SUBMIT: {\n          target: \"Attempting\",\n          reenter: true\n        }\n      },\n      initial: \"Init\",\n      states: {\n        Init: {\n          description: \"Marks appropriate factors as never resendable.\",\n          always: [\n            {\n              guard: \"isNeverResendable\",\n              target: \"NeverResendable\"\n            },\n            {\n              target: \"NotResendable\"\n            }\n          ]\n        },\n        Resendable: {\n          description: \"Waiting for user to retry\"\n        },\n        NeverResendable: {\n          description: \"Handles never resendable\",\n          on: {\n            RETRY: {\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.l)(\"Never retriable\")\n            }\n          }\n        },\n        NotResendable: {\n          description: \"Handle countdowns\",\n          on: {\n            RETRY: {\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.l)(({ context }) => `Not retriable; Try again in ${context.resendableAfter}s`)\n            }\n          },\n          after: {\n            resendableTimeout: [\n              {\n                description: \"Set as retriable if countdown is 0\",\n                guard: \"isResendable\",\n                actions: \"resendableTick\",\n                target: \"Resendable\"\n              },\n              {\n                description: \"Continue countdown if not retriable\",\n                actions: \"resendableTick\",\n                target: \"NotResendable\",\n                reenter: true\n              }\n            ]\n          }\n        }\n      },\n      after: {\n        3e3: {\n          actions: \"validateRegisteredStrategies\"\n        }\n      }\n    },\n    ChooseStrategy: {\n      description: \"Handles both choose strategy and forgot password as the latter is similar in functionality\",\n      tags: [\"state:choose-strategy\", \"state:forgot-password\"],\n      on: {\n        \"STRATEGY.UPDATE\": {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({ currentFactor: ({ event }) => event.factor || null }),\n          target: \"Preparing\"\n        }\n      }\n    },\n    Attempting: {\n      tags: [\"state:attempting\", \"state:loading\"],\n      entry: \"sendToLoading\",\n      invoke: {\n        id: \"attempt\",\n        src: \"attempt\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          currentFactor: context.currentFactor,\n          fields: context.formRef.getSnapshot().context.fields\n        }),\n        onDone: {\n          actions: [\"sendToNext\", \"sendToLoading\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"setConsoleError\", \"sendToLoading\"],\n          target: \"Pending\"\n        }\n      }\n    },\n    Hist: {\n      type: \"history\"\n    }\n  }\n});\nvar SignInFirstFactorMachine = SignInVerificationMachine.provide({\n  actors: {\n    determineStartingFactor: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(async ({ input }) => {\n      var _a3;\n      const clerk = input.parent.getSnapshot().context.clerk;\n      return Promise.resolve(\n        determineStartingSignInFactor(\n          clerk.client.signIn.supportedFirstFactors,\n          clerk.client.signIn.identifier,\n          (_a3 = clerk.__unstable__environment) == null ? void 0 : _a3.displayConfig.preferredSignInStrategy\n        )\n      );\n    }),\n    prepare: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(async ({ input }) => {\n      const { params, parent, resendable } = input;\n      const clerk = parent.getSnapshot().context.clerk;\n      const currentVerificationExpiration = clerk.client.signIn.firstFactorVerification.expireAt;\n      const needsPrepare = resendable || !currentVerificationExpiration || currentVerificationExpiration < /* @__PURE__ */ new Date();\n      if (isNonPreperableStrategy(params == null ? void 0 : params.strategy) || !needsPrepare) {\n        return Promise.resolve(clerk.client.signIn);\n      }\n      assertIsDefined(params, \"First factor params\");\n      return await clerk.client.signIn.prepareFirstFactor(params);\n    }),\n    attempt: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(async ({ input }) => {\n      var _a3, _b3, _c, _d;\n      const { currentFactor, fields, parent } = input;\n      assertIsDefined(currentFactor, \"Current factor\");\n      let attemptParams;\n      const strategy = currentFactor.strategy;\n      const code = (_a3 = fields.get(\"code\")) == null ? void 0 : _a3.value;\n      const password = (_b3 = fields.get(\"password\")) == null ? void 0 : _b3.value;\n      switch (strategy) {\n        case \"passkey\": {\n          return await parent.getSnapshot().context.clerk.client.signIn.authenticateWithPasskey();\n        }\n        case \"password\": {\n          assertIsDefined(password, \"Password\");\n          attemptParams = {\n            strategy,\n            password\n          };\n          break;\n        }\n        case \"reset_password_phone_code\":\n        case \"reset_password_email_code\": {\n          assertIsDefined(code, \"Code for resetting phone/email\");\n          attemptParams = {\n            strategy,\n            code,\n            password\n          };\n          break;\n        }\n        case \"phone_code\":\n        case \"email_code\": {\n          assertIsDefined(code, \"Code for phone/email\");\n          attemptParams = {\n            strategy,\n            code\n          };\n          break;\n        }\n        case \"web3_metamask_signature\": {\n          const signature = (_c = fields.get(\"signature\")) == null ? void 0 : _c.value;\n          assertIsDefined(signature, \"Web3 Metamask signature\");\n          attemptParams = {\n            strategy,\n            signature\n          };\n          break;\n        }\n        case \"web3_coinbase_signature\": {\n          const signature = (_d = fields.get(\"signature\")) == null ? void 0 : _d.value;\n          assertIsDefined(signature, \"Web3 Coinbase signature\");\n          attemptParams = {\n            strategy,\n            signature\n          };\n          break;\n        }\n        default:\n          throw new ClerkElementsRuntimeError(`Invalid strategy: ${strategy}`);\n      }\n      return await parent.getSnapshot().context.clerk.client.signIn.attemptFirstFactor(attemptParams);\n    })\n  }\n});\nvar SignInSecondFactorMachine = SignInVerificationMachine.provide({\n  actors: {\n    determineStartingFactor: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      async ({ input }) => Promise.resolve(\n        determineStartingSignInSecondFactor(\n          input.parent.getSnapshot().context.clerk.client.signIn.supportedSecondFactors\n        )\n      )\n    ),\n    prepare: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(async ({ input }) => {\n      const { params, parent, resendable } = input;\n      const clerk = parent.getSnapshot().context.clerk;\n      const currentVerificationExpiration = clerk.client.signIn.secondFactorVerification.expireAt;\n      const needsPrepare = resendable || !currentVerificationExpiration || currentVerificationExpiration < /* @__PURE__ */ new Date();\n      assertIsDefined(params, \"Second factor params\");\n      if (params.strategy !== \"phone_code\" || !needsPrepare) {\n        return Promise.resolve(clerk.client.signIn);\n      }\n      return await clerk.client.signIn.prepareSecondFactor({\n        strategy: params.strategy,\n        phoneNumberId: params.phoneNumberId\n      });\n    }),\n    attempt: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(async ({ input }) => {\n      var _a3;\n      const { fields, parent, currentFactor } = input;\n      const code = (_a3 = fields.get(\"code\")) == null ? void 0 : _a3.value;\n      assertIsDefined(currentFactor, \"Current factor\");\n      assertIsDefined(code, \"Code\");\n      return await parent.getSnapshot().context.clerk.client.signIn.attemptSecondFactor({\n        strategy: currentFactor.strategy,\n        code\n      });\n    })\n  }\n});\n\n// src/internals/machines/sign-in/router.machine.ts\n\n\n\n\n// src/internals/machines/third-party/third-party.actors.ts\n\n\n// src/internals/machines/utils/clerkjs.ts\nfunction isClerkJSEvent(eventObj, event) {\n  return Object.values(eventObj).includes(event);\n}\nvar ClerkJSNavigationEvent = {\n  complete: \"CLERKJS.NAVIGATE.COMPLETE\",\n  signUp: \"CLERKJS.NAVIGATE.SIGN_UP\",\n  continue: \"CLERKJS.NAVIGATE.CONTINUE\",\n  generic: \"CLERKJS.NAVIGATE.GENERIC\",\n  resetPassword: \"CLERKJS.NAVIGATE.RESET_PASSWORD\",\n  signIn: \"CLERKJS.NAVIGATE.SIGN_IN\",\n  verification: \"CLERKJS.NAVIGATE.VERIFICATION\"\n};\nfunction isClerkJSNavigationEvent(event) {\n  return isClerkJSEvent(ClerkJSNavigationEvent, event);\n}\n\n// src/internals/machines/third-party/third-party.actors.ts\nvar redirect = (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n  async ({ input: { flow, params, parent } }) => {\n    const clerk = parent.getSnapshot().context.clerk;\n    return clerk.client[flow].authenticateWithRedirect({\n      redirectUrl: clerk.buildUrlWithAuth(params.redirectUrl || \"/\"),\n      redirectUrlComplete: clerk.buildUrlWithAuth(params.redirectUrlComplete || \"/\"),\n      ...params\n    });\n  }\n);\nvar handleRedirectCallback = (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromCallback)(\n  ({ sendBack, input: parent }) => {\n    var _a3;\n    const clerk = parent.getSnapshot().context.clerk;\n    const displayConfig = (_a3 = clerk.__unstable__environment) == null ? void 0 : _a3.displayConfig;\n    const customNavigate = (toEvt) => {\n      const to = toEvt.split(\"/\").slice(-1)[0];\n      if (isClerkJSNavigationEvent(to)) {\n        sendBack({ type: to });\n      } else if (to === (displayConfig == null ? void 0 : displayConfig.signInUrl)) {\n        sendBack({ type: ClerkJSNavigationEvent.signIn });\n      } else if (to === (displayConfig == null ? void 0 : displayConfig.signUpUrl)) {\n        sendBack({ type: ClerkJSNavigationEvent.signUp });\n      } else {\n        sendBack({ type: \"FAILURE\", error: new ClerkElementsRuntimeError(`Unknown navigation event: ${to}`) });\n      }\n      return Promise.resolve();\n    };\n    const loadedClerk = clerk.clerkjs;\n    void loadedClerk.handleRedirectCallback(\n      {\n        signInForceRedirectUrl: ClerkJSNavigationEvent.complete,\n        signInFallbackRedirectUrl: ClerkJSNavigationEvent.complete,\n        signUpForceRedirectUrl: ClerkJSNavigationEvent.signUp,\n        signUpFallbackRedirectUrl: ClerkJSNavigationEvent.signUp,\n        continueSignUpUrl: ClerkJSNavigationEvent.continue,\n        firstFactorUrl: ClerkJSNavigationEvent.signIn,\n        resetPasswordUrl: ClerkJSNavigationEvent.resetPassword,\n        secondFactorUrl: ClerkJSNavigationEvent.signIn,\n        verifyEmailAddressUrl: ClerkJSNavigationEvent.verification,\n        verifyPhoneNumberUrl: ClerkJSNavigationEvent.verification,\n        signUpUrl: ClerkJSNavigationEvent.signUp,\n        signInUrl: ClerkJSNavigationEvent.signIn\n      },\n      customNavigate\n    );\n    return () => void 0;\n  }\n);\n\n// src/internals/machines/third-party/third-party.machine.ts\n\nvar ThirdPartyMachineId = \"ThirdParty\";\nvar ThirdPartyMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actors: {\n    handleRedirectCallback,\n    redirect\n  },\n  actions: {\n    logError: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.l)(({ event }) => `Error: ${event.type}`),\n    assignActiveStrategy: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      activeStrategy: ({ event }) => {\n        (0,xstate__WEBPACK_IMPORTED_MODULE_4__.assertEvent)(event, \"REDIRECT\");\n        return event.params.strategy;\n      }\n    }),\n    unassignActiveStrategy: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      activeStrategy: null\n    }),\n    sendToNext: ({ context }) => context.parent.send({ type: \"NEXT\" }),\n    sendToLoading,\n    setFormErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\n      ({ context }) => context.formRef,\n      ({ event }) => {\n        assertActorEventError(event);\n        return {\n          type: \"ERRORS.SET\",\n          error: event.error\n        };\n      }\n    )\n  },\n  guards: {\n    isExampleMode: ({ context }) => Boolean(context.parent.getSnapshot().context.exampleMode)\n  },\n  types: {}\n}).createMachine({\n  id: ThirdPartyMachineId,\n  context: ({ input }) => ({\n    activeStrategy: null,\n    basePath: input.basePath,\n    formRef: input.formRef,\n    flow: input.flow,\n    parent: input.parent,\n    loadingStep: \"strategy\"\n  }),\n  initial: \"Idle\",\n  states: {\n    Idle: {\n      description: \"Sets third-party providers if not already set, and waits for a redirect or callback event\",\n      on: {\n        CALLBACK: \"HandlingCallback\",\n        REDIRECT: {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"Redirecting\",\n          reenter: true\n        }\n      }\n    },\n    Redirecting: {\n      description: \"Redirects to the third-party provider for authentication\",\n      tags: [\"state:redirect\", \"state:loading\"],\n      entry: [\"assignActiveStrategy\", \"sendToLoading\"],\n      exit: [\"unassignActiveStrategy\", \"sendToLoading\"],\n      invoke: {\n        id: \"redirect\",\n        src: \"redirect\",\n        input: ({ context, event }) => {\n          (0,xstate__WEBPACK_IMPORTED_MODULE_4__.assertEvent)(event, \"REDIRECT\");\n          return {\n            basePath: context.basePath,\n            flow: context.flow,\n            params: event.params,\n            parent: context.parent\n          };\n        },\n        onError: {\n          actions: \"setFormErrors\",\n          target: \"Idle\"\n        }\n      }\n    },\n    HandlingCallback: {\n      description: \"Handles the callback from the third-party provider\",\n      tags: [\"state:callback\", \"state:loading\"],\n      invoke: {\n        id: \"handleRedirectCallback\",\n        src: \"handleRedirectCallback\",\n        input: ({ context }) => context.parent,\n        onError: {\n          actions: [\"logError\", \"setFormErrors\"],\n          target: \"Idle\"\n        }\n      },\n      on: {\n        \"CLERKJS.NAVIGATE.*\": {\n          actions: \"sendToNext\",\n          target: \"Idle\"\n        }\n      }\n    }\n  }\n});\n\n// src/internals/machines/utils/next.ts\nfunction shouldUseVirtualRouting() {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  if (!window.next) {\n    return false;\n  }\n  return window.next.version < NEXT_WINDOW_HISTORY_SUPPORT_VERSION;\n}\n\n// src/internals/machines/sign-in/reset-password.machine.ts\n\nvar SignInResetPasswordMachineId = \"SignInResetPasswordMachine\";\nvar SignInResetPasswordMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actors: {\n    attempt: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      ({ input: { fields, parent } }) => {\n        var _a3, _b3;\n        const password = ((_a3 = fields.get(\"password\")) == null ? void 0 : _a3.value) || \"\";\n        const signOutOfOtherSessions = ((_b3 = fields.get(\"signOutOfOtherSessions\")) == null ? void 0 : _b3.checked) || false;\n        return parent.getSnapshot().context.clerk.client.signIn.resetPassword({ password, signOutOfOtherSessions });\n      }\n    )\n  },\n  actions: {\n    sendToLoading,\n    sendToNext: ({ context, event }) => context.parent.send({ type: \"NEXT\", resource: event.output }),\n    setFormErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\n      ({ context }) => context.formRef,\n      ({ event }) => {\n        assertActorEventError(event);\n        return {\n          type: \"ERRORS.SET\",\n          error: event.error\n        };\n      }\n    )\n  },\n  types: {}\n}).createMachine({\n  id: SignInResetPasswordMachineId,\n  context: ({ input }) => ({\n    loadingStep: \"reset-password\",\n    parent: input.parent,\n    formRef: input.formRef\n  }),\n  initial: \"Pending\",\n  states: {\n    Pending: {\n      tags: [\"state:pending\"],\n      description: \"Waiting for user input\",\n      on: {\n        SUBMIT: {\n          target: \"Attempting\",\n          reenter: true\n        }\n      }\n    },\n    Attempting: {\n      tags: [\"state:attempting\", \"state:loading\"],\n      entry: \"sendToLoading\",\n      invoke: {\n        id: \"attempt\",\n        src: \"attempt\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          fields: context.formRef.getSnapshot().context.fields\n        }),\n        onDone: {\n          actions: [\"sendToNext\", \"sendToLoading\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"sendToLoading\"],\n          target: \"Pending\"\n        }\n      }\n    }\n  }\n});\n\n// src/internals/machines/sign-in/start.machine.ts\n\nvar SignInStartMachineId = \"SignInStart\";\nvar SignInStartMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actors: {\n    attemptPasskey: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(({ input: { parent, flow } }) => {\n      return parent.getSnapshot().context.clerk.client.signIn.authenticateWithPasskey({\n        flow\n      });\n    }),\n    attemptWeb3: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      ({ input: { parent, strategy } }) => {\n        if (strategy === \"web3_metamask_signature\") {\n          return parent.getSnapshot().context.clerk.client.signIn.authenticateWithMetamask();\n        }\n        if (strategy === \"web3_coinbase_signature\") {\n          return parent.getSnapshot().context.clerk.client.signIn.authenticateWithCoinbase();\n        }\n        throw new ClerkElementsRuntimeError(`Unsupported Web3 strategy: ${strategy}`);\n      }\n    ),\n    attempt: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(\n      ({ input: { fields, parent } }) => {\n        const clerk = parent.getSnapshot().context.clerk;\n        const password = fields.get(\"password\");\n        const identifier = fields.get(\"identifier\");\n        const passwordParams = (password == null ? void 0 : password.value) ? {\n          password: password.value,\n          strategy: \"password\"\n        } : {};\n        return clerk.client.signIn.create({\n          identifier: (identifier == null ? void 0 : identifier.value) || \"\",\n          ...passwordParams\n        });\n      }\n    )\n  },\n  actions: {\n    sendToNext: ({ context, event }) => {\n      return context.parent.send({ type: \"NEXT\", resource: event == null ? void 0 : event.output });\n    },\n    sendToLoading,\n    setFormErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\n      ({ context }) => context.formRef,\n      ({ event }) => {\n        assertActorEventError(event);\n        return {\n          type: \"ERRORS.SET\",\n          error: event.error\n        };\n      }\n    )\n  },\n  guards: {\n    isExampleMode: ({ context }) => Boolean(context.parent.getSnapshot().context.exampleMode)\n  },\n  types: {}\n}).createMachine({\n  id: SignInStartMachineId,\n  context: ({ input }) => ({\n    basePath: input.basePath || SIGN_IN_DEFAULT_BASE_PATH,\n    parent: input.parent,\n    formRef: input.formRef,\n    loadingStep: \"start\"\n  }),\n  initial: \"Pending\",\n  states: {\n    Pending: {\n      tags: [\"state:pending\"],\n      description: \"Waiting for user input\",\n      on: {\n        SUBMIT: {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"Attempting\",\n          reenter: true\n        },\n        \"AUTHENTICATE.PASSKEY\": {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"AttemptingPasskey\",\n          reenter: true\n        },\n        \"AUTHENTICATE.PASSKEY.AUTOFILL\": {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"AttemptingPasskeyAutoFill\",\n          reenter: false\n        },\n        \"AUTHENTICATE.WEB3\": {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"AttemptingWeb3\",\n          reenter: true\n        }\n      }\n    },\n    Attempting: {\n      tags: [\"state:attempting\", \"state:loading\"],\n      entry: \"sendToLoading\",\n      invoke: {\n        id: \"attempt\",\n        src: \"attempt\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          fields: context.formRef.getSnapshot().context.fields\n        }),\n        onDone: {\n          actions: [\"sendToNext\", \"sendToLoading\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"sendToLoading\"],\n          target: \"Pending\"\n        }\n      }\n    },\n    AttemptingPasskey: {\n      tags: [\"state:attempting\", \"state:loading\"],\n      entry: \"sendToLoading\",\n      invoke: {\n        id: \"attemptPasskey\",\n        src: \"attemptPasskey\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          flow: \"discoverable\"\n        }),\n        onDone: {\n          actions: [\"sendToNext\", \"sendToLoading\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"sendToLoading\"],\n          target: \"Pending\"\n        }\n      }\n    },\n    AttemptingPasskeyAutoFill: {\n      on: {\n        \"AUTHENTICATE.PASSKEY\": {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"AttemptingPasskey\",\n          reenter: true\n        },\n        SUBMIT: {\n          guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\"),\n          target: \"Attempting\",\n          reenter: true\n        }\n      },\n      invoke: {\n        id: \"attemptPasskeyAutofill\",\n        src: \"attemptPasskey\",\n        input: ({ context }) => ({\n          parent: context.parent,\n          flow: \"autofill\"\n        }),\n        onDone: {\n          actions: [\"sendToNext\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\"],\n          target: \"Pending\"\n        }\n      }\n    },\n    AttemptingWeb3: {\n      tags: [\"state:attempting\", \"state:loading\"],\n      entry: \"sendToLoading\",\n      invoke: {\n        id: \"attemptWeb3\",\n        src: \"attemptWeb3\",\n        input: ({ context, event }) => {\n          (0,xstate__WEBPACK_IMPORTED_MODULE_4__.assertEvent)(event, \"AUTHENTICATE.WEB3\");\n          return {\n            parent: context.parent,\n            strategy: event.strategy\n          };\n        },\n        onDone: {\n          actions: [\"sendToNext\", \"sendToLoading\"]\n        },\n        onError: {\n          actions: [\"setFormErrors\", \"sendToLoading\"],\n          target: \"Pending\"\n        }\n      }\n    }\n  }\n});\n\n// src/internals/machines/sign-in/router.machine.ts\nvar isCurrentPath = (path) => ({ context }, _params) => {\n  var _a3, _b3;\n  return (_b3 = (_a3 = context.router) == null ? void 0 : _a3.match(path)) != null ? _b3 : false;\n};\nvar needsStatus = (status) => ({ context, event }, _) => {\n  var _a3, _b3;\n  return ((_a3 = event == null ? void 0 : event.resource) == null ? void 0 : _a3.status) === status || ((_b3 = context.clerk) == null ? void 0 : _b3.client.signIn.status) === status;\n};\nvar SignInRouterMachineId = \"SignInRouter\";\nvar SignInRouterMachine = (0,xstate__WEBPACK_IMPORTED_MODULE_4__.setup)({\n  actors: {\n    firstFactorMachine: SignInFirstFactorMachine,\n    formMachine: FormMachine,\n    resetPasswordMachine: SignInResetPasswordMachine,\n    startMachine: SignInStartMachine,\n    secondFactorMachine: SignInSecondFactorMachine,\n    thirdPartyMachine: ThirdPartyMachine,\n    webAuthnAutofillSupport: (0,xstate__WEBPACK_IMPORTED_MODULE_16__.fromPromise)(() => (0,_clerk_shared_webauthn__WEBPACK_IMPORTED_MODULE_15__.isWebAuthnAutofillSupported)())\n  },\n  actions: {\n    clearFormErrors: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(({ context }) => context.formRef, { type: \"ERRORS.CLEAR\" }),\n    navigateInternal: ({ context }, { path, force = false }) => {\n      if (!context.router) {\n        return;\n      }\n      if (!force && shouldUseVirtualRouting()) {\n        return;\n      }\n      if (context.exampleMode) {\n        return;\n      }\n      const resolvedPath = (0,_clerk_shared_url__WEBPACK_IMPORTED_MODULE_17__.joinURL)(context.router.basePath, path);\n      if (resolvedPath === context.router.pathname()) {\n        return;\n      }\n      context.router.shallowPush(resolvedPath);\n    },\n    navigateExternal: ({ context }, { path }) => {\n      var _a3;\n      return (_a3 = context.router) == null ? void 0 : _a3.push(path);\n    },\n    raiseNext: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.O)({ type: \"NEXT\" }),\n    setActive: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.b)(({ enqueue, check, context, event }) => {\n      if (check(\"isExampleMode\")) {\n        return;\n      }\n      const id = event == null ? void 0 : event.id;\n      const lastActiveSessionId = context.clerk.client.lastActiveSessionId;\n      const createdSessionId = ((event == null ? void 0 : event.resource) || context.clerk.client.signIn).createdSessionId;\n      const session = id || createdSessionId || lastActiveSessionId || null;\n      const beforeEmit = () => {\n        var _a3, _b3;\n        return (_b3 = context.router) == null ? void 0 : _b3.push(((_a3 = context.router) == null ? void 0 : _a3.searchParams().get(\"redirect_url\")) || context.clerk.buildAfterSignInUrl());\n      };\n      void context.clerk.setActive({ session, beforeEmit });\n      enqueue.raise({ type: \"RESET\" }, { delay: 2e3 });\n    }),\n    setError: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({\n      error: (_, { error }) => {\n        if (error) {\n          return error;\n        }\n        return new ClerkElementsRuntimeError(\"Unknown error\");\n      }\n    }),\n    setFormErrors: ({ context }, params) => (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(context.formRef, {\n      type: \"ERRORS.SET\",\n      error: params.error\n    }),\n    setFormOAuthErrors: ({ context }) => {\n      const errorOrig = context.clerk.client.signIn.firstFactorVerification.error;\n      if (!errorOrig) {\n        return;\n      }\n      let error;\n      switch (errorOrig.code) {\n        case ERROR_CODES.NOT_ALLOWED_TO_SIGN_UP:\n        case ERROR_CODES.OAUTH_ACCESS_DENIED:\n        case ERROR_CODES.NOT_ALLOWED_ACCESS:\n        case ERROR_CODES.SAML_USER_ATTRIBUTE_MISSING:\n        case ERROR_CODES.OAUTH_EMAIL_DOMAIN_RESERVED_BY_SAML:\n        case ERROR_CODES.USER_LOCKED:\n          error = new ClerkElementsError(errorOrig.code, errorOrig.longMessage || \"\");\n          break;\n        default:\n          error = new ClerkElementsError(\n            \"unable_to_complete\",\n            \"Unable to complete action at this time. If the problem persists please contact support.\"\n          );\n      }\n      context.formRef.send({\n        type: \"ERRORS.SET\",\n        error\n      });\n    },\n    transfer: ({ context }) => {\n      var _a3;\n      const searchParams = new URLSearchParams({ __clerk_transfer: \"1\" });\n      (_a3 = context.router) == null ? void 0 : _a3.push(`${context.signUpPath}?${searchParams}`);\n    }\n  },\n  guards: {\n    hasAuthenticatedViaClerkJS: ({ context }) => Boolean(context.clerk.client.signIn.status === null && context.clerk.client.lastActiveSessionId),\n    hasOAuthError: ({ context }) => {\n      var _a3, _b3, _c, _d;\n      return Boolean((_d = (_c = (_b3 = (_a3 = context.clerk) == null ? void 0 : _a3.client) == null ? void 0 : _b3.signIn) == null ? void 0 : _c.firstFactorVerification) == null ? void 0 : _d.error);\n    },\n    hasResource: ({ context }) => {\n      var _a3, _b3, _c;\n      return Boolean((_c = (_b3 = (_a3 = context.clerk) == null ? void 0 : _a3.client) == null ? void 0 : _b3.signIn) == null ? void 0 : _c.status);\n    },\n    isLoggedInAndSingleSession: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.D)([\"isLoggedIn\", \"isSingleSessionMode\", (0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"isExampleMode\")]),\n    isActivePathRoot: isCurrentPath(\"/\"),\n    isComplete: ({ context, event }) => {\n      const resource = event == null ? void 0 : event.resource;\n      const signIn = context.clerk.client.signIn;\n      return (resource == null ? void 0 : resource.status) === \"complete\" && Boolean(resource == null ? void 0 : resource.createdSessionId) || signIn.status === \"complete\" && Boolean(signIn.createdSessionId);\n    },\n    isLoggedIn: ({ context }) => {\n      var _a3;\n      return Boolean((_a3 = context.clerk) == null ? void 0 : _a3.user);\n    },\n    isSingleSessionMode: ({ context }) => {\n      var _a3, _b3;\n      return Boolean((_b3 = (_a3 = context.clerk) == null ? void 0 : _a3.__unstable__environment) == null ? void 0 : _b3.authConfig.singleSessionMode);\n    },\n    isExampleMode: ({ context }) => Boolean(context.exampleMode),\n    needsStart: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.F)([(0,xstate__WEBPACK_IMPORTED_MODULE_18__.E)(\"hasResource\"), \"statusNeedsIdentifier\", isCurrentPath(\"/\")]),\n    needsFirstFactor: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.D)([\"statusNeedsFirstFactor\", isCurrentPath(\"/continue\")]),\n    needsSecondFactor: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.D)([\"statusNeedsSecondFactor\", isCurrentPath(\"/continue\")]),\n    needsCallback: isCurrentPath(SSO_CALLBACK_PATH_ROUTE),\n    needsChooseSession: isCurrentPath(CHOOSE_SESSION_PATH_ROUTE),\n    needsNewPassword: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.D)([\"statusNeedsNewPassword\", isCurrentPath(\"/new-password\")]),\n    statusNeedsIdentifier: needsStatus(\"needs_identifier\"),\n    statusNeedsFirstFactor: needsStatus(\"needs_first_factor\"),\n    statusNeedsSecondFactor: needsStatus(\"needs_second_factor\"),\n    statusNeedsNewPassword: needsStatus(\"needs_new_password\")\n  },\n  types: {}\n}).createMachine({\n  id: SignInRouterMachineId,\n  // @ts-expect-error - Set in INIT event\n  context: {},\n  initial: \"Idle\",\n  on: {\n    \"AUTHENTICATE.OAUTH\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(ThirdPartyMachineId, ({ context, event }) => {\n        var _a3, _b3, _c, _d;\n        return {\n          type: \"REDIRECT\",\n          params: {\n            strategy: event.strategy,\n            redirectUrl: `${((_a3 = context.router) == null ? void 0 : _a3.mode) === ROUTING.virtual ? (_b3 = context.clerk.__unstable__environment) == null ? void 0 : _b3.displayConfig.signInUrl : (_c = context.router) == null ? void 0 : _c.basePath}${SSO_CALLBACK_PATH_ROUTE}`,\n            redirectUrlComplete: ((_d = context.router) == null ? void 0 : _d.searchParams().get(\"redirect_url\")) || context.clerk.buildAfterSignInUrl()\n          }\n        };\n      })\n    },\n    \"AUTHENTICATE.SAML\": {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(ThirdPartyMachineId, ({ context }) => {\n        var _a3, _b3, _c, _d, _e;\n        return {\n          type: \"REDIRECT\",\n          params: {\n            strategy: \"saml\",\n            identifier: (_a3 = context.formRef.getSnapshot().context.fields.get(\"identifier\")) == null ? void 0 : _a3.value,\n            redirectUrl: `${((_b3 = context.router) == null ? void 0 : _b3.mode) === ROUTING.virtual ? (_c = context.clerk.__unstable__environment) == null ? void 0 : _c.displayConfig.signInUrl : (_d = context.router) == null ? void 0 : _d.basePath}${SSO_CALLBACK_PATH_ROUTE}`,\n            redirectUrlComplete: ((_e = context.router) == null ? void 0 : _e.searchParams().get(\"redirect_url\")) || context.clerk.buildAfterSignInUrl()\n          }\n        };\n      })\n    },\n    \"FORM.ATTACH\": {\n      description: \"Attach/re-attach the form to the router.\",\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.b)(({ enqueue, event }) => {\n        enqueue.assign({\n          formRef: event.formRef\n        });\n        enqueue.raise({ type: \"RESET.STEP\" });\n      })\n    },\n    \"NAVIGATE.PREVIOUS\": \".Hist\",\n    \"NAVIGATE.START\": \".Start\",\n    LOADING: {\n      actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)(({ event }) => ({\n        loading: {\n          isLoading: event.isLoading,\n          step: event.step,\n          strategy: event.strategy,\n          action: event.action\n        }\n      }))\n    },\n    RESET: \".Idle\"\n  },\n  states: {\n    Idle: {\n      invoke: {\n        id: \"webAuthnAutofill\",\n        src: \"webAuthnAutofillSupport\",\n        onDone: {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)({ webAuthnAutofillSupport: ({ event }) => event.output })\n        }\n      },\n      on: {\n        INIT: {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.a)(({ event }) => ({\n            clerk: event.clerk,\n            exampleMode: event.exampleMode || false,\n            formRef: event.formRef,\n            loading: {\n              isLoading: false\n            },\n            router: event.router,\n            signUpPath: event.signUpPath || SIGN_UP_DEFAULT_BASE_PATH\n          })),\n          target: \"Init\"\n        }\n      }\n    },\n    Init: {\n      entry: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.b)(({ context, enqueue, self }) => {\n        var _a3, _b3;\n        if (!self.getSnapshot().children[ThirdPartyMachineId]) {\n          enqueue.spawnChild(\"thirdPartyMachine\", {\n            id: ThirdPartyMachineId,\n            systemId: ThirdPartyMachineId,\n            input: {\n              basePath: (_b3 = (_a3 = context.router) == null ? void 0 : _a3.basePath) != null ? _b3 : SIGN_IN_DEFAULT_BASE_PATH,\n              flow: \"signIn\",\n              formRef: context.formRef,\n              parent: self\n            }\n          });\n        }\n      }),\n      always: [\n        {\n          guard: \"needsCallback\",\n          target: \"Callback\"\n        },\n        {\n          guard: \"needsChooseSession\",\n          target: \"ChooseSession\"\n        },\n        {\n          guard: \"isComplete\",\n          actions: \"setActive\"\n        },\n        {\n          guard: \"isLoggedInAndSingleSession\",\n          actions: [\n            (0,xstate__WEBPACK_IMPORTED_MODULE_5__.l)(\"Already logged in\"),\n            {\n              type: \"navigateExternal\",\n              params: ({ context }) => {\n                var _a3;\n                return {\n                  path: ((_a3 = context.router) == null ? void 0 : _a3.searchParams().get(\"redirect_url\")) || context.clerk.buildAfterSignInUrl()\n                };\n              }\n            }\n          ]\n        },\n        {\n          guard: \"needsStart\",\n          actions: { type: \"navigateInternal\", params: { force: true, path: \"/\" } },\n          target: \"Start\"\n        },\n        {\n          guard: \"needsFirstFactor\",\n          actions: { type: \"navigateInternal\", params: { force: true, path: \"/continue\" } },\n          target: \"FirstFactor\"\n        },\n        {\n          guard: \"needsSecondFactor\",\n          actions: { type: \"navigateInternal\", params: { force: true, path: \"/continue\" } },\n          target: \"SecondFactor\"\n        },\n        {\n          guard: \"needsNewPassword\",\n          actions: { type: \"navigateInternal\", params: { force: true, path: \"/reset-password\" } },\n          target: \"ResetPassword\"\n        },\n        {\n          actions: { type: \"navigateInternal\", params: { force: true, path: \"/\" } },\n          target: \"Start\"\n        }\n      ]\n    },\n    Start: {\n      tags: [\"step:start\"],\n      exit: \"clearFormErrors\",\n      invoke: {\n        id: \"start\",\n        src: \"startMachine\",\n        input: ({ context, self }) => {\n          var _a3;\n          return {\n            basePath: (_a3 = context.router) == null ? void 0 : _a3.basePath,\n            formRef: context.formRef,\n            parent: self\n          };\n        },\n        onDone: {\n          actions: \"raiseNext\"\n        }\n      },\n      on: {\n        \"RESET.STEP\": {\n          target: \"Start\",\n          reenter: true\n        },\n        \"AUTHENTICATE.PASSKEY\": {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"start\", ({ event }) => event)\n        },\n        \"AUTHENTICATE.PASSKEY.AUTOFILL\": {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"start\", ({ event }) => event)\n        },\n        \"AUTHENTICATE.WEB3\": {\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"start\", ({ event }) => event)\n        },\n        NEXT: [\n          {\n            guard: \"isComplete\",\n            actions: \"setActive\"\n          },\n          {\n            guard: \"statusNeedsFirstFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"FirstFactor\"\n          },\n          {\n            guard: \"statusNeedsSecondFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"SecondFactor\"\n          },\n          {\n            guard: \"statusNeedsNewPassword\",\n            actions: { type: \"navigateInternal\", params: { path: \"/reset-password\" } },\n            target: \"ResetPassword\"\n          }\n        ]\n      }\n    },\n    FirstFactor: {\n      tags: [\"step:first-factor\", \"step:verifications\"],\n      invoke: {\n        id: \"firstFactor\",\n        src: \"firstFactorMachine\",\n        input: ({ context, self }) => {\n          var _a3;\n          return {\n            formRef: context.formRef,\n            parent: self,\n            basePath: (_a3 = context.router) == null ? void 0 : _a3.basePath\n          };\n        },\n        onDone: {\n          actions: \"raiseNext\"\n        }\n      },\n      on: {\n        \"RESET.STEP\": {\n          target: \"FirstFactor\",\n          reenter: true\n        },\n        NEXT: [\n          {\n            guard: \"isComplete\",\n            actions: \"setActive\"\n          },\n          {\n            guard: \"statusNeedsSecondFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"SecondFactor\"\n          },\n          {\n            guard: \"statusNeedsNewPassword\",\n            actions: { type: \"navigateInternal\", params: { path: \"/reset-password\" } },\n            target: \"ResetPassword\"\n          }\n        ],\n        \"STRATEGY.UPDATE\": {\n          description: \"Send event to verification machine to update the current strategy.\",\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"firstFactor\", ({ event }) => event),\n          target: \".Idle\"\n        }\n      },\n      initial: \"Idle\",\n      states: {\n        Idle: {\n          on: {\n            \"NAVIGATE.FORGOT_PASSWORD\": {\n              description: \"Navigate to forgot password screen.\",\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"firstFactor\", ({ event }) => event),\n              target: \"ForgotPassword\"\n            },\n            \"NAVIGATE.CHOOSE_STRATEGY\": {\n              description: \"Navigate to choose strategy screen.\",\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"firstFactor\", ({ event }) => event),\n              target: \"ChoosingStrategy\"\n            }\n          }\n        },\n        ChoosingStrategy: {\n          tags: [\"step:choose-strategy\"],\n          on: {\n            \"NAVIGATE.PREVIOUS\": {\n              description: \"Go to Idle, and also tell firstFactor to go to Pending\",\n              target: \"Idle\",\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"firstFactor\", { type: \"NAVIGATE.PREVIOUS\" })\n            }\n          }\n        },\n        ForgotPassword: {\n          tags: [\"step:forgot-password\"],\n          on: {\n            \"NAVIGATE.PREVIOUS\": \"Idle\"\n          }\n        }\n      }\n    },\n    SecondFactor: {\n      tags: [\"step:second-factor\", \"step:verifications\"],\n      invoke: {\n        id: \"secondFactor\",\n        src: \"secondFactorMachine\",\n        input: ({ context, self }) => ({\n          formRef: context.formRef,\n          parent: self\n        }),\n        onDone: {\n          actions: \"raiseNext\"\n        }\n      },\n      on: {\n        \"RESET.STEP\": {\n          target: \"SecondFactor\",\n          reenter: true\n        },\n        NEXT: [\n          {\n            guard: \"isComplete\",\n            actions: \"setActive\"\n          },\n          {\n            guard: \"statusNeedsNewPassword\",\n            actions: { type: \"navigateInternal\", params: { path: \"/reset-password\" } },\n            target: \"ResetPassword\"\n          }\n        ],\n        \"STRATEGY.UPDATE\": {\n          description: \"Send event to verification machine to update the current strategy.\",\n          actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"secondFactor\", ({ event }) => event),\n          target: \".Idle\"\n        }\n      },\n      initial: \"Idle\",\n      states: {\n        Idle: {\n          on: {\n            \"NAVIGATE.CHOOSE_STRATEGY\": {\n              description: \"Navigate to choose strategy screen.\",\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"secondFactor\", ({ event }) => event),\n              target: \"ChoosingStrategy\"\n            }\n          }\n        },\n        ChoosingStrategy: {\n          tags: [\"step:choose-strategy\"],\n          on: {\n            \"NAVIGATE.PREVIOUS\": {\n              description: \"Go to Idle, and also tell firstFactor to go to Pending\",\n              target: \"Idle\",\n              actions: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(\"secondFactor\", { type: \"NAVIGATE.PREVIOUS\" })\n            }\n          }\n        }\n      }\n    },\n    ResetPassword: {\n      tags: [\"step:reset-password\"],\n      invoke: {\n        id: \"resetPassword\",\n        src: \"resetPasswordMachine\",\n        input: ({ context, self }) => ({\n          formRef: context.formRef,\n          parent: self\n        }),\n        onDone: {\n          actions: \"raiseNext\"\n        }\n      },\n      on: {\n        \"RESET.STEP\": {\n          target: \"ResetPassword\",\n          reenter: true\n        },\n        NEXT: [\n          {\n            guard: \"isComplete\",\n            actions: \"setActive\"\n          },\n          {\n            guard: \"statusNeedsFirstFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"FirstFactor\"\n          },\n          {\n            guard: \"statusNeedsSecondFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"SecondFactor\"\n          }\n        ]\n      }\n    },\n    Callback: {\n      tags: [\"step:callback\"],\n      entry: (0,xstate__WEBPACK_IMPORTED_MODULE_5__.c)(ThirdPartyMachineId, { type: \"CALLBACK\" }),\n      on: {\n        NEXT: [\n          {\n            guard: \"hasOAuthError\",\n            actions: [\"setFormOAuthErrors\", { type: \"navigateInternal\", params: { force: true, path: \"/\" } }],\n            target: \"Start\"\n          },\n          {\n            guard: (0,xstate__WEBPACK_IMPORTED_MODULE_18__.F)([\"isLoggedIn\", \"isComplete\", \"hasAuthenticatedViaClerkJS\"]),\n            actions: \"setActive\"\n          },\n          {\n            guard: \"statusNeedsIdentifier\",\n            actions: \"transfer\"\n          },\n          {\n            guard: \"statusNeedsFirstFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"FirstFactor\"\n          },\n          {\n            guard: \"statusNeedsSecondFactor\",\n            actions: { type: \"navigateInternal\", params: { path: \"/continue\" } },\n            target: \"SecondFactor\"\n          },\n          {\n            guard: \"statusNeedsNewPassword\",\n            actions: { type: \"navigateInternal\", params: { path: \"/reset-password\" } },\n            target: \"ResetPassword\"\n          }\n        ]\n      }\n    },\n    ChooseSession: {\n      tags: [\"step:choose-session\"],\n      on: {\n        \"SESSION.SET_ACTIVE\": {\n          actions: {\n            type: \"setActive\",\n            params: ({ event }) => ({ id: event.id })\n          }\n        }\n      }\n    },\n    Error: {\n      tags: [\"step:error\"],\n      on: {\n        NEXT: {\n          target: \"Start\",\n          actions: \"clearFormErrors\"\n        }\n      }\n    },\n    Hist: {\n      type: \"history\",\n      exit: \"clearFormErrors\"\n    }\n  }\n});\n\n// src/internals/machines/utils/formatters.ts\n\nfunction formatName(...args) {\n  switch (args.length) {\n    case 0:\n      return void 0;\n    case 1:\n      return (0,_clerk_shared_underscore__WEBPACK_IMPORTED_MODULE_3__.titleize)(args[0]);\n    default:\n      return args.filter(Boolean).map(_clerk_shared_underscore__WEBPACK_IMPORTED_MODULE_3__.titleize).join(\" \");\n  }\n}\nfunction formatSalutation({\n  firstName,\n  lastName,\n  identifier\n}) {\n  return firstName && formatName(firstName) || lastName && formatName(lastName) || identifier || \"\";\n}\n\n// src/internals/machines/sign-in/router.selectors.ts\nfunction SignInSafeIdentifierSelectorForStrategy(strategy) {\n  return (s) => {\n    var _a3, _b3, _c;\n    const signIn = (_a3 = s.context.clerk) == null ? void 0 : _a3.client.signIn;\n    if (strategy) {\n      const matchingFactors = [\n        ...(_b3 = signIn.supportedFirstFactors) != null ? _b3 : [],\n        ...(_c = signIn.supportedSecondFactors) != null ? _c : []\n      ].filter((f) => f.strategy === strategy);\n      const matchingFactorForIdentifier = signIn.identifier && matchingFactors.length > 0 ? matchingFactors.find((f) => \"safeIdentifier\" in f && f.safeIdentifier === signIn.identifier) : null;\n      const matchingFactorForStrategy = matchingFactors[0];\n      if (matchingFactorForIdentifier && \"safeIdentifier\" in matchingFactorForIdentifier) {\n        return matchingFactorForIdentifier.safeIdentifier;\n      }\n      if (matchingFactorForStrategy && \"safeIdentifier\" in matchingFactorForStrategy) {\n        return matchingFactorForStrategy.safeIdentifier;\n      }\n    }\n    return signIn.identifier || \"\";\n  };\n}\nfunction SignInSalutationSelector(s) {\n  var _a3, _b3, _c;\n  const signIn = (_a3 = s.context.clerk) == null ? void 0 : _a3.client.signIn;\n  return formatSalutation({\n    firstName: (_b3 = signIn == null ? void 0 : signIn.userData) == null ? void 0 : _b3.firstName,\n    identifier: signIn == null ? void 0 : signIn.identifier,\n    lastName: (_c = signIn == null ? void 0 : signIn.userData) == null ? void 0 : _c.lastName\n  });\n}\n\n// src/internals/machines/sign-in/router.types.ts\nvar SignInRouterSystemId = {\n  start: \"start\",\n  firstFactor: \"firstFactor\",\n  secondFactor: \"secondFactor\",\n  resetPassword: \"resetPassword\"\n};\n\n// src/react/sign-in/choose-strategy.tsx\n\nvar SignInChooseStrategyCtx = createContextForDomValidation(\"SignInChooseStrategyCtx\");\nfunction SignInChooseStrategy({ children, ...props }) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeStateFirstFactor = useActiveTags(\n    routerRef,\n    [\"step:verifications\", \"step:first-factor\", \"step:choose-strategy\"],\n    ActiveTagsMode.all\n  );\n  const activeStateSecondFactor = useActiveTags(\n    routerRef,\n    [\"step:verifications\", \"step:second-factor\", \"step:choose-strategy\"],\n    ActiveTagsMode.all\n  );\n  const activeState = activeStateFirstFactor || activeStateSecondFactor;\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInChooseStrategyCtx.Provider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", { ...props, children }) }) : null;\n}\nfunction SignInForgotPassword({ children, ...props }) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeState = useActiveTags(\n    routerRef,\n    [\"step:verifications\", \"step:first-factor\", \"step:forgot-password\"],\n    ActiveTagsMode.all\n  );\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInChooseStrategyCtx.Provider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\"div\", { ...props, children }) }) : null;\n}\nvar SUPPORTED_STRATEGY_NAME = \"SignInSupportedStrategy\";\nvar SignInSupportedStrategy = react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(\n  ({ asChild, children, name, ...rest }, forwardedRef) => {\n    const routerRef = SignInRouterCtx.useActorRef();\n    const snapshot = routerRef.getSnapshot();\n    const status = snapshot.context.clerk.client.signIn.status;\n    const supportedFirstFactors = status === \"needs_first_factor\" ? snapshot.context.clerk.client.signIn.supportedFirstFactors || [] : [];\n    const supportedSecondFactors = status === \"needs_second_factor\" ? snapshot.context.clerk.client.signIn.supportedSecondFactors || [] : [];\n    const factor = [...supportedFirstFactors, ...supportedSecondFactors].find((factor2) => name === factor2.strategy);\n    const currentFactor = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(\n      snapshot.children[SignInRouterSystemId.firstFactor] || snapshot.children[SignInRouterSystemId.secondFactor],\n      (state) => {\n        var _a3;\n        return (_a3 = state == null ? void 0 : state.context.currentFactor) == null ? void 0 : _a3.strategy;\n      }\n    );\n    const sendUpdateStrategyEvent = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(\n      () => routerRef.send({ type: \"STRATEGY.UPDATE\", factor }),\n      [routerRef, factor]\n    );\n    if (currentFactor === name) {\n      return null;\n    }\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_11__.Slot : \"button\";\n    const defaultProps = asChild ? {} : { type: \"button\" };\n    return factor ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInStrategyContext.Provider, { value: { strategy: name }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n      Comp,\n      {\n        ...defaultProps,\n        ...rest,\n        ref: forwardedRef,\n        onClick: sendUpdateStrategyEvent,\n        children: children || factor.strategy\n      }\n    ) }) : null;\n  }\n);\nSignInSupportedStrategy.displayName = SUPPORTED_STRATEGY_NAME;\n\n// src/react/sign-in/reset-password.tsx\n\nvar SignInResetPasswordCtx = createContextFromActorRef(\"SignInResetPasswordCtx\");\nfunction SignInResetPassword(props) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:reset-password\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInResetPasswordInner, { ...props }) : null;\n}\nfunction SignInResetPasswordInner(props) {\n  const ref = useSignInResetPasswordStep();\n  if (!ref) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInResetPasswordCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: ref,\n      ...props\n    }\n  ) });\n}\n\n// src/react/sign-in/start.tsx\n\nvar SignInStartCtx = createContextFromActorRef(\"SignInStartCtx\");\nfunction SignInStart(props) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:start\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInStartInner, { ...props }) : null;\n}\nfunction SignInStartInner(props) {\n  const ref = useSignInStartStep();\n  if (!ref) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInStartCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: ref,\n      ...props\n    }\n  ) });\n}\n\n// src/react/sign-in/verifications.tsx\n\n\n\n// src/internals/machines/utils/strategies.ts\nvar matchStrategy = (current, desired) => {\n  if (!current || !desired) {\n    return false;\n  }\n  if (current === desired) {\n    return true;\n  }\n  return current.startsWith(`${desired}_`);\n};\n\n// src/react/sign-in/verifications.tsx\n\nvar SignInFirstFactorCtx = createContextFromActorRef(\"SignInFirstFactorCtx\");\nvar SignInSecondFactorCtx = createContextFromActorRef(\"SignInSecondFactorCtx\");\nvar strategiesSelector = (state) => {\n  var _a3;\n  return (_a3 = state.context.currentFactor) == null ? void 0 : _a3.strategy;\n};\nfunction SignInStrategiesProvider({\n  children,\n  preferred,\n  actorRef,\n  ...props\n}) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const current = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(actorRef, strategiesSelector);\n  const isChoosingAltStrategy = useActiveTags(routerRef, [\"step:choose-strategy\", \"step:forgot-password\"]);\n  const isActive = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((name) => current ? matchStrategy(current, name) : false, [current]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(StrategiesContext.Provider, { value: { current, preferred, isActive }, children: isChoosingAltStrategy.active ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: actorRef,\n      ...props,\n      children\n    }\n  ) });\n}\nfunction useFactorCtx() {\n  const firstFactorRef = SignInFirstFactorCtx.useActorRef(true);\n  const secondFactorRef = SignInSecondFactorCtx.useActorRef(true);\n  return firstFactorRef || secondFactorRef;\n}\nfunction SignInStrategy({ children, name }) {\n  const { active } = useStrategy(name);\n  const factorCtx = useFactorCtx();\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (factorCtx) {\n      factorCtx.send({ type: \"STRATEGY.REGISTER\", factor: name });\n    }\n    return () => {\n      if ((factorCtx == null ? void 0 : factorCtx.getSnapshot().status) === \"active\") {\n        factorCtx.send({ type: \"STRATEGY.UNREGISTER\", factor: name });\n      }\n    };\n  }, [factorCtx, name]);\n  return active ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInStrategyContext.Provider, { value: { strategy: name }, children }) : null;\n}\nfunction SignInVerifications(props) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const { activeTags: activeRoutes } = useActiveTags(routerRef, [\"step:first-factor\", \"step:second-factor\"]);\n  if (activeRoutes.has(\"step:first-factor\")) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInFirstFactorInner, { ...props });\n  }\n  if (activeRoutes.has(\"step:second-factor\")) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInSecondFactorInner, { ...props });\n  }\n  return null;\n}\nfunction SignInFirstFactor(props) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:first-factor\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInFirstFactorInner, { ...props }) : null;\n}\nfunction SignInSecondFactor(props) {\n  const routerRef = SignInRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:second-factor\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInSecondFactorInner, { ...props }) : null;\n}\nfunction SignInFirstFactorInner(props) {\n  const ref = useSignInFirstFactorStep();\n  if (!ref) {\n    return null;\n  }\n  return ref ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInFirstFactorCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    SignInStrategiesProvider,\n    {\n      actorRef: ref,\n      ...props\n    }\n  ) }) : null;\n}\nfunction SignInSecondFactorInner(props) {\n  const ref = useSignInSecondFactorStep();\n  if (!ref) {\n    return null;\n  }\n  return ref ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInSecondFactorCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    SignInStrategiesProvider,\n    {\n      actorRef: ref,\n      ...props\n    }\n  ) }) : null;\n}\n\n// src/react/sign-in/step.tsx\n\nvar SIGN_IN_STEPS = {\n  start: \"start\",\n  verifications: \"verifications\",\n  \"choose-strategy\": \"choose-strategy\",\n  \"choose-session\": \"choose-session\",\n  \"forgot-password\": \"forgot-password\",\n  \"reset-password\": \"reset-password\"\n};\nfunction SignInStep(props) {\n  var _a3;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n  (_a3 = clerk.telemetry) == null ? void 0 : _a3.record((0,_clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_13__.eventComponentMounted)(\"Elements_SignInStep\", { name: props.name }));\n  switch (props.name) {\n    case SIGN_IN_STEPS.start:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInStart, { ...props });\n    case SIGN_IN_STEPS.verifications:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInVerifications, { ...props });\n    case SIGN_IN_STEPS[\"choose-strategy\"]:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInChooseStrategy, { ...props });\n    case SIGN_IN_STEPS[\"forgot-password\"]:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInForgotPassword, { ...props });\n    case SIGN_IN_STEPS[\"reset-password\"]:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInResetPassword, { ...props });\n    case SIGN_IN_STEPS[\"choose-session\"]:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignInChooseSession, { ...props });\n    default:\n      throw new ClerkElementsRuntimeError(`Invalid step name. Use: ${Object.keys(SIGN_IN_STEPS).join(\",\")}.`);\n  }\n}\n\n// src/react/sign-up/step.tsx\n\n\n\n// src/react/sign-up/continue.tsx\n\nvar SignUpContinueCtx = createContextFromActorRef(\"SignUpContinueCtx\");\nfunction SignUpContinue(props) {\n  const routerRef = SignUpRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:continue\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpContinueInner, { ...props }) : null;\n}\nfunction SignUpContinueInner(props) {\n  const ref = useSignUpContinueStep();\n  if (!ref) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpContinueCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: ref,\n      ...props\n    }\n  ) });\n}\n\n// src/react/sign-up/start.tsx\n\nvar SignUpStartCtx = createContextFromActorRef(\"SignUpStartCtx\");\nfunction SignUpStart(props) {\n  const routerRef = SignUpRouterCtx.useActorRef();\n  const activeState = useActiveTags(routerRef, \"step:start\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpStartInner, { ...props }) : null;\n}\nfunction SignUpStartInner(props) {\n  const ref = useSignUpStartStep();\n  if (!ref) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpStartCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: ref,\n      ...props\n    }\n  ) });\n}\n\n// src/react/sign-up/verifications.tsx\n\nvar SignUpVerificationCtx = createContextFromActorRef(\"SignUpVerificationCtx\");\nfunction SignUpVerifications(props) {\n  const ref = SignUpRouterCtx.useActorRef();\n  const activeState = useActiveTags(ref, \"step:verification\");\n  return activeState ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpVerifyInner, { ...props }) : null;\n}\nfunction SignUpVerifyInner(props) {\n  const ref = useSignUpVerificationStep();\n  if (!ref) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpVerificationCtx.Provider, { actorRef: ref, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n    Form,\n    {\n      flowActor: ref,\n      ...props\n    }\n  ) });\n}\nfunction SignUpStrategy({ children, name: tag }) {\n  const ref = SignUpVerificationCtx.useActorRef(true);\n  if (!ref) {\n    throw new Error(\n      '<Strategy> used outside of <SignUp>. Did you mean to `import { Strategy } from \"@clerk/elements/sign-in\"` instead?'\n    );\n  }\n  const { active } = useActiveTags(ref, [\n    `verification:${tag}`,\n    `verification:category:${tag}`\n  ]);\n  return active ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, { children }) : null;\n}\n\n// src/react/sign-up/step.tsx\n\nvar SIGN_UP_STEPS = {\n  start: \"start\",\n  continue: \"continue\",\n  verifications: \"verifications\"\n};\nfunction SignUpStep(props) {\n  var _a3;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n  (_a3 = clerk.telemetry) == null ? void 0 : _a3.record((0,_clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_13__.eventComponentMounted)(\"Elements_SignUpStep\", { name: props.name }));\n  switch (props.name) {\n    case SIGN_UP_STEPS.start:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpStart, { ...props });\n    case SIGN_UP_STEPS.continue:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpContinue, { ...props });\n    case SIGN_UP_STEPS.verifications:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(SignUpVerifications, { ...props });\n    default:\n      throw new ClerkElementsRuntimeError(`Invalid step name. Use 'start', 'continue', or 'verifications'.`);\n  }\n}\n\n// src/react/utils/map-scope-to-strategy.ts\nfunction isProviderStrategyScope(value) {\n  return value.startsWith(\"provider:\");\n}\nfunction mapScopeToStrategy(scope) {\n  if (scope === \"provider:metamask\") {\n    return \"web3_metamask_signature\";\n  }\n  if (scope === \"provider:coinbase\") {\n    return \"web3_coinbase_signature\";\n  }\n  if (scope === \"provider:saml\") {\n    return \"saml\";\n  }\n  const scopeWithoutPrefix = scope.replace(\"provider:\", \"\");\n  return `oauth_${scopeWithoutPrefix}`;\n}\n\n// src/react/common/loading.tsx\n\nfunction isSignInScope(scope) {\n  if (!scope) {\n    return true;\n  }\n  if (scope.startsWith(\"step:\")) {\n    return Object.prototype.hasOwnProperty.call(SIGN_IN_STEPS, scope.replace(\"step:\", \"\"));\n  }\n  return true;\n}\nfunction isSignUpScope(scope) {\n  if (!scope) {\n    return true;\n  }\n  if (scope.startsWith(\"step:\")) {\n    return Object.prototype.hasOwnProperty.call(SIGN_UP_STEPS, scope.replace(\"step:\", \"\"));\n  }\n  return true;\n}\nfunction Loading({ children, scope }) {\n  var _a3;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_7__.useClerk)();\n  (_a3 = clerk.telemetry) == null ? void 0 : _a3.record((0,_clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_13__.eventComponentMounted)(\"Elements_Loading\", { scope: scope != null ? scope : false }));\n  const signInRouterRef = SignInRouterCtx.useActorRef(true);\n  const signUpRouterRef = SignUpRouterCtx.useActorRef(true);\n  if (!signInRouterRef && !signUpRouterRef) {\n    throw new ClerkElementsRuntimeError(`<Loading> must be used within a <SignIn> or <SignUp> component.`);\n  }\n  if (signInRouterRef) {\n    if (isSignInScope(scope)) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n        SignInLoading,\n        {\n          scope,\n          routerRef: signInRouterRef,\n          children\n        }\n      );\n    } else {\n      throw new ClerkElementsRuntimeError(`Invalid scope \"${scope}\" used for <Loading> inside <SignIn>.`);\n    }\n  }\n  if (signUpRouterRef) {\n    if (isSignUpScope(scope)) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(\n        SignUpLoading,\n        {\n          scope,\n          routerRef: signUpRouterRef,\n          children\n        }\n      );\n    } else {\n      throw new ClerkElementsRuntimeError(`Invalid scope \"${scope}\" used for <Loading> inside <SignUp>.`);\n    }\n  }\n  throw new ClerkElementsRuntimeError(\"Invalid state for <Loading>. Please open an issue.\");\n}\nfunction SignInLoading({ children, scope, routerRef }) {\n  const [isLoading, { step: loadingStep, strategy, action }] = useLoading(routerRef);\n  const tags = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(routerRef, (s) => s.tags);\n  const isStepLoading = (step) => isLoading && loadingStep === step;\n  const isInferredStepLoading = (step) => tags.has(`step:${step}`) && isStepLoading(step);\n  let loadingResult = false;\n  if (scope === \"global\") {\n    loadingResult = isLoading;\n  } else if (scope && isProviderStrategyScope(scope)) {\n    loadingResult = isLoading && loadingStep === void 0 && strategy === mapScopeToStrategy(scope);\n  } else if (scope) {\n    loadingResult = isStepLoading(scope.replace(\"step:\", \"\")) || scope === action;\n  } else {\n    loadingResult = isInferredStepLoading(\"start\") || isInferredStepLoading(\"verifications\") || isInferredStepLoading(\"choose-strategy\") || isInferredStepLoading(\"forgot-password\") || isInferredStepLoading(\"reset-password\");\n  }\n  return children(loadingResult);\n}\nfunction SignUpLoading({ children, scope, routerRef }) {\n  const [isLoading, { step: loadingStep, strategy, action }] = useLoading(routerRef);\n  const tags = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useSelector)(routerRef, (s) => s.tags);\n  const isStepLoading = (step) => isLoading && loadingStep === step;\n  const isInferredStepLoading = (step) => tags.has(`step:${step}`) && isStepLoading(step);\n  let loadingResult = false;\n  if (scope === \"global\") {\n    loadingResult = isLoading;\n  } else if (scope && isProviderStrategyScope(scope)) {\n    loadingResult = isLoading && loadingStep === void 0 && strategy === mapScopeToStrategy(scope);\n  } else if (scope) {\n    loadingResult = isStepLoading(scope.replace(\"step:\", \"\")) || scope === action;\n  } else {\n    loadingResult = isInferredStepLoading(\"start\") || isInferredStepLoading(\"continue\") || isInferredStepLoading(\"verifications\");\n  }\n  return children(loadingResult);\n}\n\n\n//# sourceMappingURL=chunk-BXZUXUGF.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGNsZXJrK2VsZW1lbnRzQDAuMTQuNl9AY2xlcmsrY2xlcmstcmVhY3RANS4xMi4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxXzljYTZlNWU1YjkyOWE0NjUxOGZjOTcxZDdiYWE4MWY3L25vZGVfbW9kdWxlcy9AY2xlcmsvZWxlbWVudHMvZGlzdC9jaHVuay1CWFpVWFVHRi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FCOztBQUVyQjtBQUNnRztBQUNoRTs7QUFFaEM7QUFDbUQ7O0FBRW5EO0FBQ21EO0FBQ0s7QUFDRDs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixRQUFRO0FBQ1IsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiw2Q0FBSztBQUN2QjtBQUNBLHFCQUFxQix5Q0FBTTtBQUMzQjtBQUNBLEtBQUs7QUFDTCxzQkFBc0IseUNBQU07QUFDNUIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FB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QUV0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0RUFBbUI7QUFDekIsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQSxNQUFNO0FBQ04sNERBQTRELE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQUs7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sNERBQTRELE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNEJBQTRCO0FBQ3JELHNCQUFzQixxQ0FBcUM7QUFDM0QsZUFBZSwwREFBWTtBQUMzQjtBQUNBLDJEQUEyRCxLQUFLO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0QkFBNEI7QUFDckQsc0JBQXNCLHFDQUFxQztBQUMzRCxlQUFlLDBEQUFZO0FBQzNCO0FBQ0EsMkRBQTJELEtBQUs7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQXlERTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vQGNsZXJrK2VsZW1lbnRzQDAuMTQuNl9AY2xlcmsrY2xlcmstcmVhY3RANS4xMi4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxXzljYTZlNWU1YjkyOWE0NjUxOGZjOTcxZDdiYWE4MWY3L25vZGVfbW9kdWxlcy9AY2xlcmsvZWxlbWVudHMvZGlzdC9jaHVuay1CWFpVWFVHRi5tanM/ZTc1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2luZGV4LnRzXG5pbXBvcnQgXCJjbGllbnQtb25seVwiO1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vZmllbGQudHN4XG5pbXBvcnQgeyBGaWVsZCBhcyBSYWRpeEZpZWxkLCBWYWxpZGl0eVN0YXRlIGFzIFJhZGl4VmFsaWRpdHlTdGF0ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9ybVwiO1xuaW1wb3J0ICogYXMgUmVhY3Q3IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL2Zvcm0vZm9ybS5jb250ZXh0LnRzXG5pbXBvcnQgeyBjcmVhdGVBY3RvckNvbnRleHQgfSBmcm9tIFwiQHhzdGF0ZS9yZWFjdFwiO1xuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL2Zvcm0vZm9ybS5tYWNoaW5lLnRzXG5pbXBvcnQgeyBpc0tub3duRXJyb3IgfSBmcm9tIFwiQGNsZXJrL3NoYXJlZC9lcnJvclwiO1xuaW1wb3J0IHsgc25ha2VUb0NhbWVsIH0gZnJvbSBcIkBjbGVyay9zaGFyZWQvdW5kZXJzY29yZVwiO1xuaW1wb3J0IHsgYXNzaWduLCBlbnF1ZXVlQWN0aW9ucywgc2V0dXAgfSBmcm9tIFwieHN0YXRlXCI7XG5cbi8vIHNyYy9pbnRlcm5hbHMvZXJyb3JzL2luZGV4LnRzXG52YXIgQ2xlcmtFbGVtZW50c0Vycm9yQmFzZSA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLmNsZXJrRXJyb3IgPSB0cnVlO1xuICAgIHRoaXMuY2xlcmtFbGVtZW50c0Vycm9yID0gdHJ1ZTtcbiAgICB0aGlzLm5hbWUgPSBcIkNsZXJrRWxlbWVudHNFcnJvclwiO1xuICAgIHRoaXMucmF3TWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIGBbJHt0aGlzLm5hbWV9XVxuQ29kZTogJHt0aGlzLmNvZGV9XG5NZXNzYWdlOiAke3RoaXMubWVzc2FnZX1gO1xuICB9XG59O1xudmFyIENsZXJrRWxlbWVudHNFcnJvciA9IGNsYXNzIF9DbGVya0VsZW1lbnRzRXJyb3IgZXh0ZW5kcyBDbGVya0VsZW1lbnRzRXJyb3JCYXNlIHtcbiAgc3RhdGljIGZyb21BUElFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBuZXcgX0NsZXJrRWxlbWVudHNFcnJvcihlcnJvci5jb2RlLCBlcnJvci5sb25nTWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlKTtcbiAgfVxuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJDbGVya0VsZW1lbnRzRXJyb3JcIjtcbiAgfVxufTtcbnZhciBDbGVya0VsZW1lbnRzUnVudGltZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBDbGVya0VsZW1lbnRzRXJyb3JCYXNlIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKFwiZWxlbWVudHNfcnVudGltZV9lcnJvclwiLCBtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBcIkNsZXJrRWxlbWVudHNSdW50aW1lRXJyb3JcIjtcbiAgfVxufTtcbnZhciBDbGVya0VsZW1lbnRzRmllbGRFcnJvciA9IGNsYXNzIF9DbGVya0VsZW1lbnRzRmllbGRFcnJvciBleHRlbmRzIENsZXJrRWxlbWVudHNFcnJvckJhc2Uge1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSk7XG4gICAgdGhpcy5tYXRjaEZuID0gKCkgPT4gdHJ1ZTtcbiAgICB0aGlzLm5hbWUgPSBcIkNsZXJrRWxlbWVudHNGaWVsZEVycm9yXCI7XG4gIH1cbiAgc3RhdGljIGZyb21BUElFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBuZXcgX0NsZXJrRWxlbWVudHNGaWVsZEVycm9yKGVycm9yLmNvZGUsIGVycm9yLmxvbmdNZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UpO1xuICB9XG4gIGdldCB2YWxpZGl0eVN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmNvZGU7XG4gIH1cbiAgZ2V0IGZvcmNlTWF0Y2goKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvZm9ybS9mb3JtLm1hY2hpbmUudHNcbnZhciBGb3JtTWFjaGluZSA9IHNldHVwKHtcbiAgYWN0aW9uczoge1xuICAgIHNldEdsb2JhbEVycm9yczogYXNzaWduKHtcbiAgICAgIGVycm9yczogKF8sIHBhcmFtcykgPT4gWy4uLnBhcmFtcy5lcnJvcnNdXG4gICAgfSksXG4gICAgc2V0RmllbGRGZWVkYmFjazogYXNzaWduKHtcbiAgICAgIGZpZWxkczogKHsgY29udGV4dCB9LCBwYXJhbXMpID0+IHtcbiAgICAgICAgaWYgKCFwYXJhbXMubmFtZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQuZmllbGRzLmhhcyhwYXJhbXMubmFtZSkpIHtcbiAgICAgICAgICBjb250ZXh0LmZpZWxkcy5nZXQocGFyYW1zLm5hbWUpLmZlZWRiYWNrID0gcGFyYW1zLmZlZWRiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0LmZpZWxkcztcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICB0eXBlczoge31cbn0pLmNyZWF0ZU1hY2hpbmUoe1xuICBpZDogXCJGb3JtXCIsXG4gIGNvbnRleHQ6ICgpID0+ICh7XG4gICAgZGVmYXVsdFZhbHVlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBlcnJvcnM6IFtdLFxuICAgIGZpZWxkczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBwcm9ncmVzc2l2ZTogZmFsc2VcbiAgfSksXG4gIG9uOiB7XG4gICAgXCJFUlJPUlMuU0VUXCI6IHtcbiAgICAgIGFjdGlvbnM6IGVucXVldWVBY3Rpb25zKCh7IGVucXVldWUsIGV2ZW50IH0pID0+IHtcbiAgICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgICBpZiAoaXNLbm93bkVycm9yKGV2ZW50LmVycm9yKSkge1xuICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHt9O1xuICAgICAgICAgIGNvbnN0IGdsb2JhbEVycm9ycyA9IFtdO1xuICAgICAgICAgIGZvciAoY29uc3QgZXJyb3Igb2YgZXZlbnQuZXJyb3IuZXJyb3JzIHx8IFtldmVudC5lcnJvcl0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBzbmFrZVRvQ2FtZWwoKF9hMyA9IGVycm9yLm1ldGEpID09IG51bGwgPyB2b2lkIDAgOiBfYTMucGFyYW1OYW1lKTtcbiAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICBnbG9iYWxFcnJvcnMucHVzaChDbGVya0VsZW1lbnRzRXJyb3IuZnJvbUFQSUVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZmllbGRzW25hbWVdKSB7XG4gICAgICAgICAgICAgIGZpZWxkc1tuYW1lXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9iMyA9IGZpZWxkc1tuYW1lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy5wdXNoKENsZXJrRWxlbWVudHNGaWVsZEVycm9yLmZyb21BUElFcnJvcihlcnJvcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbnF1ZXVlKHtcbiAgICAgICAgICAgIHR5cGU6IFwic2V0R2xvYmFsRXJyb3JzXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBnbG9iYWxFcnJvcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIGluIGZpZWxkcykge1xuICAgICAgICAgICAgZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2V0RmllbGRGZWVkYmFja1wiLFxuICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWVsZCxcbiAgICAgICAgICAgICAgICBmZWVkYmFjazoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZmllbGRzW2ZpZWxkXVswXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgXCJFUlJPUlMuQ0xFQVJcIjoge1xuICAgICAgYWN0aW9uczogYXNzaWduKHtcbiAgICAgICAgZXJyb3JzOiAoKSA9PiBbXVxuICAgICAgfSlcbiAgICB9LFxuICAgIFwiRklFTEQuQUREXCI6IHtcbiAgICAgIGFjdGlvbnM6IGFzc2lnbih7XG4gICAgICAgIGZpZWxkczogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgICAgIGlmICghZXZlbnQuZmllbGQubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnQuZmllbGQudmFsdWUgPSBldmVudC5maWVsZC52YWx1ZSB8fCBjb250ZXh0LmRlZmF1bHRWYWx1ZXMuZ2V0KGV2ZW50LmZpZWxkLm5hbWUpIHx8IHZvaWQgMDtcbiAgICAgICAgICBjb250ZXh0LmZpZWxkcy5zZXQoZXZlbnQuZmllbGQubmFtZSwgZXZlbnQuZmllbGQpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIFwiRklFTEQuVVBEQVRFXCI6IHtcbiAgICAgIGFjdGlvbnM6IGFzc2lnbih7XG4gICAgICAgIGZpZWxkczogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgICAgIGlmICghZXZlbnQuZmllbGQubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZmllbGQgPSBjb250ZXh0LmZpZWxkcy5nZXQoZXZlbnQuZmllbGQubmFtZSk7XG4gICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICBmaWVsZC5jaGVja2VkID0gZXZlbnQuZmllbGQuY2hlY2tlZDtcbiAgICAgICAgICAgIGZpZWxkLmRpc2FibGVkID0gZXZlbnQuZmllbGQuZGlzYWJsZWQgfHwgZmFsc2U7XG4gICAgICAgICAgICBmaWVsZC52YWx1ZSA9IGV2ZW50LmZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5maWVsZHMuc2V0KGV2ZW50LmZpZWxkLm5hbWUsIGZpZWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZmllbGRzO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgXCJGSUVMRC5ESVNBQkxFXCI6IHtcbiAgICAgIGFjdGlvbnM6IGFzc2lnbih7XG4gICAgICAgIGZpZWxkczogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgICAgIGlmICghZXZlbnQuZmllbGQubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZmllbGQgPSBjb250ZXh0LmZpZWxkcy5nZXQoZXZlbnQuZmllbGQubmFtZSk7XG4gICAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICBmaWVsZC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBjb250ZXh0LmZpZWxkcy5zZXQoZXZlbnQuZmllbGQubmFtZSwgZmllbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dC5maWVsZHM7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBcIkZJRUxELkVOQUJMRVwiOiB7XG4gICAgICBhY3Rpb25zOiBhc3NpZ24oe1xuICAgICAgICBmaWVsZHM6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IHtcbiAgICAgICAgICBpZiAoIWV2ZW50LmZpZWxkLm5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZpZWxkID0gY29udGV4dC5maWVsZHMuZ2V0KGV2ZW50LmZpZWxkLm5hbWUpO1xuICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgZmllbGQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRleHQuZmllbGRzLnNldChldmVudC5maWVsZC5uYW1lLCBmaWVsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb250ZXh0LmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIFwiRklFTEQuUkVNT1ZFXCI6IHtcbiAgICAgIGFjdGlvbnM6IGFzc2lnbih7XG4gICAgICAgIGZpZWxkczogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgICAgIGlmICghZXZlbnQuZmllbGQubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgbmFtZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGV4dC5maWVsZHMuZGVsZXRlKGV2ZW50LmZpZWxkLm5hbWUpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIFwiRklFTEQuRkVFREJBQ0suU0VUXCI6IHtcbiAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwic2V0RmllbGRGZWVkYmFja1wiLFxuICAgICAgICAgIHBhcmFtczogKHsgZXZlbnQgfSkgPT4gZXZlbnQuZmllbGRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgXCJGSUVMRC5GRUVEQkFDSy5DTEVBUlwiOiB7XG4gICAgICBhY3Rpb25zOiBhc3NpZ24oe1xuICAgICAgICBmaWVsZHM6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IHtcbiAgICAgICAgICBpZiAoIWV2ZW50LmZpZWxkLm5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpZWxkIG5hbWUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb250ZXh0LmZpZWxkcy5oYXMoZXZlbnQuZmllbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmllbGRzLmdldChldmVudC5maWVsZC5uYW1lKS5mZWVkYmFjayA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZmllbGRzO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgXCJGSUVMRC5GRUVEQkFDSy5DTEVBUi5BTExcIjoge1xuICAgICAgYWN0aW9uczogYXNzaWduKHtcbiAgICAgICAgZmllbGRzOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgICAgICBjb250ZXh0LmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgZmllbGQuZmVlZGJhY2sgPSB2b2lkIDA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZmllbGRzO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgTUFSS19BU19QUk9HUkVTU0lWRToge1xuICAgICAgYWN0aW9uczogYXNzaWduKCh7IGV2ZW50IH0pID0+IHtcbiAgICAgICAgY29uc3QgbWlzc2luZyA9IG5ldyBTZXQoZXZlbnQubWlzc2luZyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGVmYXVsdFZhbHVlczogZXZlbnQuZGVmYXVsdFZhbHVlcyxcbiAgICAgICAgICBoaWRkZW46IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsuLi5ldmVudC5yZXF1aXJlZC5maWx0ZXIoKGYpID0+ICFtaXNzaW5nLmhhcyhmKSksIC4uLmV2ZW50Lm9wdGlvbmFsXSksXG4gICAgICAgICAgbWlzc2luZyxcbiAgICAgICAgICBvcHRpb25hbDogbmV3IFNldChldmVudC5vcHRpb25hbCksXG4gICAgICAgICAgcHJvZ3Jlc3NpdmU6IHRydWUsXG4gICAgICAgICAgcmVxdWlyZWQ6IG5ldyBTZXQoZXZlbnQucmVxdWlyZWQpXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgIH0sXG4gICAgVU5NQVJLX0FTX1BST0dSRVNTSVZFOiB7XG4gICAgICBhY3Rpb25zOiBhc3NpZ24oe1xuICAgICAgICBkZWZhdWx0VmFsdWVzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgICBoaWRkZW46IHZvaWQgMCxcbiAgICAgICAgbWlzc2luZzogdm9pZCAwLFxuICAgICAgICBvcHRpb25hbDogdm9pZCAwLFxuICAgICAgICBwcm9ncmVzc2l2ZTogZmFsc2UsXG4gICAgICAgIHJlcXVpcmVkOiB2b2lkIDBcbiAgICAgIH0pXG4gICAgfSxcbiAgICBQUkVGSUxMX0RFRkFVTFRfVkFMVUVTOiB7XG4gICAgICBhY3Rpb25zOiBhc3NpZ24oKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZXM6IGV2ZW50LmRlZmF1bHRWYWx1ZXNcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG59KTtcblxuLy8gc3JjL2ludGVybmFscy91dGlscy9pbnNwZWN0b3IvaW5kZXgudHNcbnZhciBpbnNwZWN0O1xuaWYgKGZhbHNlKSB7XG4gIGluc3BlY3QgPSAoX2EgPSBnZXRCcm93c2VySW5zcGVjdG9yKCkpICE9IG51bGwgPyBfYSA6IGdldENvbnNvbGVJbnNwZWN0b3IoKTtcbn1cblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy9mb3JtL2Zvcm0uY29udGV4dC50c1xudmFyIEZvcm1NYWNoaW5lQ29udGV4dCA9IGNyZWF0ZUFjdG9yQ29udGV4dChGb3JtTWFjaGluZSwgeyBpbnNwZWN0IH0pO1xudmFyIEZvcm1TdG9yZVByb3ZpZGVyID0gRm9ybU1hY2hpbmVDb250ZXh0LlByb3ZpZGVyO1xudmFyIHVzZUZvcm1TdG9yZSA9IEZvcm1NYWNoaW5lQ29udGV4dC51c2VBY3RvclJlZjtcbnZhciB1c2VGb3JtU2VsZWN0b3IgPSBGb3JtTWFjaGluZUNvbnRleHQudXNlU2VsZWN0b3I7XG52YXIgZ2xvYmFsRXJyb3JzU2VsZWN0b3IgPSAoc3RhdGUpID0+IHN0YXRlLmNvbnRleHQuZXJyb3JzO1xudmFyIGZpZWxkVmFsdWVTZWxlY3RvciA9IChuYW1lKSA9PiAoc3RhdGUpID0+IHtcbiAgdmFyIF9hMztcbiAgcmV0dXJuIG5hbWUgPyAoX2EzID0gc3RhdGUuY29udGV4dC5maWVsZHMuZ2V0KG5hbWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlIDogXCJcIjtcbn07XG52YXIgZmllbGRIYXNWYWx1ZVNlbGVjdG9yID0gKG5hbWUpID0+IChzdGF0ZSkgPT4gQm9vbGVhbihmaWVsZFZhbHVlU2VsZWN0b3IobmFtZSkoc3RhdGUpKTtcbnZhciBmaWVsZEZlZWRiYWNrU2VsZWN0b3IgPSAobmFtZSkgPT4gKHN0YXRlKSA9PiB7XG4gIHZhciBfYTM7XG4gIHJldHVybiBuYW1lID8gKF9hMyA9IHN0YXRlLmNvbnRleHQuZmllbGRzLmdldChuYW1lKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5mZWVkYmFjayA6IHZvaWQgMDtcbn07XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9ob29rcy91c2UtZmllbGQtZmVlZGJhY2sudHNcbmZ1bmN0aW9uIHVzZUZpZWxkRmVlZGJhY2soeyBuYW1lIH0pIHtcbiAgY29uc3QgZmVlZGJhY2sgPSB1c2VGb3JtU2VsZWN0b3IoZmllbGRGZWVkYmFja1NlbGVjdG9yKG5hbWUpKTtcbiAgcmV0dXJuIHtcbiAgICBmZWVkYmFja1xuICB9O1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWZpZWxkLnRzXG5mdW5jdGlvbiB1c2VGaWVsZCh7IG5hbWUgfSkge1xuICBjb25zdCBoYXNWYWx1ZSA9IHVzZUZvcm1TZWxlY3RvcihmaWVsZEhhc1ZhbHVlU2VsZWN0b3IobmFtZSkpO1xuICBjb25zdCB7IGZlZWRiYWNrIH0gPSB1c2VGaWVsZEZlZWRiYWNrKHsgbmFtZSB9KTtcbiAgY29uc3Qgc2hvdWxkQmVIaWRkZW4gPSBmYWxzZTtcbiAgY29uc3QgaGFzRXJyb3IgPSBmZWVkYmFjayA/IGZlZWRiYWNrLnR5cGUgPT09IFwiZXJyb3JcIiA6IGZhbHNlO1xuICByZXR1cm4ge1xuICAgIGhhc1ZhbHVlLFxuICAgIHByb3BzOiB7XG4gICAgICBcImRhdGEtaGlkZGVuXCI6IHNob3VsZEJlSGlkZGVuID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIHNlcnZlckludmFsaWQ6IGhhc0Vycm9yXG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWZpZWxkLWNvbnRleHQudHNcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIEZpZWxkQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgdXNlRmllbGRDb250ZXh0ID0gKCkgPT4gUmVhY3QudXNlQ29udGV4dChGaWVsZENvbnRleHQpO1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vdHlwZXMudHNcbnZhciBGSUVMRF9TVEFURVMgPSB7XG4gIHN1Y2Nlc3M6IFwic3VjY2Vzc1wiLFxuICBlcnJvcjogXCJlcnJvclwiLFxuICBpZGxlOiBcImlkbGVcIixcbiAgd2FybmluZzogXCJ3YXJuaW5nXCIsXG4gIGluZm86IFwiaW5mb1wiXG59O1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWZpZWxkLXN0YXRlLnRzXG5mdW5jdGlvbiB1c2VGaWVsZFN0YXRlKHsgbmFtZSB9KSB7XG4gIGNvbnN0IHsgZmVlZGJhY2sgfSA9IHVzZUZpZWxkRmVlZGJhY2soeyBuYW1lIH0pO1xuICBjb25zdCBoYXNWYWx1ZSA9IHVzZUZvcm1TZWxlY3RvcihmaWVsZEhhc1ZhbHVlU2VsZWN0b3IobmFtZSkpO1xuICBsZXQgc3RhdGUgPSBGSUVMRF9TVEFURVMuaWRsZTtcbiAgaWYgKCFoYXNWYWx1ZSkge1xuICAgIHN0YXRlID0gRklFTERfU1RBVEVTLmlkbGU7XG4gIH1cbiAgc3dpdGNoIChmZWVkYmFjayA9PSBudWxsID8gdm9pZCAwIDogZmVlZGJhY2sudHlwZSkge1xuICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgc3RhdGUgPSBGSUVMRF9TVEFURVMuZXJyb3I7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwid2FybmluZ1wiOlxuICAgICAgc3RhdGUgPSBGSUVMRF9TVEFURVMud2FybmluZztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICBzdGF0ZSA9IEZJRUxEX1NUQVRFUy5pbmZvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgIHN0YXRlID0gRklFTERfU1RBVEVTLnN1Y2Nlc3M7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGF0ZVxuICB9O1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWZvcm0udHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9ob29rcy91c2UtZ2xvYmFsLWVycm9ycy50c1xuZnVuY3Rpb24gdXNlR2xvYmFsRXJyb3JzKCkge1xuICBjb25zdCBlcnJvcnMgPSB1c2VGb3JtU2VsZWN0b3IoZ2xvYmFsRXJyb3JzU2VsZWN0b3IpO1xuICByZXR1cm4ge1xuICAgIGVycm9yc1xuICB9O1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWZvcm0udHNcbmZ1bmN0aW9uIHVzZUZvcm0oeyBmbG93QWN0b3IgfSkge1xuICBjb25zdCB7IGVycm9ycyB9ID0gdXNlR2xvYmFsRXJyb3JzKCk7XG4gIGNvbnN0IG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGZsb3dBY3Rvcikge1xuICAgICAgICBmbG93QWN0b3Iuc2VuZCh7IHR5cGU6IFwiU1VCTUlUXCIsIGFjdGlvbjogXCJzdWJtaXRcIiB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtmbG93QWN0b3JdXG4gICk7XG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIC4uLmVycm9ycy5sZW5ndGggPiAwID8geyBcImRhdGEtZ2xvYmFsLWVycm9yXCI6IHRydWUgfSA6IHt9LFxuICAgICAgb25TdWJtaXRcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9ob29rcy91c2UtaW5wdXQudHN4XG5pbXBvcnQgeyBDb250cm9sIGFzIFJhZGl4Q29udHJvbDIgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvcm1cIjtcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3JlYWN0L2hvb2tzL3VzZS1wYXNzd29yZC5ob29rLnRzXG5pbXBvcnQgeyB1c2VDbGVyayB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIjtcbmltcG9ydCB7IG5vb3AgfSBmcm9tIFwiQGNsZXJrL3NoYXJlZFwiO1xuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvcmVhY3QvdXRpbHMvZ2VuZXJhdGUtcGFzc3dvcmQtZXJyb3ItdGV4dC50c1xudmFyIGVycm9yTWVzc2FnZXMgPSB7XG4gIG1heF9sZW5ndGg6IFtcImxlc3MgdGhhbiAlbGVuZ3RoJSBjaGFyYWN0ZXJzXCIsIFwibGVuZ3RoXCJdLFxuICBtaW5fbGVuZ3RoOiBbXCIlbGVuZ3RoJSBvciBtb3JlIGNoYXJhY3RlcnNcIiwgXCJsZW5ndGhcIl0sXG4gIHJlcXVpcmVfbnVtYmVyczogXCJhIG51bWJlclwiLFxuICByZXF1aXJlX2xvd2VyY2FzZTogXCJhIGxvd2VyY2FzZSBsZXR0ZXJcIixcbiAgcmVxdWlyZV91cHBlcmNhc2U6IFwiYW4gdXBwZXJjYXNlIGxldHRlclwiLFxuICByZXF1aXJlX3NwZWNpYWxfY2hhcjogXCJhIHNwZWNpYWwgY2hhcmFjdGVyXCJcbn07XG52YXIgY3JlYXRlTGlzdEZvcm1hdCA9IChtZXNzYWdlKSA9PiB7XG4gIGxldCBtZXNzYWdlV2l0aFByZWZpeDtcbiAgaWYgKFwiTGlzdEZvcm1hdFwiIGluIEludGwpIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5MaXN0Rm9ybWF0KFwiZW5cIiwgeyBzdHlsZTogXCJsb25nXCIsIHR5cGU6IFwiY29uanVuY3Rpb25cIiB9KTtcbiAgICBtZXNzYWdlV2l0aFByZWZpeCA9IGZvcm1hdHRlci5mb3JtYXQobWVzc2FnZSk7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZVdpdGhQcmVmaXggPSBtZXNzYWdlLmpvaW4oXCIsIFwiKTtcbiAgfVxuICByZXR1cm4gbWVzc2FnZVdpdGhQcmVmaXg7XG59O1xuZnVuY3Rpb24gYnVpbGRFcnJvclR1cGxlKGtleSwgY29uZmlnKSB7XG4gIHN3aXRjaCAoa2V5KSB7XG4gICAgY2FzZSBcIm1heF9sZW5ndGhcIjpcbiAgICAgIHJldHVybiBba2V5LCB7IG1heF9sZW5ndGg6IGNvbmZpZy5tYXhfbGVuZ3RoIH1dO1xuICAgIGNhc2UgXCJtaW5fbGVuZ3RoXCI6XG4gICAgICByZXR1cm4gW2tleSwgeyBtaW5fbGVuZ3RoOiBjb25maWcubWluX2xlbmd0aCB9XTtcbiAgICBjYXNlIFwicmVxdWlyZV9zcGVjaWFsX2NoYXJcIjpcbiAgICAgIHJldHVybiBba2V5LCB7IGFsbG93ZWRfc3BlY2lhbF9jaGFyYWN0ZXJzOiBjb25maWcuYWxsb3dlZF9zcGVjaWFsX2NoYXJhY3RlcnMgfV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBrZXk7XG4gIH1cbn1cbnZhciBnZW5lcmF0ZVBhc3N3b3JkRXJyb3JUZXh0ID0gKHsgY29uZmlnLCBmYWlsZWRWYWxpZGF0aW9ucyB9KSA9PiB7XG4gIGNvbnN0IGNvZGVzID0gW107XG4gIGlmICghZmFpbGVkVmFsaWRhdGlvbnMgfHwgT2JqZWN0LmtleXMoZmFpbGVkVmFsaWRhdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlcyxcbiAgICAgIG1lc3NhZ2U6IFwiXCJcbiAgICB9O1xuICB9XG4gIGNvbnN0IGhhc01pbkxlbmd0aEVycm9yID0gKGZhaWxlZFZhbGlkYXRpb25zID09IG51bGwgPyB2b2lkIDAgOiBmYWlsZWRWYWxpZGF0aW9ucy5taW5fbGVuZ3RoKSB8fCBmYWxzZTtcbiAgY29uc3QgbWVzc2FnZXMgPSBPYmplY3QuZW50cmllcyhmYWlsZWRWYWxpZGF0aW9ucykuZmlsdGVyKChrKSA9PiBoYXNNaW5MZW5ndGhFcnJvciA/IGtbMF0gPT09IFwibWluX2xlbmd0aFwiIDogdHJ1ZSkuZmlsdGVyKChbLCB2XSkgPT4gISF2KS5tYXAoKFtrXSkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gaztcbiAgICBjb25zdCBlcnJvclR1cGxlID0gYnVpbGRFcnJvclR1cGxlKGVudHJ5LCBjb25maWcpO1xuICAgIGNvZGVzLnB1c2goZXJyb3JUdXBsZSk7XG4gICAgY29uc3QgZXJyb3JLZXkgPSBlcnJvck1lc3NhZ2VzW2VudHJ5XTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlcnJvcktleSkpIHtcbiAgICAgIGNvbnN0IFttc2csIHJlcGxhY2VWYWx1ZV0gPSBlcnJvcktleTtcbiAgICAgIHJldHVybiBtc2cucmVwbGFjZShgJSR7cmVwbGFjZVZhbHVlfSVgLCBjb25maWdba10pO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3JLZXk7XG4gIH0pO1xuICBjb25zdCBtZXNzYWdlV2l0aFByZWZpeCA9IGNyZWF0ZUxpc3RGb3JtYXQobWVzc2FnZXMpO1xuICByZXR1cm4ge1xuICAgIGNvZGVzLFxuICAgIG1lc3NhZ2U6IGBZb3VyIHBhc3N3b3JkIG11c3QgY29udGFpbiAke21lc3NhZ2VXaXRoUHJlZml4fS5gXG4gIH07XG59O1xuXG4vLyBzcmMvcmVhY3QvaG9va3MvdXNlLXBhc3N3b3JkLmhvb2sudHNcbnZhciB1c2VQYXNzd29yZCA9IChjYWxsYmFja3MpID0+IHtcbiAgdmFyIF9hMztcbiAgY29uc3QgY2xlcmsgPSB1c2VDbGVyaygpO1xuICBjb25zdCBwYXNzd29yZFNldHRpbmdzID0gKF9hMyA9IGNsZXJrLl9fdW5zdGFibGVfX2Vudmlyb25tZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnVzZXJTZXR0aW5ncy5wYXNzd29yZFNldHRpbmdzO1xuICBjb25zdCB7IGRpc2FibGVfaGlicCwgbWluX3p4Y3Zibl9zdHJlbmd0aCwgc2hvd196eGN2Ym4sIC4uLmNvbmZpZyB9ID0gcGFzc3dvcmRTZXR0aW5ncyB8fCB7fTtcbiAgY29uc3Qge1xuICAgIG9uVmFsaWRhdGlvbkVycm9yID0gbm9vcCxcbiAgICBvblZhbGlkYXRpb25TdWNjZXNzID0gbm9vcCxcbiAgICBvblZhbGlkYXRpb25XYXJuaW5nID0gbm9vcCxcbiAgICBvblZhbGlkYXRpb25JbmZvID0gbm9vcCxcbiAgICBvblZhbGlkYXRpb25Db21wbGV4aXR5XG4gIH0gPSBjYWxsYmFja3MgfHwge307XG4gIGNvbnN0IG9uVmFsaWRhdGUgPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgKHJlcykgPT4ge1xuICAgICAgdmFyIF9hNCwgX2IzLCBfYztcbiAgICAgIGlmIChyZXMuY29tcGxleGl0eSkge1xuICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhyZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlcy5jb21wbGV4aXR5KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlLCBjb2RlcyB9ID0gZ2VuZXJhdGVQYXNzd29yZEVycm9yVGV4dCh7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBmYWlsZWRWYWxpZGF0aW9uczogcmVzLmNvbXBsZXhpdHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoKF9hNCA9IHJlcy5jb21wbGV4aXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2E0Lm1pbl9sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBvblZhbGlkYXRpb25JbmZvKG1lc3NhZ2UsIGNvZGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG9uVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UsIGNvZGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCgoX2IzID0gcmVzID09IG51bGwgPyB2b2lkIDAgOiByZXMuc3RyZW5ndGgpID09IG51bGwgPyB2b2lkIDAgOiBfYjMuc3RhdGUpID09PSBcImZhaWxcIikge1xuICAgICAgICBjb25zdCBrZXlzID0gcmVzLnN0cmVuZ3RoLmtleXM7XG4gICAgICAgIGNvbnN0IGVycm9yID0ga2V5cy5tYXAoKGtleSkgPT4gZ2V0KHp4Y3ZibktleXMsIGtleSkpLmpvaW4oXCIgXCIpO1xuICAgICAgICByZXR1cm4gb25WYWxpZGF0aW9uRXJyb3IoZXJyb3IsIGtleXMpO1xuICAgICAgfVxuICAgICAgaWYgKCgoX2MgPSByZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlcy5zdHJlbmd0aCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0YXRlKSA9PT0gXCJwYXNzXCIpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IHJlcy5zdHJlbmd0aC5rZXlzO1xuICAgICAgICBjb25zdCBlcnJvciA9IGtleXMubWFwKChrZXkpID0+IGdldCh6eGN2Ym5LZXlzLCBrZXkpKS5qb2luKFwiIFwiKTtcbiAgICAgICAgcmV0dXJuIG9uVmFsaWRhdGlvbldhcm5pbmcoZXJyb3IsIGtleXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9uVmFsaWRhdGlvblN1Y2Nlc3MoKTtcbiAgICB9LFxuICAgIFtjYWxsYmFja3MsIGNvbmZpZ11cbiAgKTtcbiAgY29uc3QgdmFsaWRhdGVQYXNzd29yZCA9IFJlYWN0Mi51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKHBhc3N3b3JkKSA9PiB7XG4gICAgICByZXR1cm4gY2xlcmsuY2xpZW50LnNpZ25VcC52YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkLCB7XG4gICAgICAgIG9uVmFsaWRhdGlvbjogb25WYWxpZGF0ZSxcbiAgICAgICAgb25WYWxpZGF0aW9uQ29tcGxleGl0eVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW29uVmFsaWRhdGVdKTtcbiAgcmV0dXJuIHtcbiAgICB2YWxpZGF0ZVBhc3N3b3JkXG4gIH07XG59O1xudmFyIGdldCA9ICh0LCBwYXRoKSA9PiBwYXRoLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKHIsIGspID0+IHIgPT0gbnVsbCA/IHZvaWQgMCA6IHJba10sIHQpO1xudmFyIHp4Y3ZibktleXMgPSB7XG4gIHVuc3RhYmxlX19lcnJvcnM6IHtcbiAgICB6eGN2Ym46IHtcbiAgICAgIGNvdWxkQmVTdHJvbmdlcjogXCJZb3VyIHBhc3N3b3JkIHdvcmtzLCBidXQgY291bGQgYmUgc3Ryb25nZXIuIFRyeSBhZGRpbmcgbW9yZSBjaGFyYWN0ZXJzLlwiLFxuICAgICAgZ29vZFBhc3N3b3JkOiBcIllvdXIgcGFzc3dvcmQgbWVldHMgYWxsIHRoZSBuZWNlc3NhcnkgcmVxdWlyZW1lbnRzLlwiLFxuICAgICAgbm90RW5vdWdoOiBcIllvdXIgcGFzc3dvcmQgaXMgbm90IHN0cm9uZyBlbm91Z2guXCIsXG4gICAgICBzdWdnZXN0aW9uczoge1xuICAgICAgICBhbGxVcHBlcmNhc2U6IFwiQ2FwaXRhbGl6ZSBzb21lLCBidXQgbm90IGFsbCBsZXR0ZXJzLlwiLFxuICAgICAgICBhbm90aGVyV29yZDogXCJBZGQgbW9yZSB3b3JkcyB0aGF0IGFyZSBsZXNzIGNvbW1vbi5cIixcbiAgICAgICAgYXNzb2NpYXRlZFllYXJzOiBcIkF2b2lkIHllYXJzIHRoYXQgYXJlIGFzc29jaWF0ZWQgd2l0aCB5b3UuXCIsXG4gICAgICAgIGNhcGl0YWxpemF0aW9uOiBcIkNhcGl0YWxpemUgbW9yZSB0aGFuIHRoZSBmaXJzdCBsZXR0ZXIuXCIsXG4gICAgICAgIGRhdGVzOiBcIkF2b2lkIGRhdGVzIGFuZCB5ZWFycyB0aGF0IGFyZSBhc3NvY2lhdGVkIHdpdGggeW91LlwiLFxuICAgICAgICBsMzN0OiBcIkF2b2lkIHByZWRpY3RhYmxlIGxldHRlciBzdWJzdGl0dXRpb25zIGxpa2UgJ0AnIGZvciAnYScuXCIsXG4gICAgICAgIGxvbmdlcktleWJvYXJkUGF0dGVybjogXCJVc2UgbG9uZ2VyIGtleWJvYXJkIHBhdHRlcm5zIGFuZCBjaGFuZ2UgdHlwaW5nIGRpcmVjdGlvbiBtdWx0aXBsZSB0aW1lcy5cIixcbiAgICAgICAgbm9OZWVkOiBcIllvdSBjYW4gY3JlYXRlIHN0cm9uZyBwYXNzd29yZHMgd2l0aG91dCB1c2luZyBzeW1ib2xzLCBudW1iZXJzLCBvciB1cHBlcmNhc2UgbGV0dGVycy5cIixcbiAgICAgICAgcHduZWQ6IFwiSWYgeW91IHVzZSB0aGlzIHBhc3N3b3JkIGVsc2V3aGVyZSwgeW91IHNob3VsZCBjaGFuZ2UgaXQuXCIsXG4gICAgICAgIHJlY2VudFllYXJzOiBcIkF2b2lkIHJlY2VudCB5ZWFycy5cIixcbiAgICAgICAgcmVwZWF0ZWQ6IFwiQXZvaWQgcmVwZWF0ZWQgd29yZHMgYW5kIGNoYXJhY3RlcnMuXCIsXG4gICAgICAgIHJldmVyc2VXb3JkczogXCJBdm9pZCByZXZlcnNlZCBzcGVsbGluZ3Mgb2YgY29tbW9uIHdvcmRzLlwiLFxuICAgICAgICBzZXF1ZW5jZXM6IFwiQXZvaWQgY29tbW9uIGNoYXJhY3RlciBzZXF1ZW5jZXMuXCIsXG4gICAgICAgIHVzZVdvcmRzOiBcIlVzZSBtdWx0aXBsZSB3b3JkcywgYnV0IGF2b2lkIGNvbW1vbiBwaHJhc2VzLlwiXG4gICAgICB9LFxuICAgICAgd2FybmluZ3M6IHtcbiAgICAgICAgY29tbW9uOiBcIlRoaXMgaXMgYSBjb21tb25seSB1c2VkIHBhc3N3b3JkLlwiLFxuICAgICAgICBjb21tb25OYW1lczogXCJDb21tb24gbmFtZXMgYW5kIHN1cm5hbWVzIGFyZSBlYXN5IHRvIGd1ZXNzLlwiLFxuICAgICAgICBkYXRlczogXCJEYXRlcyBhcmUgZWFzeSB0byBndWVzcy5cIixcbiAgICAgICAgZXh0ZW5kZWRSZXBlYXQ6ICdSZXBlYXRlZCBjaGFyYWN0ZXIgcGF0dGVybnMgbGlrZSBcImFiY2FiY2FiY1wiIGFyZSBlYXN5IHRvIGd1ZXNzLicsXG4gICAgICAgIGtleVBhdHRlcm46IFwiU2hvcnQga2V5Ym9hcmQgcGF0dGVybnMgYXJlIGVhc3kgdG8gZ3Vlc3MuXCIsXG4gICAgICAgIG5hbWVzQnlUaGVtc2VsdmVzOiBcIlNpbmdsZSBuYW1lcyBvciBzdXJuYW1lcyBhcmUgZWFzeSB0byBndWVzcy5cIixcbiAgICAgICAgcHduZWQ6IFwiWW91ciBwYXNzd29yZCB3YXMgZXhwb3NlZCBieSBhIGRhdGEgYnJlYWNoIG9uIHRoZSBJbnRlcm5ldC5cIixcbiAgICAgICAgcmVjZW50WWVhcnM6IFwiUmVjZW50IHllYXJzIGFyZSBlYXN5IHRvIGd1ZXNzLlwiLFxuICAgICAgICBzZXF1ZW5jZXM6ICdDb21tb24gY2hhcmFjdGVyIHNlcXVlbmNlcyBsaWtlIFwiYWJjXCIgYXJlIGVhc3kgdG8gZ3Vlc3MuJyxcbiAgICAgICAgc2ltaWxhclRvQ29tbW9uOiBcIlRoaXMgaXMgc2ltaWxhciB0byBhIGNvbW1vbmx5IHVzZWQgcGFzc3dvcmQuXCIsXG4gICAgICAgIHNpbXBsZVJlcGVhdDogJ1JlcGVhdGVkIGNoYXJhY3RlcnMgbGlrZSBcImFhYVwiIGFyZSBlYXN5IHRvIGd1ZXNzLicsXG4gICAgICAgIHN0cmFpZ2h0Um93OiBcIlN0cmFpZ2h0IHJvd3Mgb2Yga2V5cyBvbiB5b3VyIGtleWJvYXJkIGFyZSBlYXN5IHRvIGd1ZXNzLlwiLFxuICAgICAgICB0b3BIdW5kcmVkOiBcIlRoaXMgaXMgYSBmcmVxdWVudGx5IHVzZWQgcGFzc3dvcmQuXCIsXG4gICAgICAgIHRvcFRlbjogXCJUaGlzIGlzIGEgaGVhdmlseSB1c2VkIHBhc3N3b3JkLlwiLFxuICAgICAgICB1c2VySW5wdXRzOiBcIlRoZXJlIHNob3VsZCBub3QgYmUgYW55IHBlcnNvbmFsIG9yIHBhZ2UgcmVsYXRlZCBkYXRhLlwiLFxuICAgICAgICB3b3JkQnlJdHNlbGY6IFwiU2luZ2xlIHdvcmRzIGFyZSBlYXN5IHRvIGd1ZXNzLlwiXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vb3RwLnRzeFxuaW1wb3J0IHsgQ29udHJvbCBhcyBSYWRpeENvbnRyb2wgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvcm1cIjtcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFpFUk8gPSBbMCwgMF07XG52YXIgT1VUU0lERSA9IFstMSwgLTFdO1xudmFyIE9UUF9MRU5HVEhfREVGQVVMVCA9IDY7XG52YXIgUEFTU1dPUkRfTUFOQUdFUl9PRkZTRVRfREVGQVVMVCA9IDQwO1xudmFyIE9UUElucHV0ID0gUmVhY3QzLmZvcndhcmRSZWYoZnVuY3Rpb24gT1RQSW5wdXQyKHByb3BzLCByZWYpIHtcbiAgY29uc3QgeyByZW5kZXIsIGxlbmd0aCwgYXV0b1N1Ym1pdCwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gIGNvbnN0IGhhc1JlbmRlclByb3AgPSB0eXBlb2YgcmVuZGVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAoaGFzUmVuZGVyUHJvcCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgT1RQSW5wdXRTZWdtZW50ZWQsXG4gICAgICB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHJlZixcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICBsZW5ndGgsXG4gICAgICAgIGF1dG9TdWJtaXRcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIE9UUElucHV0U3RhbmRhcmQsXG4gICAge1xuICAgICAgLi4ucmVzdCxcbiAgICAgIHJlZixcbiAgICAgIGxlbmd0aCxcbiAgICAgIGF1dG9TdWJtaXRcbiAgICB9XG4gICk7XG59KTtcbnZhciBPVFBJbnB1dFN0YW5kYXJkID0gUmVhY3QzLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uIE9UUElucHV0Myhwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyBsZW5ndGggPSBPVFBfTEVOR1RIX0RFRkFVTFQsIGF1dG9TdWJtaXQgPSBmYWxzZSwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5uZXJSZWYgPSBSZWFjdDMudXNlUmVmKG51bGwpO1xuICAgIFJlYWN0My51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gaW5uZXJSZWYuY3VycmVudCwgW10pO1xuICAgIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgaWYgKFN0cmluZyhwcm9wcy52YWx1ZSkubGVuZ3RoID09PSBsZW5ndGggJiYgYXV0b1N1Ym1pdCkge1xuICAgICAgICAoX2IzID0gKF9hMyA9IGlubmVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuZm9ybSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy5yZXF1ZXN0U3VibWl0KCk7XG4gICAgICB9XG4gICAgfSwgW3Byb3BzLnZhbHVlLCBsZW5ndGgsIGF1dG9TdWJtaXRdKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFJhZGl4Q29udHJvbCxcbiAgICAgIHtcbiAgICAgICAgcmVmOiBpbm5lclJlZixcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgXCJkYXRhLW90cC1pbnB1dC1zdGFuZGFyZFwiOiB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbnZhciBPVFBJbnB1dFNlZ21lbnRlZCA9IFJlYWN0My5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbiBPVFBJbnB1dDQocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHtcbiAgICAgIGNsYXNzTmFtZTogdXNlclByb3ZpZGVkQ2xhc3NOYW1lLFxuICAgICAgcmVuZGVyLFxuICAgICAgbGVuZ3RoID0gT1RQX0xFTkdUSF9ERUZBVUxULFxuICAgICAgYXV0b1N1Ym1pdCA9IGZhbHNlLFxuICAgICAgcGFzc3dvcmRNYW5hZ2VyT2Zmc2V0ID0gUEFTU1dPUkRfTUFOQUdFUl9PRkZTRVRfREVGQVVMVCxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5uZXJSZWYgPSBSZWFjdDMudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFtzZWxlY3Rpb25SYW5nZSwgc2V0U2VsZWN0aW9uUmFuZ2VdID0gUmVhY3QzLnVzZVN0YXRlKHByb3BzLmF1dG9Gb2N1cyA/IFpFUk8gOiBPVVRTSURFKTtcbiAgICBjb25zdCBbaXNIb3ZlcmluZywgc2V0SXNIb3ZlcmluZ10gPSBSZWFjdDMudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGlzRm9jdXNlZCA9ICgpID0+IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlubmVyUmVmLmN1cnJlbnQ7XG4gICAgUmVhY3QzLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBpbm5lclJlZi5jdXJyZW50LCBbXSk7XG4gICAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5uZXJSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRTZWxlY3Rpb25SYW5nZSgoY3VyKSA9PiBzZWxlY3Rpb25SYW5nZVVwZGF0ZXIoY3VyLCBpbm5lclJlZikpO1xuICAgIH0sIFtwcm9wcy52YWx1ZV0pO1xuICAgIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZnVuY3Rpb24gb25TZWxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIGlmICghaXNGb2N1c2VkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2VsZWN0aW9uUmFuZ2UoKGN1cikgPT4gc2VsZWN0aW9uUmFuZ2VVcGRhdGVyKGN1ciwgaW5uZXJSZWYpKTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgb25TZWxlY3Rpb25DaGFuZ2UsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIG9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICB2YXIgX2EzLCBfYjM7XG4gICAgICBpZiAoU3RyaW5nKHByb3BzLnZhbHVlKS5sZW5ndGggPT09IGxlbmd0aCAmJiBhdXRvU3VibWl0KSB7XG4gICAgICAgIChfYjMgPSAoX2EzID0gaW5uZXJSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5mb3JtKSA9PSBudWxsID8gdm9pZCAwIDogX2IzLnJlcXVlc3RTdWJtaXQoKTtcbiAgICAgIH1cbiAgICB9LCBbcHJvcHMudmFsdWUsIGxlbmd0aCwgYXV0b1N1Ym1pdF0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1vdHAtaW5wdXQtd3JhcHBlclwiOiB0cnVlLFxuICAgICAgICBzdHlsZTogd3JhcHBlclN0eWxlLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzdHlsZVwiLCB7IGNoaWxkcmVuOiBgXG4gICAgICBpbnB1dFtkYXRhLW90cC1pbnB1dC1zZWdtZW50ZWRdOjpzZWxlY3Rpb24ge1xuICAgICAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgICAgYCB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgUmFkaXhDb250cm9sLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcImRhdGEtb3RwLWlucHV0LXNlZ21lbnRlZFwiOiB0cnVlLFxuICAgICAgICAgICAgICByZWY6IGlubmVyUmVmLFxuICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICBvbkZvY3VzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EzO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IE1hdGgubWluKGlubmVyUmVmLmN1cnJlbnQudmFsdWUubGVuZ3RoLCBsZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGlubmVyUmVmLmN1cnJlbnQudmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgaW5uZXJSZWYuY3VycmVudC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGlvblJhbmdlKFtzdGFydCwgZW5kXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYTMgPSByZXN0ID09IG51bGwgPyB2b2lkIDAgOiByZXN0Lm9uRm9jdXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuY2FsbChyZXN0LCBldmVudCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9uQmx1cjogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hMztcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3Rpb25SYW5nZShbLTEsIC0xXSk7XG4gICAgICAgICAgICAgICAgKF9hMyA9IHJlc3QgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3Qub25CbHVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmNhbGwocmVzdCwgZXZlbnQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvbk1vdXNlT3ZlcjogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hMztcbiAgICAgICAgICAgICAgICBpZiAoIWlzRm9jdXNlZCgpKSB7XG4gICAgICAgICAgICAgICAgICBzZXRJc0hvdmVyaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2EzID0gcHJvcHMub25Nb3VzZU92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuY2FsbChwcm9wcywgZXZlbnQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTM7XG4gICAgICAgICAgICAgICAgc2V0SXNIb3ZlcmluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgKF9hMyA9IHByb3BzLm9uTW91c2VMZWF2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5jYWxsKHByb3BzLCBldmVudCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgLi4uaW5wdXRTdHlsZSxcbiAgICAgICAgICAgICAgICBjbGlwUGF0aDogYGluc2V0KDAgY2FsYygxY2ggKyAke3Bhc3N3b3JkTWFuYWdlck9mZnNldH1weCkgMCAwKWAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGBjYWxjKDEwMCUgKyAxY2ggKyAke3Bhc3N3b3JkTWFuYWdlck9mZnNldH1weClgXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHVzZXJQcm92aWRlZENsYXNzTmFtZSxcbiAgICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICAgICAgICBzdHlsZTogc2VnbWVudFdyYXBwZXJTdHlsZSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IEFycmF5LmZyb20oeyBsZW5ndGggfSkubWFwKChfLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSG92ZXJlZCA9IGlzSG92ZXJpbmcgJiYgIWlzRm9jdXNlZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3Vyc29yID0gc2VsZWN0aW9uUmFuZ2VbMF0gPT09IHNlbGVjdGlvblJhbmdlWzFdICYmIHNlbGVjdGlvblJhbmdlWzBdID09PSBpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSAoKF9hMyA9IHNlbGVjdGlvblJhbmdlWzBdKSAhPSBudWxsID8gX2EzIDogLTEpIDw9IGkgJiYgKChfYjMgPSBzZWxlY3Rpb25SYW5nZVsxXSkgIT0gbnVsbCA/IF9iMyA6IC0xKSA+IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUmVhY3QzLkZyYWdtZW50LCB7IGNoaWxkcmVuOiByZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IFN0cmluZyhwcm9wcy52YWx1ZSlbaV0gfHwgXCJcIixcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogaXNIb3ZlcmVkID8gXCJob3ZlcmVkXCIgOiBpc0N1cnNvciA/IFwiY3Vyc29yXCIgOiBpc1NlbGVjdGVkID8gXCJzZWxlY3RlZFwiIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBpbmRleDogaVxuICAgICAgICAgICAgICAgIH0pIH0sIGBvdHAtc2VnbWVudC0ke2l9YCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIHNlbGVjdGlvblJhbmdlVXBkYXRlcihjdXIsIGlucHV0UmVmKSB7XG4gIHZhciBfYTMsIF9iMywgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2k7XG4gIGxldCB1cGRhdGVkID0gW1xuICAgIChfYjMgPSAoX2EzID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5zZWxlY3Rpb25TdGFydCkgIT0gbnVsbCA/IF9iMyA6IDAsXG4gICAgKF9kID0gKF9jID0gaW5wdXRSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnNlbGVjdGlvbkVuZCkgIT0gbnVsbCA/IF9kIDogMCxcbiAgICAoX2YgPSAoX2UgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Uuc2VsZWN0aW9uRGlyZWN0aW9uKSAhPSBudWxsID8gX2YgOiBudWxsXG4gIF07XG4gIGlmIChjdXJbMF0gPT09IHVwZGF0ZWRbMF0gJiYgY3VyWzFdID09PSB1cGRhdGVkWzFdKSB7XG4gICAgcmV0dXJuIGN1cjtcbiAgfVxuICBpZiAodXBkYXRlZFswXSA9PT0gMCAmJiB1cGRhdGVkWzFdID09PSAxKSB7XG4gICAgdXBkYXRlZFsyXSA9IFwiZm9yd2FyZFwiO1xuICB9XG4gIGlmICh1cGRhdGVkWzBdID09PSB1cGRhdGVkWzFdKSB7XG4gICAgaWYgKHVwZGF0ZWRbMF0gPiAwICYmIGN1clswXSA9PT0gdXBkYXRlZFswXSAmJiBjdXJbMV0gPT09IHVwZGF0ZWRbMF0gKyAxKSB7XG4gICAgICB1cGRhdGVkID0gW3VwZGF0ZWRbMF0gLSAxLCB1cGRhdGVkWzFdLCBcImJhY2t3YXJkXCJdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mICgoX2cgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2cudmFsdWVbdXBkYXRlZFswXV0pICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB1cGRhdGVkID0gW3VwZGF0ZWRbMF0sIHVwZGF0ZWRbMV0gKyAxLCBcImJhY2t3YXJkXCJdO1xuICAgIH0gZWxzZSBpZiAodXBkYXRlZFswXSA+PSBPVFBfTEVOR1RIX0RFRkFVTFQpIHtcbiAgICAgIHVwZGF0ZWQgPSBbdXBkYXRlZFswXSAtIDEsIHVwZGF0ZWRbMV0sIFwiYmFja3dhcmRcIl07XG4gICAgfVxuICB9XG4gIChfaSA9IGlucHV0UmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfaS5zZXRTZWxlY3Rpb25SYW5nZSh1cGRhdGVkWzBdLCB1cGRhdGVkWzFdLCAoX2ggPSB1cGRhdGVkWzJdKSAhPSBudWxsID8gX2ggOiB2b2lkIDApO1xuICByZXR1cm4gW3VwZGF0ZWRbMF0sIHVwZGF0ZWRbMV1dO1xufVxudmFyIHdyYXBwZXJTdHlsZSA9IHtcbiAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgdXNlclNlbGVjdDogXCJub25lXCJcbn07XG52YXIgaW5wdXRTdHlsZSA9IHtcbiAgZGlzcGxheTogXCJibG9ja1wiLFxuICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gIG9wYWNpdHk6IDAsXG4gIG91dGxpbmU6IFwidHJhbnNwYXJlbnQgc29saWQgMHB4XCIsXG4gIGFwcGVhcmFuY2U6IFwibm9uZVwiLFxuICBjb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICBpbnNldDogMCxcbiAgY2FyZXRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICBib3JkZXI6IFwiMHB4IHNvbGlkIHRyYW5zcGFyZW50XCIsXG4gIC8vIHdpZHRoIGlzIGhhbmRsZWQgaW5saW5lXG4gIGhlaWdodDogXCIxMDAlXCIsXG4gIGxldHRlclNwYWNpbmc6IFwiLTFyZW1cIlxufTtcbnZhciBzZWdtZW50V3JhcHBlclN0eWxlID0ge1xuICB6SW5kZXg6IDEsXG4gIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG59O1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vdXRpbHMvZW5yaWNoLWZpZWxkLXN0YXRlLnRzXG5mdW5jdGlvbiBlbnJpY2hGaWVsZFN0YXRlKHZhbGlkaXR5LCBmaWVsZFN0YXRlKSB7XG4gIHJldHVybiAodmFsaWRpdHkgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbGlkaXR5LnZhbGlkKSA9PT0gZmFsc2UgPyBGSUVMRF9TVEFURVMuZXJyb3IgOiBmaWVsZFN0YXRlO1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vdXRpbHMvZGV0ZXJtaW5lLWlucHV0LXR5cGUtZnJvbS1uYW1lLnRzXG5mdW5jdGlvbiBkZXRlcm1pbmVJbnB1dFR5cGVGcm9tTmFtZShuYW1lKSB7XG4gIGlmIChuYW1lID09PSBcInBhc3N3b3JkXCIgfHwgbmFtZSA9PT0gXCJjb25maXJtUGFzc3dvcmRcIiB8fCBuYW1lID09PSBcImN1cnJlbnRQYXNzd29yZFwiIHx8IG5hbWUgPT09IFwibmV3UGFzc3dvcmRcIikge1xuICAgIHJldHVybiBcInBhc3N3b3JkXCI7XG4gIH1cbiAgaWYgKG5hbWUgPT09IFwiZW1haWxBZGRyZXNzXCIpIHtcbiAgICByZXR1cm4gXCJlbWFpbFwiO1xuICB9XG4gIGlmIChuYW1lID09PSBcInBob25lTnVtYmVyXCIpIHtcbiAgICByZXR1cm4gXCJ0ZWxcIjtcbiAgfVxuICBpZiAobmFtZSA9PT0gXCJjb2RlXCIpIHtcbiAgICByZXR1cm4gXCJvdHBcIjtcbiAgfVxuICBpZiAobmFtZSA9PT0gXCJiYWNrdXBfY29kZVwiKSB7XG4gICAgcmV0dXJuIFwiYmFja3VwX2NvZGVcIjtcbiAgfVxuICByZXR1cm4gXCJ0ZXh0XCI7XG59XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9ob29rcy91c2UtcHJldmlvdXMudHNcbmltcG9ydCAqIGFzIFJlYWN0NCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVByZXZpb3VzKHZhbHVlKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0NC51c2VSZWYoKTtcbiAgUmVhY3Q0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW3ZhbHVlXSk7XG4gIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2hvb2tzL3VzZS12YWxpZGl0eS1zdGF0ZS1jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG52YXIgVmFsaWRpdHlTdGF0ZUNvbnRleHQgPSBSZWFjdDUuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xudmFyIHVzZVZhbGlkaXR5U3RhdGVDb250ZXh0ID0gKCkgPT4gUmVhY3Q1LnVzZUNvbnRleHQoVmFsaWRpdHlTdGF0ZUNvbnRleHQpO1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Zvcm0vaG9va3MvdXNlLWlucHV0LnRzeFxuZnVuY3Rpb24gdXNlSW5wdXQoe1xuICBuYW1lOiBpbnB1dE5hbWUsXG4gIHZhbHVlOiBwcm92aWRlZFZhbHVlLFxuICBjaGVja2VkOiBwcm92aWRlZENoZWNrZWQsXG4gIG9uQ2hhbmdlOiBvbkNoYW5nZVByb3AsXG4gIG9uQmx1cjogb25CbHVyUHJvcCxcbiAgb25Gb2N1czogb25Gb2N1c1Byb3AsXG4gIHR5cGU6IGlucHV0VHlwZSxcbiAgLi4ucGFzc3Rocm91Z2hQcm9wc1xufSkge1xuICBjb25zdCBmaWVsZENvbnRleHQgPSB1c2VGaWVsZENvbnRleHQoKTtcbiAgY29uc3QgcmF3TmFtZSA9IGlucHV0TmFtZSB8fCAoZmllbGRDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBmaWVsZENvbnRleHQubmFtZSk7XG4gIGNvbnN0IG5hbWUgPSByYXdOYW1lID09PSBcImJhY2t1cF9jb2RlXCIgPyBcImNvZGVcIiA6IHJhd05hbWU7XG4gIGNvbnN0IHsgc3RhdGU6IGZpZWxkU3RhdGUgfSA9IHVzZUZpZWxkU3RhdGUoeyBuYW1lIH0pO1xuICBjb25zdCB2YWxpZGl0eSA9IHVzZVZhbGlkaXR5U3RhdGVDb250ZXh0KCk7XG4gIGlmICghcmF3TmFtZSB8fCAhbmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNsZXJrOiA8SW5wdXQgLz4gbXVzdCBiZSB3cmFwcGVkIGluIGEgPEZpZWxkPiBjb21wb25lbnQgb3IgaGF2ZSBhIG5hbWUgcHJvcC5cIik7XG4gIH1cbiAgY29uc3QgcmVmID0gdXNlRm9ybVN0b3JlKCk7XG4gIGNvbnN0IFtoYXNQYXNzZWRWYWxpYXRpb24sIHNldEhhc1Bhc3NlZFZhbGlkYXRpb25dID0gUmVhY3Q2LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgeyB2YWxpZGF0ZVBhc3N3b3JkIH0gPSB1c2VQYXNzd29yZCh7XG4gICAgb25WYWxpZGF0aW9uQ29tcGxleGl0eTogKGhhc1Bhc3NlZCkgPT4gc2V0SGFzUGFzc2VkVmFsaWRhdGlvbihoYXNQYXNzZWQpLFxuICAgIG9uVmFsaWRhdGlvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIHJlZi5zZW5kKHtcbiAgICAgICAgdHlwZTogXCJGSUVMRC5GRUVEQkFDSy5TRVRcIixcbiAgICAgICAgZmllbGQ6IHsgbmFtZSwgZmVlZGJhY2s6IHsgdHlwZTogXCJzdWNjZXNzXCIsIG1lc3NhZ2U6IFwiWW91ciBwYXNzd29yZCBtZWV0cyBhbGwgdGhlIG5lY2Vzc2FyeSByZXF1aXJlbWVudHMuXCIgfSB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uVmFsaWRhdGlvbkVycm9yOiAoZXJyb3IsIGNvZGVzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmVmLnNlbmQoe1xuICAgICAgICAgIHR5cGU6IFwiRklFTEQuRkVFREJBQ0suU0VUXCIsXG4gICAgICAgICAgZmllbGQ6IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBmZWVkYmFjazoge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG5ldyBDbGVya0VsZW1lbnRzRmllbGRFcnJvcihcInBhc3N3b3JkLXZhbGlkYXRpb24tZXJyb3JcIiwgZXJyb3IpLFxuICAgICAgICAgICAgICBjb2Rlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblZhbGlkYXRpb25XYXJuaW5nOiAod2FybmluZywgY29kZXMpID0+IHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6IFwiRklFTEQuRkVFREJBQ0suU0VUXCIsXG4gICAgICBmaWVsZDogeyBuYW1lLCBmZWVkYmFjazogeyB0eXBlOiBcIndhcm5pbmdcIiwgbWVzc2FnZTogd2FybmluZywgY29kZXMgfSB9XG4gICAgfSksXG4gICAgb25WYWxpZGF0aW9uSW5mbzogKGluZm8sIGNvZGVzKSA9PiB7XG4gICAgICByZWYuc2VuZCh7XG4gICAgICAgIHR5cGU6IFwiRklFTEQuRkVFREJBQ0suU0VUXCIsXG4gICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBmZWVkYmFjazoge1xuICAgICAgICAgICAgdHlwZTogXCJpbmZvXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBpbmZvLFxuICAgICAgICAgICAgY29kZXNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHZhbHVlID0gdXNlRm9ybVNlbGVjdG9yKGZpZWxkVmFsdWVTZWxlY3RvcihuYW1lKSk7XG4gIGNvbnN0IHByZXZWYWx1ZSA9IHVzZVByZXZpb3VzKHZhbHVlKTtcbiAgY29uc3QgaGFzVmFsdWUgPSBCb29sZWFuKHZhbHVlKTtcbiAgY29uc3QgdHlwZSA9IGlucHV0VHlwZSAhPSBudWxsID8gaW5wdXRUeXBlIDogZGV0ZXJtaW5lSW5wdXRUeXBlRnJvbU5hbWUocmF3TmFtZSk7XG4gIGxldCBuYXRpdmVGaWVsZFR5cGUgPSB0eXBlO1xuICBsZXQgc2hvdWxkVmFsaWRhdGVQYXNzd29yZCA9IGZhbHNlO1xuICBpZiAodHlwZSA9PT0gXCJwYXNzd29yZFwiIHx8IHR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgc2hvdWxkVmFsaWRhdGVQYXNzd29yZCA9IEJvb2xlYW4ocGFzc3Rocm91Z2hQcm9wcy52YWxpZGF0ZVBhc3N3b3JkKTtcbiAgfVxuICBpZiAobmF0aXZlRmllbGRUeXBlID09PSBcIm90cFwiIHx8IG5hdGl2ZUZpZWxkVHlwZSA9PT0gXCJiYWNrdXBfY29kZVwiKSB7XG4gICAgbmF0aXZlRmllbGRUeXBlID0gXCJ0ZXh0XCI7XG4gIH1cbiAgUmVhY3Q2LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlZi5zZW5kKHtcbiAgICAgIHR5cGU6IFwiRklFTEQuQUREXCIsXG4gICAgICBmaWVsZDogeyBuYW1lLCB0eXBlOiBuYXRpdmVGaWVsZFR5cGUsIHZhbHVlOiBwcm92aWRlZFZhbHVlLCBjaGVja2VkOiBwcm92aWRlZENoZWNrZWQgfVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiByZWYuc2VuZCh7IHR5cGU6IFwiRklFTEQuUkVNT1ZFXCIsIGZpZWxkOiB7IG5hbWUgfSB9KTtcbiAgfSwgW3JlZl0pO1xuICBSZWFjdDYudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiBwcm92aWRlZENoZWNrZWQgIT09IHZvaWQgMCB8fCB0eXBlICE9PSBcImNoZWNrYm94XCIgJiYgcHJvdmlkZWRWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICByZWYuc2VuZCh7XG4gICAgICAgIHR5cGU6IFwiRklFTEQuVVBEQVRFXCIsXG4gICAgICAgIGZpZWxkOiB7IG5hbWUsIHZhbHVlOiBwcm92aWRlZFZhbHVlLCBjaGVja2VkOiBwcm92aWRlZENoZWNrZWQgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbbmFtZSwgdHlwZSwgcmVmLCBwcm92aWRlZFZhbHVlLCBwcm92aWRlZENoZWNrZWRdKTtcbiAgY29uc3Qgb25DaGFuZ2UgPSBSZWFjdDYudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkNoYW5nZVByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2hhbmdlUHJvcChldmVudCk7XG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVmLnNlbmQoeyB0eXBlOiBcIkZJRUxELlVQREFURVwiLCBmaWVsZDogeyBuYW1lLCB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlLCBjaGVja2VkOiBldmVudC50YXJnZXQuY2hlY2tlZCB9IH0pO1xuICAgICAgaWYgKHNob3VsZFZhbGlkYXRlUGFzc3dvcmQpIHtcbiAgICAgICAgdmFsaWRhdGVQYXNzd29yZChldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JlZiwgbmFtZSwgb25DaGFuZ2VQcm9wLCBzaG91bGRWYWxpZGF0ZVBhc3N3b3JkLCB2YWxpZGF0ZVBhc3N3b3JkXVxuICApO1xuICBjb25zdCBvbkJsdXIgPSBSZWFjdDYudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkJsdXJQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvbkJsdXJQcm9wKGV2ZW50KTtcbiAgICAgIGlmIChzaG91bGRWYWxpZGF0ZVBhc3N3b3JkICYmIGV2ZW50LnRhcmdldC52YWx1ZSAhPT0gcHJldlZhbHVlKSB7XG4gICAgICAgIHZhbGlkYXRlUGFzc3dvcmQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvbkJsdXJQcm9wLCBzaG91bGRWYWxpZGF0ZVBhc3N3b3JkLCB2YWxpZGF0ZVBhc3N3b3JkLCBwcmV2VmFsdWVdXG4gICk7XG4gIGNvbnN0IG9uRm9jdXMgPSBSZWFjdDYudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkZvY3VzUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25Gb2N1c1Byb3AoZXZlbnQpO1xuICAgICAgaWYgKHNob3VsZFZhbGlkYXRlUGFzc3dvcmQgJiYgZXZlbnQudGFyZ2V0LnZhbHVlICE9PSBwcmV2VmFsdWUpIHtcbiAgICAgICAgdmFsaWRhdGVQYXNzd29yZChldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW29uRm9jdXNQcm9wLCBzaG91bGRWYWxpZGF0ZVBhc3N3b3JkLCB2YWxpZGF0ZVBhc3N3b3JkLCBwcmV2VmFsdWVdXG4gICk7XG4gIGNvbnN0IHNob3VsZEJlSGlkZGVuID0gZmFsc2U7XG4gIGNvbnN0IEVsZW1lbnQgPSB0eXBlID09PSBcIm90cFwiID8gT1RQSW5wdXQgOiBSYWRpeENvbnRyb2wyO1xuICBsZXQgcHJvcHMgPSB7fTtcbiAgaWYgKHR5cGUgPT09IFwib3RwXCIpIHtcbiAgICBjb25zdCBwID0gcGFzc3Rocm91Z2hQcm9wcztcbiAgICBjb25zdCBsZW5ndGggPSBwLmxlbmd0aCB8fCBPVFBfTEVOR1RIX0RFRkFVTFQ7XG4gICAgcHJvcHMgPSB7XG4gICAgICBcImRhdGEtb3RwLWlucHV0XCI6IHRydWUsXG4gICAgICBhdXRvQ29tcGxldGU6IFwib25lLXRpbWUtY29kZVwiLFxuICAgICAgaW5wdXRNb2RlOiBcIm51bWVyaWNcIixcbiAgICAgIHBhdHRlcm46IGBbMC05XXske2xlbmd0aH19YCxcbiAgICAgIG1pbkxlbmd0aDogbGVuZ3RoLFxuICAgICAgbWF4TGVuZ3RoOiBsZW5ndGgsXG4gICAgICBvbkNoYW5nZTogKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xcRCsvZywgXCJcIik7XG4gICAgICAgIG9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHNwZWxsQ2hlY2s6IGZhbHNlXG4gICAgfTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcImJhY2t1cF9jb2RlXCIpIHtcbiAgICBwcm9wcyA9IHtcbiAgICAgIGF1dG9Db21wbGV0ZTogXCJvZmZcIixcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgc3BlbGxDaGVjazogZmFsc2VcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwicGFzc3dvcmRcIiAmJiBzaG91bGRWYWxpZGF0ZVBhc3N3b3JkKSB7XG4gICAgcHJvcHMgPSB7XG4gICAgICBcImRhdGEtaGFzLXBhc3NlZC12YWxpZGF0aW9uXCI6IGhhc1Bhc3NlZFZhbGlhdGlvbiA/IHRydWUgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgdmFsaWRhdGVQYXNzd29yZDogXzEsIC4uLnJlc3QgfSA9IHBhc3N0aHJvdWdoUHJvcHM7XG4gIHJldHVybiB7XG4gICAgRWxlbWVudCxcbiAgICBwcm9wczoge1xuICAgICAgdHlwZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBcIlwiLFxuICAgICAgb25DaGFuZ2UsXG4gICAgICBvbkJsdXIsXG4gICAgICBvbkZvY3VzLFxuICAgICAgXCJkYXRhLWhpZGRlblwiOiBzaG91bGRCZUhpZGRlbiA/IHRydWUgOiB2b2lkIDAsXG4gICAgICBcImRhdGEtaGFzLXZhbHVlXCI6IGhhc1ZhbHVlID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS1zdGF0ZVwiOiBlbnJpY2hGaWVsZFN0YXRlKHZhbGlkaXR5LCBmaWVsZFN0YXRlKSxcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLi4ucmVzdFxuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2ZpZWxkLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBESVNQTEFZX05BTUUgPSBcIkNsZXJrRWxlbWVudHNGaWVsZFwiO1xudmFyIERJU1BMQVlfTkFNRV9JTk5FUiA9IFwiQ2xlcmtFbGVtZW50c0ZpZWxkSW5uZXJcIjtcbnZhciBGaWVsZCA9IFJlYWN0Ny5mb3J3YXJkUmVmKCh7IGFsd2F5c1Nob3csIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIHZhciBfYTM7XG4gIGNvbnN0IGZvcm1SZWYgPSB1c2VGb3JtU3RvcmUoKTtcbiAgY29uc3QgZm9ybUN0eCA9IGZvcm1SZWYuZ2V0U25hcHNob3QoKS5jb250ZXh0O1xuICBjb25zdCBpc0hpZGRlbkZpZWxkID0gZm9ybUN0eC5wcm9ncmVzc2l2ZSAmJiBCb29sZWFuKChfYTMgPSBmb3JtQ3R4LmhpZGRlbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5oYXMocmVzdC5uYW1lKSk7XG4gIGNvbnN0IHNob3VsZEhpZGUgPSBhbHdheXNTaG93ID8gZmFsc2UgOiBpc0hpZGRlbkZpZWxkO1xuICByZXR1cm4gc2hvdWxkSGlkZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8ganN4MihGaWVsZENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgbmFtZTogcmVzdC5uYW1lIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICBGaWVsZElubmVyLFxuICAgIHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH1cbiAgKSB9KTtcbn0pO1xuRmllbGQuZGlzcGxheU5hbWUgPSBESVNQTEFZX05BTUU7XG52YXIgRmllbGRJbm5lciA9IFJlYWN0Ny5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IHByb3BzO1xuICBjb25zdCBmaWVsZCA9IHVzZUZpZWxkKHsgbmFtZTogcmVzdC5uYW1lIH0pO1xuICBjb25zdCB7IHN0YXRlOiBmaWVsZFN0YXRlIH0gPSB1c2VGaWVsZFN0YXRlKHsgbmFtZTogcmVzdC5uYW1lIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXG4gICAgUmFkaXhGaWVsZCxcbiAgICB7XG4gICAgICAuLi5maWVsZC5wcm9wcyxcbiAgICAgIC4uLnJlc3QsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihSYWRpeFZhbGlkaXR5U3RhdGUsIHsgY2hpbGRyZW46ICh2YWxpZGl0eSkgPT4ge1xuICAgICAgICBjb25zdCBlbnJpY2hlZEZpZWxkU3RhdGUgPSBlbnJpY2hGaWVsZFN0YXRlKHZhbGlkaXR5LCBmaWVsZFN0YXRlKTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFZhbGlkaXR5U3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB2YWxpZGl0eSwgY2hpbGRyZW46IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4oZW5yaWNoZWRGaWVsZFN0YXRlKSA6IGNoaWxkcmVuIH0pO1xuICAgICAgfSB9KVxuICAgIH1cbiAgKTtcbn0pO1xuRmllbGRJbm5lci5kaXNwbGF5TmFtZSA9IERJU1BMQVlfTkFNRV9JTk5FUjtcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2ZpZWxkLWVycm9yLnRzeFxuaW1wb3J0IHsgRm9ybU1lc3NhZ2UgYXMgUmFkaXhGb3JtTWVzc2FnZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9ybVwiO1xuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0ICogYXMgUmVhY3Q5IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvcmVhY3QvdXRpbHMvaXMtcmVhY3QtZnJhZ21lbnQudHNcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGlzUmVhY3RGcmFnbWVudChub2RlKSB7XG4gIHJldHVybiBSZWFjdDguaXNWYWxpZEVsZW1lbnQobm9kZSkgJiYgbm9kZS50eXBlID09PSBSZWFjdDguRnJhZ21lbnQ7XG59XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9maWVsZC1lcnJvci50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgRElTUExBWV9OQU1FMiA9IFwiQ2xlcmtFbGVtZW50c0ZpZWxkRXJyb3JcIjtcbnZhciBGaWVsZEVycm9yID0gUmVhY3Q5LmZvcndhcmRSZWYoXG4gICh7IGFzQ2hpbGQgPSBmYWxzZSwgY2hpbGRyZW4sIGNvZGUsIG5hbWUsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgZmllbGRDb250ZXh0ID0gdXNlRmllbGRDb250ZXh0KCk7XG4gICAgY29uc3QgcmF3RmllbGROYW1lID0gKGZpZWxkQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogZmllbGRDb250ZXh0Lm5hbWUpIHx8IG5hbWU7XG4gICAgY29uc3QgZmllbGROYW1lID0gcmF3RmllbGROYW1lID09PSBcImJhY2t1cF9jb2RlXCIgPyBcImNvZGVcIiA6IHJhd0ZpZWxkTmFtZTtcbiAgICBjb25zdCB7IGZlZWRiYWNrIH0gPSB1c2VGaWVsZEZlZWRiYWNrKHsgbmFtZTogZmllbGROYW1lIH0pO1xuICAgIGlmICghKChmZWVkYmFjayA9PSBudWxsID8gdm9pZCAwIDogZmVlZGJhY2sudHlwZSkgPT09IFwiZXJyb3JcIikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBlcnJvciA9IGZlZWRiYWNrLm1lc3NhZ2U7XG4gICAgaWYgKCFlcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwic3BhblwiO1xuICAgIGNvbnN0IGNoaWxkID0gdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihlcnJvcikgOiBjaGlsZHJlbjtcbiAgICBpZiAoaXNSZWFjdEZyYWdtZW50KGNoaWxkKSkge1xuICAgICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoXCI8RmllbGRFcnJvciAvPiBjYW5ub3QgcmVuZGVyIGEgRnJhZ21lbnQgYXMgYSBjaGlsZC5cIik7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MyhcbiAgICAgIFJhZGl4Rm9ybU1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1lcnJvci1jb2RlXCI6IGVycm9yLmNvZGUsXG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDMoQ29tcCwgeyBjaGlsZHJlbjogY2hpbGQgfHwgZXJyb3IubWVzc2FnZSB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5GaWVsZEVycm9yLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FMjtcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2ZpZWxkLXN0YXRlLnRzeFxudmFyIERJU1BMQVlfTkFNRTMgPSBcIkNsZXJrRWxlbWVudHNGaWVsZFN0YXRlXCI7XG5mdW5jdGlvbiBGaWVsZFN0YXRlKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCBmaWVsZCA9IHVzZUZpZWxkQ29udGV4dCgpO1xuICBjb25zdCB7IGZlZWRiYWNrIH0gPSB1c2VGaWVsZEZlZWRiYWNrKHsgbmFtZTogZmllbGQgPT0gbnVsbCA/IHZvaWQgMCA6IGZpZWxkLm5hbWUgfSk7XG4gIGNvbnN0IHsgc3RhdGUgfSA9IHVzZUZpZWxkU3RhdGUoeyBuYW1lOiBmaWVsZCA9PSBudWxsID8gdm9pZCAwIDogZmllbGQubmFtZSB9KTtcbiAgY29uc3QgdmFsaWRpdHkgPSB1c2VWYWxpZGl0eVN0YXRlQ29udGV4dCgpO1xuICBjb25zdCBtZXNzYWdlID0gKGZlZWRiYWNrID09IG51bGwgPyB2b2lkIDAgOiBmZWVkYmFjay5tZXNzYWdlKSBpbnN0YW5jZW9mIENsZXJrRWxlbWVudHNGaWVsZEVycm9yID8gZmVlZGJhY2subWVzc2FnZS5tZXNzYWdlIDogZmVlZGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGZlZWRiYWNrLm1lc3NhZ2U7XG4gIGNvbnN0IGNvZGVzID0gZmVlZGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGZlZWRiYWNrLmNvZGVzO1xuICBjb25zdCBmaWVsZFN0YXRlID0geyBzdGF0ZTogZW5yaWNoRmllbGRTdGF0ZSh2YWxpZGl0eSwgc3RhdGUpLCBtZXNzYWdlLCBjb2RlcyB9O1xuICByZXR1cm4gY2hpbGRyZW4oZmllbGRTdGF0ZSk7XG59XG5GaWVsZFN0YXRlLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FMztcblxuLy8gbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9wcmltaXRpdmUvZGlzdC9pbmRleC5tanNcbmZ1bmN0aW9uIGNvbXBvc2VFdmVudEhhbmRsZXJzKG9yaWdpbmFsRXZlbnRIYW5kbGVyLCBvdXJFdmVudEhhbmRsZXIsIHsgY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkID0gdHJ1ZSB9ID0ge30pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgb3JpZ2luYWxFdmVudEhhbmRsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IG9yaWdpbmFsRXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICBpZiAoY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkID09PSBmYWxzZSB8fCAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuIG91ckV2ZW50SGFuZGxlciA9PSBudWxsID8gdm9pZCAwIDogb3VyRXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9mb3JtLnRzeFxuaW1wb3J0IHsgRm9ybSBhcyBSYWRpeEZvcm0gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvcm1cIjtcbmltcG9ydCAqIGFzIFJlYWN0MTAgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4NCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIERJU1BMQVlfTkFNRTQgPSBcIkNsZXJrRWxlbWVudHNGb3JtXCI7XG52YXIgRm9ybSA9IFJlYWN0MTAuZm9yd2FyZFJlZigoeyBmbG93QWN0b3IsIG9uU3VibWl0LCAuLi5yZXN0IH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBmb3JtID0gdXNlRm9ybSh7IGZsb3dBY3RvciB9KTtcbiAgY29uc3QgeyBvblN1Ym1pdDogaW50ZXJuYWxPblN1Ym1pdCwgLi4uaW50ZXJuYWxGb3JtUHJvcHMgfSA9IGZvcm0ucHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgICBSYWRpeEZvcm0sXG4gICAge1xuICAgICAgLi4uaW50ZXJuYWxGb3JtUHJvcHMsXG4gICAgICAuLi5yZXN0LFxuICAgICAgb25TdWJtaXQ6IGNvbXBvc2VFdmVudEhhbmRsZXJzKGludGVybmFsT25TdWJtaXQsIG9uU3VibWl0KSxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfVxuICApO1xufSk7XG5Gb3JtLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FNDtcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2dsb2JhbC1lcnJvci50c3hcbmltcG9ydCB7IFNsb3QgYXMgU2xvdDIgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTEgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4NSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIERJU1BMQVlfTkFNRTUgPSBcIkNsZXJrRWxlbWVudHNHbG9iYWxFcnJvclwiO1xudmFyIEdsb2JhbEVycm9yID0gUmVhY3QxMS5mb3J3YXJkUmVmKFxuICAoeyBhc0NoaWxkID0gZmFsc2UsIGNoaWxkcmVuLCBjb2RlLCAuLi5yZXN0IH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgZXJyb3JzIH0gPSB1c2VHbG9iYWxFcnJvcnMoKTtcbiAgICBjb25zdCBlcnJvciA9IGVycm9ycyA9PSBudWxsID8gdm9pZCAwIDogZXJyb3JzWzBdO1xuICAgIGlmICghZXJyb3IgfHwgY29kZSAmJiBlcnJvci5jb2RlICE9PSBjb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90MiA6IFwiZGl2XCI7XG4gICAgY29uc3QgY2hpbGQgPSB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKGVycm9yKSA6IGNoaWxkcmVuO1xuICAgIGlmIChpc1JlYWN0RnJhZ21lbnQoY2hpbGQpKSB7XG4gICAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihcIjxHbG9iYWxFcnJvciAvPiBjYW5ub3QgcmVuZGVyIGEgRnJhZ21lbnQgYXMgYSBjaGlsZC5cIik7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NShcbiAgICAgIENvbXAsXG4gICAgICB7XG4gICAgICAgIHJvbGU6IFwiYWxlcnRcIixcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZCB8fCBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbkdsb2JhbEVycm9yLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FNTtcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2lucHV0LnRzeFxuaW1wb3J0IHsgdXNlQ2xlcmsgYXMgdXNlQ2xlcmsyIH0gZnJvbSBcIkBjbGVyay9jbGVyay1yZWFjdFwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIkBjbGVyay9zaGFyZWQvbG9nZ2VyXCI7XG5pbXBvcnQgeyBldmVudENvbXBvbmVudE1vdW50ZWQgfSBmcm9tIFwiQGNsZXJrL3NoYXJlZC90ZWxlbWV0cnlcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC91dGlscy9jcmVhdGUtY29udGV4dC1mcm9tLWFjdG9yLXJlZi50c1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgYXMgdXNlU2VsZWN0b3JVbmJvdW5kIH0gZnJvbSBcIkB4c3RhdGUvcmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0RnJvbUFjdG9yUmVmKGRpc3BsYXlOYW1lKSB7XG4gIGNvbnN0IFJlYWN0Q29udGV4dCA9IFJlYWN0MTIuY3JlYXRlQ29udGV4dChudWxsKTtcbiAgY29uc3QgT3JpZ2luYWxQcm92aWRlciA9IFJlYWN0Q29udGV4dC5Qcm92aWRlcjtcbiAgZnVuY3Rpb24gUHJvdmlkZXIoeyBjaGlsZHJlbiwgYWN0b3JSZWYgfSkge1xuICAgIHJldHVybiBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBPcmlnaW5hbFByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICB2YWx1ZTogYWN0b3JSZWZcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlblxuICAgICk7XG4gIH1cbiAgUHJvdmlkZXIuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgZnVuY3Rpb24gdXNlQ29udGV4dDkoYWxsb3dNaXNzaW5nQWN0b3IgPSBmYWxzZSkge1xuICAgIGNvbnN0IGFjdG9yUmVmID0gUmVhY3QxMi51c2VDb250ZXh0KFJlYWN0Q29udGV4dCk7XG4gICAgaWYgKCFhbGxvd01pc3NpbmdBY3RvciAmJiAhYWN0b3JSZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSB1c2VkIGEgaG9vayBmcm9tIFwiJHtQcm92aWRlci5kaXNwbGF5TmFtZX1cIiBidXQgaXQncyBub3QgaW5zaWRlIGEgPCR7UHJvdmlkZXIuZGlzcGxheU5hbWV9LlByb3ZpZGVyPiBjb21wb25lbnQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdG9yUmVmO1xuICB9XG4gIGZ1bmN0aW9uIHVzZVNlbGVjdG9yNihzZWxlY3RvciwgY29tcGFyZSkge1xuICAgIGNvbnN0IGFjdG9yID0gdXNlQ29udGV4dDkoKTtcbiAgICByZXR1cm4gdXNlU2VsZWN0b3JVbmJvdW5kKGFjdG9yLCBzZWxlY3RvciwgY29tcGFyZSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBQcm92aWRlcixcbiAgICB1c2VBY3RvclJlZjogdXNlQ29udGV4dDksXG4gICAgdXNlU2VsZWN0b3I6IHVzZVNlbGVjdG9yNlxuICB9O1xufVxuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9jb250ZXh0L3JvdXRlci5jb250ZXh0LnRzXG52YXIgU2lnbkluUm91dGVyQ3R4ID0gY3JlYXRlQ29udGV4dEZyb21BY3RvclJlZihcIlNpZ25JblJvdXRlckN0eFwiKTtcbmZ1bmN0aW9uIHVzZVNpZ25JblN0ZXAobmFtZSkge1xuICByZXR1cm4gU2lnbkluUm91dGVyQ3R4LnVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuY2hpbGRyZW5bbmFtZV0pO1xufVxudmFyIHVzZVNpZ25JblN0YXJ0U3RlcCA9ICgpID0+IHVzZVNpZ25JblN0ZXAoXCJzdGFydFwiKTtcbnZhciB1c2VTaWduSW5GaXJzdEZhY3RvclN0ZXAgPSAoKSA9PiB1c2VTaWduSW5TdGVwKFwiZmlyc3RGYWN0b3JcIik7XG52YXIgdXNlU2lnbkluU2Vjb25kRmFjdG9yU3RlcCA9ICgpID0+IHVzZVNpZ25JblN0ZXAoXCJzZWNvbmRGYWN0b3JcIik7XG52YXIgdXNlU2lnbkluUmVzZXRQYXNzd29yZFN0ZXAgPSAoKSA9PiB1c2VTaWduSW5TdGVwKFwicmVzZXRQYXNzd29yZFwiKTtcbnZhciB1c2VTaWduSW5QYXNza2V5QXV0b2ZpbGwgPSAoKSA9PiBTaWduSW5Sb3V0ZXJDdHgudXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5jb250ZXh0LndlYkF1dGhuQXV0b2ZpbGxTdXBwb3J0KTtcblxuLy8gc3JjL3JlYWN0L3NpZ24taW4vY29udGV4dC9zaWduLWluLXN0cmF0ZWd5LmNvbnRleHQudHNcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgYXMgY3JlYXRlQ29udGV4dDQsIHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDQgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBTaWduSW5TdHJhdGVneUNvbnRleHQgPSBjcmVhdGVDb250ZXh0NCh7XG4gIHN0cmF0ZWd5OiB2b2lkIDBcbn0pO1xuZnVuY3Rpb24gdXNlU2lnbkluU3RyYXRlZ3koKSB7XG4gIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQ0KFNpZ25JblN0cmF0ZWd5Q29udGV4dCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoXG4gICAgICBcInVzZVNpZ25JblN0cmF0ZWd5IG11c3QgYmUgdXNlZCB3aXRoaW4gYSA8U2lnbkluLlN0cmF0ZWd5PiBvciA8U2lnbkluLlN1cHBvcnRlZFN0cmF0ZWd5PiBjb21wb25lbnQuXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IHsgc3RyYXRlZ3kgfSA9IGN0eDtcbiAgcmV0dXJuIHN0cmF0ZWd5O1xufVxuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9jb250ZXh0L3N0cmF0ZWdpZXMuY29udGV4dC50c1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0NSwgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0NSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIFN0cmF0ZWdpZXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDUoe1xuICBjdXJyZW50OiB2b2lkIDAsXG4gIGlzQWN0aXZlOiAoX25hbWUpID0+IGZhbHNlLFxuICBwcmVmZXJyZWQ6IHZvaWQgMFxufSk7XG5mdW5jdGlvbiB1c2VTdHJhdGVneShuYW1lKSB7XG4gIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQ1KFN0cmF0ZWdpZXNDb250ZXh0KTtcbiAgaWYgKCFjdHgpIHtcbiAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihcbiAgICAgICd1c2VTdHJhdGVneSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgPFNpZ25Jbi5TdGVwIG5hbWU9XCJ2ZXJpZmljYXRpb25zXCI+IGNvbXBvbmVudC4gRGlkIHlvdSBtZWFuIHRvIGBpbXBvcnQgeyBTdGVwIH0gZnJvbSBcIkBjbGVyay9lbGVtZW50cy9zaWduLXVwXCJgIGluc3RlYWQ/J1xuICAgICk7XG4gIH1cbiAgY29uc3QgeyBjdXJyZW50LCBwcmVmZXJyZWQsIGlzQWN0aXZlIH0gPSBjdHg7XG4gIHJldHVybiB7XG4gICAgY3VycmVudCxcbiAgICBwcmVmZXJyZWQsXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgIHJldHVybiBpc0FjdGl2ZShuYW1lKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vZm9ybS9pbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgRElTUExBWV9OQU1FNiA9IFwiQ2xlcmtFbGVtZW50c0lucHV0XCI7XG52YXIgRElTUExBWV9OQU1FX1BBU1NLRVlTX0FVVE9GSUxMID0gXCJDbGVya0VsZW1lbnRzSW5wdXRXaXRoUGFzc2tleUF1dG9maWxsXCI7XG52YXIgSW5wdXQgPSBSZWFjdDEzLmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgdmFyIF9hMywgX2IzLCBfYztcbiAgICBjb25zdCBjbGVyayA9IHVzZUNsZXJrMigpO1xuICAgIGNvbnN0IGZpZWxkID0gdXNlSW5wdXQocHJvcHMpO1xuICAgIGNvbnN0IGhhc1Bhc3NrZXlBdXRvZmlsbFByb3AgPSBCb29sZWFuKChfYTMgPSBmaWVsZC5wcm9wcy5hdXRvQ29tcGxldGUpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuaW5jbHVkZXMoXCJ3ZWJhdXRoblwiKSk7XG4gICAgY29uc3QgYWxsb3dlZFR5cGVGb3JQYXNza2V5ID0gW1widGV4dFwiLCBcImVtYWlsXCIsIFwidGVsXCJdLmluY2x1ZGVzKGZpZWxkLnByb3BzLnR5cGUpO1xuICAgIGNvbnN0IHNpZ25JblJvdXRlclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgICAoX2MgPSBjbGVyay50ZWxlbWV0cnkpID09IG51bGwgPyB2b2lkIDAgOiBfYy5yZWNvcmQoXG4gICAgICBldmVudENvbXBvbmVudE1vdW50ZWQoXCJFbGVtZW50c19JbnB1dFwiLCB7XG4gICAgICAgIHR5cGU6IChfYjMgPSBwcm9wcy50eXBlKSAhPSBudWxsID8gX2IzIDogZmFsc2UsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBEZXBlbmRpbmcgb24gdHlwZSB0aGUgcHJvcHMgY2FuIGJlIGRpZmZlcmVudFxuICAgICAgICByZW5kZXI6IEJvb2xlYW4ocHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLnJlbmRlciksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBEZXBlbmRpbmcgb24gdHlwZSB0aGUgcHJvcHMgY2FuIGJlIGRpZmZlcmVudFxuICAgICAgICBhc0NoaWxkOiBCb29sZWFuKHByb3BzID09IG51bGwgPyB2b2lkIDAgOiBwcm9wcy5hc0NoaWxkKSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIERlcGVuZGluZyBvbiB0eXBlIHRoZSBwcm9wcyBjYW4gYmUgZGlmZmVyZW50XG4gICAgICAgIHZhbGlkYXRlUGFzc3dvcmQ6IEJvb2xlYW4ocHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLnZhbGlkYXRlUGFzc3dvcmQpXG4gICAgICB9KVxuICAgICk7XG4gICAgaWYgKHNpZ25JblJvdXRlclJlZiAmJiBoYXNQYXNza2V5QXV0b2ZpbGxQcm9wICYmIGFsbG93ZWRUeXBlRm9yUGFzc2tleSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICBJbnB1dFdpdGhQYXNza2V5QXV0b2ZpbGwsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgICAuLi5wcm9wc1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaGFzUGFzc2tleUF1dG9maWxsUHJvcCAmJiAhYWxsb3dlZFR5cGVGb3JQYXNza2V5KSB7XG4gICAgICBsb2dnZXIud2Fybk9uY2UoXG4gICAgICAgIGA8SW5wdXQgYXV0b0NvbXBsZXRlPVwid2ViYXV0aG5cIj4gY2FuIG9ubHkgYmUgdXNlZCB3aXRoIDxJbnB1dCB0eXBlPVwidGV4dFwiPiBvciA8SW5wdXQgdHlwZT1cImVtYWlsXCI+YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGhhc1Bhc3NrZXlBdXRvZmlsbFByb3ApIHtcbiAgICAgIGxvZ2dlci53YXJuT25jZShcbiAgICAgICAgYDxJbnB1dCBhdXRvQ29tcGxldGU9XCJ3ZWJhdXRoblwiPiBjYW4gb25seSBiZSB1c2VkIGluc2lkZSA8U2lnbkluPiBpbiBvcmRlciB0byB0cmlnZ2VyIGEgc2lnbi1pbiBhdHRlbXB0LCBvdGhlcndpc2UgaXQgd2lsbCBiZSBpZ25vcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NihcbiAgICAgIGZpZWxkLkVsZW1lbnQsXG4gICAgICB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICAuLi5maWVsZC5wcm9wc1xuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5JbnB1dC5kaXNwbGF5TmFtZSA9IERJU1BMQVlfTkFNRTY7XG52YXIgSW5wdXRXaXRoUGFzc2tleUF1dG9maWxsID0gUmVhY3QxMy5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHNpZ25JblJvdXRlclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgICBjb25zdCBwYXNza2V5QXV0b2ZpbGxTdXBwb3J0ZWQgPSB1c2VTaWduSW5QYXNza2V5QXV0b2ZpbGwoKTtcbiAgICBSZWFjdDEzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAocGFzc2tleUF1dG9maWxsU3VwcG9ydGVkKSB7XG4gICAgICAgIHNpZ25JblJvdXRlclJlZiA9PSBudWxsID8gdm9pZCAwIDogc2lnbkluUm91dGVyUmVmLnNlbmQoeyB0eXBlOiBcIkFVVEhFTlRJQ0FURS5QQVNTS0VZLkFVVE9GSUxMXCIgfSk7XG4gICAgICB9XG4gICAgfSwgW3Bhc3NrZXlBdXRvZmlsbFN1cHBvcnRlZCwgc2lnbkluUm91dGVyUmVmXSk7XG4gICAgY29uc3QgZmllbGQgPSB1c2VJbnB1dChwcm9wcyk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgZmllbGQuRWxlbWVudCxcbiAgICAgIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIC4uLmZpZWxkLnByb3BzXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbklucHV0V2l0aFBhc3NrZXlBdXRvZmlsbC5kaXNwbGF5TmFtZSA9IERJU1BMQVlfTkFNRV9QQVNTS0VZU19BVVRPRklMTDtcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL2xhYmVsLnRzeFxuaW1wb3J0IHsgTGFiZWwgYXMgUmFkaXhMYWJlbCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9ybVwiO1xudmFyIERJU1BMQVlfTkFNRTcgPSBcIkNsZXJrRWxlbWVudHNMYWJlbFwiO1xudmFyIExhYmVsID0gUmFkaXhMYWJlbDtcbkxhYmVsLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FNztcblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9mb3JtL3N1Ym1pdC50c3hcbmltcG9ydCB7IFN1Ym1pdCBhcyBSYWRpeFN1Ym1pdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9ybVwiO1xudmFyIERJU1BMQVlfTkFNRTggPSBcIkNsZXJrRWxlbWVudHNTdWJtaXRcIjtcbnZhciBTdWJtaXQgPSBSYWRpeFN1Ym1pdDtcblN1Ym1pdC5kaXNwbGF5TmFtZSA9IERJU1BMQVlfTkFNRTg7XG5cbi8vIHNyYy9yZWFjdC9jb21tb24vY29ubmVjdGlvbnMudHN4XG5pbXBvcnQgeyBTbG90IGFzIFNsb3QzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IGFzIGNyZWF0ZUNvbnRleHQ2LCB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQ2IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC9ob29rcy91c2UtYWN0aXZlLXRhZ3MuaG9vay50c1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwiQHhzdGF0ZS9yZWFjdFwiO1xudmFyIEFjdGl2ZVRhZ3NNb2RlID0ge1xuICBhbnk6IFwiYW55XCIsXG4gIGFsbDogXCJhbGxcIlxufTtcbmZ1bmN0aW9uIHVzZUFjdGl2ZVRhZ3MoYWN0b3IsIHRhZ3MsIG1vZGUgPSBBY3RpdmVUYWdzTW9kZS5hbnkpIHtcbiAgY29uc3Qgc3RhdGUgPSB1c2VTZWxlY3RvcihcbiAgICBhY3RvcixcbiAgICAocykgPT4gcyxcbiAgICAocHJldiwgbmV4dCkgPT4gcHJldi50YWdzID09PSBuZXh0LnRhZ3NcbiAgKTtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIHRhZ3MgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gc3RhdGUuaGFzVGFnKHRhZ3MpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheSh0YWdzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFncyBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gdXNlQWN0aXZlVGFnc1wiKTtcbiAgfVxuICBzd2l0Y2ggKG1vZGUpIHtcbiAgICBjYXNlIEFjdGl2ZVRhZ3NNb2RlLmFueToge1xuICAgICAgY29uc3QgbWF0Y2hpbmcgPSBuZXcgU2V0KHRhZ3MuZmlsdGVyKCh0YWcpID0+IHN0YXRlLmhhc1RhZyh0YWcpKSk7XG4gICAgICByZXR1cm4geyBhY3RpdmU6IG1hdGNoaW5nLnNpemUgPiAwLCBhY3RpdmVUYWdzOiBtYXRjaGluZyB9O1xuICAgIH1cbiAgICBjYXNlIEFjdGl2ZVRhZ3NNb2RlLmFsbDpcbiAgICAgIHJldHVybiB0YWdzLmxlbmd0aCA9PT0gc3RhdGUudGFncy5zaXplID8gdGFncy5ldmVyeSgodGFnKSA9PiBzdGF0ZS5oYXNUYWcodGFnKSkgOiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIHNyYy9yZWFjdC9ob29rcy91c2UtdGhpcmQtcGFydHktcHJvdmlkZXIuaG9vay50c1xuaW1wb3J0IHsgdXNlQ2xlcmsgYXMgdXNlQ2xlcmszIH0gZnJvbSBcIkBjbGVyay9jbGVyay1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91dGlscy90aGlyZC1wYXJ0eS1zdHJhdGVnaWVzLnRzXG5pbXBvcnQgeyBPQVVUSF9QUk9WSURFUlMsIFdFQjNfUFJPVklERVJTIH0gZnJvbSBcIkBjbGVyay90eXBlc1wiO1xuXG4vLyBzcmMvdXRpbHMvY2xlcmstanMudHNcbnZhciBmcm9tRW50cmllcyA9IChpdGVyYWJsZSkgPT4ge1xuICByZXR1cm4gWy4uLml0ZXJhYmxlXS5yZWR1Y2UoKG9iaiwgW2tleSwgdmFsXSkgPT4ge1xuICAgIG9ialtrZXldID0gdmFsO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn07XG5mdW5jdGlvbiBpY29uSW1hZ2VVcmwoaWQpIHtcbiAgcmV0dXJuIGBodHRwczovL2ltZy5jbGVyay5jb20vc3RhdGljLyR7aWR9LnN2Z2A7XG59XG5cbi8vIHNyYy91dGlscy90aGlyZC1wYXJ0eS1zdHJhdGVnaWVzLnRzXG52YXIgb2F1dGhTdHJhdGVnaWVzID0gT0FVVEhfUFJPVklERVJTLm1hcCgocCkgPT4gcC5zdHJhdGVneSk7XG52YXIgcHJvdmlkZXJUb0Rpc3BsYXlEYXRhID0gZnJvbUVudHJpZXMoXG4gIFsuLi5PQVVUSF9QUk9WSURFUlMsIC4uLldFQjNfUFJPVklERVJTXS5tYXAoKHApID0+IHtcbiAgICByZXR1cm4gW3AucHJvdmlkZXIsIHsgaWNvblVybDogaWNvbkltYWdlVXJsKHAucHJvdmlkZXIpLCBuYW1lOiBwLm5hbWUsIHN0cmF0ZWd5OiBwLnN0cmF0ZWd5IH1dO1xuICB9KVxuKTtcbnZhciBzdHJhdGVneVRvRGlzcGxheURhdGEgPSBmcm9tRW50cmllcyhcbiAgWy4uLk9BVVRIX1BST1ZJREVSUywgLi4uV0VCM19QUk9WSURFUlNdLm1hcCgocCkgPT4ge1xuICAgIHJldHVybiBbcC5zdHJhdGVneSwgeyBpY29uVXJsOiBpY29uSW1hZ2VVcmwocC5wcm92aWRlciksIGlkOiBwLnByb3ZpZGVyLCBuYW1lOiBwLm5hbWUgfV07XG4gIH0pXG4pO1xuZnVuY3Rpb24gaXNTYW1sU3RyYXRlZ3koc3RyYXRlZ3kpIHtcbiAgcmV0dXJuIHN0cmF0ZWd5ID09PSBcInNhbWxcIjtcbn1cbmZ1bmN0aW9uIGlzV2ViM1N0cmF0ZWd5KHN0cmF0ZWd5LCBhdmFpbGFibGUpIHtcbiAgcmV0dXJuIGF2YWlsYWJsZS5pbmNsdWRlcyhzdHJhdGVneS5zdGFydHNXaXRoKFwid2ViM19cIikgPyBzdHJhdGVneSA6IGB3ZWIzXyR7c3RyYXRlZ3l9X3NpZ25hdHVyZWApO1xufVxuZnVuY3Rpb24gaXNBdXRoZW50aWNhdGFibGVPYXV0aFN0cmF0ZWd5KHN0cmF0ZWd5LCBhdmFpbGFibGUpIHtcbiAgcmV0dXJuIGF2YWlsYWJsZS5pbmNsdWRlcyhzdHJhdGVneS5zdGFydHNXaXRoKFwib2F1dGhfXCIpID8gc3RyYXRlZ3kgOiBgb2F1dGhfJHtzdHJhdGVneX1gKTtcbn1cbnZhciBlbXB0eVRoaXJkUGFydHlQcm92aWRlcnMgPSB7XG4gIGF1dGhlbnRpY2F0YWJsZU9hdXRoU3RyYXRlZ2llczogW10sXG4gIHByb3ZpZGVyVG9EaXNwbGF5RGF0YToge30sXG4gIHN0cmF0ZWdpZXM6IFtdLFxuICBzdHJhdGVneVRvRGlzcGxheURhdGE6IHt9LFxuICB3ZWIzU3RyYXRlZ2llczogW11cbn07XG52YXIgZ2V0RW5hYmxlZFRoaXJkUGFydHlQcm92aWRlcnMgPSAoZW52aXJvbm1lbnQpID0+IHtcbiAgaWYgKCEoZW52aXJvbm1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGVudmlyb25tZW50LnVzZXJTZXR0aW5ncykpIHtcbiAgICByZXR1cm4gZW1wdHlUaGlyZFBhcnR5UHJvdmlkZXJzO1xuICB9XG4gIGNvbnN0IHsgc29jaWFsUHJvdmlkZXJTdHJhdGVnaWVzLCB3ZWIzRmlyc3RGYWN0b3JzLCBhdXRoZW50aWNhdGFibGVTb2NpYWxTdHJhdGVnaWVzIH0gPSBlbnZpcm9ubWVudC51c2VyU2V0dGluZ3M7XG4gIGNvbnN0IGtub3duU29jaWFsUHJvdmlkZXJTdHJhdGVnaWVzID0gc29jaWFsUHJvdmlkZXJTdHJhdGVnaWVzLmZpbHRlcigocykgPT4gb2F1dGhTdHJhdGVnaWVzLmluY2x1ZGVzKHMpKTtcbiAgY29uc3Qga25vd25BdXRoZW50aWNhdGFibGVTb2NpYWxTdHJhdGVnaWVzID0gYXV0aGVudGljYXRhYmxlU29jaWFsU3RyYXRlZ2llcy5maWx0ZXIoKHMpID0+IG9hdXRoU3RyYXRlZ2llcy5pbmNsdWRlcyhzKSk7XG4gIHJldHVybiB7XG4gICAgYXV0aGVudGljYXRhYmxlT2F1dGhTdHJhdGVnaWVzOiBbLi4ua25vd25BdXRoZW50aWNhdGFibGVTb2NpYWxTdHJhdGVnaWVzXSxcbiAgICBwcm92aWRlclRvRGlzcGxheURhdGEsXG4gICAgc3RyYXRlZ2llczogWy4uLmtub3duU29jaWFsUHJvdmlkZXJTdHJhdGVnaWVzLCAuLi53ZWIzRmlyc3RGYWN0b3JzXSxcbiAgICBzdHJhdGVneVRvRGlzcGxheURhdGEsXG4gICAgd2ViM1N0cmF0ZWdpZXM6IHdlYjNGaXJzdEZhY3RvcnNcbiAgfTtcbn07XG5cbi8vIHNyYy9yZWFjdC9ob29rcy91c2UtdGhpcmQtcGFydHktcHJvdmlkZXIuaG9vay50c1xudmFyIHVzZUlzUHJvdmlkZXJFbmFibGVkID0gKHByb3ZpZGVyKSA9PiB7XG4gIHZhciBfYTMsIF9iMztcbiAgY29uc3QgY2xlcmsgPSB1c2VDbGVyazMoKTtcbiAgaWYgKCFjbGVyay5sb2FkZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocHJvdmlkZXIgPT09IFwic2FtbFwiKSB7XG4gICAgcmV0dXJuIChfYjMgPSAoX2EzID0gY2xlcmsuX191bnN0YWJsZV9fZW52aXJvbm1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTMudXNlclNldHRpbmdzLnNhbWwuZW5hYmxlZCkgIT0gbnVsbCA/IF9iMyA6IGZhbHNlO1xuICB9XG4gIGNvbnN0IGRhdGEgPSBnZXRFbmFibGVkVGhpcmRQYXJ0eVByb3ZpZGVycyhjbGVyay5fX3Vuc3RhYmxlX19lbnZpcm9ubWVudCk7XG4gIHJldHVybiBpc0F1dGhlbnRpY2F0YWJsZU9hdXRoU3RyYXRlZ3kocHJvdmlkZXIsIGRhdGEuYXV0aGVudGljYXRhYmxlT2F1dGhTdHJhdGVnaWVzKSB8fCBpc1dlYjNTdHJhdGVneShwcm92aWRlciwgZGF0YS53ZWIzU3RyYXRlZ2llcyk7XG59O1xudmFyIHVzZVRoaXJkUGFydHlQcm92aWRlciA9IChyZWYsIHByb3ZpZGVyKSA9PiB7XG4gIGNvbnN0IGlzUHJvdmlkZXJFbmFibGVkID0gdXNlSXNQcm92aWRlckVuYWJsZWQocHJvdmlkZXIpO1xuICBjb25zdCBpc1NhbWwgPSBpc1NhbWxTdHJhdGVneShwcm92aWRlcik7XG4gIGNvbnN0IGRldGFpbHMgPSBpc1NhbWwgPyB7XG4gICAgbmFtZTogXCJTQU1MXCIsXG4gICAgc3RyYXRlZ3k6IFwic2FtbFwiXG4gIH0gOiBwcm92aWRlclRvRGlzcGxheURhdGFbcHJvdmlkZXJdO1xuICBjb25zdCBhdXRoZW50aWNhdGUgPSB1c2VDYWxsYmFjazQoXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzUHJvdmlkZXJFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaXNTYW1sKSB7XG4gICAgICAgIHJldHVybiByZWYuc2VuZCh7IHR5cGU6IFwiQVVUSEVOVElDQVRFLlNBTUxcIiB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm92aWRlciA9PT0gXCJtZXRhbWFza1wiKSB7XG4gICAgICAgIHJldHVybiByZWYuc2VuZCh7IHR5cGU6IFwiQVVUSEVOVElDQVRFLldFQjNcIiwgc3RyYXRlZ3k6IFwid2ViM19tZXRhbWFza19zaWduYXR1cmVcIiB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm92aWRlciA9PT0gXCJjb2luYmFzZVwiKSB7XG4gICAgICAgIHJldHVybiByZWYuc2VuZCh7IHR5cGU6IFwiQVVUSEVOVElDQVRFLldFQjNcIiwgc3RyYXRlZ3k6IFwid2ViM19jb2luYmFzZV9zaWduYXR1cmVcIiB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm92aWRlciA9PT0gXCJjb2luYmFzZV93YWxsZXRcIikge1xuICAgICAgICByZXR1cm4gcmVmLnNlbmQoeyB0eXBlOiBcIkFVVEhFTlRJQ0FURS5XRUIzXCIsIHN0cmF0ZWd5OiBcIndlYjNfY29pbmJhc2Vfd2FsbGV0X3NpZ25hdHVyZVwiIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlZi5zZW5kKHsgdHlwZTogXCJBVVRIRU5USUNBVEUuT0FVVEhcIiwgc3RyYXRlZ3k6IGBvYXV0aF8ke3Byb3ZpZGVyfWAgfSk7XG4gICAgfSxcbiAgICBbcHJvdmlkZXIsIGlzUHJvdmlkZXJFbmFibGVkLCBpc1NhbWwsIHJlZl1cbiAgKTtcbiAgaWYgKGlzUHJvdmlkZXJFbmFibGVkID09PSBmYWxzZSkge1xuICAgIGNvbnN0IGRhc2hib2FyZFBhdGggPSBgaHR0cHM6Ly9kYXNoYm9hcmQuY2xlcmsuY29tL2xhc3QtYWN0aXZlP3BhdGg9L3VzZXItYXV0aGVudGljYXRpb24vJHtwcm92aWRlciA9PT0gXCJtZXRhbWFza1wiID8gXCJ3ZWIzXCIgOiBcInNvY2lhbC1jb25uZWN0aW9uc1wifWA7XG4gICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoXG4gICAgICBgWW91IGhhdmUgdXNlZCA8Q29ubmVjdGlvbiBuYW1lPVwiJHtwcm92aWRlcn1cIj4gd2hpY2ggaXNuJ3QgZW5hYmxlZCBmb3IgeW91ciBwcm9qZWN0LiBFbmFibGUgJHtkZXRhaWxzLm5hbWV9IGluIHlvdXIgQ2xlcmsgZGFzaGJvYXJkOiAke2Rhc2hib2FyZFBhdGh9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBldmVudHM6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZVxuICAgIH0sXG4gICAgLi4uZGV0YWlsc1xuICB9O1xufTtcblxuLy8gc3JjL3JlYWN0L3NpZ24tdXAvY29udGV4dC9yb3V0ZXIuY29udGV4dC50c1xudmFyIFNpZ25VcFJvdXRlckN0eCA9IGNyZWF0ZUNvbnRleHRGcm9tQWN0b3JSZWYoXCJTaWduVXBSb3V0ZXJDdHhcIik7XG5mdW5jdGlvbiB1c2VTaWduVXBTdGVwKG5hbWUpIHtcbiAgcmV0dXJuIFNpZ25VcFJvdXRlckN0eC51c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmNoaWxkcmVuW25hbWVdKTtcbn1cbnZhciB1c2VTaWduVXBTdGFydFN0ZXAgPSAoKSA9PiB1c2VTaWduVXBTdGVwKFwic3RhcnRcIik7XG52YXIgdXNlU2lnblVwQ29udGludWVTdGVwID0gKCkgPT4gdXNlU2lnblVwU3RlcChcImNvbnRpbnVlXCIpO1xudmFyIHVzZVNpZ25VcFZlcmlmaWNhdGlvblN0ZXAgPSAoKSA9PiB1c2VTaWduVXBTdGVwKFwidmVyaWZpY2F0aW9uXCIpO1xuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2Nvbm5lY3Rpb25zLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBDb25uZWN0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ2KG51bGwpO1xudmFyIHVzZUNvbm5lY3Rpb25Db250ZXh0ID0gKCkgPT4ge1xuICBjb25zdCBjdHggPSB1c2VDb250ZXh0NihDb25uZWN0aW9uQ29udGV4dCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ29ubmVjdGlvbkNvbnRleHQgbXVzdCBiZSB1c2VkIHdpdGhpbiA8Q2xlcmsuQ29ubmVjdGlvbj5cIik7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5mdW5jdGlvbiBDb25uZWN0aW9uKHsgYXNDaGlsZCwgbmFtZSwgLi4ucmVzdCB9KSB7XG4gIGNvbnN0IHNpZ25JblJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgY29uc3Qgc2lnblVwUmVmID0gU2lnblVwUm91dGVyQ3R4LnVzZUFjdG9yUmVmKHRydWUpO1xuICBjb25zdCBwcm92aWRlciA9IHVzZVRoaXJkUGFydHlQcm92aWRlcihzaWduSW5SZWYgfHwgc2lnblVwUmVmLCBuYW1lKTtcbiAgaWYgKCFwcm92aWRlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdDMgOiBcImJ1dHRvblwiO1xuICBjb25zdCBkZWZhdWx0UHJvcHMgPSBhc0NoaWxkID8ge30gOiB7IHR5cGU6IFwiYnV0dG9uXCIgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g3KENvbm5lY3Rpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm92aWRlciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g3KFxuICAgIENvbXAsXG4gICAge1xuICAgICAgb25DbGljazogcHJvdmlkZXIuZXZlbnRzLmF1dGhlbnRpY2F0ZSxcbiAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgIC4uLnJlc3RcbiAgICB9XG4gICkgfSk7XG59XG5mdW5jdGlvbiBJY29uKHsgYXNDaGlsZCwgLi4ucmVzdCB9KSB7XG4gIGNvbnN0IHsgaWNvblVybCwgbmFtZSB9ID0gdXNlQ29ubmVjdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90MyA6IFwiaW1nXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICBDb21wLFxuICAgIHtcbiAgICAgIGFsdDogYCR7bmFtZX0gbG9nb2AsXG4gICAgICBzcmM6IGljb25VcmwsXG4gICAgICAuLi5yZXN0XG4gICAgfVxuICApO1xufVxuXG4vLyBzcmMvcmVhY3QvY29tbW9uL2xvYWRpbmcudHN4XG5pbXBvcnQgeyB1c2VDbGVyayBhcyB1c2VDbGVyazYgfSBmcm9tIFwiQGNsZXJrL2NsZXJrLXJlYWN0XCI7XG5pbXBvcnQgeyBldmVudENvbXBvbmVudE1vdW50ZWQgYXMgZXZlbnRDb21wb25lbnRNb3VudGVkNCB9IGZyb20gXCJAY2xlcmsvc2hhcmVkL3RlbGVtZXRyeVwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgYXMgdXNlU2VsZWN0b3I1IH0gZnJvbSBcIkB4c3RhdGUvcmVhY3RcIjtcblxuLy8gc3JjL3JlYWN0L2hvb2tzL3VzZS1sb2FkaW5nLmhvb2sudHNcbmltcG9ydCB7IHVzZVNlbGVjdG9yIGFzIHVzZVNlbGVjdG9yMiB9IGZyb20gXCJAeHN0YXRlL3JlYWN0XCI7XG52YXIgc2VsZWN0TG9hZGluZyA9IChzbmFwc2hvdCkgPT4ge1xuICB2YXIgX2EzO1xuICByZXR1cm4gKF9hMyA9IHNuYXBzaG90ID09IG51bGwgPyB2b2lkIDAgOiBzbmFwc2hvdC5jb250ZXh0KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmxvYWRpbmc7XG59O1xudmFyIGNvbXBhcmVMb2FkaW5nVmFsdWUgPSAocHJldiwgbmV4dCkgPT4gKHByZXYgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXYuaXNMb2FkaW5nKSA9PT0gKG5leHQgPT0gbnVsbCA/IHZvaWQgMCA6IG5leHQuaXNMb2FkaW5nKTtcbmZ1bmN0aW9uIHVzZUxvYWRpbmcoYWN0b3IpIHtcbiAgY29uc3QgbG9hZGluZ0N0eCA9IHVzZVNlbGVjdG9yMihhY3Rvciwgc2VsZWN0TG9hZGluZywgY29tcGFyZUxvYWRpbmdWYWx1ZSk7XG4gIGlmICghbG9hZGluZ0N0eCkge1xuICAgIHJldHVybiBbZmFsc2UsIHsgc3RlcDogdm9pZCAwLCBzdHJhdGVneTogdm9pZCAwLCBhY3Rpb246IHZvaWQgMCB9XTtcbiAgfVxuICByZXR1cm4gW2xvYWRpbmdDdHguaXNMb2FkaW5nLCB7IHN0ZXA6IGxvYWRpbmdDdHguc3RlcCwgc3RyYXRlZ3k6IGxvYWRpbmdDdHguc3RyYXRlZ3ksIGFjdGlvbjogbG9hZGluZ0N0eC5hY3Rpb24gfV07XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3N0ZXAudHN4XG5pbXBvcnQgeyB1c2VDbGVyayBhcyB1c2VDbGVyazQgfSBmcm9tIFwiQGNsZXJrL2NsZXJrLXJlYWN0XCI7XG5pbXBvcnQgeyBldmVudENvbXBvbmVudE1vdW50ZWQgYXMgZXZlbnRDb21wb25lbnRNb3VudGVkMiB9IGZyb20gXCJAY2xlcmsvc2hhcmVkL3RlbGVtZXRyeVwiO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9jaG9vc2Utc2Vzc2lvbi9jaG9vc2Utc2Vzc2lvbi50c3hcbmltcG9ydCB7IFNsb3QgYXMgU2xvdDQgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTcgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC91dGlscy9jcmVhdGUtY29udGV4dC1mb3ItZG9tLXZhbGlkYXRpb24udHNcbmltcG9ydCAqIGFzIFJlYWN0MTQgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0Rm9yRG9tVmFsaWRhdGlvbihkaXNwbGF5TmFtZSkge1xuICBjb25zdCBSZWFjdENvbnRleHQgPSBSZWFjdDE0LmNyZWF0ZUNvbnRleHQoZmFsc2UpO1xuICBjb25zdCBPcmlnaW5hbFByb3ZpZGVyID0gUmVhY3RDb250ZXh0LlByb3ZpZGVyO1xuICBmdW5jdGlvbiBQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgICByZXR1cm4gUmVhY3QxNC5jcmVhdGVFbGVtZW50KFxuICAgICAgT3JpZ2luYWxQcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlblxuICAgICk7XG4gIH1cbiAgUHJvdmlkZXIuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgZnVuY3Rpb24gdXNlQ29udGV4dDkoYWxsb3dNaXNzaW5nQ29udGV4dCA9IGZhbHNlKSB7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0MTQudXNlQ29udGV4dChSZWFjdENvbnRleHQpO1xuICAgIGlmICghYWxsb3dNaXNzaW5nQ29udGV4dCAmJiAhY29udGV4dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IHVzZWQgYSBob29rIGZyb20gXCIke1Byb3ZpZGVyLmRpc3BsYXlOYW1lfVwiIGJ1dCBpdCdzIG5vdCBpbnNpZGUgYSA8JHtQcm92aWRlci5kaXNwbGF5TmFtZX0uUHJvdmlkZXI+IGNvbXBvbmVudC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuICByZXR1cm4ge1xuICAgIFByb3ZpZGVyLFxuICAgIHVzZURvbVZhbGlkYXRpb246IHVzZUNvbnRleHQ5XG4gIH07XG59XG5cbi8vIHNyYy9yZWFjdC91dGlscy9pcy12YWxpZC1jb21wb25lbnQtdHlwZS50c1xuaW1wb3J0ICogYXMgUmVhY3QxNSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGlzVmFsaWRDb21wb25lbnRUeXBlKGNoaWxkLCB0eXBlKSB7XG4gIHJldHVybiBSZWFjdDE1LmlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiBjaGlsZC50eXBlID09PSB0eXBlO1xufVxuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9jaG9vc2Utc2Vzc2lvbi9jaG9vc2Utc2Vzc2lvbi5ob29rcy50c1xuaW1wb3J0ICogYXMgUmVhY3QxNiBmcm9tIFwicmVhY3RcIjtcbnZhciBTaWduSW5BY3RpdmVTZXNzaW9uQ29udGV4dCA9IFJlYWN0MTYuY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZVNpZ25JbkFjdGl2ZVNlc3Npb25Db250ZXh0KCkge1xuICBjb25zdCBjdHggPSBSZWFjdDE2LnVzZUNvbnRleHQoU2lnbkluQWN0aXZlU2Vzc2lvbkNvbnRleHQpO1xuICBpZiAoIWN0eCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlNpZ25JbkFjdGl2ZVNlc3Npb25Db250ZXh0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBTZXNzaW9uTGlzdC9TaWduSW5TZXNzaW9uTGlzdEl0ZW1cIik7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn1cbmZ1bmN0aW9uIHVzZVNpZ25JbkNob29zZVNlc3Npb25Jc0FjdGl2ZSgpIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnbkluUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIHJldHVybiB1c2VBY3RpdmVUYWdzKHJvdXRlclJlZiwgXCJzdGVwOmNob29zZS1zZXNzaW9uXCIpO1xufVxuZnVuY3Rpb24gdXNlU2lnbkluQWN0aXZlU2Vzc2lvbkxpc3QocGFyYW1zKSB7XG4gIGNvbnN0IHsgb21pdEN1cnJlbnQgPSB0cnVlIH0gPSBwYXJhbXMgfHwge307XG4gIHJldHVybiBTaWduSW5Sb3V0ZXJDdHgudXNlU2VsZWN0b3IoKHN0YXRlKSA9PiB7XG4gICAgdmFyIF9hMywgX2IzLCBfYywgX2Q7XG4gICAgY29uc3QgYWN0aXZlU2Vzc2lvbnMgPSAoKF9iMyA9IChfYTMgPSBzdGF0ZS5jb250ZXh0LmNsZXJrKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmNsaWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy5hY3RpdmVTZXNzaW9ucykgfHwgW107XG4gICAgY29uc3QgY3VycmVudFNlc3Npb25JZCA9IChfZCA9IChfYyA9IHN0YXRlLmNvbnRleHQuY2xlcmspID09IG51bGwgPyB2b2lkIDAgOiBfYy5zZXNzaW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2QuaWQ7XG4gICAgY29uc3QgZmlsdGVyZWRTZXNzaW9ucyA9IG9taXRDdXJyZW50ID8gYWN0aXZlU2Vzc2lvbnMuZmlsdGVyKChzKSA9PiBzLmlkICE9PSBjdXJyZW50U2Vzc2lvbklkKSA6IGFjdGl2ZVNlc3Npb25zO1xuICAgIHJldHVybiBmaWx0ZXJlZFNlc3Npb25zLm1hcCgocykgPT4gKHtcbiAgICAgIGlkOiBzLmlkLFxuICAgICAgLi4ucy5wdWJsaWNVc2VyRGF0YVxuICAgIH0pKTtcbiAgfSk7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL2Nob29zZS1zZXNzaW9uL2Nob29zZS1zZXNzaW9uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTaWduSW5DaG9vc2VTZXNzaW9uQ3R4ID0gY3JlYXRlQ29udGV4dEZvckRvbVZhbGlkYXRpb24oXCJTaWduSW5DaG9vc2VTZXNzaW9uQ3R4XCIpO1xuZnVuY3Rpb24gU2lnbkluQ2hvb3NlU2Vzc2lvbih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gdXNlU2lnbkluQ2hvb3NlU2Vzc2lvbklzQWN0aXZlKCk7XG4gIHJldHVybiBhY3RpdmVTdGF0ZSA/IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFNpZ25JbkNob29zZVNlc3Npb25DdHguUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgLi4ucHJvcHMsIGNoaWxkcmVuIH0pIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIFNpZ25JblNlc3Npb25MaXN0KHsgYXNDaGlsZCwgY2hpbGRyZW4sIGluY2x1ZGVDdXJyZW50U2Vzc2lvbiwgLi4ucHJvcHMgfSkge1xuICBjb25zdCBzZXNzaW9ucyA9IHVzZVNpZ25JbkFjdGl2ZVNlc3Npb25MaXN0KHsgb21pdEN1cnJlbnQ6ICFpbmNsdWRlQ3VycmVudFNlc3Npb24gfSk7XG4gIGlmICghY2hpbGRyZW4gfHwgIShzZXNzaW9ucyA9PSBudWxsID8gdm9pZCAwIDogc2Vzc2lvbnMubGVuZ3RoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChSZWFjdDE3LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSA+IDEpIHtcbiAgICByZXR1cm4gUmVhY3QxNy5DaGlsZHJlbi5vbmx5KG51bGwpO1xuICB9XG4gIGlmIChhc0NoaWxkICYmIGlzVmFsaWRDb21wb25lbnRUeXBlKGNoaWxkcmVuLCBTaWduSW5TZXNzaW9uTGlzdEl0ZW0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYXNDaGlsZCBjYW5ub3QgYmUgdXNlZCB3aXRoIFNlc3Npb25MaXN0SXRlbSBhcyB0aGUgZGlyZWN0IGNoaWxkXCIpO1xuICB9XG4gIGlmICghUmVhY3QxNy5pc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjaGlsZHJlbiBtdXN0IGJlIGEgdmFsaWQgUmVhY3QgZWxlbWVudFwiKTtcbiAgfVxuICBjb25zdCBuZXdDaGlsZHJlbiA9IGFzQ2hpbGQgPyBjaGlsZHJlbi5wcm9wcy5jaGlsZHJlbiA6IGNoaWxkcmVuO1xuICBjb25zdCBjaGlsZHJlbldpdGhDdHggPSBzZXNzaW9ucy5tYXAoKHNlc3Npb24pID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDgoXG4gICAgICBTaWduSW5BY3RpdmVTZXNzaW9uQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHNlc3Npb24sXG4gICAgICAgIGNoaWxkcmVuOiBuZXdDaGlsZHJlblxuICAgICAgfSxcbiAgICAgIGBTaWduSW5BY3RpdmVTZXNzaW9uQ29udGV4dC0ke3Nlc3Npb24uaWR9YFxuICAgICk7XG4gIH0pO1xuICBpZiAoYXNDaGlsZCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OChTbG90NCwgeyAuLi5wcm9wcywgY2hpbGRyZW46IFJlYWN0MTcuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB2b2lkIDAsIGNoaWxkcmVuV2l0aEN0eCkgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwidWxcIiwgeyAuLi5wcm9wcywgY2hpbGRyZW46IGNoaWxkcmVuV2l0aEN0eCB9KTtcbn1cbmZ1bmN0aW9uIFNpZ25JblNlc3Npb25MaXN0SXRlbShwcm9wcykge1xuICBjb25zdCB7IGFzQ2hpbGQgPSBmYWxzZSwgY2hpbGRyZW4sIC4uLnBhc3N0aHJvdWdoUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBzZXNzaW9uID0gdXNlU2lnbkluQWN0aXZlU2Vzc2lvbkNvbnRleHQoKTtcbiAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90NCA6IFwibGlcIjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g4KENvbXAsIHsgLi4ucGFzc3Rocm91Z2hQcm9wcywgY2hpbGRyZW46IGNoaWxkcmVuKHsgc2Vzc2lvbiB9KSB9KTtcbn1cblxuLy8gc3JjL3JlYWN0L3NpZ24taW4vY2hvb3NlLXN0cmF0ZWd5LnRzeFxuaW1wb3J0IHsgU2xvdCBhcyBTbG90NSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgYXMgdXNlU2VsZWN0b3IzIH0gZnJvbSBcIkB4c3RhdGUvcmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MTggZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2lnbi1pbi92ZXJpZmljYXRpb24ubWFjaGluZS50c1xuaW1wb3J0IHsgaXNDbGVya0FQSVJlc3BvbnNlRXJyb3IgfSBmcm9tIFwiQGNsZXJrL3NoYXJlZC9lcnJvclwiO1xuaW1wb3J0IHsgYXNzaWduIGFzIGFzc2lnbjIsIGZyb21Qcm9taXNlLCBsb2csIHNlbmRUbywgc2V0dXAgYXMgc2V0dXAyIH0gZnJvbSBcInhzdGF0ZVwiO1xuXG4vLyBzcmMvaW50ZXJuYWxzL2NvbnN0YW50cy9pbmRleC50c1xudmFyIFNTT19DQUxMQkFDS19QQVRIX1JPVVRFID0gXCIvc3NvLWNhbGxiYWNrXCI7XG52YXIgQ0hPT1NFX1NFU1NJT05fUEFUSF9ST1VURSA9IFwiL2Nob29zZVwiO1xudmFyIE1BR0lDX0xJTktfVkVSSUZZX1BBVEhfUk9VVEUgPSBcIi92ZXJpZnlcIjtcbnZhciBfYSwgX2I7XG52YXIgU0lHTl9JTl9ERUZBVUxUX0JBU0VfUEFUSCA9IChfYiA9IChfYSA9IHByb2Nlc3MuZW52LkNMRVJLX1NJR05fSU5fVVJMKSAhPSBudWxsID8gX2EgOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DTEVSS19TSUdOX0lOX1VSTCkgIT0gbnVsbCA/IF9iIDogXCIvc2lnbi1pblwiO1xudmFyIF9hMiwgX2IyO1xudmFyIFNJR05fVVBfREVGQVVMVF9CQVNFX1BBVEggPSAoX2IyID0gKF9hMiA9IHByb2Nlc3MuZW52LkNMRVJLX1NJR05fVVBfVVJMKSAhPSBudWxsID8gX2EyIDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0xFUktfU0lHTl9VUF9VUkwpICE9IG51bGwgPyBfYjIgOiBcIi9zaWduLXVwXCI7XG52YXIgTkVYVF9XSU5ET1dfSElTVE9SWV9TVVBQT1JUX1ZFUlNJT04gPSBcIjE0LjEuMFwiO1xudmFyIFNFQVJDSF9QQVJBTVMgPSB7XG4gIGNyZWF0ZWRTZXNzaW9uOiBcIl9fY2xlcmtfY3JlYXRlZF9zZXNzaW9uXCIsXG4gIGhhbmRzaGFrZTogXCJfX2NsZXJrX2hhbmRzaGFrZVwiLFxuICBoZWxwOiBcIl9fY2xlcmtfaGVscFwiLFxuICBpbnZpdGF0aW9uVG9rZW46IFwiX19jbGVya19pbnZpdGF0aW9uX3Rva2VuXCIsXG4gIG1vZGFsU3RhdGU6IFwiX19jbGVya19tb2RhbF9zdGF0ZVwiLFxuICBzYXRlbGxpdGVVcmw6IFwiX19jbGVya19zYXRlbGxpdGVfdXJsXCIsXG4gIHN0YXR1czogXCJfX2NsZXJrX3N0YXR1c1wiLFxuICBzeW5jZWQ6IFwiX19jbGVya19zeW5jZWRcIixcbiAgdGlja2V0OiBcIl9fY2xlcmtfdGlja2V0XCIsXG4gIHRyYW5zZmVyOiBcIl9fY2xlcmtfdHJhbnNmZXJcIlxufTtcbnZhciBSRVNFTkRBQkxFX0NPVU5URE9XTl9ERUZBVUxUID0gNjA7XG52YXIgQ0FQVENIQV9FTEVNRU5UX0lEID0gXCJjbGVyay1jYXB0Y2hhXCI7XG52YXIgRVJST1JfQ09ERVMgPSB7XG4gIEZPUk1fSURFTlRJRklFUl9OT1RfRk9VTkQ6IFwiZm9ybV9pZGVudGlmaWVyX25vdF9mb3VuZFwiLFxuICBGT1JNX1BBU1NXT1JEX0lOQ09SUkVDVDogXCJmb3JtX3Bhc3N3b3JkX2luY29ycmVjdFwiLFxuICBJTlZBTElEX1NUUkFURUdZX0ZPUl9VU0VSOiBcInN0cmF0ZWd5X2Zvcl91c2VyX2ludmFsaWRcIixcbiAgTk9UX0FMTE9XRURfVE9fU0lHTl9VUDogXCJub3RfYWxsb3dlZF90b19zaWduX3VwXCIsXG4gIE9BVVRIX0FDQ0VTU19ERU5JRUQ6IFwib2F1dGhfYWNjZXNzX2RlbmllZFwiLFxuICBPQVVUSF9FTUFJTF9ET01BSU5fUkVTRVJWRURfQllfU0FNTDogXCJvYXV0aF9lbWFpbF9kb21haW5fcmVzZXJ2ZWRfYnlfc2FtbFwiLFxuICBOT1RfQUxMT1dFRF9BQ0NFU1M6IFwibm90X2FsbG93ZWRfYWNjZXNzXCIsXG4gIFNBTUxfVVNFUl9BVFRSSUJVVEVfTUlTU0lORzogXCJzYW1sX3VzZXJfYXR0cmlidXRlX21pc3NpbmdcIixcbiAgVVNFUl9MT0NLRUQ6IFwidXNlcl9sb2NrZWRcIlxufTtcbnZhciBST1VUSU5HID0ge1xuICBwYXRoOiBcInBhdGhcIixcbiAgdmlydHVhbDogXCJ2aXJ0dWFsXCJcbn07XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2hhcmVkL3NoYXJlZC5hY3Rpb25zLnRzXG5mdW5jdGlvbiBzZW5kVG9Mb2FkaW5nKHsgY29udGV4dCwgZXZlbnQgfSkge1xuICBsZXQgc3RlcDtcbiAgbGV0IHN0cmF0ZWd5O1xuICBsZXQgYWN0aW9uO1xuICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKFwieHN0YXRlLmRvbmUuXCIpIHx8IGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcInhzdGF0ZS5lcnJvci5cIikpIHtcbiAgICByZXR1cm4gY29udGV4dC5wYXJlbnQuc2VuZCh7XG4gICAgICB0eXBlOiBcIkxPQURJTkdcIixcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBzdGVwOiB2b2lkIDAsXG4gICAgICBzdHJhdGVneTogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgaWYgKGNvbnRleHQubG9hZGluZ1N0ZXAgPT09IFwic3RyYXRlZ3lcIikge1xuICAgIHN0ZXAgPSB2b2lkIDA7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiUkVESVJFQ1RcIikge1xuICAgICAgc3RyYXRlZ3kgPSBldmVudC5wYXJhbXMuc3RyYXRlZ3k7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LnBhcmVudC5zZW5kKHtcbiAgICAgIHR5cGU6IFwiTE9BRElOR1wiLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgc3RlcCxcbiAgICAgIHN0cmF0ZWd5XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udGV4dC5sb2FkaW5nU3RlcCA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgc3RlcCA9IFwiY29udGludWVcIjtcbiAgICBzdHJhdGVneSA9IHZvaWQgMDtcbiAgICBhY3Rpb24gPSBcImFjdGlvblwiIGluIGV2ZW50ID8gZXZlbnQuYWN0aW9uIDogdm9pZCAwO1xuICAgIHJldHVybiBjb250ZXh0LnBhcmVudC5zZW5kKHtcbiAgICAgIHR5cGU6IFwiTE9BRElOR1wiLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgc3RlcCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYWN0aW9uXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udGV4dC5sb2FkaW5nU3RlcCA9PT0gXCJyZXNldC1wYXNzd29yZFwiKSB7XG4gICAgc3RlcCA9IFwicmVzZXQtcGFzc3dvcmRcIjtcbiAgICBzdHJhdGVneSA9IHZvaWQgMDtcbiAgICBhY3Rpb24gPSBcImFjdGlvblwiIGluIGV2ZW50ID8gZXZlbnQuYWN0aW9uIDogdm9pZCAwO1xuICAgIHJldHVybiBjb250ZXh0LnBhcmVudC5zZW5kKHtcbiAgICAgIHR5cGU6IFwiTE9BRElOR1wiLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgc3RlcCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYWN0aW9uXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoY29udGV4dC5sb2FkaW5nU3RlcCA9PT0gXCJzdGFydFwiKSB7XG4gICAgc3RlcCA9IFwic3RhcnRcIjtcbiAgICBzdHJhdGVneSA9IHZvaWQgMDtcbiAgICBhY3Rpb24gPSBcImFjdGlvblwiIGluIGV2ZW50ID8gZXZlbnQuYWN0aW9uIDogdm9pZCAwO1xuICAgIHJldHVybiBjb250ZXh0LnBhcmVudC5zZW5kKHtcbiAgICAgIHR5cGU6IFwiTE9BRElOR1wiLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgc3RlcCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYWN0aW9uXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3RlcCA9IGNvbnRleHQubG9hZGluZ1N0ZXA7XG4gICAgc3RyYXRlZ3kgPSB2b2lkIDA7XG4gICAgYWN0aW9uID0gXCJhY3Rpb25cIiBpbiBldmVudCA/IGV2ZW50LmFjdGlvbiA6IHZvaWQgMDtcbiAgICByZXR1cm4gY29udGV4dC5wYXJlbnQuc2VuZCh7XG4gICAgICB0eXBlOiBcIkxPQURJTkdcIixcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIHN0ZXAsXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGFjdGlvblxuICAgIH0pO1xuICB9XG59XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2lnbi1pbi91dGlscy9zdGFydGluZy1mYWN0b3JzLnRzXG5pbXBvcnQgeyBpc1dlYkF1dGhuU3VwcG9ydGVkIH0gZnJvbSBcIkBjbGVyay9zaGFyZWQvd2ViYXV0aG5cIjtcbnZhciBtYWtlU29ydGluZ09yZGVyTWFwID0gKGFycikgPT4gYXJyLnJlZHVjZShcbiAgKGFjYywgaywgaSkgPT4ge1xuICAgIGFjY1trXSA9IGk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSxcbiAge31cbik7XG52YXIgU1RSQVRFR1lfU09SVF9PUkRFUl9QQVNTV09SRF9QUkVGID0gbWFrZVNvcnRpbmdPcmRlck1hcChbXG4gIFwicGFzc2tleVwiLFxuICBcInBhc3N3b3JkXCIsXG4gIFwiZW1haWxfbGlua1wiLFxuICBcImVtYWlsX2NvZGVcIixcbiAgXCJwaG9uZV9jb2RlXCJcbl0pO1xudmFyIFNUUkFURUdZX1NPUlRfT1JERVJfT1RQX1BSRUYgPSBtYWtlU29ydGluZ09yZGVyTWFwKFtcbiAgXCJlbWFpbF9jb2RlXCIsXG4gIFwiZW1haWxfbGlua1wiLFxuICBcInBob25lX2NvZGVcIixcbiAgXCJwYXNza2V5XCIsXG4gIFwicGFzc3dvcmRcIlxuXSk7XG52YXIgbWFrZVNvcnRpbmdGdW5jdGlvbiA9IChzb3J0aW5nTWFwKSA9PiAoYSwgYikgPT4ge1xuICBjb25zdCBvcmRlckEgPSBzb3J0aW5nTWFwW2Euc3RyYXRlZ3ldO1xuICBjb25zdCBvcmRlckIgPSBzb3J0aW5nTWFwW2Iuc3RyYXRlZ3ldO1xuICBpZiAob3JkZXJBID09PSB2b2lkIDAgfHwgb3JkZXJCID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gb3JkZXJBIC0gb3JkZXJCO1xufTtcbnZhciBwYXNzd29yZFByZWZGYWN0b3JDb21wYXJhdG9yID0gbWFrZVNvcnRpbmdGdW5jdGlvbihTVFJBVEVHWV9TT1JUX09SREVSX1BBU1NXT1JEX1BSRUYpO1xudmFyIG90cFByZWZGYWN0b3JDb21wYXJhdG9yID0gbWFrZVNvcnRpbmdGdW5jdGlvbihTVFJBVEVHWV9TT1JUX09SREVSX09UUF9QUkVGKTtcbnZhciBmaW5kRmFjdG9yRm9ySWRlbnRpZmllciA9IChpKSA9PiAoZikgPT4ge1xuICByZXR1cm4gXCJzYWZlSWRlbnRpZmllclwiIGluIGYgJiYgZi5zYWZlSWRlbnRpZmllciA9PT0gaTtcbn07XG5mdW5jdGlvbiBkZXRlcm1pbmVTdGFydGluZ1NpZ25JbkZhY3RvcihmaXJzdEZhY3RvcnMsIGlkZW50aWZpZXIsIHByZWZlcnJlZFNpZ25JblN0cmF0ZWd5KSB7XG4gIGlmICghZmlyc3RGYWN0b3JzIHx8IGZpcnN0RmFjdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcHJlZmVycmVkU2lnbkluU3RyYXRlZ3kgPT09IFwicGFzc3dvcmRcIiA/IGRldGVybWluZVN0cmF0ZWd5V2hlblBhc3N3b3JkSXNQcmVmZXJyZWQoZmlyc3RGYWN0b3JzLCBpZGVudGlmaWVyKSA6IGRldGVybWluZVN0cmF0ZWd5V2hlbk9UUElzUHJlZmVycmVkKGZpcnN0RmFjdG9ycywgaWRlbnRpZmllcik7XG59XG5mdW5jdGlvbiBmaW5kUGFzc2tleVN0cmF0ZWd5KGZhY3RvcnMpIHtcbiAgaWYgKGlzV2ViQXV0aG5TdXBwb3J0ZWQoKSkge1xuICAgIGNvbnN0IHBhc3NrZXlGYWN0b3IgPSBmYWN0b3JzLmZpbmQoKHsgc3RyYXRlZ3kgfSkgPT4gc3RyYXRlZ3kgPT09IFwicGFzc2tleVwiKTtcbiAgICBpZiAocGFzc2tleUZhY3Rvcikge1xuICAgICAgcmV0dXJuIHBhc3NrZXlGYWN0b3I7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lU3RyYXRlZ3lXaGVuUGFzc3dvcmRJc1ByZWZlcnJlZChmYWN0b3JzLCBpZGVudGlmaWVyKSB7XG4gIGNvbnN0IHBhc3NrZXlGYWN0b3IgPSBmaW5kUGFzc2tleVN0cmF0ZWd5KGZhY3RvcnMpO1xuICBpZiAocGFzc2tleUZhY3Rvcikge1xuICAgIHJldHVybiBwYXNza2V5RmFjdG9yO1xuICB9XG4gIGNvbnN0IHNlbGVjdGVkID0gZmFjdG9ycy5zb3J0KHBhc3N3b3JkUHJlZkZhY3RvckNvbXBhcmF0b3IpWzBdO1xuICBpZiAoc2VsZWN0ZWQuc3RyYXRlZ3kgPT09IFwicGFzc3dvcmRcIikge1xuICAgIHJldHVybiBzZWxlY3RlZDtcbiAgfVxuICByZXR1cm4gZmFjdG9ycy5maW5kKGZpbmRGYWN0b3JGb3JJZGVudGlmaWVyKGlkZW50aWZpZXIpKSB8fCBzZWxlY3RlZCB8fCBudWxsO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lU3RyYXRlZ3lXaGVuT1RQSXNQcmVmZXJyZWQoZmFjdG9ycywgaWRlbnRpZmllcikge1xuICBjb25zdCBwYXNza2V5RmFjdG9yID0gZmluZFBhc3NrZXlTdHJhdGVneShmYWN0b3JzKTtcbiAgaWYgKHBhc3NrZXlGYWN0b3IpIHtcbiAgICByZXR1cm4gcGFzc2tleUZhY3RvcjtcbiAgfVxuICBjb25zdCBzb3J0ZWRCYXNlZE9uUHJlZkZhY3RvciA9IGZhY3RvcnMuc29ydChvdHBQcmVmRmFjdG9yQ29tcGFyYXRvcik7XG4gIGNvbnN0IGZvcklkZW50aWZpZXIgPSBzb3J0ZWRCYXNlZE9uUHJlZkZhY3Rvci5maW5kKGZpbmRGYWN0b3JGb3JJZGVudGlmaWVyKGlkZW50aWZpZXIpKTtcbiAgaWYgKGZvcklkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gZm9ySWRlbnRpZmllcjtcbiAgfVxuICBjb25zdCBmaXJzdEJhc2VkT25QcmVmID0gc29ydGVkQmFzZWRPblByZWZGYWN0b3JbMF07XG4gIGlmIChmaXJzdEJhc2VkT25QcmVmLnN0cmF0ZWd5ID09PSBcImVtYWlsX2xpbmtcIikge1xuICAgIHJldHVybiBmaXJzdEJhc2VkT25QcmVmO1xuICB9XG4gIHJldHVybiBmYWN0b3JzLmZpbmQoZmluZEZhY3RvckZvcklkZW50aWZpZXIoaWRlbnRpZmllcikpIHx8IGZpcnN0QmFzZWRPblByZWYgfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGRldGVybWluZVN0YXJ0aW5nU2lnbkluU2Vjb25kRmFjdG9yKHNlY29uZEZhY3RvcnMpIHtcbiAgaWYgKCFzZWNvbmRGYWN0b3JzIHx8IHNlY29uZEZhY3RvcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdG90cEZhY3RvciA9IHNlY29uZEZhY3RvcnMuZmluZCgoZikgPT4gZi5zdHJhdGVneSA9PT0gXCJ0b3RwXCIpO1xuICBpZiAodG90cEZhY3Rvcikge1xuICAgIHJldHVybiB0b3RwRmFjdG9yO1xuICB9XG4gIGNvbnN0IHBob25lQ29kZUZhY3RvciA9IHNlY29uZEZhY3RvcnMuZmluZCgoZikgPT4gZi5zdHJhdGVneSA9PT0gXCJwaG9uZV9jb2RlXCIpO1xuICBpZiAocGhvbmVDb2RlRmFjdG9yKSB7XG4gICAgcmV0dXJuIHBob25lQ29kZUZhY3RvcjtcbiAgfVxuICByZXR1cm4gc2Vjb25kRmFjdG9yc1swXTtcbn1cblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy91dGlscy9hc3NlcnQudHNcbmZ1bmN0aW9uIGFzc2VydElzRGVmaW5lZCh2YWx1ZSwgbGFiZWwpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDAgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bGFiZWwgfHwgdmFsdWV9IGlzIG5vdCBkZWZpbmVkYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEFjdG9yRXZlbnRFcnJvcihldmVudCkge1xuICBpZiAoXCJlcnJvclwiIGluIGV2ZW50ID09PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYW4gZXJyb3IgZXZlbnQsIGdvdCBcIiR7ZXZlbnQudHlwZX1cImApO1xuICB9XG59XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2lnbi1pbi92ZXJpZmljYXRpb24udHlwZXMudHNcbnZhciBTaWduSW5WZXJpZmljYXRpb25EZWxheXMgPSB7XG4gIHJlc2VuZGFibGVUaW1lb3V0OiAxZTNcbiAgLy8gMSBzZWNvbmRcbn07XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2lnbi1pbi92ZXJpZmljYXRpb24ubWFjaGluZS50c1xudmFyIGlzTm9uUHJlcGVyYWJsZVN0cmF0ZWd5ID0gKHN0cmF0ZWd5KSA9PiB7XG4gIGlmICghc3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIFtcInBhc3NrZXlcIiwgXCJwYXNzd29yZFwiXS5pbmNsdWRlcyhzdHJhdGVneSk7XG59O1xudmFyIFNpZ25JblZlcmlmaWNhdGlvbk1hY2hpbmVJZCA9IFwiU2lnbkluVmVyaWZpY2F0aW9uXCI7XG52YXIgU2lnbkluVmVyaWZpY2F0aW9uTWFjaGluZSA9IHNldHVwMih7XG4gIGFjdG9yczoge1xuICAgIGRldGVybWluZVN0YXJ0aW5nRmFjdG9yOiBmcm9tUHJvbWlzZShcbiAgICAgICgpID0+IFByb21pc2UucmVqZWN0KG5ldyBDbGVya0VsZW1lbnRzUnVudGltZUVycm9yKFwiQWN0b3IgYGRldGVybWluZVN0YXJ0aW5nRmFjdG9yYCBtdXN0IGJlIG92ZXJyaWRkZW5cIikpXG4gICAgKSxcbiAgICBwcmVwYXJlOiBmcm9tUHJvbWlzZShcbiAgICAgICgpID0+IFByb21pc2UucmVqZWN0KG5ldyBDbGVya0VsZW1lbnRzUnVudGltZUVycm9yKFwiQWN0b3IgYHByZXBhcmVgIG11c3QgYmUgb3ZlcnJpZGRlblwiKSlcbiAgICApLFxuICAgIGF0dGVtcHQ6IGZyb21Qcm9taXNlKFxuICAgICAgKCkgPT4gUHJvbWlzZS5yZWplY3QobmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoXCJBY3RvciBgYXR0ZW1wdGAgbXVzdCBiZSBvdmVycmlkZGVuXCIpKVxuICAgIClcbiAgfSxcbiAgYWN0aW9uczoge1xuICAgIHJlc2VuZGFibGVUaWNrOiBhc3NpZ24yKCh7IGNvbnRleHQgfSkgPT4gKHtcbiAgICAgIHJlc2VuZGFibGU6IGNvbnRleHQucmVzZW5kYWJsZUFmdGVyID09PSAwLFxuICAgICAgcmVzZW5kYWJsZUFmdGVyOiBjb250ZXh0LnJlc2VuZGFibGVBZnRlciA+IDAgPyBjb250ZXh0LnJlc2VuZGFibGVBZnRlciAtIDEgOiBjb250ZXh0LnJlc2VuZGFibGVBZnRlclxuICAgIH0pKSxcbiAgICByZXNlbmRhYmxlUmVzZXQ6IGFzc2lnbjIoe1xuICAgICAgcmVzZW5kYWJsZTogZmFsc2UsXG4gICAgICByZXNlbmRhYmxlQWZ0ZXI6IFJFU0VOREFCTEVfQ09VTlRET1dOX0RFRkFVTFRcbiAgICB9KSxcbiAgICB2YWxpZGF0ZVJlZ2lzdGVyZWRTdHJhdGVnaWVzOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICBjb25zdCBjbGVyayA9IGNvbnRleHQucGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyaztcbiAgICAgIGlmICgoX2EzID0gY2xlcmsuX191bnN0YWJsZV9fZW52aXJvbm1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZhbHNlKSB7XG4gICAgICAgIGlmIChjbGVyay5jbGllbnQuc2lnbkluLnN1cHBvcnRlZEZpcnN0RmFjdG9ycyAmJiAhY2xlcmsuY2xpZW50LnNpZ25Jbi5zdXBwb3J0ZWRGaXJzdEZhY3RvcnMuZXZlcnkoKGZhY3RvcikgPT4gY29udGV4dC5yZWdpc3RlcmVkU3RyYXRlZ2llcy5oYXMoZmFjdG9yLnN0cmF0ZWd5KSkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgQ2xlcms6IFlvdXIgaW5zdGFuY2UgaXMgY29uZmlndXJlZCB0byBzdXBwb3J0IHRoZXNlIHN0cmF0ZWdpZXM6ICR7Y2xlcmsuY2xpZW50LnNpZ25Jbi5zdXBwb3J0ZWRGaXJzdEZhY3RvcnMubWFwKChmYWN0b3IpID0+IGZhY3Rvci5zdHJhdGVneSkuam9pbihcIiwgXCIpfSwgYnV0IHRoZSByZW5kZXJlZCBzdHJhdGVnaWVzIGFyZTogJHtBcnJheS5mcm9tKGNvbnRleHQucmVnaXN0ZXJlZFN0cmF0ZWdpZXMpLmpvaW4oXG4gICAgICAgICAgICAgIFwiLCBcIlxuICAgICAgICAgICAgKX0uIE1ha2Ugc3VyZSB0byByZW5kZXIgYSA8U3RyYXRlZ3k+IGNvbXBvbmVudCBmb3IgZWFjaCBzdXBwb3J0ZWQgc3RyYXRlZ3kuIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vY2xlcmsuY29tL2RvY3MvZWxlbWVudHMvcmVmZXJlbmNlL3NpZ24taW4jc3RyYXRlZ3lgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlcmsuY2xpZW50LnNpZ25Jbi5zdXBwb3J0ZWRTZWNvbmRGYWN0b3JzICYmICFjbGVyay5jbGllbnQuc2lnbkluLnN1cHBvcnRlZFNlY29uZEZhY3RvcnMuZXZlcnkoKGZhY3RvcikgPT4gY29udGV4dC5yZWdpc3RlcmVkU3RyYXRlZ2llcy5oYXMoZmFjdG9yLnN0cmF0ZWd5KSkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgQ2xlcms6IFlvdXIgaW5zdGFuY2UgaXMgY29uZmlndXJlZCB0byBzdXBwb3J0IHRoZXNlIDJGQSBzdHJhdGVnaWVzOiAke2NsZXJrLmNsaWVudC5zaWduSW4uc3VwcG9ydGVkU2Vjb25kRmFjdG9ycy5tYXAoKGYpID0+IGYuc3RyYXRlZ3kpLmpvaW4oXCIsIFwiKX0sIGJ1dCB0aGUgcmVuZGVyZWQgc3RyYXRlZ2llcyBhcmU6ICR7QXJyYXkuZnJvbShjb250ZXh0LnJlZ2lzdGVyZWRTdHJhdGVnaWVzKS5qb2luKFxuICAgICAgICAgICAgICBcIiwgXCJcbiAgICAgICAgICAgICl9LiBNYWtlIHN1cmUgdG8gcmVuZGVyIGEgPFN0cmF0ZWd5PiBjb21wb25lbnQgZm9yIGVhY2ggc3VwcG9ydGVkIHN0cmF0ZWd5LiBNb3JlIGluZm9ybWF0aW9uOiBodHRwczovL2NsZXJrLmNvbS9kb2NzL2VsZW1lbnRzL3JlZmVyZW5jZS9zaWduLWluI3N0cmF0ZWd5YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyYXRlZ2llc1VzZWRCdXROb3RBY3RpdmF0ZWQgPSBBcnJheS5mcm9tKGNvbnRleHQucmVnaXN0ZXJlZFN0cmF0ZWdpZXMpLmZpbHRlcihcbiAgICAgICAgICAoc3RyYXRlZ3kpID0+ICEoKF9hNCA9IGNsZXJrLmNsaWVudC5zaWduSW4uc3VwcG9ydGVkRmlyc3RGYWN0b3JzKSA9PSBudWxsID8gdm9pZCAwIDogX2E0LnNvbWUoKHN1cHBvcnRlZCkgPT4gc3VwcG9ydGVkLnN0cmF0ZWd5ID09PSBzdHJhdGVneSkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdHJhdGVnaWVzVXNlZEJ1dE5vdEFjdGl2YXRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYENsZXJrOiBUaGVzZSByZW5kZXJlZCBzdHJhdGVnaWVzIGFyZSBub3QgY29uZmlndXJlZCBmb3IgeW91ciBpbnN0YW5jZTogJHtzdHJhdGVnaWVzVXNlZEJ1dE5vdEFjdGl2YXRlZC5qb2luKFwiLCBcIil9LiBJZiB0aGlzIGlzIHVuZXhwZWN0ZWQsIG1ha2Ugc3VyZSB0byBlbmFibGUgdGhlbSBpbiB5b3VyIENsZXJrIGRhc2hib2FyZDogaHR0cHM6Ly9kYXNoYm9hcmQuY2xlcmsuY29tL2xhc3QtYWN0aXZlP3BhdGg9L3VzZXItYXV0aGVudGljYXRpb24vZW1haWwtcGhvbmUtdXNlcm5hbWVgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKChfYjMgPSBjb250ZXh0LmN1cnJlbnRGYWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYjMuc3RyYXRlZ3kpICYmICFjb250ZXh0LnJlZ2lzdGVyZWRTdHJhdGVnaWVzLmhhcygoX2MgPSBjb250ZXh0LmN1cnJlbnRGYWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zdHJhdGVneSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihcbiAgICAgICAgICAgIGBZb3VyIHNpZ24taW4gYXR0ZW1wdCBpcyBtaXNzaW5nIGEgJHsoX2QgPSBjb250ZXh0LmN1cnJlbnRGYWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfZC5zdHJhdGVneX0gc3RyYXRlZ3kuIE1ha2Ugc3VyZSA8U3RyYXRlZ3kgbmFtZT1cIiR7KF9lID0gY29udGV4dC5jdXJyZW50RmFjdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2Uuc3RyYXRlZ3l9XCI+IGlzIHJlbmRlcmVkIGluIHlvdXIgZmxvdy4gTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly9jbGVyay5jb20vZG9jcy9lbGVtZW50cy9yZWZlcmVuY2Uvc2lnbi1pbiNzdHJhdGVneWBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEoKF9mID0gY29udGV4dC5jdXJyZW50RmFjdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2Yuc3RyYXRlZ3kpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBkZXRlcm1pbmUgYW4gYXV0aGVudGljYXRpb24gc3RyYXRlZ3kgdG8gdmVyaWZ5LiBUaGlzIG1lYW5zIHlvdXIgaW5zdGFuY2UgaXMgbWlzY29uZmlndXJlZC4gVmlzaXQgdGhlIENsZXJrIERhc2hib2FyZCBhbmQgdmVyaWZ5IHRoYXQgeW91ciBpbnN0YW5jZSBoYXMgYXV0aGVudGljYXRpb24gc3RyYXRlZ2llcyBlbmFibGVkOiBodHRwczovL2Rhc2hib2FyZC5jbGVyay5jb20vbGFzdC1hY3RpdmU/cGF0aD0vdXNlci1hdXRoZW50aWNhdGlvbi9lbWFpbC1waG9uZS11c2VybmFtZVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc2VuZFRvTmV4dDogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4gY29udGV4dC5wYXJlbnQuc2VuZCh7IHR5cGU6IFwiTkVYVFwiLCByZXNvdXJjZTogZXZlbnQub3V0cHV0IH0pLFxuICAgIHNlbmRUb0xvYWRpbmcsXG4gICAgc2V0Rm9ybUVycm9yczogc2VuZFRvKFxuICAgICAgKHsgY29udGV4dCB9KSA9PiBjb250ZXh0LmZvcm1SZWYsXG4gICAgICAoeyBldmVudCB9KSA9PiB7XG4gICAgICAgIGFzc2VydEFjdG9yRXZlbnRFcnJvcihldmVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJFUlJPUlMuU0VUXCIsXG4gICAgICAgICAgZXJyb3I6IGV2ZW50LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKSxcbiAgICBzZXRDb25zb2xlRXJyb3I6ICh7IGV2ZW50IH0pID0+IHtcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFzc2VydEFjdG9yRXZlbnRFcnJvcihldmVudCk7XG4gICAgICBjb25zdCBlcnJvciA9IGlzQ2xlcmtBUElSZXNwb25zZUVycm9yKGV2ZW50LmVycm9yKSA/IGV2ZW50LmVycm9yLmVycm9yc1swXS5sb25nTWVzc2FnZSA6IGV2ZW50LmVycm9yLm1lc3NhZ2U7XG4gICAgICBjb25zb2xlLmVycm9yKGBVbmFibGUgdG8gZnVsZmlsbCB0aGUgcHJlcGFyZSBvciBhdHRlbXB0IHJlcXVlc3QgZm9yIHRoZSBzaWduLWluIHZlcmlmaWNhdGlvbi5cbiAgICAgIEVycm9yOiAke2Vycm9yfVxuICAgICAgUGxlYXNlIG9wZW4gYW4gaXNzdWUgaWYgeW91IGNvbnRpbnVlIHRvIHJ1biBpbnRvIHRoaXMgaXNzdWUuYCk7XG4gICAgfVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpc1Jlc2VuZGFibGU6ICh7IGNvbnRleHQgfSkgPT4gY29udGV4dC5yZXNlbmRhYmxlIHx8IGNvbnRleHQucmVzZW5kYWJsZUFmdGVyID09PSAwLFxuICAgIGlzTmV2ZXJSZXNlbmRhYmxlOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICByZXR1cm4gaXNOb25QcmVwZXJhYmxlU3RyYXRlZ3koKF9hMyA9IGNvbnRleHQuY3VycmVudEZhY3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5zdHJhdGVneSk7XG4gICAgfVxuICB9LFxuICBkZWxheXM6IFNpZ25JblZlcmlmaWNhdGlvbkRlbGF5cyxcbiAgdHlwZXM6IHt9XG59KS5jcmVhdGVNYWNoaW5lKHtcbiAgaWQ6IFNpZ25JblZlcmlmaWNhdGlvbk1hY2hpbmVJZCxcbiAgY29udGV4dDogKHsgaW5wdXQgfSkgPT4gKHtcbiAgICBjdXJyZW50RmFjdG9yOiBudWxsLFxuICAgIGJhc2VQYXRoOiBpbnB1dC5iYXNlUGF0aCB8fCBTSUdOX0lOX0RFRkFVTFRfQkFTRV9QQVRILFxuICAgIGZvcm1SZWY6IGlucHV0LmZvcm1SZWYsXG4gICAgbG9hZGluZ1N0ZXA6IFwidmVyaWZpY2F0aW9uc1wiLFxuICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgIHJlZ2lzdGVyZWRTdHJhdGVnaWVzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgIHJlc2VuZGFibGU6IGZhbHNlLFxuICAgIHJlc2VuZGFibGVBZnRlcjogUkVTRU5EQUJMRV9DT1VOVERPV05fREVGQVVMVFxuICB9KSxcbiAgaW5pdGlhbDogXCJJbml0XCIsXG4gIG9uOiB7XG4gICAgXCJOQVZJR0FURS5QUkVWSU9VU1wiOiBcIi5IaXN0XCIsXG4gICAgXCJTVFJBVEVHWS5SRUdJU1RFUlwiOiB7XG4gICAgICBhY3Rpb25zOiBhc3NpZ24yKHtcbiAgICAgICAgcmVnaXN0ZXJlZFN0cmF0ZWdpZXM6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IGNvbnRleHQucmVnaXN0ZXJlZFN0cmF0ZWdpZXMuYWRkKGV2ZW50LmZhY3RvcilcbiAgICAgIH0pXG4gICAgfSxcbiAgICBcIlNUUkFURUdZLlVOUkVHSVNURVJcIjoge1xuICAgICAgYWN0aW9uczogYXNzaWduMih7XG4gICAgICAgIHJlZ2lzdGVyZWRTdHJhdGVnaWVzOiAoeyBjb250ZXh0LCBldmVudCB9KSA9PiB7XG4gICAgICAgICAgY29udGV4dC5yZWdpc3RlcmVkU3RyYXRlZ2llcy5kZWxldGUoZXZlbnQuZmFjdG9yKTtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5yZWdpc3RlcmVkU3RyYXRlZ2llcztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIHN0YXRlczoge1xuICAgIEluaXQ6IHtcbiAgICAgIHRhZ3M6IFtcInN0YXRlOnByZXBhcmluZ1wiLCBcInN0YXRlOmxvYWRpbmdcIl0sXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwiZGV0ZXJtaW5lU3RhcnRpbmdGYWN0b3JcIixcbiAgICAgICAgc3JjOiBcImRldGVybWluZVN0YXJ0aW5nRmFjdG9yXCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0IH0pID0+ICh7XG4gICAgICAgICAgcGFyZW50OiBjb250ZXh0LnBhcmVudFxuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcIlByZXBhcmluZ1wiLFxuICAgICAgICAgIGFjdGlvbnM6IGFzc2lnbjIoe1xuICAgICAgICAgICAgY3VycmVudEZhY3RvcjogKHsgZXZlbnQgfSkgPT4gZXZlbnQub3V0cHV0XG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIHRhcmdldDogXCJQcmVwYXJpbmdcIixcbiAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICBsb2coXCJDbGVyayBbU2lnbiBJbiBWZXJpZmljYXRpb25dOiBFcnJvciBkZXRlcm1pbmluZyBzdGFydGluZyBmYWN0b3JcIiksXG4gICAgICAgICAgICBhc3NpZ24yKHtcbiAgICAgICAgICAgICAgY3VycmVudEZhY3RvcjogeyBzdHJhdGVneTogXCJwYXNzd29yZFwiIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBQcmVwYXJpbmc6IHtcbiAgICAgIHRhZ3M6IFtcInN0YXRlOnByZXBhcmluZ1wiLCBcInN0YXRlOmxvYWRpbmdcIl0sXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwicHJlcGFyZVwiLFxuICAgICAgICBzcmM6IFwicHJlcGFyZVwiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCB9KSA9PiAoe1xuICAgICAgICAgIHBhcmVudDogY29udGV4dC5wYXJlbnQsXG4gICAgICAgICAgcmVzZW5kYWJsZTogY29udGV4dC5yZXNlbmRhYmxlLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgLi4uY29udGV4dC5jdXJyZW50RmFjdG9yLFxuICAgICAgICAgICAgcmVkaXJlY3RVcmw6IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59JHtjb250ZXh0LmJhc2VQYXRofSR7TUFHSUNfTElOS19WRVJJRllfUEFUSF9ST1VURX1gXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJyZXNlbmRhYmxlUmVzZXRcIixcbiAgICAgICAgICB0YXJnZXQ6IFwiUGVuZGluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZXRGb3JtRXJyb3JzXCIsIFwic2V0Q29uc29sZUVycm9yXCJdLFxuICAgICAgICAgIHRhcmdldDogXCJQZW5kaW5nXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgUGVuZGluZzoge1xuICAgICAgdGFnczogW1wic3RhdGU6cGVuZGluZ1wiXSxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIldhaXRpbmcgZm9yIHVzZXIgaW5wdXRcIixcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiTkFWSUdBVEUuQ0hPT1NFX1NUUkFURUdZXCI6IFwiQ2hvb3NlU3RyYXRlZ3lcIixcbiAgICAgICAgXCJOQVZJR0FURS5GT1JHT1RfUEFTU1dPUkRcIjogXCJDaG9vc2VTdHJhdGVneVwiLFxuICAgICAgICBSRVRSWTogXCJQcmVwYXJpbmdcIixcbiAgICAgICAgU1VCTUlUOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcIkF0dGVtcHRpbmdcIixcbiAgICAgICAgICByZWVudGVyOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0aWFsOiBcIkluaXRcIixcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBJbml0OiB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiTWFya3MgYXBwcm9wcmlhdGUgZmFjdG9ycyBhcyBuZXZlciByZXNlbmRhYmxlLlwiLFxuICAgICAgICAgIGFsd2F5czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBndWFyZDogXCJpc05ldmVyUmVzZW5kYWJsZVwiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiTmV2ZXJSZXNlbmRhYmxlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRhcmdldDogXCJOb3RSZXNlbmRhYmxlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFJlc2VuZGFibGU6IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJXYWl0aW5nIGZvciB1c2VyIHRvIHJldHJ5XCJcbiAgICAgICAgfSxcbiAgICAgICAgTmV2ZXJSZXNlbmRhYmxlOiB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiSGFuZGxlcyBuZXZlciByZXNlbmRhYmxlXCIsXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFJFVFJZOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IGxvZyhcIk5ldmVyIHJldHJpYWJsZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgTm90UmVzZW5kYWJsZToge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkhhbmRsZSBjb3VudGRvd25zXCIsXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFJFVFJZOiB7XG4gICAgICAgICAgICAgIGFjdGlvbnM6IGxvZygoeyBjb250ZXh0IH0pID0+IGBOb3QgcmV0cmlhYmxlOyBUcnkgYWdhaW4gaW4gJHtjb250ZXh0LnJlc2VuZGFibGVBZnRlcn1zYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFmdGVyOiB7XG4gICAgICAgICAgICByZXNlbmRhYmxlVGltZW91dDogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiU2V0IGFzIHJldHJpYWJsZSBpZiBjb3VudGRvd24gaXMgMFwiLFxuICAgICAgICAgICAgICAgIGd1YXJkOiBcImlzUmVzZW5kYWJsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwicmVzZW5kYWJsZVRpY2tcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiUmVzZW5kYWJsZVwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb250aW51ZSBjb3VudGRvd24gaWYgbm90IHJldHJpYWJsZVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFwicmVzZW5kYWJsZVRpY2tcIixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiTm90UmVzZW5kYWJsZVwiLFxuICAgICAgICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFmdGVyOiB7XG4gICAgICAgIDNlMzoge1xuICAgICAgICAgIGFjdGlvbnM6IFwidmFsaWRhdGVSZWdpc3RlcmVkU3RyYXRlZ2llc1wiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIENob29zZVN0cmF0ZWd5OiB7XG4gICAgICBkZXNjcmlwdGlvbjogXCJIYW5kbGVzIGJvdGggY2hvb3NlIHN0cmF0ZWd5IGFuZCBmb3Jnb3QgcGFzc3dvcmQgYXMgdGhlIGxhdHRlciBpcyBzaW1pbGFyIGluIGZ1bmN0aW9uYWxpdHlcIixcbiAgICAgIHRhZ3M6IFtcInN0YXRlOmNob29zZS1zdHJhdGVneVwiLCBcInN0YXRlOmZvcmdvdC1wYXNzd29yZFwiXSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiU1RSQVRFR1kuVVBEQVRFXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBhc3NpZ24yKHsgY3VycmVudEZhY3RvcjogKHsgZXZlbnQgfSkgPT4gZXZlbnQuZmFjdG9yIHx8IG51bGwgfSksXG4gICAgICAgICAgdGFyZ2V0OiBcIlByZXBhcmluZ1wiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIEF0dGVtcHRpbmc6IHtcbiAgICAgIHRhZ3M6IFtcInN0YXRlOmF0dGVtcHRpbmdcIiwgXCJzdGF0ZTpsb2FkaW5nXCJdLFxuICAgICAgZW50cnk6IFwic2VuZFRvTG9hZGluZ1wiLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcImF0dGVtcHRcIixcbiAgICAgICAgc3JjOiBcImF0dGVtcHRcIixcbiAgICAgICAgaW5wdXQ6ICh7IGNvbnRleHQgfSkgPT4gKHtcbiAgICAgICAgICBwYXJlbnQ6IGNvbnRleHQucGFyZW50LFxuICAgICAgICAgIGN1cnJlbnRGYWN0b3I6IGNvbnRleHQuY3VycmVudEZhY3RvcixcbiAgICAgICAgICBmaWVsZHM6IGNvbnRleHQuZm9ybVJlZi5nZXRTbmFwc2hvdCgpLmNvbnRleHQuZmllbGRzXG4gICAgICAgIH0pLFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZW5kVG9OZXh0XCIsIFwic2VuZFRvTG9hZGluZ1wiXVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9ybUVycm9yc1wiLCBcInNldENvbnNvbGVFcnJvclwiLCBcInNlbmRUb0xvYWRpbmdcIl0sXG4gICAgICAgICAgdGFyZ2V0OiBcIlBlbmRpbmdcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBIaXN0OiB7XG4gICAgICB0eXBlOiBcImhpc3RvcnlcIlxuICAgIH1cbiAgfVxufSk7XG52YXIgU2lnbkluRmlyc3RGYWN0b3JNYWNoaW5lID0gU2lnbkluVmVyaWZpY2F0aW9uTWFjaGluZS5wcm92aWRlKHtcbiAgYWN0b3JzOiB7XG4gICAgZGV0ZXJtaW5lU3RhcnRpbmdGYWN0b3I6IGZyb21Qcm9taXNlKGFzeW5jICh7IGlucHV0IH0pID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICBjb25zdCBjbGVyayA9IGlucHV0LnBhcmVudC5nZXRTbmFwc2hvdCgpLmNvbnRleHQuY2xlcms7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICBkZXRlcm1pbmVTdGFydGluZ1NpZ25JbkZhY3RvcihcbiAgICAgICAgICBjbGVyay5jbGllbnQuc2lnbkluLnN1cHBvcnRlZEZpcnN0RmFjdG9ycyxcbiAgICAgICAgICBjbGVyay5jbGllbnQuc2lnbkluLmlkZW50aWZpZXIsXG4gICAgICAgICAgKF9hMyA9IGNsZXJrLl9fdW5zdGFibGVfX2Vudmlyb25tZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmRpc3BsYXlDb25maWcucHJlZmVycmVkU2lnbkluU3RyYXRlZ3lcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KSxcbiAgICBwcmVwYXJlOiBmcm9tUHJvbWlzZShhc3luYyAoeyBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB7IHBhcmFtcywgcGFyZW50LCByZXNlbmRhYmxlIH0gPSBpbnB1dDtcbiAgICAgIGNvbnN0IGNsZXJrID0gcGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyaztcbiAgICAgIGNvbnN0IGN1cnJlbnRWZXJpZmljYXRpb25FeHBpcmF0aW9uID0gY2xlcmsuY2xpZW50LnNpZ25Jbi5maXJzdEZhY3RvclZlcmlmaWNhdGlvbi5leHBpcmVBdDtcbiAgICAgIGNvbnN0IG5lZWRzUHJlcGFyZSA9IHJlc2VuZGFibGUgfHwgIWN1cnJlbnRWZXJpZmljYXRpb25FeHBpcmF0aW9uIHx8IGN1cnJlbnRWZXJpZmljYXRpb25FeHBpcmF0aW9uIDwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gICAgICBpZiAoaXNOb25QcmVwZXJhYmxlU3RyYXRlZ3kocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuc3RyYXRlZ3kpIHx8ICFuZWVkc1ByZXBhcmUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjbGVyay5jbGllbnQuc2lnbkluKTtcbiAgICAgIH1cbiAgICAgIGFzc2VydElzRGVmaW5lZChwYXJhbXMsIFwiRmlyc3QgZmFjdG9yIHBhcmFtc1wiKTtcbiAgICAgIHJldHVybiBhd2FpdCBjbGVyay5jbGllbnQuc2lnbkluLnByZXBhcmVGaXJzdEZhY3RvcihwYXJhbXMpO1xuICAgIH0pLFxuICAgIGF0dGVtcHQ6IGZyb21Qcm9taXNlKGFzeW5jICh7IGlucHV0IH0pID0+IHtcbiAgICAgIHZhciBfYTMsIF9iMywgX2MsIF9kO1xuICAgICAgY29uc3QgeyBjdXJyZW50RmFjdG9yLCBmaWVsZHMsIHBhcmVudCB9ID0gaW5wdXQ7XG4gICAgICBhc3NlcnRJc0RlZmluZWQoY3VycmVudEZhY3RvciwgXCJDdXJyZW50IGZhY3RvclwiKTtcbiAgICAgIGxldCBhdHRlbXB0UGFyYW1zO1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBjdXJyZW50RmFjdG9yLnN0cmF0ZWd5O1xuICAgICAgY29uc3QgY29kZSA9IChfYTMgPSBmaWVsZHMuZ2V0KFwiY29kZVwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy52YWx1ZTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gKF9iMyA9IGZpZWxkcy5nZXQoXCJwYXNzd29yZFwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy52YWx1ZTtcbiAgICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSBcInBhc3NrZXlcIjoge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBwYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uYXV0aGVudGljYXRlV2l0aFBhc3NrZXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicGFzc3dvcmRcIjoge1xuICAgICAgICAgIGFzc2VydElzRGVmaW5lZChwYXNzd29yZCwgXCJQYXNzd29yZFwiKTtcbiAgICAgICAgICBhdHRlbXB0UGFyYW1zID0ge1xuICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICBwYXNzd29yZFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJlc2V0X3Bhc3N3b3JkX3Bob25lX2NvZGVcIjpcbiAgICAgICAgY2FzZSBcInJlc2V0X3Bhc3N3b3JkX2VtYWlsX2NvZGVcIjoge1xuICAgICAgICAgIGFzc2VydElzRGVmaW5lZChjb2RlLCBcIkNvZGUgZm9yIHJlc2V0dGluZyBwaG9uZS9lbWFpbFwiKTtcbiAgICAgICAgICBhdHRlbXB0UGFyYW1zID0ge1xuICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJwaG9uZV9jb2RlXCI6XG4gICAgICAgIGNhc2UgXCJlbWFpbF9jb2RlXCI6IHtcbiAgICAgICAgICBhc3NlcnRJc0RlZmluZWQoY29kZSwgXCJDb2RlIGZvciBwaG9uZS9lbWFpbFwiKTtcbiAgICAgICAgICBhdHRlbXB0UGFyYW1zID0ge1xuICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICBjb2RlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwid2ViM19tZXRhbWFza19zaWduYXR1cmVcIjoge1xuICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IChfYyA9IGZpZWxkcy5nZXQoXCJzaWduYXR1cmVcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYy52YWx1ZTtcbiAgICAgICAgICBhc3NlcnRJc0RlZmluZWQoc2lnbmF0dXJlLCBcIldlYjMgTWV0YW1hc2sgc2lnbmF0dXJlXCIpO1xuICAgICAgICAgIGF0dGVtcHRQYXJhbXMgPSB7XG4gICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgIHNpZ25hdHVyZVxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIndlYjNfY29pbmJhc2Vfc2lnbmF0dXJlXCI6IHtcbiAgICAgICAgICBjb25zdCBzaWduYXR1cmUgPSAoX2QgPSBmaWVsZHMuZ2V0KFwic2lnbmF0dXJlXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2QudmFsdWU7XG4gICAgICAgICAgYXNzZXJ0SXNEZWZpbmVkKHNpZ25hdHVyZSwgXCJXZWIzIENvaW5iYXNlIHNpZ25hdHVyZVwiKTtcbiAgICAgICAgICBhdHRlbXB0UGFyYW1zID0ge1xuICAgICAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoYEludmFsaWQgc3RyYXRlZ3k6ICR7c3RyYXRlZ3l9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgcGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyay5jbGllbnQuc2lnbkluLmF0dGVtcHRGaXJzdEZhY3RvcihhdHRlbXB0UGFyYW1zKTtcbiAgICB9KVxuICB9XG59KTtcbnZhciBTaWduSW5TZWNvbmRGYWN0b3JNYWNoaW5lID0gU2lnbkluVmVyaWZpY2F0aW9uTWFjaGluZS5wcm92aWRlKHtcbiAgYWN0b3JzOiB7XG4gICAgZGV0ZXJtaW5lU3RhcnRpbmdGYWN0b3I6IGZyb21Qcm9taXNlKFxuICAgICAgYXN5bmMgKHsgaW5wdXQgfSkgPT4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICBkZXRlcm1pbmVTdGFydGluZ1NpZ25JblNlY29uZEZhY3RvcihcbiAgICAgICAgICBpbnB1dC5wYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uc3VwcG9ydGVkU2Vjb25kRmFjdG9yc1xuICAgICAgICApXG4gICAgICApXG4gICAgKSxcbiAgICBwcmVwYXJlOiBmcm9tUHJvbWlzZShhc3luYyAoeyBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB7IHBhcmFtcywgcGFyZW50LCByZXNlbmRhYmxlIH0gPSBpbnB1dDtcbiAgICAgIGNvbnN0IGNsZXJrID0gcGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyaztcbiAgICAgIGNvbnN0IGN1cnJlbnRWZXJpZmljYXRpb25FeHBpcmF0aW9uID0gY2xlcmsuY2xpZW50LnNpZ25Jbi5zZWNvbmRGYWN0b3JWZXJpZmljYXRpb24uZXhwaXJlQXQ7XG4gICAgICBjb25zdCBuZWVkc1ByZXBhcmUgPSByZXNlbmRhYmxlIHx8ICFjdXJyZW50VmVyaWZpY2F0aW9uRXhwaXJhdGlvbiB8fCBjdXJyZW50VmVyaWZpY2F0aW9uRXhwaXJhdGlvbiA8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICAgICAgYXNzZXJ0SXNEZWZpbmVkKHBhcmFtcywgXCJTZWNvbmQgZmFjdG9yIHBhcmFtc1wiKTtcbiAgICAgIGlmIChwYXJhbXMuc3RyYXRlZ3kgIT09IFwicGhvbmVfY29kZVwiIHx8ICFuZWVkc1ByZXBhcmUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjbGVyay5jbGllbnQuc2lnbkluKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCBjbGVyay5jbGllbnQuc2lnbkluLnByZXBhcmVTZWNvbmRGYWN0b3Ioe1xuICAgICAgICBzdHJhdGVneTogcGFyYW1zLnN0cmF0ZWd5LFxuICAgICAgICBwaG9uZU51bWJlcklkOiBwYXJhbXMucGhvbmVOdW1iZXJJZFxuICAgICAgfSk7XG4gICAgfSksXG4gICAgYXR0ZW1wdDogZnJvbVByb21pc2UoYXN5bmMgKHsgaW5wdXQgfSkgPT4ge1xuICAgICAgdmFyIF9hMztcbiAgICAgIGNvbnN0IHsgZmllbGRzLCBwYXJlbnQsIGN1cnJlbnRGYWN0b3IgfSA9IGlucHV0O1xuICAgICAgY29uc3QgY29kZSA9IChfYTMgPSBmaWVsZHMuZ2V0KFwiY29kZVwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy52YWx1ZTtcbiAgICAgIGFzc2VydElzRGVmaW5lZChjdXJyZW50RmFjdG9yLCBcIkN1cnJlbnQgZmFjdG9yXCIpO1xuICAgICAgYXNzZXJ0SXNEZWZpbmVkKGNvZGUsIFwiQ29kZVwiKTtcbiAgICAgIHJldHVybiBhd2FpdCBwYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uYXR0ZW1wdFNlY29uZEZhY3Rvcih7XG4gICAgICAgIHN0cmF0ZWd5OiBjdXJyZW50RmFjdG9yLnN0cmF0ZWd5LFxuICAgICAgICBjb2RlXG4gICAgICB9KTtcbiAgICB9KVxuICB9XG59KTtcblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy9zaWduLWluL3JvdXRlci5tYWNoaW5lLnRzXG5pbXBvcnQgeyBqb2luVVJMIH0gZnJvbSBcIkBjbGVyay9zaGFyZWQvdXJsXCI7XG5pbXBvcnQgeyBpc1dlYkF1dGhuQXV0b2ZpbGxTdXBwb3J0ZWQgfSBmcm9tIFwiQGNsZXJrL3NoYXJlZC93ZWJhdXRoblwiO1xuaW1wb3J0IHsgYW5kLCBhc3NpZ24gYXMgYXNzaWduNCwgZW5xdWV1ZUFjdGlvbnMgYXMgZW5xdWV1ZUFjdGlvbnMyLCBmcm9tUHJvbWlzZSBhcyBmcm9tUHJvbWlzZTUsIGxvZyBhcyBsb2czLCBub3QgYXMgbm90Mywgb3IsIHJhaXNlLCBzZW5kVG8gYXMgc2VuZFRvNSwgc2V0dXAgYXMgc2V0dXA2IH0gZnJvbSBcInhzdGF0ZVwiO1xuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL3RoaXJkLXBhcnR5L3RoaXJkLXBhcnR5LmFjdG9ycy50c1xuaW1wb3J0IHsgZnJvbUNhbGxiYWNrLCBmcm9tUHJvbWlzZSBhcyBmcm9tUHJvbWlzZTIgfSBmcm9tIFwieHN0YXRlXCI7XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvdXRpbHMvY2xlcmtqcy50c1xuZnVuY3Rpb24gaXNDbGVya0pTRXZlbnQoZXZlbnRPYmosIGV2ZW50KSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKGV2ZW50T2JqKS5pbmNsdWRlcyhldmVudCk7XG59XG52YXIgQ2xlcmtKU05hdmlnYXRpb25FdmVudCA9IHtcbiAgY29tcGxldGU6IFwiQ0xFUktKUy5OQVZJR0FURS5DT01QTEVURVwiLFxuICBzaWduVXA6IFwiQ0xFUktKUy5OQVZJR0FURS5TSUdOX1VQXCIsXG4gIGNvbnRpbnVlOiBcIkNMRVJLSlMuTkFWSUdBVEUuQ09OVElOVUVcIixcbiAgZ2VuZXJpYzogXCJDTEVSS0pTLk5BVklHQVRFLkdFTkVSSUNcIixcbiAgcmVzZXRQYXNzd29yZDogXCJDTEVSS0pTLk5BVklHQVRFLlJFU0VUX1BBU1NXT1JEXCIsXG4gIHNpZ25JbjogXCJDTEVSS0pTLk5BVklHQVRFLlNJR05fSU5cIixcbiAgdmVyaWZpY2F0aW9uOiBcIkNMRVJLSlMuTkFWSUdBVEUuVkVSSUZJQ0FUSU9OXCJcbn07XG5mdW5jdGlvbiBpc0NsZXJrSlNOYXZpZ2F0aW9uRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGlzQ2xlcmtKU0V2ZW50KENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQsIGV2ZW50KTtcbn1cblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy90aGlyZC1wYXJ0eS90aGlyZC1wYXJ0eS5hY3RvcnMudHNcbnZhciByZWRpcmVjdCA9IGZyb21Qcm9taXNlMihcbiAgYXN5bmMgKHsgaW5wdXQ6IHsgZmxvdywgcGFyYW1zLCBwYXJlbnQgfSB9KSA9PiB7XG4gICAgY29uc3QgY2xlcmsgPSBwYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmNsZXJrO1xuICAgIHJldHVybiBjbGVyay5jbGllbnRbZmxvd10uYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KHtcbiAgICAgIHJlZGlyZWN0VXJsOiBjbGVyay5idWlsZFVybFdpdGhBdXRoKHBhcmFtcy5yZWRpcmVjdFVybCB8fCBcIi9cIiksXG4gICAgICByZWRpcmVjdFVybENvbXBsZXRlOiBjbGVyay5idWlsZFVybFdpdGhBdXRoKHBhcmFtcy5yZWRpcmVjdFVybENvbXBsZXRlIHx8IFwiL1wiKSxcbiAgICAgIC4uLnBhcmFtc1xuICAgIH0pO1xuICB9XG4pO1xudmFyIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2sgPSBmcm9tQ2FsbGJhY2soXG4gICh7IHNlbmRCYWNrLCBpbnB1dDogcGFyZW50IH0pID0+IHtcbiAgICB2YXIgX2EzO1xuICAgIGNvbnN0IGNsZXJrID0gcGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyaztcbiAgICBjb25zdCBkaXNwbGF5Q29uZmlnID0gKF9hMyA9IGNsZXJrLl9fdW5zdGFibGVfX2Vudmlyb25tZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmRpc3BsYXlDb25maWc7XG4gICAgY29uc3QgY3VzdG9tTmF2aWdhdGUgPSAodG9FdnQpID0+IHtcbiAgICAgIGNvbnN0IHRvID0gdG9FdnQuc3BsaXQoXCIvXCIpLnNsaWNlKC0xKVswXTtcbiAgICAgIGlmIChpc0NsZXJrSlNOYXZpZ2F0aW9uRXZlbnQodG8pKSB7XG4gICAgICAgIHNlbmRCYWNrKHsgdHlwZTogdG8gfSk7XG4gICAgICB9IGVsc2UgaWYgKHRvID09PSAoZGlzcGxheUNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogZGlzcGxheUNvbmZpZy5zaWduSW5VcmwpKSB7XG4gICAgICAgIHNlbmRCYWNrKHsgdHlwZTogQ2xlcmtKU05hdmlnYXRpb25FdmVudC5zaWduSW4gfSk7XG4gICAgICB9IGVsc2UgaWYgKHRvID09PSAoZGlzcGxheUNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogZGlzcGxheUNvbmZpZy5zaWduVXBVcmwpKSB7XG4gICAgICAgIHNlbmRCYWNrKHsgdHlwZTogQ2xlcmtKU05hdmlnYXRpb25FdmVudC5zaWduVXAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW5kQmFjayh7IHR5cGU6IFwiRkFJTFVSRVwiLCBlcnJvcjogbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoYFVua25vd24gbmF2aWdhdGlvbiBldmVudDogJHt0b31gKSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRlZENsZXJrID0gY2xlcmsuY2xlcmtqcztcbiAgICB2b2lkIGxvYWRlZENsZXJrLmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soXG4gICAgICB7XG4gICAgICAgIHNpZ25JbkZvcmNlUmVkaXJlY3RVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQuY29tcGxldGUsXG4gICAgICAgIHNpZ25JbkZhbGxiYWNrUmVkaXJlY3RVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQuY29tcGxldGUsXG4gICAgICAgIHNpZ25VcEZvcmNlUmVkaXJlY3RVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQuc2lnblVwLFxuICAgICAgICBzaWduVXBGYWxsYmFja1JlZGlyZWN0VXJsOiBDbGVya0pTTmF2aWdhdGlvbkV2ZW50LnNpZ25VcCxcbiAgICAgICAgY29udGludWVTaWduVXBVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQuY29udGludWUsXG4gICAgICAgIGZpcnN0RmFjdG9yVXJsOiBDbGVya0pTTmF2aWdhdGlvbkV2ZW50LnNpZ25JbixcbiAgICAgICAgcmVzZXRQYXNzd29yZFVybDogQ2xlcmtKU05hdmlnYXRpb25FdmVudC5yZXNldFBhc3N3b3JkLFxuICAgICAgICBzZWNvbmRGYWN0b3JVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQuc2lnbkluLFxuICAgICAgICB2ZXJpZnlFbWFpbEFkZHJlc3NVcmw6IENsZXJrSlNOYXZpZ2F0aW9uRXZlbnQudmVyaWZpY2F0aW9uLFxuICAgICAgICB2ZXJpZnlQaG9uZU51bWJlclVybDogQ2xlcmtKU05hdmlnYXRpb25FdmVudC52ZXJpZmljYXRpb24sXG4gICAgICAgIHNpZ25VcFVybDogQ2xlcmtKU05hdmlnYXRpb25FdmVudC5zaWduVXAsXG4gICAgICAgIHNpZ25JblVybDogQ2xlcmtKU05hdmlnYXRpb25FdmVudC5zaWduSW5cbiAgICAgIH0sXG4gICAgICBjdXN0b21OYXZpZ2F0ZVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHZvaWQgMDtcbiAgfVxuKTtcblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy90aGlyZC1wYXJ0eS90aGlyZC1wYXJ0eS5tYWNoaW5lLnRzXG5pbXBvcnQgeyBhc3NlcnRFdmVudCwgYXNzaWduIGFzIGFzc2lnbjMsIGxvZyBhcyBsb2cyLCBub3QsIHNlbmRUbyBhcyBzZW5kVG8yLCBzZXR1cCBhcyBzZXR1cDMgfSBmcm9tIFwieHN0YXRlXCI7XG52YXIgVGhpcmRQYXJ0eU1hY2hpbmVJZCA9IFwiVGhpcmRQYXJ0eVwiO1xudmFyIFRoaXJkUGFydHlNYWNoaW5lID0gc2V0dXAzKHtcbiAgYWN0b3JzOiB7XG4gICAgaGFuZGxlUmVkaXJlY3RDYWxsYmFjayxcbiAgICByZWRpcmVjdFxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgbG9nRXJyb3I6IGxvZzIoKHsgZXZlbnQgfSkgPT4gYEVycm9yOiAke2V2ZW50LnR5cGV9YCksXG4gICAgYXNzaWduQWN0aXZlU3RyYXRlZ3k6IGFzc2lnbjMoe1xuICAgICAgYWN0aXZlU3RyYXRlZ3k6ICh7IGV2ZW50IH0pID0+IHtcbiAgICAgICAgYXNzZXJ0RXZlbnQoZXZlbnQsIFwiUkVESVJFQ1RcIik7XG4gICAgICAgIHJldHVybiBldmVudC5wYXJhbXMuc3RyYXRlZ3k7XG4gICAgICB9XG4gICAgfSksXG4gICAgdW5hc3NpZ25BY3RpdmVTdHJhdGVneTogYXNzaWduMyh7XG4gICAgICBhY3RpdmVTdHJhdGVneTogbnVsbFxuICAgIH0pLFxuICAgIHNlbmRUb05leHQ6ICh7IGNvbnRleHQgfSkgPT4gY29udGV4dC5wYXJlbnQuc2VuZCh7IHR5cGU6IFwiTkVYVFwiIH0pLFxuICAgIHNlbmRUb0xvYWRpbmcsXG4gICAgc2V0Rm9ybUVycm9yczogc2VuZFRvMihcbiAgICAgICh7IGNvbnRleHQgfSkgPT4gY29udGV4dC5mb3JtUmVmLFxuICAgICAgKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgICBhc3NlcnRBY3RvckV2ZW50RXJyb3IoZXZlbnQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiRVJST1JTLlNFVFwiLFxuICAgICAgICAgIGVycm9yOiBldmVudC5lcnJvclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIClcbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaXNFeGFtcGxlTW9kZTogKHsgY29udGV4dCB9KSA9PiBCb29sZWFuKGNvbnRleHQucGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5leGFtcGxlTW9kZSlcbiAgfSxcbiAgdHlwZXM6IHt9XG59KS5jcmVhdGVNYWNoaW5lKHtcbiAgaWQ6IFRoaXJkUGFydHlNYWNoaW5lSWQsXG4gIGNvbnRleHQ6ICh7IGlucHV0IH0pID0+ICh7XG4gICAgYWN0aXZlU3RyYXRlZ3k6IG51bGwsXG4gICAgYmFzZVBhdGg6IGlucHV0LmJhc2VQYXRoLFxuICAgIGZvcm1SZWY6IGlucHV0LmZvcm1SZWYsXG4gICAgZmxvdzogaW5wdXQuZmxvdyxcbiAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICBsb2FkaW5nU3RlcDogXCJzdHJhdGVneVwiXG4gIH0pLFxuICBpbml0aWFsOiBcIklkbGVcIixcbiAgc3RhdGVzOiB7XG4gICAgSWRsZToge1xuICAgICAgZGVzY3JpcHRpb246IFwiU2V0cyB0aGlyZC1wYXJ0eSBwcm92aWRlcnMgaWYgbm90IGFscmVhZHkgc2V0LCBhbmQgd2FpdHMgZm9yIGEgcmVkaXJlY3Qgb3IgY2FsbGJhY2sgZXZlbnRcIixcbiAgICAgIG9uOiB7XG4gICAgICAgIENBTExCQUNLOiBcIkhhbmRsaW5nQ2FsbGJhY2tcIixcbiAgICAgICAgUkVESVJFQ1Q6IHtcbiAgICAgICAgICBndWFyZDogbm90KFwiaXNFeGFtcGxlTW9kZVwiKSxcbiAgICAgICAgICB0YXJnZXQ6IFwiUmVkaXJlY3RpbmdcIixcbiAgICAgICAgICByZWVudGVyOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFJlZGlyZWN0aW5nOiB7XG4gICAgICBkZXNjcmlwdGlvbjogXCJSZWRpcmVjdHMgdG8gdGhlIHRoaXJkLXBhcnR5IHByb3ZpZGVyIGZvciBhdXRoZW50aWNhdGlvblwiLFxuICAgICAgdGFnczogW1wic3RhdGU6cmVkaXJlY3RcIiwgXCJzdGF0ZTpsb2FkaW5nXCJdLFxuICAgICAgZW50cnk6IFtcImFzc2lnbkFjdGl2ZVN0cmF0ZWd5XCIsIFwic2VuZFRvTG9hZGluZ1wiXSxcbiAgICAgIGV4aXQ6IFtcInVuYXNzaWduQWN0aXZlU3RyYXRlZ3lcIiwgXCJzZW5kVG9Mb2FkaW5nXCJdLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcInJlZGlyZWN0XCIsXG4gICAgICAgIHNyYzogXCJyZWRpcmVjdFwiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgICAgIGFzc2VydEV2ZW50KGV2ZW50LCBcIlJFRElSRUNUXCIpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYXNlUGF0aDogY29udGV4dC5iYXNlUGF0aCxcbiAgICAgICAgICAgIGZsb3c6IGNvbnRleHQuZmxvdyxcbiAgICAgICAgICAgIHBhcmFtczogZXZlbnQucGFyYW1zLFxuICAgICAgICAgICAgcGFyZW50OiBjb250ZXh0LnBhcmVudFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG9uRXJyb3I6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInNldEZvcm1FcnJvcnNcIixcbiAgICAgICAgICB0YXJnZXQ6IFwiSWRsZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIEhhbmRsaW5nQ2FsbGJhY2s6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkhhbmRsZXMgdGhlIGNhbGxiYWNrIGZyb20gdGhlIHRoaXJkLXBhcnR5IHByb3ZpZGVyXCIsXG4gICAgICB0YWdzOiBbXCJzdGF0ZTpjYWxsYmFja1wiLCBcInN0YXRlOmxvYWRpbmdcIl0sXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwiaGFuZGxlUmVkaXJlY3RDYWxsYmFja1wiLFxuICAgICAgICBzcmM6IFwiaGFuZGxlUmVkaXJlY3RDYWxsYmFja1wiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCB9KSA9PiBjb250ZXh0LnBhcmVudCxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcImxvZ0Vycm9yXCIsIFwic2V0Rm9ybUVycm9yc1wiXSxcbiAgICAgICAgICB0YXJnZXQ6IFwiSWRsZVwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIkNMRVJLSlMuTkFWSUdBVEUuKlwiOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJzZW5kVG9OZXh0XCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIklkbGVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy91dGlscy9uZXh0LnRzXG5mdW5jdGlvbiBzaG91bGRVc2VWaXJ0dWFsUm91dGluZygpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCF3aW5kb3cubmV4dCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gd2luZG93Lm5leHQudmVyc2lvbiA8IE5FWFRfV0lORE9XX0hJU1RPUllfU1VQUE9SVF9WRVJTSU9OO1xufVxuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL3NpZ24taW4vcmVzZXQtcGFzc3dvcmQubWFjaGluZS50c1xuaW1wb3J0IHsgZnJvbVByb21pc2UgYXMgZnJvbVByb21pc2UzLCBzZW5kVG8gYXMgc2VuZFRvMywgc2V0dXAgYXMgc2V0dXA0IH0gZnJvbSBcInhzdGF0ZVwiO1xudmFyIFNpZ25JblJlc2V0UGFzc3dvcmRNYWNoaW5lSWQgPSBcIlNpZ25JblJlc2V0UGFzc3dvcmRNYWNoaW5lXCI7XG52YXIgU2lnbkluUmVzZXRQYXNzd29yZE1hY2hpbmUgPSBzZXR1cDQoe1xuICBhY3RvcnM6IHtcbiAgICBhdHRlbXB0OiBmcm9tUHJvbWlzZTMoXG4gICAgICAoeyBpbnB1dDogeyBmaWVsZHMsIHBhcmVudCB9IH0pID0+IHtcbiAgICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgICBjb25zdCBwYXNzd29yZCA9ICgoX2EzID0gZmllbGRzLmdldChcInBhc3N3b3JkXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlKSB8fCBcIlwiO1xuICAgICAgICBjb25zdCBzaWduT3V0T2ZPdGhlclNlc3Npb25zID0gKChfYjMgPSBmaWVsZHMuZ2V0KFwic2lnbk91dE9mT3RoZXJTZXNzaW9uc1wiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMy5jaGVja2VkKSB8fCBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRTbmFwc2hvdCgpLmNvbnRleHQuY2xlcmsuY2xpZW50LnNpZ25Jbi5yZXNldFBhc3N3b3JkKHsgcGFzc3dvcmQsIHNpZ25PdXRPZk90aGVyU2Vzc2lvbnMgfSk7XG4gICAgICB9XG4gICAgKVxuICB9LFxuICBhY3Rpb25zOiB7XG4gICAgc2VuZFRvTG9hZGluZyxcbiAgICBzZW5kVG9OZXh0OiAoeyBjb250ZXh0LCBldmVudCB9KSA9PiBjb250ZXh0LnBhcmVudC5zZW5kKHsgdHlwZTogXCJORVhUXCIsIHJlc291cmNlOiBldmVudC5vdXRwdXQgfSksXG4gICAgc2V0Rm9ybUVycm9yczogc2VuZFRvMyhcbiAgICAgICh7IGNvbnRleHQgfSkgPT4gY29udGV4dC5mb3JtUmVmLFxuICAgICAgKHsgZXZlbnQgfSkgPT4ge1xuICAgICAgICBhc3NlcnRBY3RvckV2ZW50RXJyb3IoZXZlbnQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiRVJST1JTLlNFVFwiLFxuICAgICAgICAgIGVycm9yOiBldmVudC5lcnJvclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIClcbiAgfSxcbiAgdHlwZXM6IHt9XG59KS5jcmVhdGVNYWNoaW5lKHtcbiAgaWQ6IFNpZ25JblJlc2V0UGFzc3dvcmRNYWNoaW5lSWQsXG4gIGNvbnRleHQ6ICh7IGlucHV0IH0pID0+ICh7XG4gICAgbG9hZGluZ1N0ZXA6IFwicmVzZXQtcGFzc3dvcmRcIixcbiAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICBmb3JtUmVmOiBpbnB1dC5mb3JtUmVmXG4gIH0pLFxuICBpbml0aWFsOiBcIlBlbmRpbmdcIixcbiAgc3RhdGVzOiB7XG4gICAgUGVuZGluZzoge1xuICAgICAgdGFnczogW1wic3RhdGU6cGVuZGluZ1wiXSxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIldhaXRpbmcgZm9yIHVzZXIgaW5wdXRcIixcbiAgICAgIG9uOiB7XG4gICAgICAgIFNVQk1JVDoge1xuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nXCIsXG4gICAgICAgICAgcmVlbnRlcjogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBBdHRlbXB0aW5nOiB7XG4gICAgICB0YWdzOiBbXCJzdGF0ZTphdHRlbXB0aW5nXCIsIFwic3RhdGU6bG9hZGluZ1wiXSxcbiAgICAgIGVudHJ5OiBcInNlbmRUb0xvYWRpbmdcIixcbiAgICAgIGludm9rZToge1xuICAgICAgICBpZDogXCJhdHRlbXB0XCIsXG4gICAgICAgIHNyYzogXCJhdHRlbXB0XCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0IH0pID0+ICh7XG4gICAgICAgICAgcGFyZW50OiBjb250ZXh0LnBhcmVudCxcbiAgICAgICAgICBmaWVsZHM6IGNvbnRleHQuZm9ybVJlZi5nZXRTbmFwc2hvdCgpLmNvbnRleHQuZmllbGRzXG4gICAgICAgIH0pLFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXCJzZW5kVG9OZXh0XCIsIFwic2VuZFRvTG9hZGluZ1wiXVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2V0Rm9ybUVycm9yc1wiLCBcInNlbmRUb0xvYWRpbmdcIl0sXG4gICAgICAgICAgdGFyZ2V0OiBcIlBlbmRpbmdcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy9zaWduLWluL3N0YXJ0Lm1hY2hpbmUudHNcbmltcG9ydCB7IGFzc2VydEV2ZW50IGFzIGFzc2VydEV2ZW50MiwgZnJvbVByb21pc2UgYXMgZnJvbVByb21pc2U0LCBub3QgYXMgbm90Miwgc2VuZFRvIGFzIHNlbmRUbzQsIHNldHVwIGFzIHNldHVwNSB9IGZyb20gXCJ4c3RhdGVcIjtcbnZhciBTaWduSW5TdGFydE1hY2hpbmVJZCA9IFwiU2lnbkluU3RhcnRcIjtcbnZhciBTaWduSW5TdGFydE1hY2hpbmUgPSBzZXR1cDUoe1xuICBhY3RvcnM6IHtcbiAgICBhdHRlbXB0UGFzc2tleTogZnJvbVByb21pc2U0KCh7IGlucHV0OiB7IHBhcmVudCwgZmxvdyB9IH0pID0+IHtcbiAgICAgIHJldHVybiBwYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uYXV0aGVudGljYXRlV2l0aFBhc3NrZXkoe1xuICAgICAgICBmbG93XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBhdHRlbXB0V2ViMzogZnJvbVByb21pc2U0KFxuICAgICAgKHsgaW5wdXQ6IHsgcGFyZW50LCBzdHJhdGVneSB9IH0pID0+IHtcbiAgICAgICAgaWYgKHN0cmF0ZWd5ID09PSBcIndlYjNfbWV0YW1hc2tfc2lnbmF0dXJlXCIpIHtcbiAgICAgICAgICByZXR1cm4gcGFyZW50LmdldFNuYXBzaG90KCkuY29udGV4dC5jbGVyay5jbGllbnQuc2lnbkluLmF1dGhlbnRpY2F0ZVdpdGhNZXRhbWFzaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJhdGVneSA9PT0gXCJ3ZWIzX2NvaW5iYXNlX3NpZ25hdHVyZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRTbmFwc2hvdCgpLmNvbnRleHQuY2xlcmsuY2xpZW50LnNpZ25Jbi5hdXRoZW50aWNhdGVXaXRoQ29pbmJhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihgVW5zdXBwb3J0ZWQgV2ViMyBzdHJhdGVneTogJHtzdHJhdGVneX1gKTtcbiAgICAgIH1cbiAgICApLFxuICAgIGF0dGVtcHQ6IGZyb21Qcm9taXNlNChcbiAgICAgICh7IGlucHV0OiB7IGZpZWxkcywgcGFyZW50IH0gfSkgPT4ge1xuICAgICAgICBjb25zdCBjbGVyayA9IHBhcmVudC5nZXRTbmFwc2hvdCgpLmNvbnRleHQuY2xlcms7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gZmllbGRzLmdldChcInBhc3N3b3JkXCIpO1xuICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gZmllbGRzLmdldChcImlkZW50aWZpZXJcIik7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkUGFyYW1zID0gKHBhc3N3b3JkID09IG51bGwgPyB2b2lkIDAgOiBwYXNzd29yZC52YWx1ZSkgPyB7XG4gICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLnZhbHVlLFxuICAgICAgICAgIHN0cmF0ZWd5OiBcInBhc3N3b3JkXCJcbiAgICAgICAgfSA6IHt9O1xuICAgICAgICByZXR1cm4gY2xlcmsuY2xpZW50LnNpZ25Jbi5jcmVhdGUoe1xuICAgICAgICAgIGlkZW50aWZpZXI6IChpZGVudGlmaWVyID09IG51bGwgPyB2b2lkIDAgOiBpZGVudGlmaWVyLnZhbHVlKSB8fCBcIlwiLFxuICAgICAgICAgIC4uLnBhc3N3b3JkUGFyYW1zXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIClcbiAgfSxcbiAgYWN0aW9uczoge1xuICAgIHNlbmRUb05leHQ6ICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IHtcbiAgICAgIHJldHVybiBjb250ZXh0LnBhcmVudC5zZW5kKHsgdHlwZTogXCJORVhUXCIsIHJlc291cmNlOiBldmVudCA9PSBudWxsID8gdm9pZCAwIDogZXZlbnQub3V0cHV0IH0pO1xuICAgIH0sXG4gICAgc2VuZFRvTG9hZGluZyxcbiAgICBzZXRGb3JtRXJyb3JzOiBzZW5kVG80KFxuICAgICAgKHsgY29udGV4dCB9KSA9PiBjb250ZXh0LmZvcm1SZWYsXG4gICAgICAoeyBldmVudCB9KSA9PiB7XG4gICAgICAgIGFzc2VydEFjdG9yRXZlbnRFcnJvcihldmVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJFUlJPUlMuU0VUXCIsXG4gICAgICAgICAgZXJyb3I6IGV2ZW50LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKVxuICB9LFxuICBndWFyZHM6IHtcbiAgICBpc0V4YW1wbGVNb2RlOiAoeyBjb250ZXh0IH0pID0+IEJvb2xlYW4oY29udGV4dC5wYXJlbnQuZ2V0U25hcHNob3QoKS5jb250ZXh0LmV4YW1wbGVNb2RlKVxuICB9LFxuICB0eXBlczoge31cbn0pLmNyZWF0ZU1hY2hpbmUoe1xuICBpZDogU2lnbkluU3RhcnRNYWNoaW5lSWQsXG4gIGNvbnRleHQ6ICh7IGlucHV0IH0pID0+ICh7XG4gICAgYmFzZVBhdGg6IGlucHV0LmJhc2VQYXRoIHx8IFNJR05fSU5fREVGQVVMVF9CQVNFX1BBVEgsXG4gICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgZm9ybVJlZjogaW5wdXQuZm9ybVJlZixcbiAgICBsb2FkaW5nU3RlcDogXCJzdGFydFwiXG4gIH0pLFxuICBpbml0aWFsOiBcIlBlbmRpbmdcIixcbiAgc3RhdGVzOiB7XG4gICAgUGVuZGluZzoge1xuICAgICAgdGFnczogW1wic3RhdGU6cGVuZGluZ1wiXSxcbiAgICAgIGRlc2NyaXB0aW9uOiBcIldhaXRpbmcgZm9yIHVzZXIgaW5wdXRcIixcbiAgICAgIG9uOiB7XG4gICAgICAgIFNVQk1JVDoge1xuICAgICAgICAgIGd1YXJkOiBub3QyKFwiaXNFeGFtcGxlTW9kZVwiKSxcbiAgICAgICAgICB0YXJnZXQ6IFwiQXR0ZW1wdGluZ1wiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJBVVRIRU5USUNBVEUuUEFTU0tFWVwiOiB7XG4gICAgICAgICAgZ3VhcmQ6IG5vdDIoXCJpc0V4YW1wbGVNb2RlXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nUGFzc2tleVwiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJBVVRIRU5USUNBVEUuUEFTU0tFWS5BVVRPRklMTFwiOiB7XG4gICAgICAgICAgZ3VhcmQ6IG5vdDIoXCJpc0V4YW1wbGVNb2RlXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nUGFzc2tleUF1dG9GaWxsXCIsXG4gICAgICAgICAgcmVlbnRlcjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJBVVRIRU5USUNBVEUuV0VCM1wiOiB7XG4gICAgICAgICAgZ3VhcmQ6IG5vdDIoXCJpc0V4YW1wbGVNb2RlXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nV2ViM1wiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgQXR0ZW1wdGluZzoge1xuICAgICAgdGFnczogW1wic3RhdGU6YXR0ZW1wdGluZ1wiLCBcInN0YXRlOmxvYWRpbmdcIl0sXG4gICAgICBlbnRyeTogXCJzZW5kVG9Mb2FkaW5nXCIsXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwiYXR0ZW1wdFwiLFxuICAgICAgICBzcmM6IFwiYXR0ZW1wdFwiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCB9KSA9PiAoe1xuICAgICAgICAgIHBhcmVudDogY29udGV4dC5wYXJlbnQsXG4gICAgICAgICAgZmllbGRzOiBjb250ZXh0LmZvcm1SZWYuZ2V0U25hcHNob3QoKS5jb250ZXh0LmZpZWxkc1xuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2VuZFRvTmV4dFwiLCBcInNlbmRUb0xvYWRpbmdcIl1cbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1FcnJvcnNcIiwgXCJzZW5kVG9Mb2FkaW5nXCJdLFxuICAgICAgICAgIHRhcmdldDogXCJQZW5kaW5nXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgQXR0ZW1wdGluZ1Bhc3NrZXk6IHtcbiAgICAgIHRhZ3M6IFtcInN0YXRlOmF0dGVtcHRpbmdcIiwgXCJzdGF0ZTpsb2FkaW5nXCJdLFxuICAgICAgZW50cnk6IFwic2VuZFRvTG9hZGluZ1wiLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcImF0dGVtcHRQYXNza2V5XCIsXG4gICAgICAgIHNyYzogXCJhdHRlbXB0UGFzc2tleVwiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCB9KSA9PiAoe1xuICAgICAgICAgIHBhcmVudDogY29udGV4dC5wYXJlbnQsXG4gICAgICAgICAgZmxvdzogXCJkaXNjb3ZlcmFibGVcIlxuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2VuZFRvTmV4dFwiLCBcInNlbmRUb0xvYWRpbmdcIl1cbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1FcnJvcnNcIiwgXCJzZW5kVG9Mb2FkaW5nXCJdLFxuICAgICAgICAgIHRhcmdldDogXCJQZW5kaW5nXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgQXR0ZW1wdGluZ1Bhc3NrZXlBdXRvRmlsbDoge1xuICAgICAgb246IHtcbiAgICAgICAgXCJBVVRIRU5USUNBVEUuUEFTU0tFWVwiOiB7XG4gICAgICAgICAgZ3VhcmQ6IG5vdDIoXCJpc0V4YW1wbGVNb2RlXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nUGFzc2tleVwiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgU1VCTUlUOiB7XG4gICAgICAgICAgZ3VhcmQ6IG5vdDIoXCJpc0V4YW1wbGVNb2RlXCIpLFxuICAgICAgICAgIHRhcmdldDogXCJBdHRlbXB0aW5nXCIsXG4gICAgICAgICAgcmVlbnRlcjogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcImF0dGVtcHRQYXNza2V5QXV0b2ZpbGxcIixcbiAgICAgICAgc3JjOiBcImF0dGVtcHRQYXNza2V5XCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0IH0pID0+ICh7XG4gICAgICAgICAgcGFyZW50OiBjb250ZXh0LnBhcmVudCxcbiAgICAgICAgICBmbG93OiBcImF1dG9maWxsXCJcbiAgICAgICAgfSksXG4gICAgICAgIG9uRG9uZToge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNlbmRUb05leHRcIl1cbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1FcnJvcnNcIl0sXG4gICAgICAgICAgdGFyZ2V0OiBcIlBlbmRpbmdcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBBdHRlbXB0aW5nV2ViMzoge1xuICAgICAgdGFnczogW1wic3RhdGU6YXR0ZW1wdGluZ1wiLCBcInN0YXRlOmxvYWRpbmdcIl0sXG4gICAgICBlbnRyeTogXCJzZW5kVG9Mb2FkaW5nXCIsXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwiYXR0ZW1wdFdlYjNcIixcbiAgICAgICAgc3JjOiBcImF0dGVtcHRXZWIzXCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0LCBldmVudCB9KSA9PiB7XG4gICAgICAgICAgYXNzZXJ0RXZlbnQyKGV2ZW50LCBcIkFVVEhFTlRJQ0FURS5XRUIzXCIpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJlbnQ6IGNvbnRleHQucGFyZW50LFxuICAgICAgICAgICAgc3RyYXRlZ3k6IGV2ZW50LnN0cmF0ZWd5XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogW1wic2VuZFRvTmV4dFwiLCBcInNlbmRUb0xvYWRpbmdcIl1cbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1FcnJvcnNcIiwgXCJzZW5kVG9Mb2FkaW5nXCJdLFxuICAgICAgICAgIHRhcmdldDogXCJQZW5kaW5nXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbi8vIHNyYy9pbnRlcm5hbHMvbWFjaGluZXMvc2lnbi1pbi9yb3V0ZXIubWFjaGluZS50c1xudmFyIGlzQ3VycmVudFBhdGggPSAocGF0aCkgPT4gKHsgY29udGV4dCB9LCBfcGFyYW1zKSA9PiB7XG4gIHZhciBfYTMsIF9iMztcbiAgcmV0dXJuIChfYjMgPSAoX2EzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMubWF0Y2gocGF0aCkpICE9IG51bGwgPyBfYjMgOiBmYWxzZTtcbn07XG52YXIgbmVlZHNTdGF0dXMgPSAoc3RhdHVzKSA9PiAoeyBjb250ZXh0LCBldmVudCB9LCBfKSA9PiB7XG4gIHZhciBfYTMsIF9iMztcbiAgcmV0dXJuICgoX2EzID0gZXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50LnJlc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnN0YXR1cykgPT09IHN0YXR1cyB8fCAoKF9iMyA9IGNvbnRleHQuY2xlcmspID09IG51bGwgPyB2b2lkIDAgOiBfYjMuY2xpZW50LnNpZ25Jbi5zdGF0dXMpID09PSBzdGF0dXM7XG59O1xudmFyIFNpZ25JblJvdXRlck1hY2hpbmVJZCA9IFwiU2lnbkluUm91dGVyXCI7XG52YXIgU2lnbkluUm91dGVyTWFjaGluZSA9IHNldHVwNih7XG4gIGFjdG9yczoge1xuICAgIGZpcnN0RmFjdG9yTWFjaGluZTogU2lnbkluRmlyc3RGYWN0b3JNYWNoaW5lLFxuICAgIGZvcm1NYWNoaW5lOiBGb3JtTWFjaGluZSxcbiAgICByZXNldFBhc3N3b3JkTWFjaGluZTogU2lnbkluUmVzZXRQYXNzd29yZE1hY2hpbmUsXG4gICAgc3RhcnRNYWNoaW5lOiBTaWduSW5TdGFydE1hY2hpbmUsXG4gICAgc2Vjb25kRmFjdG9yTWFjaGluZTogU2lnbkluU2Vjb25kRmFjdG9yTWFjaGluZSxcbiAgICB0aGlyZFBhcnR5TWFjaGluZTogVGhpcmRQYXJ0eU1hY2hpbmUsXG4gICAgd2ViQXV0aG5BdXRvZmlsbFN1cHBvcnQ6IGZyb21Qcm9taXNlNSgoKSA9PiBpc1dlYkF1dGhuQXV0b2ZpbGxTdXBwb3J0ZWQoKSlcbiAgfSxcbiAgYWN0aW9uczoge1xuICAgIGNsZWFyRm9ybUVycm9yczogc2VuZFRvNSgoeyBjb250ZXh0IH0pID0+IGNvbnRleHQuZm9ybVJlZiwgeyB0eXBlOiBcIkVSUk9SUy5DTEVBUlwiIH0pLFxuICAgIG5hdmlnYXRlSW50ZXJuYWw6ICh7IGNvbnRleHQgfSwgeyBwYXRoLCBmb3JjZSA9IGZhbHNlIH0pID0+IHtcbiAgICAgIGlmICghY29udGV4dC5yb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JjZSAmJiBzaG91bGRVc2VWaXJ0dWFsUm91dGluZygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0LmV4YW1wbGVNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGpvaW5VUkwoY29udGV4dC5yb3V0ZXIuYmFzZVBhdGgsIHBhdGgpO1xuICAgICAgaWYgKHJlc29sdmVkUGF0aCA9PT0gY29udGV4dC5yb3V0ZXIucGF0aG5hbWUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb250ZXh0LnJvdXRlci5zaGFsbG93UHVzaChyZXNvbHZlZFBhdGgpO1xuICAgIH0sXG4gICAgbmF2aWdhdGVFeHRlcm5hbDogKHsgY29udGV4dCB9LCB7IHBhdGggfSkgPT4ge1xuICAgICAgdmFyIF9hMztcbiAgICAgIHJldHVybiAoX2EzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMucHVzaChwYXRoKTtcbiAgICB9LFxuICAgIHJhaXNlTmV4dDogcmFpc2UoeyB0eXBlOiBcIk5FWFRcIiB9KSxcbiAgICBzZXRBY3RpdmU6IGVucXVldWVBY3Rpb25zMigoeyBlbnF1ZXVlLCBjaGVjaywgY29udGV4dCwgZXZlbnQgfSkgPT4ge1xuICAgICAgaWYgKGNoZWNrKFwiaXNFeGFtcGxlTW9kZVwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpZCA9IGV2ZW50ID09IG51bGwgPyB2b2lkIDAgOiBldmVudC5pZDtcbiAgICAgIGNvbnN0IGxhc3RBY3RpdmVTZXNzaW9uSWQgPSBjb250ZXh0LmNsZXJrLmNsaWVudC5sYXN0QWN0aXZlU2Vzc2lvbklkO1xuICAgICAgY29uc3QgY3JlYXRlZFNlc3Npb25JZCA9ICgoZXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50LnJlc291cmNlKSB8fCBjb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4pLmNyZWF0ZWRTZXNzaW9uSWQ7XG4gICAgICBjb25zdCBzZXNzaW9uID0gaWQgfHwgY3JlYXRlZFNlc3Npb25JZCB8fCBsYXN0QWN0aXZlU2Vzc2lvbklkIHx8IG51bGw7XG4gICAgICBjb25zdCBiZWZvcmVFbWl0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2EzLCBfYjM7XG4gICAgICAgIHJldHVybiAoX2IzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYjMucHVzaCgoKF9hMyA9IGNvbnRleHQucm91dGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnNlYXJjaFBhcmFtcygpLmdldChcInJlZGlyZWN0X3VybFwiKSkgfHwgY29udGV4dC5jbGVyay5idWlsZEFmdGVyU2lnbkluVXJsKCkpO1xuICAgICAgfTtcbiAgICAgIHZvaWQgY29udGV4dC5jbGVyay5zZXRBY3RpdmUoeyBzZXNzaW9uLCBiZWZvcmVFbWl0IH0pO1xuICAgICAgZW5xdWV1ZS5yYWlzZSh7IHR5cGU6IFwiUkVTRVRcIiB9LCB7IGRlbGF5OiAyZTMgfSk7XG4gICAgfSksXG4gICAgc2V0RXJyb3I6IGFzc2lnbjQoe1xuICAgICAgZXJyb3I6IChfLCB7IGVycm9yIH0pID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihcIlVua25vd24gZXJyb3JcIik7XG4gICAgICB9XG4gICAgfSksXG4gICAgc2V0Rm9ybUVycm9yczogKHsgY29udGV4dCB9LCBwYXJhbXMpID0+IHNlbmRUbzUoY29udGV4dC5mb3JtUmVmLCB7XG4gICAgICB0eXBlOiBcIkVSUk9SUy5TRVRcIixcbiAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3JcbiAgICB9KSxcbiAgICBzZXRGb3JtT0F1dGhFcnJvcnM6ICh7IGNvbnRleHQgfSkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JPcmlnID0gY29udGV4dC5jbGVyay5jbGllbnQuc2lnbkluLmZpcnN0RmFjdG9yVmVyaWZpY2F0aW9uLmVycm9yO1xuICAgICAgaWYgKCFlcnJvck9yaWcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGVycm9yO1xuICAgICAgc3dpdGNoIChlcnJvck9yaWcuY29kZSkge1xuICAgICAgICBjYXNlIEVSUk9SX0NPREVTLk5PVF9BTExPV0VEX1RPX1NJR05fVVA6XG4gICAgICAgIGNhc2UgRVJST1JfQ09ERVMuT0FVVEhfQUNDRVNTX0RFTklFRDpcbiAgICAgICAgY2FzZSBFUlJPUl9DT0RFUy5OT1RfQUxMT1dFRF9BQ0NFU1M6XG4gICAgICAgIGNhc2UgRVJST1JfQ09ERVMuU0FNTF9VU0VSX0FUVFJJQlVURV9NSVNTSU5HOlxuICAgICAgICBjYXNlIEVSUk9SX0NPREVTLk9BVVRIX0VNQUlMX0RPTUFJTl9SRVNFUlZFRF9CWV9TQU1MOlxuICAgICAgICBjYXNlIEVSUk9SX0NPREVTLlVTRVJfTE9DS0VEOlxuICAgICAgICAgIGVycm9yID0gbmV3IENsZXJrRWxlbWVudHNFcnJvcihlcnJvck9yaWcuY29kZSwgZXJyb3JPcmlnLmxvbmdNZXNzYWdlIHx8IFwiXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGVycm9yID0gbmV3IENsZXJrRWxlbWVudHNFcnJvcihcbiAgICAgICAgICAgIFwidW5hYmxlX3RvX2NvbXBsZXRlXCIsXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBjb21wbGV0ZSBhY3Rpb24gYXQgdGhpcyB0aW1lLiBJZiB0aGUgcHJvYmxlbSBwZXJzaXN0cyBwbGVhc2UgY29udGFjdCBzdXBwb3J0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuZm9ybVJlZi5zZW5kKHtcbiAgICAgICAgdHlwZTogXCJFUlJPUlMuU0VUXCIsXG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRyYW5zZmVyOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgX19jbGVya190cmFuc2ZlcjogXCIxXCIgfSk7XG4gICAgICAoX2EzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMucHVzaChgJHtjb250ZXh0LnNpZ25VcFBhdGh9PyR7c2VhcmNoUGFyYW1zfWApO1xuICAgIH1cbiAgfSxcbiAgZ3VhcmRzOiB7XG4gICAgaGFzQXV0aGVudGljYXRlZFZpYUNsZXJrSlM6ICh7IGNvbnRleHQgfSkgPT4gQm9vbGVhbihjb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uc3RhdHVzID09PSBudWxsICYmIGNvbnRleHQuY2xlcmsuY2xpZW50Lmxhc3RBY3RpdmVTZXNzaW9uSWQpLFxuICAgIGhhc09BdXRoRXJyb3I6ICh7IGNvbnRleHQgfSkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzLCBfYywgX2Q7XG4gICAgICByZXR1cm4gQm9vbGVhbigoX2QgPSAoX2MgPSAoX2IzID0gKF9hMyA9IGNvbnRleHQuY2xlcmspID09IG51bGwgPyB2b2lkIDAgOiBfYTMuY2xpZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IzLnNpZ25JbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmZpcnN0RmFjdG9yVmVyaWZpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2QuZXJyb3IpO1xuICAgIH0sXG4gICAgaGFzUmVzb3VyY2U6ICh7IGNvbnRleHQgfSkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzLCBfYztcbiAgICAgIHJldHVybiBCb29sZWFuKChfYyA9IChfYjMgPSAoX2EzID0gY29udGV4dC5jbGVyaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5jbGllbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYjMuc2lnbkluKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc3RhdHVzKTtcbiAgICB9LFxuICAgIGlzTG9nZ2VkSW5BbmRTaW5nbGVTZXNzaW9uOiBhbmQoW1wiaXNMb2dnZWRJblwiLCBcImlzU2luZ2xlU2Vzc2lvbk1vZGVcIiwgbm90MyhcImlzRXhhbXBsZU1vZGVcIildKSxcbiAgICBpc0FjdGl2ZVBhdGhSb290OiBpc0N1cnJlbnRQYXRoKFwiL1wiKSxcbiAgICBpc0NvbXBsZXRlOiAoeyBjb250ZXh0LCBldmVudCB9KSA9PiB7XG4gICAgICBjb25zdCByZXNvdXJjZSA9IGV2ZW50ID09IG51bGwgPyB2b2lkIDAgOiBldmVudC5yZXNvdXJjZTtcbiAgICAgIGNvbnN0IHNpZ25JbiA9IGNvbnRleHQuY2xlcmsuY2xpZW50LnNpZ25JbjtcbiAgICAgIHJldHVybiAocmVzb3VyY2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc291cmNlLnN0YXR1cykgPT09IFwiY29tcGxldGVcIiAmJiBCb29sZWFuKHJlc291cmNlID09IG51bGwgPyB2b2lkIDAgOiByZXNvdXJjZS5jcmVhdGVkU2Vzc2lvbklkKSB8fCBzaWduSW4uc3RhdHVzID09PSBcImNvbXBsZXRlXCIgJiYgQm9vbGVhbihzaWduSW4uY3JlYXRlZFNlc3Npb25JZCk7XG4gICAgfSxcbiAgICBpc0xvZ2dlZEluOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICByZXR1cm4gQm9vbGVhbigoX2EzID0gY29udGV4dC5jbGVyaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy51c2VyKTtcbiAgICB9LFxuICAgIGlzU2luZ2xlU2Vzc2lvbk1vZGU6ICh7IGNvbnRleHQgfSkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oKF9iMyA9IChfYTMgPSBjb250ZXh0LmNsZXJrKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLl9fdW5zdGFibGVfX2Vudmlyb25tZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmF1dGhDb25maWcuc2luZ2xlU2Vzc2lvbk1vZGUpO1xuICAgIH0sXG4gICAgaXNFeGFtcGxlTW9kZTogKHsgY29udGV4dCB9KSA9PiBCb29sZWFuKGNvbnRleHQuZXhhbXBsZU1vZGUpLFxuICAgIG5lZWRzU3RhcnQ6IG9yKFtub3QzKFwiaGFzUmVzb3VyY2VcIiksIFwic3RhdHVzTmVlZHNJZGVudGlmaWVyXCIsIGlzQ3VycmVudFBhdGgoXCIvXCIpXSksXG4gICAgbmVlZHNGaXJzdEZhY3RvcjogYW5kKFtcInN0YXR1c05lZWRzRmlyc3RGYWN0b3JcIiwgaXNDdXJyZW50UGF0aChcIi9jb250aW51ZVwiKV0pLFxuICAgIG5lZWRzU2Vjb25kRmFjdG9yOiBhbmQoW1wic3RhdHVzTmVlZHNTZWNvbmRGYWN0b3JcIiwgaXNDdXJyZW50UGF0aChcIi9jb250aW51ZVwiKV0pLFxuICAgIG5lZWRzQ2FsbGJhY2s6IGlzQ3VycmVudFBhdGgoU1NPX0NBTExCQUNLX1BBVEhfUk9VVEUpLFxuICAgIG5lZWRzQ2hvb3NlU2Vzc2lvbjogaXNDdXJyZW50UGF0aChDSE9PU0VfU0VTU0lPTl9QQVRIX1JPVVRFKSxcbiAgICBuZWVkc05ld1Bhc3N3b3JkOiBhbmQoW1wic3RhdHVzTmVlZHNOZXdQYXNzd29yZFwiLCBpc0N1cnJlbnRQYXRoKFwiL25ldy1wYXNzd29yZFwiKV0pLFxuICAgIHN0YXR1c05lZWRzSWRlbnRpZmllcjogbmVlZHNTdGF0dXMoXCJuZWVkc19pZGVudGlmaWVyXCIpLFxuICAgIHN0YXR1c05lZWRzRmlyc3RGYWN0b3I6IG5lZWRzU3RhdHVzKFwibmVlZHNfZmlyc3RfZmFjdG9yXCIpLFxuICAgIHN0YXR1c05lZWRzU2Vjb25kRmFjdG9yOiBuZWVkc1N0YXR1cyhcIm5lZWRzX3NlY29uZF9mYWN0b3JcIiksXG4gICAgc3RhdHVzTmVlZHNOZXdQYXNzd29yZDogbmVlZHNTdGF0dXMoXCJuZWVkc19uZXdfcGFzc3dvcmRcIilcbiAgfSxcbiAgdHlwZXM6IHt9XG59KS5jcmVhdGVNYWNoaW5lKHtcbiAgaWQ6IFNpZ25JblJvdXRlck1hY2hpbmVJZCxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFNldCBpbiBJTklUIGV2ZW50XG4gIGNvbnRleHQ6IHt9LFxuICBpbml0aWFsOiBcIklkbGVcIixcbiAgb246IHtcbiAgICBcIkFVVEhFTlRJQ0FURS5PQVVUSFwiOiB7XG4gICAgICBhY3Rpb25zOiBzZW5kVG81KFRoaXJkUGFydHlNYWNoaW5lSWQsICh7IGNvbnRleHQsIGV2ZW50IH0pID0+IHtcbiAgICAgICAgdmFyIF9hMywgX2IzLCBfYywgX2Q7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJSRURJUkVDVFwiLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgc3RyYXRlZ3k6IGV2ZW50LnN0cmF0ZWd5LFxuICAgICAgICAgICAgcmVkaXJlY3RVcmw6IGAkeygoX2EzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMubW9kZSkgPT09IFJPVVRJTkcudmlydHVhbCA/IChfYjMgPSBjb250ZXh0LmNsZXJrLl9fdW5zdGFibGVfX2Vudmlyb25tZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmRpc3BsYXlDb25maWcuc2lnbkluVXJsIDogKF9jID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYy5iYXNlUGF0aH0ke1NTT19DQUxMQkFDS19QQVRIX1JPVVRFfWAsXG4gICAgICAgICAgICByZWRpcmVjdFVybENvbXBsZXRlOiAoKF9kID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfZC5zZWFyY2hQYXJhbXMoKS5nZXQoXCJyZWRpcmVjdF91cmxcIikpIHx8IGNvbnRleHQuY2xlcmsuYnVpbGRBZnRlclNpZ25JblVybCgpXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9LFxuICAgIFwiQVVUSEVOVElDQVRFLlNBTUxcIjoge1xuICAgICAgYWN0aW9uczogc2VuZFRvNShUaGlyZFBhcnR5TWFjaGluZUlkLCAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgICAgdmFyIF9hMywgX2IzLCBfYywgX2QsIF9lO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiUkVESVJFQ1RcIixcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHN0cmF0ZWd5OiBcInNhbWxcIixcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IChfYTMgPSBjb250ZXh0LmZvcm1SZWYuZ2V0U25hcHNob3QoKS5jb250ZXh0LmZpZWxkcy5nZXQoXCJpZGVudGlmaWVyXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlLFxuICAgICAgICAgICAgcmVkaXJlY3RVcmw6IGAkeygoX2IzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYjMubW9kZSkgPT09IFJPVVRJTkcudmlydHVhbCA/IChfYyA9IGNvbnRleHQuY2xlcmsuX191bnN0YWJsZV9fZW52aXJvbm1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5kaXNwbGF5Q29uZmlnLnNpZ25JblVybCA6IChfZCA9IGNvbnRleHQucm91dGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmFzZVBhdGh9JHtTU09fQ0FMTEJBQ0tfUEFUSF9ST1VURX1gLFxuICAgICAgICAgICAgcmVkaXJlY3RVcmxDb21wbGV0ZTogKChfZSA9IGNvbnRleHQucm91dGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2Uuc2VhcmNoUGFyYW1zKCkuZ2V0KFwicmVkaXJlY3RfdXJsXCIpKSB8fCBjb250ZXh0LmNsZXJrLmJ1aWxkQWZ0ZXJTaWduSW5VcmwoKVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBcIkZPUk0uQVRUQUNIXCI6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkF0dGFjaC9yZS1hdHRhY2ggdGhlIGZvcm0gdG8gdGhlIHJvdXRlci5cIixcbiAgICAgIGFjdGlvbnM6IGVucXVldWVBY3Rpb25zMigoeyBlbnF1ZXVlLCBldmVudCB9KSA9PiB7XG4gICAgICAgIGVucXVldWUuYXNzaWduKHtcbiAgICAgICAgICBmb3JtUmVmOiBldmVudC5mb3JtUmVmXG4gICAgICAgIH0pO1xuICAgICAgICBlbnF1ZXVlLnJhaXNlKHsgdHlwZTogXCJSRVNFVC5TVEVQXCIgfSk7XG4gICAgICB9KVxuICAgIH0sXG4gICAgXCJOQVZJR0FURS5QUkVWSU9VU1wiOiBcIi5IaXN0XCIsXG4gICAgXCJOQVZJR0FURS5TVEFSVFwiOiBcIi5TdGFydFwiLFxuICAgIExPQURJTkc6IHtcbiAgICAgIGFjdGlvbnM6IGFzc2lnbjQoKHsgZXZlbnQgfSkgPT4gKHtcbiAgICAgICAgbG9hZGluZzoge1xuICAgICAgICAgIGlzTG9hZGluZzogZXZlbnQuaXNMb2FkaW5nLFxuICAgICAgICAgIHN0ZXA6IGV2ZW50LnN0ZXAsXG4gICAgICAgICAgc3RyYXRlZ3k6IGV2ZW50LnN0cmF0ZWd5LFxuICAgICAgICAgIGFjdGlvbjogZXZlbnQuYWN0aW9uXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH0sXG4gICAgUkVTRVQ6IFwiLklkbGVcIlxuICB9LFxuICBzdGF0ZXM6IHtcbiAgICBJZGxlOiB7XG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwid2ViQXV0aG5BdXRvZmlsbFwiLFxuICAgICAgICBzcmM6IFwid2ViQXV0aG5BdXRvZmlsbFN1cHBvcnRcIixcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogYXNzaWduNCh7IHdlYkF1dGhuQXV0b2ZpbGxTdXBwb3J0OiAoeyBldmVudCB9KSA9PiBldmVudC5vdXRwdXQgfSlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIElOSVQ6IHtcbiAgICAgICAgICBhY3Rpb25zOiBhc3NpZ240KCh7IGV2ZW50IH0pID0+ICh7XG4gICAgICAgICAgICBjbGVyazogZXZlbnQuY2xlcmssXG4gICAgICAgICAgICBleGFtcGxlTW9kZTogZXZlbnQuZXhhbXBsZU1vZGUgfHwgZmFsc2UsXG4gICAgICAgICAgICBmb3JtUmVmOiBldmVudC5mb3JtUmVmLFxuICAgICAgICAgICAgbG9hZGluZzoge1xuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm91dGVyOiBldmVudC5yb3V0ZXIsXG4gICAgICAgICAgICBzaWduVXBQYXRoOiBldmVudC5zaWduVXBQYXRoIHx8IFNJR05fVVBfREVGQVVMVF9CQVNFX1BBVEhcbiAgICAgICAgICB9KSksXG4gICAgICAgICAgdGFyZ2V0OiBcIkluaXRcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBJbml0OiB7XG4gICAgICBlbnRyeTogZW5xdWV1ZUFjdGlvbnMyKCh7IGNvbnRleHQsIGVucXVldWUsIHNlbGYgfSkgPT4ge1xuICAgICAgICB2YXIgX2EzLCBfYjM7XG4gICAgICAgIGlmICghc2VsZi5nZXRTbmFwc2hvdCgpLmNoaWxkcmVuW1RoaXJkUGFydHlNYWNoaW5lSWRdKSB7XG4gICAgICAgICAgZW5xdWV1ZS5zcGF3bkNoaWxkKFwidGhpcmRQYXJ0eU1hY2hpbmVcIiwge1xuICAgICAgICAgICAgaWQ6IFRoaXJkUGFydHlNYWNoaW5lSWQsXG4gICAgICAgICAgICBzeXN0ZW1JZDogVGhpcmRQYXJ0eU1hY2hpbmVJZCxcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgIGJhc2VQYXRoOiAoX2IzID0gKF9hMyA9IGNvbnRleHQucm91dGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLmJhc2VQYXRoKSAhPSBudWxsID8gX2IzIDogU0lHTl9JTl9ERUZBVUxUX0JBU0VfUEFUSCxcbiAgICAgICAgICAgICAgZmxvdzogXCJzaWduSW5cIixcbiAgICAgICAgICAgICAgZm9ybVJlZjogY29udGV4dC5mb3JtUmVmLFxuICAgICAgICAgICAgICBwYXJlbnQ6IHNlbGZcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBhbHdheXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGd1YXJkOiBcIm5lZWRzQ2FsbGJhY2tcIixcbiAgICAgICAgICB0YXJnZXQ6IFwiQ2FsbGJhY2tcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZ3VhcmQ6IFwibmVlZHNDaG9vc2VTZXNzaW9uXCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIkNob29zZVNlc3Npb25cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZ3VhcmQ6IFwiaXNDb21wbGV0ZVwiLFxuICAgICAgICAgIGFjdGlvbnM6IFwic2V0QWN0aXZlXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGd1YXJkOiBcImlzTG9nZ2VkSW5BbmRTaW5nbGVTZXNzaW9uXCIsXG4gICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgbG9nMyhcIkFscmVhZHkgbG9nZ2VkIGluXCIpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcIm5hdmlnYXRlRXh0ZXJuYWxcIixcbiAgICAgICAgICAgICAgcGFyYW1zOiAoeyBjb250ZXh0IH0pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EzO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBwYXRoOiAoKF9hMyA9IGNvbnRleHQucm91dGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnNlYXJjaFBhcmFtcygpLmdldChcInJlZGlyZWN0X3VybFwiKSkgfHwgY29udGV4dC5jbGVyay5idWlsZEFmdGVyU2lnbkluVXJsKClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZ3VhcmQ6IFwibmVlZHNTdGFydFwiLFxuICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBmb3JjZTogdHJ1ZSwgcGF0aDogXCIvXCIgfSB9LFxuICAgICAgICAgIHRhcmdldDogXCJTdGFydFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBndWFyZDogXCJuZWVkc0ZpcnN0RmFjdG9yXCIsXG4gICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IGZvcmNlOiB0cnVlLCBwYXRoOiBcIi9jb250aW51ZVwiIH0gfSxcbiAgICAgICAgICB0YXJnZXQ6IFwiRmlyc3RGYWN0b3JcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZ3VhcmQ6IFwibmVlZHNTZWNvbmRGYWN0b3JcIixcbiAgICAgICAgICBhY3Rpb25zOiB7IHR5cGU6IFwibmF2aWdhdGVJbnRlcm5hbFwiLCBwYXJhbXM6IHsgZm9yY2U6IHRydWUsIHBhdGg6IFwiL2NvbnRpbnVlXCIgfSB9LFxuICAgICAgICAgIHRhcmdldDogXCJTZWNvbmRGYWN0b3JcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZ3VhcmQ6IFwibmVlZHNOZXdQYXNzd29yZFwiLFxuICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBmb3JjZTogdHJ1ZSwgcGF0aDogXCIvcmVzZXQtcGFzc3dvcmRcIiB9IH0sXG4gICAgICAgICAgdGFyZ2V0OiBcIlJlc2V0UGFzc3dvcmRcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IGZvcmNlOiB0cnVlLCBwYXRoOiBcIi9cIiB9IH0sXG4gICAgICAgICAgdGFyZ2V0OiBcIlN0YXJ0XCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgU3RhcnQ6IHtcbiAgICAgIHRhZ3M6IFtcInN0ZXA6c3RhcnRcIl0sXG4gICAgICBleGl0OiBcImNsZWFyRm9ybUVycm9yc1wiLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcInN0YXJ0XCIsXG4gICAgICAgIHNyYzogXCJzdGFydE1hY2hpbmVcIixcbiAgICAgICAgaW5wdXQ6ICh7IGNvbnRleHQsIHNlbGYgfSkgPT4ge1xuICAgICAgICAgIHZhciBfYTM7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhc2VQYXRoOiAoX2EzID0gY29udGV4dC5yb3V0ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuYmFzZVBhdGgsXG4gICAgICAgICAgICBmb3JtUmVmOiBjb250ZXh0LmZvcm1SZWYsXG4gICAgICAgICAgICBwYXJlbnQ6IHNlbGZcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvbkRvbmU6IHtcbiAgICAgICAgICBhY3Rpb25zOiBcInJhaXNlTmV4dFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcIlJFU0VULlNURVBcIjoge1xuICAgICAgICAgIHRhcmdldDogXCJTdGFydFwiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJBVVRIRU5USUNBVEUuUEFTU0tFWVwiOiB7XG4gICAgICAgICAgYWN0aW9uczogc2VuZFRvNShcInN0YXJ0XCIsICh7IGV2ZW50IH0pID0+IGV2ZW50KVxuICAgICAgICB9LFxuICAgICAgICBcIkFVVEhFTlRJQ0FURS5QQVNTS0VZLkFVVE9GSUxMXCI6IHtcbiAgICAgICAgICBhY3Rpb25zOiBzZW5kVG81KFwic3RhcnRcIiwgKHsgZXZlbnQgfSkgPT4gZXZlbnQpXG4gICAgICAgIH0sXG4gICAgICAgIFwiQVVUSEVOVElDQVRFLldFQjNcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IHNlbmRUbzUoXCJzdGFydFwiLCAoeyBldmVudCB9KSA9PiBldmVudClcbiAgICAgICAgfSxcbiAgICAgICAgTkVYVDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzQ29tcGxldGVcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0QWN0aXZlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcInN0YXR1c05lZWRzRmlyc3RGYWN0b3JcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBwYXRoOiBcIi9jb250aW51ZVwiIH0gfSxcbiAgICAgICAgICAgIHRhcmdldDogXCJGaXJzdEZhY3RvclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJzdGF0dXNOZWVkc1NlY29uZEZhY3RvclwiLFxuICAgICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IHBhdGg6IFwiL2NvbnRpbnVlXCIgfSB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBcIlNlY29uZEZhY3RvclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJzdGF0dXNOZWVkc05ld1Bhc3N3b3JkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiB7IHR5cGU6IFwibmF2aWdhdGVJbnRlcm5hbFwiLCBwYXJhbXM6IHsgcGF0aDogXCIvcmVzZXQtcGFzc3dvcmRcIiB9IH0sXG4gICAgICAgICAgICB0YXJnZXQ6IFwiUmVzZXRQYXNzd29yZFwiXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSxcbiAgICBGaXJzdEZhY3Rvcjoge1xuICAgICAgdGFnczogW1wic3RlcDpmaXJzdC1mYWN0b3JcIiwgXCJzdGVwOnZlcmlmaWNhdGlvbnNcIl0sXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwiZmlyc3RGYWN0b3JcIixcbiAgICAgICAgc3JjOiBcImZpcnN0RmFjdG9yTWFjaGluZVwiLFxuICAgICAgICBpbnB1dDogKHsgY29udGV4dCwgc2VsZiB9KSA9PiB7XG4gICAgICAgICAgdmFyIF9hMztcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybVJlZjogY29udGV4dC5mb3JtUmVmLFxuICAgICAgICAgICAgcGFyZW50OiBzZWxmLFxuICAgICAgICAgICAgYmFzZVBhdGg6IChfYTMgPSBjb250ZXh0LnJvdXRlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5iYXNlUGF0aFxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG9uZToge1xuICAgICAgICAgIGFjdGlvbnM6IFwicmFpc2VOZXh0XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwiUkVTRVQuU1RFUFwiOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcIkZpcnN0RmFjdG9yXCIsXG4gICAgICAgICAgcmVlbnRlcjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBORVhUOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaXNDb21wbGV0ZVwiLFxuICAgICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwic3RhdHVzTmVlZHNTZWNvbmRGYWN0b3JcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBwYXRoOiBcIi9jb250aW51ZVwiIH0gfSxcbiAgICAgICAgICAgIHRhcmdldDogXCJTZWNvbmRGYWN0b3JcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwic3RhdHVzTmVlZHNOZXdQYXNzd29yZFwiLFxuICAgICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IHBhdGg6IFwiL3Jlc2V0LXBhc3N3b3JkXCIgfSB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBcIlJlc2V0UGFzc3dvcmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJTVFJBVEVHWS5VUERBVEVcIjoge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlbmQgZXZlbnQgdG8gdmVyaWZpY2F0aW9uIG1hY2hpbmUgdG8gdXBkYXRlIHRoZSBjdXJyZW50IHN0cmF0ZWd5LlwiLFxuICAgICAgICAgIGFjdGlvbnM6IHNlbmRUbzUoXCJmaXJzdEZhY3RvclwiLCAoeyBldmVudCB9KSA9PiBldmVudCksXG4gICAgICAgICAgdGFyZ2V0OiBcIi5JZGxlXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluaXRpYWw6IFwiSWRsZVwiLFxuICAgICAgc3RhdGVzOiB7XG4gICAgICAgIElkbGU6IHtcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJOQVZJR0FURS5GT1JHT1RfUEFTU1dPUkRcIjoge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJOYXZpZ2F0ZSB0byBmb3Jnb3QgcGFzc3dvcmQgc2NyZWVuLlwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBzZW5kVG81KFwiZmlyc3RGYWN0b3JcIiwgKHsgZXZlbnQgfSkgPT4gZXZlbnQpLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiRm9yZ290UGFzc3dvcmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiTkFWSUdBVEUuQ0hPT1NFX1NUUkFURUdZXCI6IHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTmF2aWdhdGUgdG8gY2hvb3NlIHN0cmF0ZWd5IHNjcmVlbi5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogc2VuZFRvNShcImZpcnN0RmFjdG9yXCIsICh7IGV2ZW50IH0pID0+IGV2ZW50KSxcbiAgICAgICAgICAgICAgdGFyZ2V0OiBcIkNob29zaW5nU3RyYXRlZ3lcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgQ2hvb3NpbmdTdHJhdGVneToge1xuICAgICAgICAgIHRhZ3M6IFtcInN0ZXA6Y2hvb3NlLXN0cmF0ZWd5XCJdLFxuICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICBcIk5BVklHQVRFLlBSRVZJT1VTXCI6IHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiR28gdG8gSWRsZSwgYW5kIGFsc28gdGVsbCBmaXJzdEZhY3RvciB0byBnbyB0byBQZW5kaW5nXCIsXG4gICAgICAgICAgICAgIHRhcmdldDogXCJJZGxlXCIsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IHNlbmRUbzUoXCJmaXJzdEZhY3RvclwiLCB7IHR5cGU6IFwiTkFWSUdBVEUuUFJFVklPVVNcIiB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgRm9yZ290UGFzc3dvcmQ6IHtcbiAgICAgICAgICB0YWdzOiBbXCJzdGVwOmZvcmdvdC1wYXNzd29yZFwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJOQVZJR0FURS5QUkVWSU9VU1wiOiBcIklkbGVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgU2Vjb25kRmFjdG9yOiB7XG4gICAgICB0YWdzOiBbXCJzdGVwOnNlY29uZC1mYWN0b3JcIiwgXCJzdGVwOnZlcmlmaWNhdGlvbnNcIl0sXG4gICAgICBpbnZva2U6IHtcbiAgICAgICAgaWQ6IFwic2Vjb25kRmFjdG9yXCIsXG4gICAgICAgIHNyYzogXCJzZWNvbmRGYWN0b3JNYWNoaW5lXCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0LCBzZWxmIH0pID0+ICh7XG4gICAgICAgICAgZm9ybVJlZjogY29udGV4dC5mb3JtUmVmLFxuICAgICAgICAgIHBhcmVudDogc2VsZlxuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJyYWlzZU5leHRcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJSRVNFVC5TVEVQXCI6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiU2Vjb25kRmFjdG9yXCIsXG4gICAgICAgICAgcmVlbnRlcjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBORVhUOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwiaXNDb21wbGV0ZVwiLFxuICAgICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwic3RhdHVzTmVlZHNOZXdQYXNzd29yZFwiLFxuICAgICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IHBhdGg6IFwiL3Jlc2V0LXBhc3N3b3JkXCIgfSB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBcIlJlc2V0UGFzc3dvcmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJTVFJBVEVHWS5VUERBVEVcIjoge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlbmQgZXZlbnQgdG8gdmVyaWZpY2F0aW9uIG1hY2hpbmUgdG8gdXBkYXRlIHRoZSBjdXJyZW50IHN0cmF0ZWd5LlwiLFxuICAgICAgICAgIGFjdGlvbnM6IHNlbmRUbzUoXCJzZWNvbmRGYWN0b3JcIiwgKHsgZXZlbnQgfSkgPT4gZXZlbnQpLFxuICAgICAgICAgIHRhcmdldDogXCIuSWRsZVwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0aWFsOiBcIklkbGVcIixcbiAgICAgIHN0YXRlczoge1xuICAgICAgICBJZGxlOiB7XG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIFwiTkFWSUdBVEUuQ0hPT1NFX1NUUkFURUdZXCI6IHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiTmF2aWdhdGUgdG8gY2hvb3NlIHN0cmF0ZWd5IHNjcmVlbi5cIixcbiAgICAgICAgICAgICAgYWN0aW9uczogc2VuZFRvNShcInNlY29uZEZhY3RvclwiLCAoeyBldmVudCB9KSA9PiBldmVudCksXG4gICAgICAgICAgICAgIHRhcmdldDogXCJDaG9vc2luZ1N0cmF0ZWd5XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIENob29zaW5nU3RyYXRlZ3k6IHtcbiAgICAgICAgICB0YWdzOiBbXCJzdGVwOmNob29zZS1zdHJhdGVneVwiXSxcbiAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgXCJOQVZJR0FURS5QUkVWSU9VU1wiOiB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkdvIHRvIElkbGUsIGFuZCBhbHNvIHRlbGwgZmlyc3RGYWN0b3IgdG8gZ28gdG8gUGVuZGluZ1wiLFxuICAgICAgICAgICAgICB0YXJnZXQ6IFwiSWRsZVwiLFxuICAgICAgICAgICAgICBhY3Rpb25zOiBzZW5kVG81KFwic2Vjb25kRmFjdG9yXCIsIHsgdHlwZTogXCJOQVZJR0FURS5QUkVWSU9VU1wiIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBSZXNldFBhc3N3b3JkOiB7XG4gICAgICB0YWdzOiBbXCJzdGVwOnJlc2V0LXBhc3N3b3JkXCJdLFxuICAgICAgaW52b2tlOiB7XG4gICAgICAgIGlkOiBcInJlc2V0UGFzc3dvcmRcIixcbiAgICAgICAgc3JjOiBcInJlc2V0UGFzc3dvcmRNYWNoaW5lXCIsXG4gICAgICAgIGlucHV0OiAoeyBjb250ZXh0LCBzZWxmIH0pID0+ICh7XG4gICAgICAgICAgZm9ybVJlZjogY29udGV4dC5mb3JtUmVmLFxuICAgICAgICAgIHBhcmVudDogc2VsZlxuICAgICAgICB9KSxcbiAgICAgICAgb25Eb25lOiB7XG4gICAgICAgICAgYWN0aW9uczogXCJyYWlzZU5leHRcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb246IHtcbiAgICAgICAgXCJSRVNFVC5TVEVQXCI6IHtcbiAgICAgICAgICB0YXJnZXQ6IFwiUmVzZXRQYXNzd29yZFwiLFxuICAgICAgICAgIHJlZW50ZXI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgTkVYVDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImlzQ29tcGxldGVcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFwic2V0QWN0aXZlXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcInN0YXR1c05lZWRzRmlyc3RGYWN0b3JcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBwYXRoOiBcIi9jb250aW51ZVwiIH0gfSxcbiAgICAgICAgICAgIHRhcmdldDogXCJGaXJzdEZhY3RvclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJzdGF0dXNOZWVkc1NlY29uZEZhY3RvclwiLFxuICAgICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IHBhdGg6IFwiL2NvbnRpbnVlXCIgfSB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBcIlNlY29uZEZhY3RvclwiXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSxcbiAgICBDYWxsYmFjazoge1xuICAgICAgdGFnczogW1wic3RlcDpjYWxsYmFja1wiXSxcbiAgICAgIGVudHJ5OiBzZW5kVG81KFRoaXJkUGFydHlNYWNoaW5lSWQsIHsgdHlwZTogXCJDQUxMQkFDS1wiIH0pLFxuICAgICAgb246IHtcbiAgICAgICAgTkVYVDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcImhhc09BdXRoRXJyb3JcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcInNldEZvcm1PQXV0aEVycm9yc1wiLCB7IHR5cGU6IFwibmF2aWdhdGVJbnRlcm5hbFwiLCBwYXJhbXM6IHsgZm9yY2U6IHRydWUsIHBhdGg6IFwiL1wiIH0gfV0sXG4gICAgICAgICAgICB0YXJnZXQ6IFwiU3RhcnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IG9yKFtcImlzTG9nZ2VkSW5cIiwgXCJpc0NvbXBsZXRlXCIsIFwiaGFzQXV0aGVudGljYXRlZFZpYUNsZXJrSlNcIl0pLFxuICAgICAgICAgICAgYWN0aW9uczogXCJzZXRBY3RpdmVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZ3VhcmQ6IFwic3RhdHVzTmVlZHNJZGVudGlmaWVyXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBcInRyYW5zZmVyXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGd1YXJkOiBcInN0YXR1c05lZWRzRmlyc3RGYWN0b3JcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IHsgdHlwZTogXCJuYXZpZ2F0ZUludGVybmFsXCIsIHBhcmFtczogeyBwYXRoOiBcIi9jb250aW51ZVwiIH0gfSxcbiAgICAgICAgICAgIHRhcmdldDogXCJGaXJzdEZhY3RvclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJzdGF0dXNOZWVkc1NlY29uZEZhY3RvclwiLFxuICAgICAgICAgICAgYWN0aW9uczogeyB0eXBlOiBcIm5hdmlnYXRlSW50ZXJuYWxcIiwgcGFyYW1zOiB7IHBhdGg6IFwiL2NvbnRpbnVlXCIgfSB9LFxuICAgICAgICAgICAgdGFyZ2V0OiBcIlNlY29uZEZhY3RvclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBndWFyZDogXCJzdGF0dXNOZWVkc05ld1Bhc3N3b3JkXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiB7IHR5cGU6IFwibmF2aWdhdGVJbnRlcm5hbFwiLCBwYXJhbXM6IHsgcGF0aDogXCIvcmVzZXQtcGFzc3dvcmRcIiB9IH0sXG4gICAgICAgICAgICB0YXJnZXQ6IFwiUmVzZXRQYXNzd29yZFwiXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSxcbiAgICBDaG9vc2VTZXNzaW9uOiB7XG4gICAgICB0YWdzOiBbXCJzdGVwOmNob29zZS1zZXNzaW9uXCJdLFxuICAgICAgb246IHtcbiAgICAgICAgXCJTRVNTSU9OLlNFVF9BQ1RJVkVcIjoge1xuICAgICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwic2V0QWN0aXZlXCIsXG4gICAgICAgICAgICBwYXJhbXM6ICh7IGV2ZW50IH0pID0+ICh7IGlkOiBldmVudC5pZCB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgRXJyb3I6IHtcbiAgICAgIHRhZ3M6IFtcInN0ZXA6ZXJyb3JcIl0sXG4gICAgICBvbjoge1xuICAgICAgICBORVhUOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcIlN0YXJ0XCIsXG4gICAgICAgICAgYWN0aW9uczogXCJjbGVhckZvcm1FcnJvcnNcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBIaXN0OiB7XG4gICAgICB0eXBlOiBcImhpc3RvcnlcIixcbiAgICAgIGV4aXQ6IFwiY2xlYXJGb3JtRXJyb3JzXCJcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL3V0aWxzL2Zvcm1hdHRlcnMudHNcbmltcG9ydCB7IHRpdGxlaXplIH0gZnJvbSBcIkBjbGVyay9zaGFyZWQvdW5kZXJzY29yZVwiO1xuZnVuY3Rpb24gZm9ybWF0TmFtZSguLi5hcmdzKSB7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiB0aXRsZWl6ZShhcmdzWzBdKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGFyZ3MuZmlsdGVyKEJvb2xlYW4pLm1hcCh0aXRsZWl6ZSkuam9pbihcIiBcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFNhbHV0YXRpb24oe1xuICBmaXJzdE5hbWUsXG4gIGxhc3ROYW1lLFxuICBpZGVudGlmaWVyXG59KSB7XG4gIHJldHVybiBmaXJzdE5hbWUgJiYgZm9ybWF0TmFtZShmaXJzdE5hbWUpIHx8IGxhc3ROYW1lICYmIGZvcm1hdE5hbWUobGFzdE5hbWUpIHx8IGlkZW50aWZpZXIgfHwgXCJcIjtcbn1cblxuLy8gc3JjL2ludGVybmFscy9tYWNoaW5lcy9zaWduLWluL3JvdXRlci5zZWxlY3RvcnMudHNcbmZ1bmN0aW9uIFNpZ25JblNhZmVJZGVudGlmaWVyU2VsZWN0b3JGb3JTdHJhdGVneShzdHJhdGVneSkge1xuICByZXR1cm4gKHMpID0+IHtcbiAgICB2YXIgX2EzLCBfYjMsIF9jO1xuICAgIGNvbnN0IHNpZ25JbiA9IChfYTMgPSBzLmNvbnRleHQuY2xlcmspID09IG51bGwgPyB2b2lkIDAgOiBfYTMuY2xpZW50LnNpZ25JbjtcbiAgICBpZiAoc3RyYXRlZ3kpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nRmFjdG9ycyA9IFtcbiAgICAgICAgLi4uKF9iMyA9IHNpZ25Jbi5zdXBwb3J0ZWRGaXJzdEZhY3RvcnMpICE9IG51bGwgPyBfYjMgOiBbXSxcbiAgICAgICAgLi4uKF9jID0gc2lnbkluLnN1cHBvcnRlZFNlY29uZEZhY3RvcnMpICE9IG51bGwgPyBfYyA6IFtdXG4gICAgICBdLmZpbHRlcigoZikgPT4gZi5zdHJhdGVneSA9PT0gc3RyYXRlZ3kpO1xuICAgICAgY29uc3QgbWF0Y2hpbmdGYWN0b3JGb3JJZGVudGlmaWVyID0gc2lnbkluLmlkZW50aWZpZXIgJiYgbWF0Y2hpbmdGYWN0b3JzLmxlbmd0aCA+IDAgPyBtYXRjaGluZ0ZhY3RvcnMuZmluZCgoZikgPT4gXCJzYWZlSWRlbnRpZmllclwiIGluIGYgJiYgZi5zYWZlSWRlbnRpZmllciA9PT0gc2lnbkluLmlkZW50aWZpZXIpIDogbnVsbDtcbiAgICAgIGNvbnN0IG1hdGNoaW5nRmFjdG9yRm9yU3RyYXRlZ3kgPSBtYXRjaGluZ0ZhY3RvcnNbMF07XG4gICAgICBpZiAobWF0Y2hpbmdGYWN0b3JGb3JJZGVudGlmaWVyICYmIFwic2FmZUlkZW50aWZpZXJcIiBpbiBtYXRjaGluZ0ZhY3RvckZvcklkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nRmFjdG9yRm9ySWRlbnRpZmllci5zYWZlSWRlbnRpZmllcjtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaGluZ0ZhY3RvckZvclN0cmF0ZWd5ICYmIFwic2FmZUlkZW50aWZpZXJcIiBpbiBtYXRjaGluZ0ZhY3RvckZvclN0cmF0ZWd5KSB7XG4gICAgICAgIHJldHVybiBtYXRjaGluZ0ZhY3RvckZvclN0cmF0ZWd5LnNhZmVJZGVudGlmaWVyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2lnbkluLmlkZW50aWZpZXIgfHwgXCJcIjtcbiAgfTtcbn1cbmZ1bmN0aW9uIFNpZ25JblNhbHV0YXRpb25TZWxlY3RvcihzKSB7XG4gIHZhciBfYTMsIF9iMywgX2M7XG4gIGNvbnN0IHNpZ25JbiA9IChfYTMgPSBzLmNvbnRleHQuY2xlcmspID09IG51bGwgPyB2b2lkIDAgOiBfYTMuY2xpZW50LnNpZ25JbjtcbiAgcmV0dXJuIGZvcm1hdFNhbHV0YXRpb24oe1xuICAgIGZpcnN0TmFtZTogKF9iMyA9IHNpZ25JbiA9PSBudWxsID8gdm9pZCAwIDogc2lnbkluLnVzZXJEYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmZpcnN0TmFtZSxcbiAgICBpZGVudGlmaWVyOiBzaWduSW4gPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25Jbi5pZGVudGlmaWVyLFxuICAgIGxhc3ROYW1lOiAoX2MgPSBzaWduSW4gPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25Jbi51c2VyRGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmxhc3ROYW1lXG4gIH0pO1xufVxuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL3NpZ24taW4vcm91dGVyLnR5cGVzLnRzXG52YXIgU2lnbkluUm91dGVyU3lzdGVtSWQgPSB7XG4gIHN0YXJ0OiBcInN0YXJ0XCIsXG4gIGZpcnN0RmFjdG9yOiBcImZpcnN0RmFjdG9yXCIsXG4gIHNlY29uZEZhY3RvcjogXCJzZWNvbmRGYWN0b3JcIixcbiAgcmVzZXRQYXNzd29yZDogXCJyZXNldFBhc3N3b3JkXCJcbn07XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL2Nob29zZS1zdHJhdGVneS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU2lnbkluQ2hvb3NlU3RyYXRlZ3lDdHggPSBjcmVhdGVDb250ZXh0Rm9yRG9tVmFsaWRhdGlvbihcIlNpZ25JbkNob29zZVN0cmF0ZWd5Q3R4XCIpO1xuZnVuY3Rpb24gU2lnbkluQ2hvb3NlU3RyYXRlZ3koeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICBjb25zdCByb3V0ZXJSZWYgPSBTaWduSW5Sb3V0ZXJDdHgudXNlQWN0b3JSZWYoKTtcbiAgY29uc3QgYWN0aXZlU3RhdGVGaXJzdEZhY3RvciA9IHVzZUFjdGl2ZVRhZ3MoXG4gICAgcm91dGVyUmVmLFxuICAgIFtcInN0ZXA6dmVyaWZpY2F0aW9uc1wiLCBcInN0ZXA6Zmlyc3QtZmFjdG9yXCIsIFwic3RlcDpjaG9vc2Utc3RyYXRlZ3lcIl0sXG4gICAgQWN0aXZlVGFnc01vZGUuYWxsXG4gICk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlU2Vjb25kRmFjdG9yID0gdXNlQWN0aXZlVGFncyhcbiAgICByb3V0ZXJSZWYsXG4gICAgW1wic3RlcDp2ZXJpZmljYXRpb25zXCIsIFwic3RlcDpzZWNvbmQtZmFjdG9yXCIsIFwic3RlcDpjaG9vc2Utc3RyYXRlZ3lcIl0sXG4gICAgQWN0aXZlVGFnc01vZGUuYWxsXG4gICk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gYWN0aXZlU3RhdGVGaXJzdEZhY3RvciB8fCBhY3RpdmVTdGF0ZVNlY29uZEZhY3RvcjtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDkoU2lnbkluQ2hvb3NlU3RyYXRlZ3lDdHguUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwiZGl2XCIsIHsgLi4ucHJvcHMsIGNoaWxkcmVuIH0pIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIFNpZ25JbkZvcmdvdFBhc3N3b3JkKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnbkluUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gdXNlQWN0aXZlVGFncyhcbiAgICByb3V0ZXJSZWYsXG4gICAgW1wic3RlcDp2ZXJpZmljYXRpb25zXCIsIFwic3RlcDpmaXJzdC1mYWN0b3JcIiwgXCJzdGVwOmZvcmdvdC1wYXNzd29yZFwiXSxcbiAgICBBY3RpdmVUYWdzTW9kZS5hbGxcbiAgKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDkoU2lnbkluQ2hvb3NlU3RyYXRlZ3lDdHguUHJvdmlkZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g5KFwiZGl2XCIsIHsgLi4ucHJvcHMsIGNoaWxkcmVuIH0pIH0pIDogbnVsbDtcbn1cbnZhciBTVVBQT1JURURfU1RSQVRFR1lfTkFNRSA9IFwiU2lnbkluU3VwcG9ydGVkU3RyYXRlZ3lcIjtcbnZhciBTaWduSW5TdXBwb3J0ZWRTdHJhdGVneSA9IFJlYWN0MTguZm9yd2FyZFJlZihcbiAgKHsgYXNDaGlsZCwgY2hpbGRyZW4sIG5hbWUsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qgcm91dGVyUmVmID0gU2lnbkluUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gICAgY29uc3Qgc25hcHNob3QgPSByb3V0ZXJSZWYuZ2V0U25hcHNob3QoKTtcbiAgICBjb25zdCBzdGF0dXMgPSBzbmFwc2hvdC5jb250ZXh0LmNsZXJrLmNsaWVudC5zaWduSW4uc3RhdHVzO1xuICAgIGNvbnN0IHN1cHBvcnRlZEZpcnN0RmFjdG9ycyA9IHN0YXR1cyA9PT0gXCJuZWVkc19maXJzdF9mYWN0b3JcIiA/IHNuYXBzaG90LmNvbnRleHQuY2xlcmsuY2xpZW50LnNpZ25Jbi5zdXBwb3J0ZWRGaXJzdEZhY3RvcnMgfHwgW10gOiBbXTtcbiAgICBjb25zdCBzdXBwb3J0ZWRTZWNvbmRGYWN0b3JzID0gc3RhdHVzID09PSBcIm5lZWRzX3NlY29uZF9mYWN0b3JcIiA/IHNuYXBzaG90LmNvbnRleHQuY2xlcmsuY2xpZW50LnNpZ25Jbi5zdXBwb3J0ZWRTZWNvbmRGYWN0b3JzIHx8IFtdIDogW107XG4gICAgY29uc3QgZmFjdG9yID0gWy4uLnN1cHBvcnRlZEZpcnN0RmFjdG9ycywgLi4uc3VwcG9ydGVkU2Vjb25kRmFjdG9yc10uZmluZCgoZmFjdG9yMikgPT4gbmFtZSA9PT0gZmFjdG9yMi5zdHJhdGVneSk7XG4gICAgY29uc3QgY3VycmVudEZhY3RvciA9IHVzZVNlbGVjdG9yMyhcbiAgICAgIHNuYXBzaG90LmNoaWxkcmVuW1NpZ25JblJvdXRlclN5c3RlbUlkLmZpcnN0RmFjdG9yXSB8fCBzbmFwc2hvdC5jaGlsZHJlbltTaWduSW5Sb3V0ZXJTeXN0ZW1JZC5zZWNvbmRGYWN0b3JdLFxuICAgICAgKHN0YXRlKSA9PiB7XG4gICAgICAgIHZhciBfYTM7XG4gICAgICAgIHJldHVybiAoX2EzID0gc3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmNvbnRleHQuY3VycmVudEZhY3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5zdHJhdGVneTtcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHNlbmRVcGRhdGVTdHJhdGVneUV2ZW50ID0gUmVhY3QxOC51c2VDYWxsYmFjayhcbiAgICAgICgpID0+IHJvdXRlclJlZi5zZW5kKHsgdHlwZTogXCJTVFJBVEVHWS5VUERBVEVcIiwgZmFjdG9yIH0pLFxuICAgICAgW3JvdXRlclJlZiwgZmFjdG9yXVxuICAgICk7XG4gICAgaWYgKGN1cnJlbnRGYWN0b3IgPT09IG5hbWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3Q1IDogXCJidXR0b25cIjtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSBhc0NoaWxkID8ge30gOiB7IHR5cGU6IFwiYnV0dG9uXCIgfTtcbiAgICByZXR1cm4gZmFjdG9yID8gLyogQF9fUFVSRV9fICovIGpzeDkoU2lnbkluU3RyYXRlZ3lDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHN0cmF0ZWd5OiBuYW1lIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgICAgIENvbXAsXG4gICAgICB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIG9uQ2xpY2s6IHNlbmRVcGRhdGVTdHJhdGVneUV2ZW50LFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4gfHwgZmFjdG9yLnN0cmF0ZWd5XG4gICAgICB9XG4gICAgKSB9KSA6IG51bGw7XG4gIH1cbik7XG5TaWduSW5TdXBwb3J0ZWRTdHJhdGVneS5kaXNwbGF5TmFtZSA9IFNVUFBPUlRFRF9TVFJBVEVHWV9OQU1FO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9yZXNldC1wYXNzd29yZC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFNpZ25JblJlc2V0UGFzc3dvcmRDdHggPSBjcmVhdGVDb250ZXh0RnJvbUFjdG9yUmVmKFwiU2lnbkluUmVzZXRQYXNzd29yZEN0eFwiKTtcbmZ1bmN0aW9uIFNpZ25JblJlc2V0UGFzc3dvcmQocHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnbkluUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gdXNlQWN0aXZlVGFncyhyb3V0ZXJSZWYsIFwic3RlcDpyZXNldC1wYXNzd29yZFwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDEwKFNpZ25JblJlc2V0UGFzc3dvcmRJbm5lciwgeyAuLi5wcm9wcyB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBTaWduSW5SZXNldFBhc3N3b3JkSW5uZXIocHJvcHMpIHtcbiAgY29uc3QgcmVmID0gdXNlU2lnbkluUmVzZXRQYXNzd29yZFN0ZXAoKTtcbiAgaWYgKCFyZWYpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDEwKFNpZ25JblJlc2V0UGFzc3dvcmRDdHguUHJvdmlkZXIsIHsgYWN0b3JSZWY6IHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMChcbiAgICBGb3JtLFxuICAgIHtcbiAgICAgIGZsb3dBY3RvcjogcmVmLFxuICAgICAgLi4ucHJvcHNcbiAgICB9XG4gICkgfSk7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3N0YXJ0LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDExIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU2lnbkluU3RhcnRDdHggPSBjcmVhdGVDb250ZXh0RnJvbUFjdG9yUmVmKFwiU2lnbkluU3RhcnRDdHhcIik7XG5mdW5jdGlvbiBTaWduSW5TdGFydChwcm9wcykge1xuICBjb25zdCByb3V0ZXJSZWYgPSBTaWduSW5Sb3V0ZXJDdHgudXNlQWN0b3JSZWYoKTtcbiAgY29uc3QgYWN0aXZlU3RhdGUgPSB1c2VBY3RpdmVUYWdzKHJvdXRlclJlZiwgXCJzdGVwOnN0YXJ0XCIpO1xuICByZXR1cm4gYWN0aXZlU3RhdGUgPyAvKiBAX19QVVJFX18gKi8ganN4MTEoU2lnbkluU3RhcnRJbm5lciwgeyAuLi5wcm9wcyB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBTaWduSW5TdGFydElubmVyKHByb3BzKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVNpZ25JblN0YXJ0U3RlcCgpO1xuICBpZiAoIXJlZikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTEoU2lnbkluU3RhcnRDdHguUHJvdmlkZXIsIHsgYWN0b3JSZWY6IHJlZiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcbiAgICBGb3JtLFxuICAgIHtcbiAgICAgIGZsb3dBY3RvcjogcmVmLFxuICAgICAgLi4ucHJvcHNcbiAgICB9XG4gICkgfSk7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3ZlcmlmaWNhdGlvbnMudHN4XG5pbXBvcnQgeyB1c2VTZWxlY3RvciBhcyB1c2VTZWxlY3RvcjQgfSBmcm9tIFwiQHhzdGF0ZS9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s2LCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NSB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaW50ZXJuYWxzL21hY2hpbmVzL3V0aWxzL3N0cmF0ZWdpZXMudHNcbnZhciBtYXRjaFN0cmF0ZWd5ID0gKGN1cnJlbnQsIGRlc2lyZWQpID0+IHtcbiAgaWYgKCFjdXJyZW50IHx8ICFkZXNpcmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChjdXJyZW50ID09PSBkZXNpcmVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQuc3RhcnRzV2l0aChgJHtkZXNpcmVkfV9gKTtcbn07XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3ZlcmlmaWNhdGlvbnMudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTaWduSW5GaXJzdEZhY3RvckN0eCA9IGNyZWF0ZUNvbnRleHRGcm9tQWN0b3JSZWYoXCJTaWduSW5GaXJzdEZhY3RvckN0eFwiKTtcbnZhciBTaWduSW5TZWNvbmRGYWN0b3JDdHggPSBjcmVhdGVDb250ZXh0RnJvbUFjdG9yUmVmKFwiU2lnbkluU2Vjb25kRmFjdG9yQ3R4XCIpO1xudmFyIHN0cmF0ZWdpZXNTZWxlY3RvciA9IChzdGF0ZSkgPT4ge1xuICB2YXIgX2EzO1xuICByZXR1cm4gKF9hMyA9IHN0YXRlLmNvbnRleHQuY3VycmVudEZhY3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5zdHJhdGVneTtcbn07XG5mdW5jdGlvbiBTaWduSW5TdHJhdGVnaWVzUHJvdmlkZXIoe1xuICBjaGlsZHJlbixcbiAgcHJlZmVycmVkLFxuICBhY3RvclJlZixcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnbkluUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIGNvbnN0IGN1cnJlbnQgPSB1c2VTZWxlY3RvcjQoYWN0b3JSZWYsIHN0cmF0ZWdpZXNTZWxlY3Rvcik7XG4gIGNvbnN0IGlzQ2hvb3NpbmdBbHRTdHJhdGVneSA9IHVzZUFjdGl2ZVRhZ3Mocm91dGVyUmVmLCBbXCJzdGVwOmNob29zZS1zdHJhdGVneVwiLCBcInN0ZXA6Zm9yZ290LXBhc3N3b3JkXCJdKTtcbiAgY29uc3QgaXNBY3RpdmUgPSB1c2VDYWxsYmFjazYoKG5hbWUpID0+IGN1cnJlbnQgPyBtYXRjaFN0cmF0ZWd5KGN1cnJlbnQsIG5hbWUpIDogZmFsc2UsIFtjdXJyZW50XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTIoU3RyYXRlZ2llc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgY3VycmVudCwgcHJlZmVycmVkLCBpc0FjdGl2ZSB9LCBjaGlsZHJlbjogaXNDaG9vc2luZ0FsdFN0cmF0ZWd5LmFjdGl2ZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgRm9ybSxcbiAgICB7XG4gICAgICBmbG93QWN0b3I6IGFjdG9yUmVmLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKSB9KTtcbn1cbmZ1bmN0aW9uIHVzZUZhY3RvckN0eCgpIHtcbiAgY29uc3QgZmlyc3RGYWN0b3JSZWYgPSBTaWduSW5GaXJzdEZhY3RvckN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgY29uc3Qgc2Vjb25kRmFjdG9yUmVmID0gU2lnbkluU2Vjb25kRmFjdG9yQ3R4LnVzZUFjdG9yUmVmKHRydWUpO1xuICByZXR1cm4gZmlyc3RGYWN0b3JSZWYgfHwgc2Vjb25kRmFjdG9yUmVmO1xufVxuZnVuY3Rpb24gU2lnbkluU3RyYXRlZ3koeyBjaGlsZHJlbiwgbmFtZSB9KSB7XG4gIGNvbnN0IHsgYWN0aXZlIH0gPSB1c2VTdHJhdGVneShuYW1lKTtcbiAgY29uc3QgZmFjdG9yQ3R4ID0gdXNlRmFjdG9yQ3R4KCk7XG4gIHVzZUVmZmVjdDUoKCkgPT4ge1xuICAgIGlmIChmYWN0b3JDdHgpIHtcbiAgICAgIGZhY3RvckN0eC5zZW5kKHsgdHlwZTogXCJTVFJBVEVHWS5SRUdJU1RFUlwiLCBmYWN0b3I6IG5hbWUgfSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoKGZhY3RvckN0eCA9PSBudWxsID8gdm9pZCAwIDogZmFjdG9yQ3R4LmdldFNuYXBzaG90KCkuc3RhdHVzKSA9PT0gXCJhY3RpdmVcIikge1xuICAgICAgICBmYWN0b3JDdHguc2VuZCh7IHR5cGU6IFwiU1RSQVRFR1kuVU5SRUdJU1RFUlwiLCBmYWN0b3I6IG5hbWUgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2ZhY3RvckN0eCwgbmFtZV0pO1xuICByZXR1cm4gYWN0aXZlID8gLyogQF9fUFVSRV9fICovIGpzeDEyKFNpZ25JblN0cmF0ZWd5Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBzdHJhdGVneTogbmFtZSB9LCBjaGlsZHJlbiB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBTaWduSW5WZXJpZmljYXRpb25zKHByb3BzKSB7XG4gIGNvbnN0IHJvdXRlclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZigpO1xuICBjb25zdCB7IGFjdGl2ZVRhZ3M6IGFjdGl2ZVJvdXRlcyB9ID0gdXNlQWN0aXZlVGFncyhyb3V0ZXJSZWYsIFtcInN0ZXA6Zmlyc3QtZmFjdG9yXCIsIFwic3RlcDpzZWNvbmQtZmFjdG9yXCJdKTtcbiAgaWYgKGFjdGl2ZVJvdXRlcy5oYXMoXCJzdGVwOmZpcnN0LWZhY3RvclwiKSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTIoU2lnbkluRmlyc3RGYWN0b3JJbm5lciwgeyAuLi5wcm9wcyB9KTtcbiAgfVxuICBpZiAoYWN0aXZlUm91dGVzLmhhcyhcInN0ZXA6c2Vjb25kLWZhY3RvclwiKSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTIoU2lnbkluU2Vjb25kRmFjdG9ySW5uZXIsIHsgLi4ucHJvcHMgfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBTaWduSW5GaXJzdEZhY3Rvcihwcm9wcykge1xuICBjb25zdCByb3V0ZXJSZWYgPSBTaWduSW5Sb3V0ZXJDdHgudXNlQWN0b3JSZWYoKTtcbiAgY29uc3QgYWN0aXZlU3RhdGUgPSB1c2VBY3RpdmVUYWdzKHJvdXRlclJlZiwgXCJzdGVwOmZpcnN0LWZhY3RvclwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDEyKFNpZ25JbkZpcnN0RmFjdG9ySW5uZXIsIHsgLi4ucHJvcHMgfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gU2lnbkluU2Vjb25kRmFjdG9yKHByb3BzKSB7XG4gIGNvbnN0IHJvdXRlclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZigpO1xuICBjb25zdCBhY3RpdmVTdGF0ZSA9IHVzZUFjdGl2ZVRhZ3Mocm91dGVyUmVmLCBcInN0ZXA6c2Vjb25kLWZhY3RvclwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDEyKFNpZ25JblNlY29uZEZhY3RvcklubmVyLCB7IC4uLnByb3BzIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIFNpZ25JbkZpcnN0RmFjdG9ySW5uZXIocHJvcHMpIHtcbiAgY29uc3QgcmVmID0gdXNlU2lnbkluRmlyc3RGYWN0b3JTdGVwKCk7XG4gIGlmICghcmVmKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlZiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gxMihTaWduSW5GaXJzdEZhY3RvckN0eC5Qcm92aWRlciwgeyBhY3RvclJlZjogcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEyKFxuICAgIFNpZ25JblN0cmF0ZWdpZXNQcm92aWRlcixcbiAgICB7XG4gICAgICBhY3RvclJlZjogcmVmLFxuICAgICAgLi4ucHJvcHNcbiAgICB9XG4gICkgfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gU2lnbkluU2Vjb25kRmFjdG9ySW5uZXIocHJvcHMpIHtcbiAgY29uc3QgcmVmID0gdXNlU2lnbkluU2Vjb25kRmFjdG9yU3RlcCgpO1xuICBpZiAoIXJlZikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiByZWYgPyAvKiBAX19QVVJFX18gKi8ganN4MTIoU2lnbkluU2Vjb25kRmFjdG9yQ3R4LlByb3ZpZGVyLCB7IGFjdG9yUmVmOiByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgU2lnbkluU3RyYXRlZ2llc1Byb3ZpZGVyLFxuICAgIHtcbiAgICAgIGFjdG9yUmVmOiByZWYsXG4gICAgICAuLi5wcm9wc1xuICAgIH1cbiAgKSB9KSA6IG51bGw7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3N0ZXAudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTSUdOX0lOX1NURVBTID0ge1xuICBzdGFydDogXCJzdGFydFwiLFxuICB2ZXJpZmljYXRpb25zOiBcInZlcmlmaWNhdGlvbnNcIixcbiAgXCJjaG9vc2Utc3RyYXRlZ3lcIjogXCJjaG9vc2Utc3RyYXRlZ3lcIixcbiAgXCJjaG9vc2Utc2Vzc2lvblwiOiBcImNob29zZS1zZXNzaW9uXCIsXG4gIFwiZm9yZ290LXBhc3N3b3JkXCI6IFwiZm9yZ290LXBhc3N3b3JkXCIsXG4gIFwicmVzZXQtcGFzc3dvcmRcIjogXCJyZXNldC1wYXNzd29yZFwiXG59O1xuZnVuY3Rpb24gU2lnbkluU3RlcChwcm9wcykge1xuICB2YXIgX2EzO1xuICBjb25zdCBjbGVyayA9IHVzZUNsZXJrNCgpO1xuICAoX2EzID0gY2xlcmsudGVsZW1ldHJ5KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnJlY29yZChldmVudENvbXBvbmVudE1vdW50ZWQyKFwiRWxlbWVudHNfU2lnbkluU3RlcFwiLCB7IG5hbWU6IHByb3BzLm5hbWUgfSkpO1xuICBzd2l0Y2ggKHByb3BzLm5hbWUpIHtcbiAgICBjYXNlIFNJR05fSU5fU1RFUFMuc3RhcnQ6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDEzKFNpZ25JblN0YXJ0LCB7IC4uLnByb3BzIH0pO1xuICAgIGNhc2UgU0lHTl9JTl9TVEVQUy52ZXJpZmljYXRpb25zOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhTaWduSW5WZXJpZmljYXRpb25zLCB7IC4uLnByb3BzIH0pO1xuICAgIGNhc2UgU0lHTl9JTl9TVEVQU1tcImNob29zZS1zdHJhdGVneVwiXTpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoU2lnbkluQ2hvb3NlU3RyYXRlZ3ksIHsgLi4ucHJvcHMgfSk7XG4gICAgY2FzZSBTSUdOX0lOX1NURVBTW1wiZm9yZ290LXBhc3N3b3JkXCJdOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhTaWduSW5Gb3Jnb3RQYXNzd29yZCwgeyAuLi5wcm9wcyB9KTtcbiAgICBjYXNlIFNJR05fSU5fU1RFUFNbXCJyZXNldC1wYXNzd29yZFwiXTpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoU2lnbkluUmVzZXRQYXNzd29yZCwgeyAuLi5wcm9wcyB9KTtcbiAgICBjYXNlIFNJR05fSU5fU1RFUFNbXCJjaG9vc2Utc2Vzc2lvblwiXTpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoU2lnbkluQ2hvb3NlU2Vzc2lvbiwgeyAuLi5wcm9wcyB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoYEludmFsaWQgc3RlcCBuYW1lLiBVc2U6ICR7T2JqZWN0LmtleXMoU0lHTl9JTl9TVEVQUykuam9pbihcIixcIil9LmApO1xuICB9XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLXVwL3N0ZXAudHN4XG5pbXBvcnQgeyB1c2VDbGVyayBhcyB1c2VDbGVyazUgfSBmcm9tIFwiQGNsZXJrL2NsZXJrLXJlYWN0XCI7XG5pbXBvcnQgeyBldmVudENvbXBvbmVudE1vdW50ZWQgYXMgZXZlbnRDb21wb25lbnRNb3VudGVkMyB9IGZyb20gXCJAY2xlcmsvc2hhcmVkL3RlbGVtZXRyeVwiO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi11cC9jb250aW51ZS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxNCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFNpZ25VcENvbnRpbnVlQ3R4ID0gY3JlYXRlQ29udGV4dEZyb21BY3RvclJlZihcIlNpZ25VcENvbnRpbnVlQ3R4XCIpO1xuZnVuY3Rpb24gU2lnblVwQ29udGludWUocHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnblVwUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gdXNlQWN0aXZlVGFncyhyb3V0ZXJSZWYsIFwic3RlcDpjb250aW51ZVwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDE0KFNpZ25VcENvbnRpbnVlSW5uZXIsIHsgLi4ucHJvcHMgfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gU2lnblVwQ29udGludWVJbm5lcihwcm9wcykge1xuICBjb25zdCByZWYgPSB1c2VTaWduVXBDb250aW51ZVN0ZXAoKTtcbiAgaWYgKCFyZWYpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE0KFNpZ25VcENvbnRpbnVlQ3R4LlByb3ZpZGVyLCB7IGFjdG9yUmVmOiByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTQoXG4gICAgRm9ybSxcbiAgICB7XG4gICAgICBmbG93QWN0b3I6IHJlZixcbiAgICAgIC4uLnByb3BzXG4gICAgfVxuICApIH0pO1xufVxuXG4vLyBzcmMvcmVhY3Qvc2lnbi11cC9zdGFydC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxNSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFNpZ25VcFN0YXJ0Q3R4ID0gY3JlYXRlQ29udGV4dEZyb21BY3RvclJlZihcIlNpZ25VcFN0YXJ0Q3R4XCIpO1xuZnVuY3Rpb24gU2lnblVwU3RhcnQocHJvcHMpIHtcbiAgY29uc3Qgcm91dGVyUmVmID0gU2lnblVwUm91dGVyQ3R4LnVzZUFjdG9yUmVmKCk7XG4gIGNvbnN0IGFjdGl2ZVN0YXRlID0gdXNlQWN0aXZlVGFncyhyb3V0ZXJSZWYsIFwic3RlcDpzdGFydFwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDE1KFNpZ25VcFN0YXJ0SW5uZXIsIHsgLi4ucHJvcHMgfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gU2lnblVwU3RhcnRJbm5lcihwcm9wcykge1xuICBjb25zdCByZWYgPSB1c2VTaWduVXBTdGFydFN0ZXAoKTtcbiAgaWYgKCFyZWYpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE1KFNpZ25VcFN0YXJ0Q3R4LlByb3ZpZGVyLCB7IGFjdG9yUmVmOiByZWYsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgRm9ybSxcbiAgICB7XG4gICAgICBmbG93QWN0b3I6IHJlZixcbiAgICAgIC4uLnByb3BzXG4gICAgfVxuICApIH0pO1xufVxuXG4vLyBzcmMvcmVhY3Qvc2lnbi11cC92ZXJpZmljYXRpb25zLnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQzLCBqc3ggYXMganN4MTYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTaWduVXBWZXJpZmljYXRpb25DdHggPSBjcmVhdGVDb250ZXh0RnJvbUFjdG9yUmVmKFwiU2lnblVwVmVyaWZpY2F0aW9uQ3R4XCIpO1xuZnVuY3Rpb24gU2lnblVwVmVyaWZpY2F0aW9ucyhwcm9wcykge1xuICBjb25zdCByZWYgPSBTaWduVXBSb3V0ZXJDdHgudXNlQWN0b3JSZWYoKTtcbiAgY29uc3QgYWN0aXZlU3RhdGUgPSB1c2VBY3RpdmVUYWdzKHJlZiwgXCJzdGVwOnZlcmlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIGFjdGl2ZVN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDE2KFNpZ25VcFZlcmlmeUlubmVyLCB7IC4uLnByb3BzIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIFNpZ25VcFZlcmlmeUlubmVyKHByb3BzKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVNpZ25VcFZlcmlmaWNhdGlvblN0ZXAoKTtcbiAgaWYgKCFyZWYpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE2KFNpZ25VcFZlcmlmaWNhdGlvbkN0eC5Qcm92aWRlciwgeyBhY3RvclJlZjogcmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgIEZvcm0sXG4gICAge1xuICAgICAgZmxvd0FjdG9yOiByZWYsXG4gICAgICAuLi5wcm9wc1xuICAgIH1cbiAgKSB9KTtcbn1cbmZ1bmN0aW9uIFNpZ25VcFN0cmF0ZWd5KHsgY2hpbGRyZW4sIG5hbWU6IHRhZyB9KSB7XG4gIGNvbnN0IHJlZiA9IFNpZ25VcFZlcmlmaWNhdGlvbkN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgaWYgKCFyZWYpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnPFN0cmF0ZWd5PiB1c2VkIG91dHNpZGUgb2YgPFNpZ25VcD4uIERpZCB5b3UgbWVhbiB0byBgaW1wb3J0IHsgU3RyYXRlZ3kgfSBmcm9tIFwiQGNsZXJrL2VsZW1lbnRzL3NpZ24taW5cImAgaW5zdGVhZD8nXG4gICAgKTtcbiAgfVxuICBjb25zdCB7IGFjdGl2ZSB9ID0gdXNlQWN0aXZlVGFncyhyZWYsIFtcbiAgICBgdmVyaWZpY2F0aW9uOiR7dGFnfWAsXG4gICAgYHZlcmlmaWNhdGlvbjpjYXRlZ29yeToke3RhZ31gXG4gIF0pO1xuICByZXR1cm4gYWN0aXZlID8gLyogQF9fUFVSRV9fICovIGpzeDE2KEZyYWdtZW50MywgeyBjaGlsZHJlbiB9KSA6IG51bGw7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLXVwL3N0ZXAudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTSUdOX1VQX1NURVBTID0ge1xuICBzdGFydDogXCJzdGFydFwiLFxuICBjb250aW51ZTogXCJjb250aW51ZVwiLFxuICB2ZXJpZmljYXRpb25zOiBcInZlcmlmaWNhdGlvbnNcIlxufTtcbmZ1bmN0aW9uIFNpZ25VcFN0ZXAocHJvcHMpIHtcbiAgdmFyIF9hMztcbiAgY29uc3QgY2xlcmsgPSB1c2VDbGVyazUoKTtcbiAgKF9hMyA9IGNsZXJrLnRlbGVtZXRyeSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMy5yZWNvcmQoZXZlbnRDb21wb25lbnRNb3VudGVkMyhcIkVsZW1lbnRzX1NpZ25VcFN0ZXBcIiwgeyBuYW1lOiBwcm9wcy5uYW1lIH0pKTtcbiAgc3dpdGNoIChwcm9wcy5uYW1lKSB7XG4gICAgY2FzZSBTSUdOX1VQX1NURVBTLnN0YXJ0OlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhTaWduVXBTdGFydCwgeyAuLi5wcm9wcyB9KTtcbiAgICBjYXNlIFNJR05fVVBfU1RFUFMuY29udGludWU6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE3KFNpZ25VcENvbnRpbnVlLCB7IC4uLnByb3BzIH0pO1xuICAgIGNhc2UgU0lHTl9VUF9TVEVQUy52ZXJpZmljYXRpb25zOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhTaWduVXBWZXJpZmljYXRpb25zLCB7IC4uLnByb3BzIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihgSW52YWxpZCBzdGVwIG5hbWUuIFVzZSAnc3RhcnQnLCAnY29udGludWUnLCBvciAndmVyaWZpY2F0aW9ucycuYCk7XG4gIH1cbn1cblxuLy8gc3JjL3JlYWN0L3V0aWxzL21hcC1zY29wZS10by1zdHJhdGVneS50c1xuZnVuY3Rpb24gaXNQcm92aWRlclN0cmF0ZWd5U2NvcGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgoXCJwcm92aWRlcjpcIik7XG59XG5mdW5jdGlvbiBtYXBTY29wZVRvU3RyYXRlZ3koc2NvcGUpIHtcbiAgaWYgKHNjb3BlID09PSBcInByb3ZpZGVyOm1ldGFtYXNrXCIpIHtcbiAgICByZXR1cm4gXCJ3ZWIzX21ldGFtYXNrX3NpZ25hdHVyZVwiO1xuICB9XG4gIGlmIChzY29wZSA9PT0gXCJwcm92aWRlcjpjb2luYmFzZVwiKSB7XG4gICAgcmV0dXJuIFwid2ViM19jb2luYmFzZV9zaWduYXR1cmVcIjtcbiAgfVxuICBpZiAoc2NvcGUgPT09IFwicHJvdmlkZXI6c2FtbFwiKSB7XG4gICAgcmV0dXJuIFwic2FtbFwiO1xuICB9XG4gIGNvbnN0IHNjb3BlV2l0aG91dFByZWZpeCA9IHNjb3BlLnJlcGxhY2UoXCJwcm92aWRlcjpcIiwgXCJcIik7XG4gIHJldHVybiBgb2F1dGhfJHtzY29wZVdpdGhvdXRQcmVmaXh9YDtcbn1cblxuLy8gc3JjL3JlYWN0L2NvbW1vbi9sb2FkaW5nLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDE4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBpc1NpZ25JblNjb3BlKHNjb3BlKSB7XG4gIGlmICghc2NvcGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc2NvcGUuc3RhcnRzV2l0aChcInN0ZXA6XCIpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChTSUdOX0lOX1NURVBTLCBzY29wZS5yZXBsYWNlKFwic3RlcDpcIiwgXCJcIikpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaXNTaWduVXBTY29wZShzY29wZSkge1xuICBpZiAoIXNjb3BlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHNjb3BlLnN0YXJ0c1dpdGgoXCJzdGVwOlwiKSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoU0lHTl9VUF9TVEVQUywgc2NvcGUucmVwbGFjZShcInN0ZXA6XCIsIFwiXCIpKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIExvYWRpbmcoeyBjaGlsZHJlbiwgc2NvcGUgfSkge1xuICB2YXIgX2EzO1xuICBjb25zdCBjbGVyayA9IHVzZUNsZXJrNigpO1xuICAoX2EzID0gY2xlcmsudGVsZW1ldHJ5KSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnJlY29yZChldmVudENvbXBvbmVudE1vdW50ZWQ0KFwiRWxlbWVudHNfTG9hZGluZ1wiLCB7IHNjb3BlOiBzY29wZSAhPSBudWxsID8gc2NvcGUgOiBmYWxzZSB9KSk7XG4gIGNvbnN0IHNpZ25JblJvdXRlclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZih0cnVlKTtcbiAgY29uc3Qgc2lnblVwUm91dGVyUmVmID0gU2lnblVwUm91dGVyQ3R4LnVzZUFjdG9yUmVmKHRydWUpO1xuICBpZiAoIXNpZ25JblJvdXRlclJlZiAmJiAhc2lnblVwUm91dGVyUmVmKSB7XG4gICAgdGhyb3cgbmV3IENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IoYDxMb2FkaW5nPiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgPFNpZ25Jbj4gb3IgPFNpZ25VcD4gY29tcG9uZW50LmApO1xuICB9XG4gIGlmIChzaWduSW5Sb3V0ZXJSZWYpIHtcbiAgICBpZiAoaXNTaWduSW5TY29wZShzY29wZSkpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTgoXG4gICAgICAgIFNpZ25JbkxvYWRpbmcsXG4gICAgICAgIHtcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICByb3V0ZXJSZWY6IHNpZ25JblJvdXRlclJlZixcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihgSW52YWxpZCBzY29wZSBcIiR7c2NvcGV9XCIgdXNlZCBmb3IgPExvYWRpbmc+IGluc2lkZSA8U2lnbkluPi5gKTtcbiAgICB9XG4gIH1cbiAgaWYgKHNpZ25VcFJvdXRlclJlZikge1xuICAgIGlmIChpc1NpZ25VcFNjb3BlKHNjb3BlKSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxOChcbiAgICAgICAgU2lnblVwTG9hZGluZyxcbiAgICAgICAge1xuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIHJvdXRlclJlZjogc2lnblVwUm91dGVyUmVmLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBDbGVya0VsZW1lbnRzUnVudGltZUVycm9yKGBJbnZhbGlkIHNjb3BlIFwiJHtzY29wZX1cIiB1c2VkIGZvciA8TG9hZGluZz4gaW5zaWRlIDxTaWduVXA+LmApO1xuICAgIH1cbiAgfVxuICB0aHJvdyBuZXcgQ2xlcmtFbGVtZW50c1J1bnRpbWVFcnJvcihcIkludmFsaWQgc3RhdGUgZm9yIDxMb2FkaW5nPi4gUGxlYXNlIG9wZW4gYW4gaXNzdWUuXCIpO1xufVxuZnVuY3Rpb24gU2lnbkluTG9hZGluZyh7IGNoaWxkcmVuLCBzY29wZSwgcm91dGVyUmVmIH0pIHtcbiAgY29uc3QgW2lzTG9hZGluZywgeyBzdGVwOiBsb2FkaW5nU3RlcCwgc3RyYXRlZ3ksIGFjdGlvbiB9XSA9IHVzZUxvYWRpbmcocm91dGVyUmVmKTtcbiAgY29uc3QgdGFncyA9IHVzZVNlbGVjdG9yNShyb3V0ZXJSZWYsIChzKSA9PiBzLnRhZ3MpO1xuICBjb25zdCBpc1N0ZXBMb2FkaW5nID0gKHN0ZXApID0+IGlzTG9hZGluZyAmJiBsb2FkaW5nU3RlcCA9PT0gc3RlcDtcbiAgY29uc3QgaXNJbmZlcnJlZFN0ZXBMb2FkaW5nID0gKHN0ZXApID0+IHRhZ3MuaGFzKGBzdGVwOiR7c3RlcH1gKSAmJiBpc1N0ZXBMb2FkaW5nKHN0ZXApO1xuICBsZXQgbG9hZGluZ1Jlc3VsdCA9IGZhbHNlO1xuICBpZiAoc2NvcGUgPT09IFwiZ2xvYmFsXCIpIHtcbiAgICBsb2FkaW5nUmVzdWx0ID0gaXNMb2FkaW5nO1xuICB9IGVsc2UgaWYgKHNjb3BlICYmIGlzUHJvdmlkZXJTdHJhdGVneVNjb3BlKHNjb3BlKSkge1xuICAgIGxvYWRpbmdSZXN1bHQgPSBpc0xvYWRpbmcgJiYgbG9hZGluZ1N0ZXAgPT09IHZvaWQgMCAmJiBzdHJhdGVneSA9PT0gbWFwU2NvcGVUb1N0cmF0ZWd5KHNjb3BlKTtcbiAgfSBlbHNlIGlmIChzY29wZSkge1xuICAgIGxvYWRpbmdSZXN1bHQgPSBpc1N0ZXBMb2FkaW5nKHNjb3BlLnJlcGxhY2UoXCJzdGVwOlwiLCBcIlwiKSkgfHwgc2NvcGUgPT09IGFjdGlvbjtcbiAgfSBlbHNlIHtcbiAgICBsb2FkaW5nUmVzdWx0ID0gaXNJbmZlcnJlZFN0ZXBMb2FkaW5nKFwic3RhcnRcIikgfHwgaXNJbmZlcnJlZFN0ZXBMb2FkaW5nKFwidmVyaWZpY2F0aW9uc1wiKSB8fCBpc0luZmVycmVkU3RlcExvYWRpbmcoXCJjaG9vc2Utc3RyYXRlZ3lcIikgfHwgaXNJbmZlcnJlZFN0ZXBMb2FkaW5nKFwiZm9yZ290LXBhc3N3b3JkXCIpIHx8IGlzSW5mZXJyZWRTdGVwTG9hZGluZyhcInJlc2V0LXBhc3N3b3JkXCIpO1xuICB9XG4gIHJldHVybiBjaGlsZHJlbihsb2FkaW5nUmVzdWx0KTtcbn1cbmZ1bmN0aW9uIFNpZ25VcExvYWRpbmcoeyBjaGlsZHJlbiwgc2NvcGUsIHJvdXRlclJlZiB9KSB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHsgc3RlcDogbG9hZGluZ1N0ZXAsIHN0cmF0ZWd5LCBhY3Rpb24gfV0gPSB1c2VMb2FkaW5nKHJvdXRlclJlZik7XG4gIGNvbnN0IHRhZ3MgPSB1c2VTZWxlY3RvcjUocm91dGVyUmVmLCAocykgPT4gcy50YWdzKTtcbiAgY29uc3QgaXNTdGVwTG9hZGluZyA9IChzdGVwKSA9PiBpc0xvYWRpbmcgJiYgbG9hZGluZ1N0ZXAgPT09IHN0ZXA7XG4gIGNvbnN0IGlzSW5mZXJyZWRTdGVwTG9hZGluZyA9IChzdGVwKSA9PiB0YWdzLmhhcyhgc3RlcDoke3N0ZXB9YCkgJiYgaXNTdGVwTG9hZGluZyhzdGVwKTtcbiAgbGV0IGxvYWRpbmdSZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHNjb3BlID09PSBcImdsb2JhbFwiKSB7XG4gICAgbG9hZGluZ1Jlc3VsdCA9IGlzTG9hZGluZztcbiAgfSBlbHNlIGlmIChzY29wZSAmJiBpc1Byb3ZpZGVyU3RyYXRlZ3lTY29wZShzY29wZSkpIHtcbiAgICBsb2FkaW5nUmVzdWx0ID0gaXNMb2FkaW5nICYmIGxvYWRpbmdTdGVwID09PSB2b2lkIDAgJiYgc3RyYXRlZ3kgPT09IG1hcFNjb3BlVG9TdHJhdGVneShzY29wZSk7XG4gIH0gZWxzZSBpZiAoc2NvcGUpIHtcbiAgICBsb2FkaW5nUmVzdWx0ID0gaXNTdGVwTG9hZGluZyhzY29wZS5yZXBsYWNlKFwic3RlcDpcIiwgXCJcIikpIHx8IHNjb3BlID09PSBhY3Rpb247XG4gIH0gZWxzZSB7XG4gICAgbG9hZGluZ1Jlc3VsdCA9IGlzSW5mZXJyZWRTdGVwTG9hZGluZyhcInN0YXJ0XCIpIHx8IGlzSW5mZXJyZWRTdGVwTG9hZGluZyhcImNvbnRpbnVlXCIpIHx8IGlzSW5mZXJyZWRTdGVwTG9hZGluZyhcInZlcmlmaWNhdGlvbnNcIik7XG4gIH1cbiAgcmV0dXJuIGNoaWxkcmVuKGxvYWRpbmdSZXN1bHQpO1xufVxuXG5leHBvcnQge1xuICBfX3ByaXZhdGVHZXQsXG4gIF9fcHJpdmF0ZUFkZCxcbiAgX19wcml2YXRlU2V0LFxuICBDbGVya0VsZW1lbnRzRXJyb3IsXG4gIENsZXJrRWxlbWVudHNSdW50aW1lRXJyb3IsXG4gIGluc3BlY3QsXG4gIEZvcm1TdG9yZVByb3ZpZGVyLFxuICB1c2VGb3JtU3RvcmUsXG4gIEZpZWxkLFxuICBGaWVsZEVycm9yLFxuICBGaWVsZFN0YXRlLFxuICBGb3JtLFxuICBHbG9iYWxFcnJvcixcbiAgU2lnbkluUm91dGVyQ3R4LFxuICB1c2VTaWduSW5TdHJhdGVneSxcbiAgSW5wdXQsXG4gIExhYmVsLFxuICBTdWJtaXQsXG4gIFNpZ25VcFJvdXRlckN0eCxcbiAgQ29ubmVjdGlvbixcbiAgSWNvbixcbiAgdXNlU2lnbkluQWN0aXZlU2Vzc2lvbkNvbnRleHQsXG4gIFNpZ25JblNlc3Npb25MaXN0LFxuICBTaWduSW5TZXNzaW9uTGlzdEl0ZW0sXG4gIFNTT19DQUxMQkFDS19QQVRIX1JPVVRFLFxuICBNQUdJQ19MSU5LX1ZFUklGWV9QQVRIX1JPVVRFLFxuICBTSUdOX0lOX0RFRkFVTFRfQkFTRV9QQVRILFxuICBTSUdOX1VQX0RFRkFVTFRfQkFTRV9QQVRILFxuICBORVhUX1dJTkRPV19ISVNUT1JZX1NVUFBPUlRfVkVSU0lPTixcbiAgU0VBUkNIX1BBUkFNUyxcbiAgUkVTRU5EQUJMRV9DT1VOVERPV05fREVGQVVMVCxcbiAgQ0FQVENIQV9FTEVNRU5UX0lELFxuICBFUlJPUl9DT0RFUyxcbiAgUk9VVElORyxcbiAgc2VuZFRvTG9hZGluZyxcbiAgYXNzZXJ0QWN0b3JFdmVudEVycm9yLFxuICBUaGlyZFBhcnR5TWFjaGluZUlkLFxuICBUaGlyZFBhcnR5TWFjaGluZSxcbiAgc2hvdWxkVXNlVmlydHVhbFJvdXRpbmcsXG4gIFNpZ25JblJvdXRlck1hY2hpbmUsXG4gIFNpZ25JblNhZmVJZGVudGlmaWVyU2VsZWN0b3JGb3JTdHJhdGVneSxcbiAgU2lnbkluU2FsdXRhdGlvblNlbGVjdG9yLFxuICBTaWduSW5TdXBwb3J0ZWRTdHJhdGVneSxcbiAgU2lnbkluRmlyc3RGYWN0b3JDdHgsXG4gIFNpZ25JblNlY29uZEZhY3RvckN0eCxcbiAgU2lnbkluU3RyYXRlZ3ksXG4gIFNpZ25JbkZpcnN0RmFjdG9yLFxuICBTaWduSW5TZWNvbmRGYWN0b3IsXG4gIFNpZ25JblN0ZXAsXG4gIFNpZ25VcFN0YXJ0Q3R4LFxuICBTaWduVXBWZXJpZmljYXRpb25DdHgsXG4gIFNpZ25VcFN0cmF0ZWd5LFxuICBTaWduVXBTdGVwLFxuICBMb2FkaW5nXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQlhaVVhVR0YubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-BXZUXUGF.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/react/sign-in/index.mjs":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/react/sign-in/index.mjs ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: () => (/* binding */ SignInAction),\n/* harmony export */   FirstFactor: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInFirstFactor),\n/* harmony export */   Passkey: () => (/* binding */ SignInPasskey),\n/* harmony export */   Root: () => (/* binding */ SignInRoot),\n/* harmony export */   SafeIdentifier: () => (/* binding */ SignInSafeIdentifier),\n/* harmony export */   Salutation: () => (/* binding */ SignInSalutation),\n/* harmony export */   SecondFactor: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSecondFactor),\n/* harmony export */   SessionList: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSessionList),\n/* harmony export */   SessionListItem: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSessionListItem),\n/* harmony export */   SignIn: () => (/* binding */ SignInRoot),\n/* harmony export */   Step: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInStep),\n/* harmony export */   Strategy: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInStrategy),\n/* harmony export */   SupportedStrategy: () => (/* reexport safe */ _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSupportedStrategy)\n/* harmony export */ });\n/* harmony import */ var _chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../chunk-7WFXAEQQ.mjs */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/router.mjs\");\n/* harmony import */ var _chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../chunk-7WFXAEQQ.mjs */ \"(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-7WFXAEQQ.mjs\");\n/* harmony import */ var _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunk-BXZUXUGF.mjs */ \"(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/chunk-BXZUXUGF.mjs\");\n/* harmony import */ var client_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! client-only */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/client-only/index.js\");\n/* harmony import */ var _clerk_clerk_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @clerk/clerk-react */ \"(ssr)/./node_modules/.pnpm/@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/clerk-react/dist/index.mjs\");\n/* harmony import */ var _clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @clerk/shared/telemetry */ \"(ssr)/./node_modules/.pnpm/@clerk+shared@2.9.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@clerk/shared/dist/telemetry.mjs\");\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @xstate/react */ \"(ssr)/./node_modules/.pnpm/@xstate+react@4.1.3_@types+react@18.3.18_react@18.3.1_xstate@5.19.2/node_modules/@xstate/react/dist/xstate-react.development.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! xstate */ \"(ssr)/./node_modules/.pnpm/xstate@5.19.2/node_modules/xstate/dist/raise-1db27a82.development.esm.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.2_@types+react@18.3.18_react@18.3.1/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n\n\n\n// src/react/sign-in/index.ts\n\n\n// src/react/sign-in/root.tsx\n\n\n\n\n\n\nvar actor = (0,xstate__WEBPACK_IMPORTED_MODULE_5__.A)(_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterMachine, { inspect: _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.inspect });\nactor.start();\nfunction SignInFlowProvider({ children, exampleMode, fallback, isRootPath }) {\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_1__.useClerk)();\n  const router = (0,_chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_7__.useClerkRouter)();\n  const formRef = (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.useFormStore)();\n  const isReady = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_8__.useSelector)(actor, (state) => state.value !== \"Idle\");\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!clerk || !router) {\n      return;\n    }\n    clerk.addOnLoaded(() => {\n      const evt = {\n        type: \"INIT\",\n        clerk,\n        exampleMode,\n        formRef,\n        router,\n        signUpPath: _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SIGN_UP_DEFAULT_BASE_PATH\n      };\n      if (actor.getSnapshot().can(evt)) {\n        actor.send(evt);\n      }\n    });\n    if (formRef && actor.getSnapshot().can({ type: \"RESET.STEP\" })) {\n      actor.send({\n        type: \"FORM.ATTACH\",\n        formRef\n      });\n    }\n  }, [clerk, exampleMode, formRef == null ? void 0 : formRef.id, !!router, clerk.loaded]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.Provider, { actorRef: actor, children: [\n    isRootPath && !isReady && fallback ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.Form, { children: fallback }) : null,\n    clerk.loaded && isReady ? children : null\n  ] });\n}\nfunction SignInRoot({\n  children,\n  exampleMode = false,\n  fallback = null,\n  path: pathProp,\n  routing = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.ROUTING.path\n}) {\n  var _a;\n  const clerk = (0,_clerk_clerk_react__WEBPACK_IMPORTED_MODULE_1__.useClerk)();\n  const inferredPath = (0,_chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_9__.usePathnameWithoutCatchAll)();\n  const path = pathProp || inferredPath || _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SIGN_IN_DEFAULT_BASE_PATH;\n  (_a = clerk.telemetry) == null ? void 0 : _a.record(\n    (0,_clerk_shared_telemetry__WEBPACK_IMPORTED_MODULE_2__.eventComponentMounted)(\"Elements_SignInRoot\", {\n      exampleMode,\n      fallback: Boolean(fallback),\n      path,\n      routing\n    })\n  );\n  const router = (routing === _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.ROUTING.virtual ? _chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_9__.useVirtualRouter : _chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_9__.useNextRouter)();\n  const isRootPath = path === router.pathname();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    _chunk_7WFXAEQQ_mjs__WEBPACK_IMPORTED_MODULE_7__.Router,\n    {\n      basePath: path,\n      router,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.FormStoreProvider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        SignInFlowProvider,\n        {\n          exampleMode,\n          fallback,\n          isRootPath,\n          children\n        }\n      ) })\n    }\n  );\n}\n\n// src/react/sign-in/action/action.tsx\n\n\n// src/react/sign-in/action/navigate.tsx\n\n\n\nvar SIGN_IN_NAVIGATE_NAME = \"SignInNavigate\";\nvar SignInNavigationEventMap = {\n  start: \"NAVIGATE.START\",\n  previous: \"NAVIGATE.PREVIOUS\",\n  \"choose-strategy\": \"NAVIGATE.CHOOSE_STRATEGY\",\n  \"forgot-password\": \"NAVIGATE.FORGOT_PASSWORD\"\n};\nvar SignInNavigate = react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(\n  ({ asChild, to, ...rest }, forwardedRef) => {\n    const actorRef = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.useActorRef();\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__.Slot : \"button\";\n    const defaultProps = asChild ? {} : { type: \"button\" };\n    const sendEvent = react__WEBPACK_IMPORTED_MODULE_3__.useCallback(() => {\n      const type = SignInNavigationEventMap[to];\n      if (actorRef.getSnapshot().can({ type })) {\n        actorRef.send({ type });\n      } else {\n        console.warn(\n          `Clerk: <SignIn.Action navigate=\"${to}\"> is an invalid navigation event. You can only navigate to: ${Object.keys(SignInNavigationEventMap).join(\", \")}.`\n        );\n      }\n    }, [actorRef, to]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Comp,\n      {\n        ...defaultProps,\n        ...rest,\n        onClick: sendEvent,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSignInNavigate.displayName = SIGN_IN_NAVIGATE_NAME;\n\n// src/react/sign-in/action/resend.tsx\n\n\n\n\nvar SIGN_IN_RESEND_NAME = \"SignInResend\";\nvar SignInResend = react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(\n  ({ asChild, fallback, ...rest }, forwardedRef) => {\n    const firstFactorRef = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInFirstFactorCtx.useActorRef(true);\n    const secondFactorRef = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSecondFactorCtx.useActorRef(true);\n    const actorRef = firstFactorRef || secondFactorRef;\n    if (!actorRef) {\n      throw new Error('The resend action must be used within <SignIn.Step name=\"verifications\">.');\n    }\n    const fallbackProps = (0,_xstate_react__WEBPACK_IMPORTED_MODULE_8__.useSelector)(\n      actorRef,\n      (state) => ({\n        resendable: state.context.resendable,\n        resendableAfter: state.context.resendableAfter\n      }),\n      (a, b) => a.resendableAfter === b.resendableAfter && a.resendable === b.resendable\n    );\n    if (fallback && !fallbackProps.resendable) {\n      return typeof fallback === \"function\" ? fallback(fallbackProps) : fallback;\n    }\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__.Slot : \"button\";\n    const defaultProps = asChild ? {} : { type: \"button\" };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Comp,\n      {\n        ...defaultProps,\n        ...rest,\n        disabled: !fallbackProps.resendable,\n        onClick: () => actorRef.send({ type: \"RETRY\" }),\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSignInResend.displayName = SIGN_IN_RESEND_NAME;\n\n// src/react/sign-in/action/set-active-session.tsx\n\n\n\nvar DISPLAY_NAME = \"SignInSetActiveSession\";\nvar SignInSetActiveSession = react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(\n  ({ asChild, ...rest }, forwardedRef) => {\n    const actorRef = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.useActorRef();\n    const session = (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.useSignInActiveSessionContext)();\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__.Slot : \"button\";\n    const defaultProps = asChild ? {} : { type: \"button\" };\n    const sendEvent = react__WEBPACK_IMPORTED_MODULE_3__.useCallback(() => {\n      const event = { type: \"SESSION.SET_ACTIVE\", id: session.id };\n      if (actorRef.getSnapshot().can(event)) {\n        actorRef.send(event);\n      } else {\n        console.warn(\n          `Clerk: <SignIn.Action setActiveSession> is an invalid event. You can only choose an active session from <SignIn.Step name=\"choose-session\">.`\n        );\n      }\n    }, [actorRef, session.id]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Comp,\n      {\n        ...defaultProps,\n        ...rest,\n        onClick: sendEvent,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSignInSetActiveSession.displayName = DISPLAY_NAME;\n\n// src/react/sign-in/action/action.tsx\n\nvar DISPLAY_NAME2 = \"SignInAction\";\nvar SignInAction = react__WEBPACK_IMPORTED_MODULE_3__.forwardRef((props, forwardedRef) => {\n  const { submit, navigate, resend, setActiveSession, ...rest } = props;\n  let Comp;\n  if (submit) {\n    Comp = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.Submit;\n  } else if (navigate) {\n    Comp = SignInNavigate;\n  } else if (resend) {\n    Comp = SignInResend;\n  } else if (setActiveSession) {\n    Comp = SignInSetActiveSession;\n  }\n  return Comp ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    Comp,\n    {\n      to: navigate,\n      ...rest,\n      ref: forwardedRef\n    }\n  ) : null;\n});\nSignInAction.displayName = DISPLAY_NAME2;\n\n// src/react/sign-in/passkey.tsx\n\n\n\nvar SIGN_IN_PASSKEY_NAME = \"SignInPasskey\";\nvar SignInPasskey = react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(\n  ({ asChild, ...rest }, forwardedRef) => {\n    const actorRef = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.useActorRef(true);\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_10__.Slot : \"button\";\n    const defaultProps = asChild ? {} : { type: \"button\" };\n    const sendEvent = react__WEBPACK_IMPORTED_MODULE_3__.useCallback(() => {\n      actorRef == null ? void 0 : actorRef.send({ type: \"AUTHENTICATE.PASSKEY\" });\n    }, [actorRef]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Comp,\n      {\n        ...defaultProps,\n        ...rest,\n        onClick: sendEvent,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSignInPasskey.displayName = SIGN_IN_PASSKEY_NAME;\n\n// src/react/sign-in/identifiers.tsx\n\nfunction SignInSafeIdentifier({ transform }) {\n  const strategy = (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.useSignInStrategy)();\n  const selector = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => (0,_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSafeIdentifierSelectorForStrategy)(strategy), [strategy]);\n  const safeIdentifier = _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.useSelector(selector);\n  if (transform) {\n    return transform(safeIdentifier);\n  }\n  return safeIdentifier;\n}\nfunction SignInSalutation() {\n  return _chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInRouterCtx.useSelector(_chunk_BXZUXUGF_mjs__WEBPACK_IMPORTED_MODULE_6__.SignInSalutationSelector);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGNsZXJrK2VsZW1lbnRzQDAuMTQuNl9AY2xlcmsrY2xlcmstcmVhY3RANS4xMi4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxXzljYTZlNWU1YjkyOWE0NjUxOGZjOTcxZDdiYWE4MWY3L25vZGVfbW9kdWxlcy9AY2xlcmsvZWxlbWVudHMvZGlzdC9yZWFjdC9zaWduLWluL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNa0M7QUF5QkE7O0FBRWxDO0FBQ3FCOztBQUVyQjtBQUM4QztBQUNrQjtBQUNwQjtBQUNWO0FBQ0c7QUFDUztBQUM5QyxZQUFZLHlDQUFXLENBQUMsb0VBQW1CLElBQUksT0FBTyw0REFBRTtBQUN4RDtBQUNBLDhCQUE4Qiw2Q0FBNkM7QUFDM0UsZ0JBQWdCLDREQUFRO0FBQ3hCLGlCQUFpQixtRUFBYztBQUMvQixrQkFBa0IsaUVBQVk7QUFDOUIsa0JBQWtCLDBEQUFXO0FBQzdCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwRUFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkNBQTZDLG9CQUFvQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLHVEQUFJLENBQUMsZ0VBQWUsYUFBYTtBQUMxRCx5REFBeUQsc0RBQUcsQ0FBQyxxREFBSSxJQUFJLG9CQUFvQjtBQUN6RjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFPO0FBQ25CLENBQUM7QUFDRDtBQUNBLGdCQUFnQiw0REFBUTtBQUN4Qix1QkFBdUIsK0VBQTBCO0FBQ2pELDJDQUEyQywwRUFBeUI7QUFDcEU7QUFDQSxJQUFJLDhFQUFxQjtBQUN6QjtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdFQUFlLGFBQWEseUVBQXdCO0FBQzdEO0FBZUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BjbGVyaytlbGVtZW50c0AwLjE0LjZfQGNsZXJrK2NsZXJrLXJlYWN0QDUuMTIuMF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMV85Y2E2ZTVlNWI5MjlhNDY1MThmYzk3MWQ3YmFhODFmNy9ub2RlX21vZHVsZXMvQGNsZXJrL2VsZW1lbnRzL2Rpc3QvcmVhY3Qvc2lnbi1pbi9pbmRleC5tanM/YmU3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSb3V0ZXIsXG4gIHVzZUNsZXJrUm91dGVyLFxuICB1c2VOZXh0Um91dGVyLFxuICB1c2VQYXRobmFtZVdpdGhvdXRDYXRjaEFsbCxcbiAgdXNlVmlydHVhbFJvdXRlclxufSBmcm9tIFwiLi4vLi4vY2h1bmstN1dGWEFFUVEubWpzXCI7XG5pbXBvcnQge1xuICBGb3JtLFxuICBGb3JtU3RvcmVQcm92aWRlcixcbiAgUk9VVElORyxcbiAgU0lHTl9JTl9ERUZBVUxUX0JBU0VfUEFUSCxcbiAgU0lHTl9VUF9ERUZBVUxUX0JBU0VfUEFUSCxcbiAgU2lnbkluRmlyc3RGYWN0b3IsXG4gIFNpZ25JbkZpcnN0RmFjdG9yQ3R4LFxuICBTaWduSW5Sb3V0ZXJDdHgsXG4gIFNpZ25JblJvdXRlck1hY2hpbmUsXG4gIFNpZ25JblNhZmVJZGVudGlmaWVyU2VsZWN0b3JGb3JTdHJhdGVneSxcbiAgU2lnbkluU2FsdXRhdGlvblNlbGVjdG9yLFxuICBTaWduSW5TZWNvbmRGYWN0b3IsXG4gIFNpZ25JblNlY29uZEZhY3RvckN0eCxcbiAgU2lnbkluU2Vzc2lvbkxpc3QsXG4gIFNpZ25JblNlc3Npb25MaXN0SXRlbSxcbiAgU2lnbkluU3RlcCxcbiAgU2lnbkluU3RyYXRlZ3ksXG4gIFNpZ25JblN1cHBvcnRlZFN0cmF0ZWd5LFxuICBTdWJtaXQsXG4gIGluc3BlY3QsXG4gIHVzZUZvcm1TdG9yZSxcbiAgdXNlU2lnbkluQWN0aXZlU2Vzc2lvbkNvbnRleHQsXG4gIHVzZVNpZ25JblN0cmF0ZWd5XG59IGZyb20gXCIuLi8uLi9jaHVuay1CWFpVWFVHRi5tanNcIjtcblxuLy8gc3JjL3JlYWN0L3NpZ24taW4vaW5kZXgudHNcbmltcG9ydCBcImNsaWVudC1vbmx5XCI7XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL3Jvb3QudHN4XG5pbXBvcnQgeyB1c2VDbGVyayB9IGZyb20gXCJAY2xlcmsvY2xlcmstcmVhY3RcIjtcbmltcG9ydCB7IGV2ZW50Q29tcG9uZW50TW91bnRlZCB9IGZyb20gXCJAY2xlcmsvc2hhcmVkL3RlbGVtZXRyeVwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwiQHhzdGF0ZS9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVBY3RvciB9IGZyb20gXCJ4c3RhdGVcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGFjdG9yID0gY3JlYXRlQWN0b3IoU2lnbkluUm91dGVyTWFjaGluZSwgeyBpbnNwZWN0IH0pO1xuYWN0b3Iuc3RhcnQoKTtcbmZ1bmN0aW9uIFNpZ25JbkZsb3dQcm92aWRlcih7IGNoaWxkcmVuLCBleGFtcGxlTW9kZSwgZmFsbGJhY2ssIGlzUm9vdFBhdGggfSkge1xuICBjb25zdCBjbGVyayA9IHVzZUNsZXJrKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZUNsZXJrUm91dGVyKCk7XG4gIGNvbnN0IGZvcm1SZWYgPSB1c2VGb3JtU3RvcmUoKTtcbiAgY29uc3QgaXNSZWFkeSA9IHVzZVNlbGVjdG9yKGFjdG9yLCAoc3RhdGUpID0+IHN0YXRlLnZhbHVlICE9PSBcIklkbGVcIik7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjbGVyayB8fCAhcm91dGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZXJrLmFkZE9uTG9hZGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgICAgdHlwZTogXCJJTklUXCIsXG4gICAgICAgIGNsZXJrLFxuICAgICAgICBleGFtcGxlTW9kZSxcbiAgICAgICAgZm9ybVJlZixcbiAgICAgICAgcm91dGVyLFxuICAgICAgICBzaWduVXBQYXRoOiBTSUdOX1VQX0RFRkFVTFRfQkFTRV9QQVRIXG4gICAgICB9O1xuICAgICAgaWYgKGFjdG9yLmdldFNuYXBzaG90KCkuY2FuKGV2dCkpIHtcbiAgICAgICAgYWN0b3Iuc2VuZChldnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChmb3JtUmVmICYmIGFjdG9yLmdldFNuYXBzaG90KCkuY2FuKHsgdHlwZTogXCJSRVNFVC5TVEVQXCIgfSkpIHtcbiAgICAgIGFjdG9yLnNlbmQoe1xuICAgICAgICB0eXBlOiBcIkZPUk0uQVRUQUNIXCIsXG4gICAgICAgIGZvcm1SZWZcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NsZXJrLCBleGFtcGxlTW9kZSwgZm9ybVJlZiA9PSBudWxsID8gdm9pZCAwIDogZm9ybVJlZi5pZCwgISFyb3V0ZXIsIGNsZXJrLmxvYWRlZF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoU2lnbkluUm91dGVyQ3R4LlByb3ZpZGVyLCB7IGFjdG9yUmVmOiBhY3RvciwgY2hpbGRyZW46IFtcbiAgICBpc1Jvb3RQYXRoICYmICFpc1JlYWR5ICYmIGZhbGxiYWNrID8gLyogQF9fUFVSRV9fICovIGpzeChGb3JtLCB7IGNoaWxkcmVuOiBmYWxsYmFjayB9KSA6IG51bGwsXG4gICAgY2xlcmsubG9hZGVkICYmIGlzUmVhZHkgPyBjaGlsZHJlbiA6IG51bGxcbiAgXSB9KTtcbn1cbmZ1bmN0aW9uIFNpZ25JblJvb3Qoe1xuICBjaGlsZHJlbixcbiAgZXhhbXBsZU1vZGUgPSBmYWxzZSxcbiAgZmFsbGJhY2sgPSBudWxsLFxuICBwYXRoOiBwYXRoUHJvcCxcbiAgcm91dGluZyA9IFJPVVRJTkcucGF0aFxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNsZXJrID0gdXNlQ2xlcmsoKTtcbiAgY29uc3QgaW5mZXJyZWRQYXRoID0gdXNlUGF0aG5hbWVXaXRob3V0Q2F0Y2hBbGwoKTtcbiAgY29uc3QgcGF0aCA9IHBhdGhQcm9wIHx8IGluZmVycmVkUGF0aCB8fCBTSUdOX0lOX0RFRkFVTFRfQkFTRV9QQVRIO1xuICAoX2EgPSBjbGVyay50ZWxlbWV0cnkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWNvcmQoXG4gICAgZXZlbnRDb21wb25lbnRNb3VudGVkKFwiRWxlbWVudHNfU2lnbkluUm9vdFwiLCB7XG4gICAgICBleGFtcGxlTW9kZSxcbiAgICAgIGZhbGxiYWNrOiBCb29sZWFuKGZhbGxiYWNrKSxcbiAgICAgIHBhdGgsXG4gICAgICByb3V0aW5nXG4gICAgfSlcbiAgKTtcbiAgY29uc3Qgcm91dGVyID0gKHJvdXRpbmcgPT09IFJPVVRJTkcudmlydHVhbCA/IHVzZVZpcnR1YWxSb3V0ZXIgOiB1c2VOZXh0Um91dGVyKSgpO1xuICBjb25zdCBpc1Jvb3RQYXRoID0gcGF0aCA9PT0gcm91dGVyLnBhdGhuYW1lKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlUGF0aDogcGF0aCxcbiAgICAgIHJvdXRlcixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEZvcm1TdG9yZVByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBTaWduSW5GbG93UHJvdmlkZXIsXG4gICAgICAgIHtcbiAgICAgICAgICBleGFtcGxlTW9kZSxcbiAgICAgICAgICBmYWxsYmFjayxcbiAgICAgICAgICBpc1Jvb3RQYXRoLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL2FjdGlvbi9hY3Rpb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL2FjdGlvbi9uYXZpZ2F0ZS50c3hcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU0lHTl9JTl9OQVZJR0FURV9OQU1FID0gXCJTaWduSW5OYXZpZ2F0ZVwiO1xudmFyIFNpZ25Jbk5hdmlnYXRpb25FdmVudE1hcCA9IHtcbiAgc3RhcnQ6IFwiTkFWSUdBVEUuU1RBUlRcIixcbiAgcHJldmlvdXM6IFwiTkFWSUdBVEUuUFJFVklPVVNcIixcbiAgXCJjaG9vc2Utc3RyYXRlZ3lcIjogXCJOQVZJR0FURS5DSE9PU0VfU1RSQVRFR1lcIixcbiAgXCJmb3Jnb3QtcGFzc3dvcmRcIjogXCJOQVZJR0FURS5GT1JHT1RfUEFTU1dPUkRcIlxufTtcbnZhciBTaWduSW5OYXZpZ2F0ZSA9IFJlYWN0Mi5mb3J3YXJkUmVmKFxuICAoeyBhc0NoaWxkLCB0bywgLi4ucmVzdCB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBhY3RvclJlZiA9IFNpZ25JblJvdXRlckN0eC51c2VBY3RvclJlZigpO1xuICAgIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwiYnV0dG9uXCI7XG4gICAgY29uc3QgZGVmYXVsdFByb3BzID0gYXNDaGlsZCA/IHt9IDogeyB0eXBlOiBcImJ1dHRvblwiIH07XG4gICAgY29uc3Qgc2VuZEV2ZW50ID0gUmVhY3QyLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGNvbnN0IHR5cGUgPSBTaWduSW5OYXZpZ2F0aW9uRXZlbnRNYXBbdG9dO1xuICAgICAgaWYgKGFjdG9yUmVmLmdldFNuYXBzaG90KCkuY2FuKHsgdHlwZSB9KSkge1xuICAgICAgICBhY3RvclJlZi5zZW5kKHsgdHlwZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgQ2xlcms6IDxTaWduSW4uQWN0aW9uIG5hdmlnYXRlPVwiJHt0b31cIj4gaXMgYW4gaW52YWxpZCBuYXZpZ2F0aW9uIGV2ZW50LiBZb3UgY2FuIG9ubHkgbmF2aWdhdGUgdG86ICR7T2JqZWN0LmtleXMoU2lnbkluTmF2aWdhdGlvbkV2ZW50TWFwKS5qb2luKFwiLCBcIil9LmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCBbYWN0b3JSZWYsIHRvXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgQ29tcCxcbiAgICAgIHtcbiAgICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBvbkNsaWNrOiBzZW5kRXZlbnQsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblNpZ25Jbk5hdmlnYXRlLmRpc3BsYXlOYW1lID0gU0lHTl9JTl9OQVZJR0FURV9OQU1FO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9hY3Rpb24vcmVzZW5kLnRzeFxuaW1wb3J0IHsgU2xvdCBhcyBTbG90MiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgYXMgdXNlU2VsZWN0b3IyIH0gZnJvbSBcIkB4c3RhdGUvcmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU0lHTl9JTl9SRVNFTkRfTkFNRSA9IFwiU2lnbkluUmVzZW5kXCI7XG52YXIgU2lnbkluUmVzZW5kID0gUmVhY3QzLmZvcndhcmRSZWYoXG4gICh7IGFzQ2hpbGQsIGZhbGxiYWNrLCAuLi5yZXN0IH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IGZpcnN0RmFjdG9yUmVmID0gU2lnbkluRmlyc3RGYWN0b3JDdHgudXNlQWN0b3JSZWYodHJ1ZSk7XG4gICAgY29uc3Qgc2Vjb25kRmFjdG9yUmVmID0gU2lnbkluU2Vjb25kRmFjdG9yQ3R4LnVzZUFjdG9yUmVmKHRydWUpO1xuICAgIGNvbnN0IGFjdG9yUmVmID0gZmlyc3RGYWN0b3JSZWYgfHwgc2Vjb25kRmFjdG9yUmVmO1xuICAgIGlmICghYWN0b3JSZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlc2VuZCBhY3Rpb24gbXVzdCBiZSB1c2VkIHdpdGhpbiA8U2lnbkluLlN0ZXAgbmFtZT1cInZlcmlmaWNhdGlvbnNcIj4uJyk7XG4gICAgfVxuICAgIGNvbnN0IGZhbGxiYWNrUHJvcHMgPSB1c2VTZWxlY3RvcjIoXG4gICAgICBhY3RvclJlZixcbiAgICAgIChzdGF0ZSkgPT4gKHtcbiAgICAgICAgcmVzZW5kYWJsZTogc3RhdGUuY29udGV4dC5yZXNlbmRhYmxlLFxuICAgICAgICByZXNlbmRhYmxlQWZ0ZXI6IHN0YXRlLmNvbnRleHQucmVzZW5kYWJsZUFmdGVyXG4gICAgICB9KSxcbiAgICAgIChhLCBiKSA9PiBhLnJlc2VuZGFibGVBZnRlciA9PT0gYi5yZXNlbmRhYmxlQWZ0ZXIgJiYgYS5yZXNlbmRhYmxlID09PSBiLnJlc2VuZGFibGVcbiAgICApO1xuICAgIGlmIChmYWxsYmFjayAmJiAhZmFsbGJhY2tQcm9wcy5yZXNlbmRhYmxlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGZhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgPyBmYWxsYmFjayhmYWxsYmFja1Byb3BzKSA6IGZhbGxiYWNrO1xuICAgIH1cbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QyIDogXCJidXR0b25cIjtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSBhc0NoaWxkID8ge30gOiB7IHR5cGU6IFwiYnV0dG9uXCIgfTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMoXG4gICAgICBDb21wLFxuICAgICAge1xuICAgICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGRpc2FibGVkOiAhZmFsbGJhY2tQcm9wcy5yZXNlbmRhYmxlLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBhY3RvclJlZi5zZW5kKHsgdHlwZTogXCJSRVRSWVwiIH0pLFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5TaWduSW5SZXNlbmQuZGlzcGxheU5hbWUgPSBTSUdOX0lOX1JFU0VORF9OQU1FO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9hY3Rpb24vc2V0LWFjdGl2ZS1zZXNzaW9uLnRzeFxuaW1wb3J0IHsgU2xvdCBhcyBTbG90MyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0ICogYXMgUmVhY3Q0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBESVNQTEFZX05BTUUgPSBcIlNpZ25JblNldEFjdGl2ZVNlc3Npb25cIjtcbnZhciBTaWduSW5TZXRBY3RpdmVTZXNzaW9uID0gUmVhY3Q0LmZvcndhcmRSZWYoXG4gICh7IGFzQ2hpbGQsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgYWN0b3JSZWYgPSBTaWduSW5Sb3V0ZXJDdHgudXNlQWN0b3JSZWYoKTtcbiAgICBjb25zdCBzZXNzaW9uID0gdXNlU2lnbkluQWN0aXZlU2Vzc2lvbkNvbnRleHQoKTtcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QzIDogXCJidXR0b25cIjtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSBhc0NoaWxkID8ge30gOiB7IHR5cGU6IFwiYnV0dG9uXCIgfTtcbiAgICBjb25zdCBzZW5kRXZlbnQgPSBSZWFjdDQudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSB7IHR5cGU6IFwiU0VTU0lPTi5TRVRfQUNUSVZFXCIsIGlkOiBzZXNzaW9uLmlkIH07XG4gICAgICBpZiAoYWN0b3JSZWYuZ2V0U25hcHNob3QoKS5jYW4oZXZlbnQpKSB7XG4gICAgICAgIGFjdG9yUmVmLnNlbmQoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBDbGVyazogPFNpZ25Jbi5BY3Rpb24gc2V0QWN0aXZlU2Vzc2lvbj4gaXMgYW4gaW52YWxpZCBldmVudC4gWW91IGNhbiBvbmx5IGNob29zZSBhbiBhY3RpdmUgc2Vzc2lvbiBmcm9tIDxTaWduSW4uU3RlcCBuYW1lPVwiY2hvb3NlLXNlc3Npb25cIj4uYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIFthY3RvclJlZiwgc2Vzc2lvbi5pZF0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgICAgIENvbXAsXG4gICAgICB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgb25DbGljazogc2VuZEV2ZW50LFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5TaWduSW5TZXRBY3RpdmVTZXNzaW9uLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FO1xuXG4vLyBzcmMvcmVhY3Qvc2lnbi1pbi9hY3Rpb24vYWN0aW9uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBESVNQTEFZX05BTUUyID0gXCJTaWduSW5BY3Rpb25cIjtcbnZhciBTaWduSW5BY3Rpb24gPSBSZWFjdDUuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IHN1Ym1pdCwgbmF2aWdhdGUsIHJlc2VuZCwgc2V0QWN0aXZlU2Vzc2lvbiwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gIGxldCBDb21wO1xuICBpZiAoc3VibWl0KSB7XG4gICAgQ29tcCA9IFN1Ym1pdDtcbiAgfSBlbHNlIGlmIChuYXZpZ2F0ZSkge1xuICAgIENvbXAgPSBTaWduSW5OYXZpZ2F0ZTtcbiAgfSBlbHNlIGlmIChyZXNlbmQpIHtcbiAgICBDb21wID0gU2lnbkluUmVzZW5kO1xuICB9IGVsc2UgaWYgKHNldEFjdGl2ZVNlc3Npb24pIHtcbiAgICBDb21wID0gU2lnbkluU2V0QWN0aXZlU2Vzc2lvbjtcbiAgfVxuICByZXR1cm4gQ29tcCA/IC8qIEBfX1BVUkVfXyAqLyBqc3g1KFxuICAgIENvbXAsXG4gICAge1xuICAgICAgdG86IG5hdmlnYXRlLFxuICAgICAgLi4ucmVzdCxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfVxuICApIDogbnVsbDtcbn0pO1xuU2lnbkluQWN0aW9uLmRpc3BsYXlOYW1lID0gRElTUExBWV9OQU1FMjtcblxuLy8gc3JjL3JlYWN0L3NpZ24taW4vcGFzc2tleS50c3hcbmltcG9ydCB7IFNsb3QgYXMgU2xvdDQgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3g2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU0lHTl9JTl9QQVNTS0VZX05BTUUgPSBcIlNpZ25JblBhc3NrZXlcIjtcbnZhciBTaWduSW5QYXNza2V5ID0gUmVhY3Q2LmZvcndhcmRSZWYoXG4gICh7IGFzQ2hpbGQsIC4uLnJlc3QgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgYWN0b3JSZWYgPSBTaWduSW5Sb3V0ZXJDdHgudXNlQWN0b3JSZWYodHJ1ZSk7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90NCA6IFwiYnV0dG9uXCI7XG4gICAgY29uc3QgZGVmYXVsdFByb3BzID0gYXNDaGlsZCA/IHt9IDogeyB0eXBlOiBcImJ1dHRvblwiIH07XG4gICAgY29uc3Qgc2VuZEV2ZW50ID0gUmVhY3Q2LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGFjdG9yUmVmID09IG51bGwgPyB2b2lkIDAgOiBhY3RvclJlZi5zZW5kKHsgdHlwZTogXCJBVVRIRU5USUNBVEUuUEFTU0tFWVwiIH0pO1xuICAgIH0sIFthY3RvclJlZl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NihcbiAgICAgIENvbXAsXG4gICAgICB7XG4gICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgb25DbGljazogc2VuZEV2ZW50LFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5TaWduSW5QYXNza2V5LmRpc3BsYXlOYW1lID0gU0lHTl9JTl9QQVNTS0VZX05BTUU7XG5cbi8vIHNyYy9yZWFjdC9zaWduLWluL2lkZW50aWZpZXJzLnRzeFxuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU2lnbkluU2FmZUlkZW50aWZpZXIoeyB0cmFuc2Zvcm0gfSkge1xuICBjb25zdCBzdHJhdGVneSA9IHVzZVNpZ25JblN0cmF0ZWd5KCk7XG4gIGNvbnN0IHNlbGVjdG9yID0gdXNlTWVtbygoKSA9PiBTaWduSW5TYWZlSWRlbnRpZmllclNlbGVjdG9yRm9yU3RyYXRlZ3koc3RyYXRlZ3kpLCBbc3RyYXRlZ3ldKTtcbiAgY29uc3Qgc2FmZUlkZW50aWZpZXIgPSBTaWduSW5Sb3V0ZXJDdHgudXNlU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBpZiAodHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShzYWZlSWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIHNhZmVJZGVudGlmaWVyO1xufVxuZnVuY3Rpb24gU2lnbkluU2FsdXRhdGlvbigpIHtcbiAgcmV0dXJuIFNpZ25JblJvdXRlckN0eC51c2VTZWxlY3RvcihTaWduSW5TYWx1dGF0aW9uU2VsZWN0b3IpO1xufVxuZXhwb3J0IHtcbiAgU2lnbkluQWN0aW9uIGFzIEFjdGlvbixcbiAgU2lnbkluRmlyc3RGYWN0b3IgYXMgRmlyc3RGYWN0b3IsXG4gIFNpZ25JblBhc3NrZXkgYXMgUGFzc2tleSxcbiAgU2lnbkluUm9vdCBhcyBSb290LFxuICBTaWduSW5TYWZlSWRlbnRpZmllciBhcyBTYWZlSWRlbnRpZmllcixcbiAgU2lnbkluU2FsdXRhdGlvbiBhcyBTYWx1dGF0aW9uLFxuICBTaWduSW5TZWNvbmRGYWN0b3IgYXMgU2Vjb25kRmFjdG9yLFxuICBTaWduSW5TZXNzaW9uTGlzdCBhcyBTZXNzaW9uTGlzdCxcbiAgU2lnbkluU2Vzc2lvbkxpc3RJdGVtIGFzIFNlc3Npb25MaXN0SXRlbSxcbiAgU2lnbkluUm9vdCBhcyBTaWduSW4sXG4gIFNpZ25JblN0ZXAgYXMgU3RlcCxcbiAgU2lnbkluU3RyYXRlZ3kgYXMgU3RyYXRlZ3ksXG4gIFNpZ25JblN1cHBvcnRlZFN0cmF0ZWd5IGFzIFN1cHBvcnRlZFN0cmF0ZWd5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@clerk+elements@0.14.6_@clerk+clerk-react@5.12.0_react-dom@18.3.1_react@18.3.1__react@1_9ca6e5e5b929a46518fc971d7baa81f7/node_modules/@clerk/elements/dist/react/sign-in/index.mjs\n");

/***/ })

};
;