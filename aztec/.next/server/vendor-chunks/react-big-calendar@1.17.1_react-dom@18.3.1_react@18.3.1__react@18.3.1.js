"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1";
exports.ids = ["vendor-chunks/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/dist/react-big-calendar.esm.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/dist/react-big-calendar.esm.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Calendar: () => (/* binding */ Calendar$1),\n/* harmony export */   DateLocalizer: () => (/* binding */ DateLocalizer),\n/* harmony export */   Navigate: () => (/* binding */ navigate),\n/* harmony export */   Views: () => (/* binding */ views),\n/* harmony export */   components: () => (/* binding */ components),\n/* harmony export */   dateFnsLocalizer: () => (/* binding */ dateFnsLocalizer),\n/* harmony export */   dayjsLocalizer: () => (/* binding */ dayjs),\n/* harmony export */   globalizeLocalizer: () => (/* binding */ globalize),\n/* harmony export */   luxonLocalizer: () => (/* binding */ luxon),\n/* harmony export */   momentLocalizer: () => (/* binding */ moment),\n/* harmony export */   move: () => (/* binding */ moveDate)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/typeof */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/callSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var uncontrollable__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! uncontrollable */ \"(ssr)/./node_modules/.pnpm/uncontrollable@7.2.1_react@18.3.1/node_modules/uncontrollable/lib/esm/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! invariant */ \"(ssr)/./node_modules/.pnpm/invariant@2.2.4/node_modules/invariant/invariant.js\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var date_arithmetic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! date-arithmetic */ \"(ssr)/./node_modules/.pnpm/date-arithmetic@4.1.0/node_modules/date-arithmetic/index.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lodash/chunk */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/chunk.js\");\n/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var dom_helpers_position__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! dom-helpers/position */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/position.js\");\n/* harmony import */ var dom_helpers_animationFrame__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! dom-helpers/animationFrame */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/animationFrame.js\");\n/* harmony import */ var react_overlays__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! react-overlays */ \"(ssr)/./node_modules/.pnpm/react-overlays@5.2.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-overlays/esm/Overlay.js\");\n/* harmony import */ var dom_helpers_offset__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! dom-helpers/offset */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/offset.js\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lodash/isEqual */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var dom_helpers_height__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! dom-helpers/height */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/height.js\");\n/* harmony import */ var dom_helpers_querySelectorAll__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! dom-helpers/querySelectorAll */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/querySelectorAll.js\");\n/* harmony import */ var dom_helpers_contains__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! dom-helpers/contains */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/contains.js\");\n/* harmony import */ var dom_helpers_closest__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! dom-helpers/closest */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/closest.js\");\n/* harmony import */ var dom_helpers_listen__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! dom-helpers/listen */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/listen.js\");\n/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lodash/findIndex */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js\");\n/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash/range */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js\");\n/* harmony import */ var lodash_range__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(lodash_range__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! memoize-one */ \"(ssr)/./node_modules/.pnpm/memoize-one@6.0.0/node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var dom_helpers_width__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! dom-helpers/width */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/width.js\");\n/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! lodash/sortBy */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/sortBy.js\");\n/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! dom-helpers/scrollbarSize */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/scrollbarSize.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toArray */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/esm/toArray.js\");\n/* harmony import */ var dom_helpers_addClass__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! dom-helpers/addClass */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/addClass.js\");\n/* harmony import */ var dom_helpers_removeClass__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! dom-helpers/removeClass */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/removeClass.js\");\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! lodash/defaults */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/defaults.js\");\n/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_33__);\n/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! lodash/mapValues */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/mapValues.js\");\n/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_34__);\n/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! lodash/omit */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_35__);\n/* harmony import */ var lodash_transform__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! lodash/transform */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/transform.js\");\n/* harmony import */ var lodash_transform__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(lodash_transform__WEBPACK_IMPORTED_MODULE_36__);\n/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! dayjs/plugin/isBetween */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/isBetween.js\");\n/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_37__);\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! dayjs/plugin/isSameOrAfter */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/isSameOrAfter.js\");\n/* harmony import */ var dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_38__);\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! dayjs/plugin/isSameOrBefore */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/isSameOrBefore.js\");\n/* harmony import */ var dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_39__);\n/* harmony import */ var dayjs_plugin_localeData__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! dayjs/plugin/localeData */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/localeData.js\");\n/* harmony import */ var dayjs_plugin_localeData__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_localeData__WEBPACK_IMPORTED_MODULE_40__);\n/* harmony import */ var dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! dayjs/plugin/localizedFormat */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/localizedFormat.js\");\n/* harmony import */ var dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_41__);\n/* harmony import */ var dayjs_plugin_minMax__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! dayjs/plugin/minMax */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/minMax.js\");\n/* harmony import */ var dayjs_plugin_minMax__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_minMax__WEBPACK_IMPORTED_MODULE_42__);\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! dayjs/plugin/utc */ \"(ssr)/./node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/plugin/utc.js\");\n/* harmony import */ var dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_43__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction NoopWrapper(props) {\n  return props.children;\n}\n\nvar navigate = {\n  PREVIOUS: 'PREV',\n  NEXT: 'NEXT',\n  TODAY: 'TODAY',\n  DATE: 'DATE'\n};\nvar views = {\n  MONTH: 'month',\n  WEEK: 'week',\n  WORK_WEEK: 'work_week',\n  DAY: 'day',\n  AGENDA: 'agenda'\n};\n\nvar viewNames$1 = Object.keys(views).map(function (k) {\n  return views[k];\n});\nprop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_44___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func)]);\n(prop_types__WEBPACK_IMPORTED_MODULE_44___default().any);\n(prop_types__WEBPACK_IMPORTED_MODULE_44___default().func);\n\n/**\n * accepts either an array of builtin view names:\n *\n * ```\n * views={['month', 'day', 'agenda']}\n * ```\n *\n * or an object hash of the view name and the component (or boolean for builtin)\n *\n * ```\n * views={{\n *   month: true,\n *   week: false,\n *   workweek: WorkWeekViewComponent,\n * }}\n * ```\n */\n\nprop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_44___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOf(viewNames$1)), prop_types__WEBPACK_IMPORTED_MODULE_44___default().objectOf(function (prop, key) {\n  var isBuiltinView = viewNames$1.indexOf(key) !== -1 && typeof prop[key] === 'boolean';\n  if (isBuiltinView) {\n    return null;\n  } else {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return prop_types__WEBPACK_IMPORTED_MODULE_44___default().elementType.apply((prop_types__WEBPACK_IMPORTED_MODULE_44___default()), [prop, key].concat(args));\n  }\n})]);\nprop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOf(['overlap', 'no-overlap']), (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func)]);\n\n/* eslint no-fallthrough: off */\nvar MILLI = {\n  seconds: 1000,\n  minutes: 1000 * 60,\n  hours: 1000 * 60 * 60,\n  day: 1000 * 60 * 60 * 24\n};\nfunction firstVisibleDay(date, localizer) {\n  var firstOfMonth = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(date, 'month');\n  return date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(firstOfMonth, 'week', localizer.startOfWeek());\n}\nfunction lastVisibleDay(date, localizer) {\n  var endOfMonth = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.endOf(date, 'month');\n  return date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.endOf(endOfMonth, 'week', localizer.startOfWeek());\n}\nfunction visibleDays(date, localizer) {\n  var current = firstVisibleDay(date, localizer),\n    last = lastVisibleDay(date, localizer),\n    days = [];\n  while (date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lte(current, last, 'day')) {\n    days.push(current);\n    current = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.add(current, 1, 'day');\n  }\n  return days;\n}\nfunction ceil(date, unit) {\n  var floor = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(date, unit);\n  return date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq(floor, date) ? floor : date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.add(floor, 1, unit);\n}\nfunction range(start, end) {\n  var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n  var current = start,\n    days = [];\n  while (date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lte(current, end, unit)) {\n    days.push(current);\n    current = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.add(current, 1, unit);\n  }\n  return days;\n}\nfunction merge(date, time) {\n  if (time == null && date == null) return null;\n  if (time == null) time = new Date();\n  if (date == null) date = new Date();\n  date = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(date, 'day');\n  date = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.hours(date, date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.hours(time));\n  date = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.minutes(date, date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.minutes(time));\n  date = date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.seconds(date, date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.seconds(time));\n  return date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.milliseconds(date, date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.milliseconds(time));\n}\nfunction isJustDate(date) {\n  return date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.hours(date) === 0 && date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.minutes(date) === 0 && date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.seconds(date) === 0 && date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.milliseconds(date) === 0;\n}\nfunction duration(start, end, unit, firstOfWeek) {\n  if (unit === 'day') unit = 'date';\n  return Math.abs(\n  // eslint-disable-next-line import/namespace\n  date_arithmetic__WEBPACK_IMPORTED_MODULE_12__[unit](start, undefined, firstOfWeek) -\n  // eslint-disable-next-line import/namespace\n  date_arithmetic__WEBPACK_IMPORTED_MODULE_12__[unit](end, undefined, firstOfWeek));\n}\nfunction diff(dateA, dateB, unit) {\n  if (!unit || unit === 'milliseconds') return Math.abs(+dateA - +dateB);\n\n  // the .round() handles an edge case\n  // with DST where the total won't be exact\n  // since one day in the range may be shorter/longer by an hour\n  return Math.round(Math.abs(+date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(dateA, unit) / MILLI[unit] - +date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf(dateB, unit) / MILLI[unit]));\n}\n\nvar localePropType = prop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_44___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func)]);\nfunction _format(localizer, formatter, value, format, culture) {\n  var result = typeof format === 'function' ? format(value, culture, localizer) : formatter.call(localizer, value, format, culture);\n  invariant__WEBPACK_IMPORTED_MODULE_11___default()(result == null || typeof result === 'string', '`localizer format(..)` must return a string, null, or undefined');\n  return result;\n}\n\n/**\n * This date conversion was moved out of TimeSlots.js, to\n * allow for localizer override\n * @param {Date} dt - The date to start from\n * @param {Number} minutesFromMidnight\n * @param {Number} offset\n * @returns {Date}\n */\nfunction getSlotDate(dt, minutesFromMidnight, offset) {\n  return new Date(dt.getFullYear(), dt.getMonth(), dt.getDate(), 0, minutesFromMidnight + offset, 0, 0);\n}\nfunction getDstOffset(start, end) {\n  return start.getTimezoneOffset() - end.getTimezoneOffset();\n}\n\n// if the start is on a DST-changing day but *after* the moment of DST\n// transition we need to add those extra minutes to our minutesFromMidnight\nfunction getTotalMin(start, end) {\n  return diff(start, end, 'minutes') + getDstOffset(start, end);\n}\nfunction getMinutesFromMidnight(start) {\n  var daystart = (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf)(start, 'day');\n  return diff(daystart, start, 'minutes') + getDstOffset(daystart, start);\n}\n\n// These two are used by DateSlotMetrics\nfunction continuesPrior(start, first) {\n  return (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lt)(start, first, 'day');\n}\nfunction continuesAfter(start, end, last) {\n  var singleDayDuration = (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq)(start, end, 'minutes');\n  return singleDayDuration ? (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gte)(end, last, 'minutes') : (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gt)(end, last, 'minutes');\n}\nfunction daySpan(start, end) {\n  return duration(start, end, 'day');\n}\n\n// These two are used by eventLevels\nfunction sortEvents$1(_ref) {\n  var _ref$evtA = _ref.evtA,\n    aStart = _ref$evtA.start,\n    aEnd = _ref$evtA.end,\n    aAllDay = _ref$evtA.allDay,\n    _ref$evtB = _ref.evtB,\n    bStart = _ref$evtB.start,\n    bEnd = _ref$evtB.end,\n    bAllDay = _ref$evtB.allDay;\n  var startSort = +(0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf)(aStart, 'day') - +(0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf)(bStart, 'day');\n  var durA = daySpan(aStart, aEnd);\n  var durB = daySpan(bStart, bEnd);\n  return startSort ||\n  // sort by start Day first\n  durB - durA ||\n  // events spanning multiple days go first\n  !!bAllDay - !!aAllDay ||\n  // then allDay single day events\n  +aStart - +bStart ||\n  // then sort by start time\n  +aEnd - +bEnd // then sort by end time\n  ;\n}\nfunction inEventRange(_ref2) {\n  var _ref2$event = _ref2.event,\n    start = _ref2$event.start,\n    end = _ref2$event.end,\n    _ref2$range = _ref2.range,\n    rangeStart = _ref2$range.start,\n    rangeEnd = _ref2$range.end;\n  var eStart = (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf)(start, 'day');\n  var startsBeforeEnd = (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lte)(eStart, rangeEnd, 'day');\n  // when the event is zero duration we need to handle a bit differently\n  var sameMin = (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.neq)(eStart, end, 'minutes');\n  var endsAfterStart = sameMin ? (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gt)(end, rangeStart, 'minutes') : (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gte)(end, rangeStart, 'minutes');\n  return startsBeforeEnd && endsAfterStart;\n}\n\n// other localizers treats 'day' and 'date' equality very differently, so we\n// abstract the change the 'localizer.eq(date1, date2, 'day') into this\n// new method, where they can be treated correctly by the localizer overrides\nfunction isSameDate(date1, date2) {\n  return (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq)(date1, date2, 'day');\n}\nfunction startAndEndAreDateOnly(start, end) {\n  return isJustDate(start) && isJustDate(end);\n}\nvar DateLocalizer = /*#__PURE__*/(0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(function DateLocalizer(spec) {\n  var _this = this;\n  (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, DateLocalizer);\n  invariant__WEBPACK_IMPORTED_MODULE_11___default()(typeof spec.format === 'function', 'date localizer `format(..)` must be a function');\n  invariant__WEBPACK_IMPORTED_MODULE_11___default()(typeof spec.firstOfWeek === 'function', 'date localizer `firstOfWeek(..)` must be a function');\n  this.propType = spec.propType || localePropType;\n  this.formats = spec.formats;\n  this.format = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _format.apply(void 0, [_this, spec.format].concat(args));\n  };\n  // These date arithmetic methods can be overriden by the localizer\n  this.startOfWeek = spec.firstOfWeek;\n  this.merge = spec.merge || merge;\n  this.inRange = spec.inRange || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.inRange;\n  this.lt = spec.lt || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lt;\n  this.lte = spec.lte || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.lte;\n  this.gt = spec.gt || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gt;\n  this.gte = spec.gte || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.gte;\n  this.eq = spec.eq || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq;\n  this.neq = spec.neq || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.neq;\n  this.startOf = spec.startOf || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.startOf;\n  this.endOf = spec.endOf || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.endOf;\n  this.add = spec.add || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.add;\n  this.range = spec.range || range;\n  this.diff = spec.diff || diff;\n  this.ceil = spec.ceil || ceil;\n  this.min = spec.min || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.min;\n  this.max = spec.max || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.max;\n  this.minutes = spec.minutes || date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.minutes;\n  this.daySpan = spec.daySpan || daySpan;\n  this.firstVisibleDay = spec.firstVisibleDay || firstVisibleDay;\n  this.lastVisibleDay = spec.lastVisibleDay || lastVisibleDay;\n  this.visibleDays = spec.visibleDays || visibleDays;\n  this.getSlotDate = spec.getSlotDate || getSlotDate;\n  this.getTimezoneOffset = spec.getTimezoneOffset || function (value) {\n    return value.getTimezoneOffset();\n  };\n  this.getDstOffset = spec.getDstOffset || getDstOffset;\n  this.getTotalMin = spec.getTotalMin || getTotalMin;\n  this.getMinutesFromMidnight = spec.getMinutesFromMidnight || getMinutesFromMidnight;\n  this.continuesPrior = spec.continuesPrior || continuesPrior;\n  this.continuesAfter = spec.continuesAfter || continuesAfter;\n  this.sortEvents = spec.sortEvents || sortEvents$1;\n  this.inEventRange = spec.inEventRange || inEventRange;\n  this.isSameDate = spec.isSameDate || isSameDate;\n  this.startAndEndAreDateOnly = spec.startAndEndAreDateOnly || startAndEndAreDateOnly;\n  this.segmentOffset = spec.browserTZOffset ? spec.browserTZOffset() : 0;\n});\nfunction mergeWithDefaults(localizer, culture, formatOverrides, messages) {\n  var formats = (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, localizer.formats), formatOverrides);\n  return (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, localizer), {}, {\n    messages: messages,\n    startOfWeek: function startOfWeek() {\n      return localizer.startOfWeek(culture);\n    },\n    format: function format(value, _format2) {\n      return localizer.format(value, formats[_format2] || _format2, culture);\n    }\n  });\n}\n\nvar Toolbar = /*#__PURE__*/function (_React$Component) {\n  function Toolbar() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Toolbar);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, Toolbar, [].concat(args));\n    _this.navigate = function (action) {\n      _this.props.onNavigate(action);\n    };\n    _this.view = function (view) {\n      _this.props.onView(view);\n    };\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Toolbar, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Toolbar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        messages = _this$props.localizer.messages,\n        label = _this$props.label;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-toolbar\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n        className: \"rbc-btn-group\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n        type: \"button\",\n        onClick: this.navigate.bind(null, navigate.TODAY)\n      }, messages.today), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n        type: \"button\",\n        onClick: this.navigate.bind(null, navigate.PREVIOUS)\n      }, messages.previous), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n        type: \"button\",\n        onClick: this.navigate.bind(null, navigate.NEXT)\n      }, messages.next)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n        className: \"rbc-toolbar-label\"\n      }, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n        className: \"rbc-btn-group\"\n      }, this.viewNamesGroup(messages)));\n    }\n  }, {\n    key: \"viewNamesGroup\",\n    value: function viewNamesGroup(messages) {\n      var _this2 = this;\n      var viewNames = this.props.views;\n      var view = this.props.view;\n      if (viewNames.length > 1) {\n        return viewNames.map(function (name) {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n            type: \"button\",\n            key: name,\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n              'rbc-active': view === name\n            }),\n            onClick: _this2.view.bind(null, name)\n          }, messages[name]);\n        });\n      }\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\n\nfunction notify(handler, args) {\n  handler && handler.apply(null, [].concat(args));\n}\n\nvar defaultMessages = {\n  date: 'Date',\n  time: 'Time',\n  event: 'Event',\n  allDay: 'All Day',\n  week: 'Week',\n  work_week: 'Work Week',\n  day: 'Day',\n  month: 'Month',\n  previous: 'Back',\n  next: 'Next',\n  yesterday: 'Yesterday',\n  tomorrow: 'Tomorrow',\n  today: 'Today',\n  agenda: 'Agenda',\n  noEventsInRange: 'There are no events in this range.',\n  showMore: function showMore(total) {\n    return \"+\".concat(total, \" more\");\n  }\n};\nfunction messages(msgs) {\n  return (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, defaultMessages), msgs);\n}\n\nfunction useClickOutside(_ref) {\n  var ref = _ref.ref,\n    callback = _ref.callback;\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    var handleClickOutside = function handleClickOutside(e) {\n      if (ref.current && !ref.current.contains(e.target)) {\n        callback();\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return function () {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [ref, callback]);\n}\n\nvar _excluded$7 = [\"style\", \"className\", \"event\", \"selected\", \"isAllDay\", \"onSelect\", \"onDoubleClick\", \"onKeyPress\", \"localizer\", \"continuesPrior\", \"continuesAfter\", \"accessors\", \"getters\", \"children\", \"components\", \"slotStart\", \"slotEnd\"];\nvar EventCell = /*#__PURE__*/function (_React$Component) {\n  function EventCell() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, EventCell);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, EventCell, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(EventCell, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(EventCell, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        style = _this$props.style,\n        className = _this$props.className,\n        event = _this$props.event,\n        selected = _this$props.selected,\n        isAllDay = _this$props.isAllDay,\n        onSelect = _this$props.onSelect,\n        _onDoubleClick = _this$props.onDoubleClick,\n        onKeyPress = _this$props.onKeyPress,\n        localizer = _this$props.localizer,\n        continuesPrior = _this$props.continuesPrior,\n        continuesAfter = _this$props.continuesAfter,\n        accessors = _this$props.accessors,\n        getters = _this$props.getters,\n        children = _this$props.children,\n        _this$props$component = _this$props.components,\n        Event = _this$props$component.event,\n        EventWrapper = _this$props$component.eventWrapper,\n        slotStart = _this$props.slotStart,\n        slotEnd = _this$props.slotEnd,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded$7);\n      delete props.resizable;\n      var title = accessors.title(event);\n      var tooltip = accessors.tooltip(event);\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n      var allDay = accessors.allDay(event);\n      var showAsAllDay = isAllDay || allDay || localizer.diff(start, localizer.ceil(end, 'day'), 'day') > 1;\n      var userProps = getters.eventProp(event, start, end, selected);\n      var content = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-event-content\",\n        title: tooltip || undefined\n      }, Event ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Event, {\n        event: event,\n        continuesPrior: continuesPrior,\n        continuesAfter: continuesAfter,\n        title: title,\n        isAllDay: allDay,\n        localizer: localizer,\n        slotStart: slotStart,\n        slotEnd: slotEnd\n      }) : title);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventWrapper, Object.assign({}, this.props, {\n        type: \"date\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", Object.assign({}, props, {\n        style: (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, userProps.style), style),\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-event', className, userProps.className, {\n          'rbc-selected': selected,\n          'rbc-event-allday': showAsAllDay,\n          'rbc-event-continues-prior': continuesPrior,\n          'rbc-event-continues-after': continuesAfter\n        }),\n        onClick: function onClick(e) {\n          return onSelect && onSelect(event, e);\n        },\n        onDoubleClick: function onDoubleClick(e) {\n          return _onDoubleClick && _onDoubleClick(event, e);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return onKeyPress && onKeyPress(event, e);\n        }\n      }), typeof children === 'function' ? children(content) : content));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\n\nfunction isSelected(event, selected) {\n  if (!event || selected == null) return false;\n  return lodash_isEqual__WEBPACK_IMPORTED_MODULE_19___default()(event, selected);\n}\nfunction slotWidth(rowBox, slots) {\n  var rowWidth = rowBox.right - rowBox.left;\n  var cellWidth = rowWidth / slots;\n  return cellWidth;\n}\nfunction getSlotAtX(rowBox, x, rtl, slots) {\n  var cellWidth = slotWidth(rowBox, slots);\n  return rtl ? slots - 1 - Math.floor((x - rowBox.left) / cellWidth) : Math.floor((x - rowBox.left) / cellWidth);\n}\nfunction pointInBox(box, _ref) {\n  var x = _ref.x,\n    y = _ref.y;\n  return y >= box.top && y <= box.bottom && x >= box.left && x <= box.right;\n}\nfunction dateCellSelection(start, rowBox, box, slots, rtl) {\n  var startIdx = -1;\n  var endIdx = -1;\n  var lastSlotIdx = slots - 1;\n  var cellWidth = slotWidth(rowBox, slots);\n\n  // cell under the mouse\n  var currentSlot = getSlotAtX(rowBox, box.x, rtl, slots);\n\n  // Identify row as either the initial row\n  // or the row under the current mouse point\n  var isCurrentRow = rowBox.top < box.y && rowBox.bottom > box.y;\n  var isStartRow = rowBox.top < start.y && rowBox.bottom > start.y;\n\n  // this row's position relative to the start point\n  var isAboveStart = start.y > rowBox.bottom;\n  var isBelowStart = rowBox.top > start.y;\n  var isBetween = box.top < rowBox.top && box.bottom > rowBox.bottom;\n\n  // this row is between the current and start rows, so entirely selected\n  if (isBetween) {\n    startIdx = 0;\n    endIdx = lastSlotIdx;\n  }\n  if (isCurrentRow) {\n    if (isBelowStart) {\n      startIdx = 0;\n      endIdx = currentSlot;\n    } else if (isAboveStart) {\n      startIdx = currentSlot;\n      endIdx = lastSlotIdx;\n    }\n  }\n  if (isStartRow) {\n    // select the cell under the initial point\n    startIdx = endIdx = rtl ? lastSlotIdx - Math.floor((start.x - rowBox.left) / cellWidth) : Math.floor((start.x - rowBox.left) / cellWidth);\n    if (isCurrentRow) {\n      if (currentSlot < startIdx) startIdx = currentSlot;else endIdx = currentSlot; //select current range\n    } else if (start.y < box.y) {\n      // the current row is below start row\n      // select cells to the right of the start cell\n      endIdx = lastSlotIdx;\n    } else {\n      // select cells to the left of the start cell\n      startIdx = 0;\n    }\n  }\n  return {\n    startIdx: startIdx,\n    endIdx: endIdx\n  };\n}\n\n/**\n * Changes to react-overlays cause issue with auto positioning,\n * so we need to manually calculate the position of the popper,\n * and constrain it to the Month container.\n */\nfunction getPosition(_ref) {\n  var target = _ref.target,\n    offset = _ref.offset,\n    container = _ref.container,\n    box = _ref.box;\n  var _getOffset = (0,dom_helpers_offset__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(target),\n    top = _getOffset.top,\n    left = _getOffset.left,\n    width = _getOffset.width,\n    height = _getOffset.height;\n  var _getOffset2 = (0,dom_helpers_offset__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(container),\n    cTop = _getOffset2.top,\n    cLeft = _getOffset2.left,\n    cWidth = _getOffset2.width,\n    cHeight = _getOffset2.height;\n  var _getOffset3 = (0,dom_helpers_offset__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(box),\n    bWidth = _getOffset3.width,\n    bHeight = _getOffset3.height;\n  var viewBottom = cTop + cHeight;\n  var viewRight = cLeft + cWidth;\n  var bottom = top + bHeight;\n  var right = left + bWidth;\n  var x = offset.x,\n    y = offset.y;\n  var topOffset = bottom > viewBottom ? top - bHeight - y : top + y + height;\n  var leftOffset = right > viewRight ? left + x - bWidth + width : left + x;\n  return {\n    topOffset: topOffset,\n    leftOffset: leftOffset\n  };\n}\nfunction Pop(_ref2) {\n  var containerRef = _ref2.containerRef,\n    accessors = _ref2.accessors,\n    getters = _ref2.getters,\n    selected = _ref2.selected,\n    components = _ref2.components,\n    localizer = _ref2.localizer,\n    position = _ref2.position,\n    show = _ref2.show,\n    events = _ref2.events,\n    slotStart = _ref2.slotStart,\n    slotEnd = _ref2.slotEnd,\n    onSelect = _ref2.onSelect,\n    onDoubleClick = _ref2.onDoubleClick,\n    onKeyPress = _ref2.onKeyPress,\n    handleDragStart = _ref2.handleDragStart,\n    popperRef = _ref2.popperRef,\n    target = _ref2.target,\n    offset = _ref2.offset;\n  useClickOutside({\n    ref: popperRef,\n    callback: show\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useLayoutEffect)(function () {\n    var _getPosition = getPosition({\n        target: target,\n        offset: offset,\n        container: containerRef.current,\n        box: popperRef.current\n      }),\n      topOffset = _getPosition.topOffset,\n      leftOffset = _getPosition.leftOffset;\n    popperRef.current.style.top = \"\".concat(topOffset, \"px\");\n    popperRef.current.style.left = \"\".concat(leftOffset, \"px\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [offset.x, offset.y, target]);\n  var width = position.width;\n  var style = {\n    minWidth: width + width / 2\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    style: style,\n    className: \"rbc-overlay\",\n    ref: popperRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"rbc-overlay-header\"\n  }, localizer.format(slotStart, 'dayHeaderFormat')), events.map(function (event, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventCell, {\n      key: idx,\n      type: \"popup\",\n      localizer: localizer,\n      event: event,\n      getters: getters,\n      onSelect: onSelect,\n      accessors: accessors,\n      components: components,\n      onDoubleClick: onDoubleClick,\n      onKeyPress: onKeyPress,\n      continuesPrior: localizer.lt(accessors.end(event), slotStart, 'day'),\n      continuesAfter: localizer.gte(accessors.start(event), slotEnd, 'day'),\n      slotStart: slotStart,\n      slotEnd: slotEnd,\n      selected: isSelected(event, selected),\n      draggable: true,\n      onDragStart: function onDragStart() {\n        return handleDragStart(event);\n      },\n      onDragEnd: function onDragEnd() {\n        return show();\n      }\n    });\n  }));\n}\nvar Popup = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().forwardRef(function (props, ref) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Pop, Object.assign({}, props, {\n    popperRef: ref\n  }));\n});\nPopup.propTypes = {\n  accessors: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  getters: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  selected: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object),\n  components: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  localizer: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  position: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  show: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func).isRequired,\n  events: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().array).isRequired,\n  slotStart: prop_types__WEBPACK_IMPORTED_MODULE_44___default().instanceOf(Date).isRequired,\n  slotEnd: prop_types__WEBPACK_IMPORTED_MODULE_44___default().instanceOf(Date),\n  onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  onDoubleClick: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  onKeyPress: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  handleDragStart: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object),\n  offset: prop_types__WEBPACK_IMPORTED_MODULE_44___default().shape({\n    x: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().number),\n    y: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().number)\n  })\n};\n\nfunction CalOverlay(_ref) {\n  var containerRef = _ref.containerRef,\n    _ref$popupOffset = _ref.popupOffset,\n    popupOffset = _ref$popupOffset === void 0 ? 5 : _ref$popupOffset,\n    overlay = _ref.overlay,\n    accessors = _ref.accessors,\n    localizer = _ref.localizer,\n    components = _ref.components,\n    getters = _ref.getters,\n    selected = _ref.selected,\n    handleSelectEvent = _ref.handleSelectEvent,\n    handleDoubleClickEvent = _ref.handleDoubleClickEvent,\n    handleKeyPressEvent = _ref.handleKeyPressEvent,\n    handleDragStart = _ref.handleDragStart,\n    onHide = _ref.onHide,\n    overlayDisplay = _ref.overlayDisplay;\n  var popperRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  if (!overlay.position) return null;\n  var offset = popupOffset;\n  if (!isNaN(popupOffset)) {\n    offset = {\n      x: popupOffset,\n      y: popupOffset\n    };\n  }\n  var position = overlay.position,\n    events = overlay.events,\n    date = overlay.date,\n    end = overlay.end;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(react_overlays__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n    rootClose: true,\n    flip: true,\n    show: true,\n    placement: \"bottom\",\n    onHide: onHide,\n    target: overlay.target\n  }, function (_ref2) {\n    var props = _ref2.props;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Popup, Object.assign({}, props, {\n      containerRef: containerRef,\n      ref: popperRef,\n      target: overlay.target,\n      offset: offset,\n      accessors: accessors,\n      getters: getters,\n      selected: selected,\n      components: components,\n      localizer: localizer,\n      position: position,\n      show: overlayDisplay,\n      events: events,\n      slotStart: date,\n      slotEnd: end,\n      onSelect: handleSelectEvent,\n      onDoubleClick: handleDoubleClickEvent,\n      onKeyPress: handleKeyPressEvent,\n      handleDragStart: handleDragStart\n    }));\n  });\n}\nvar PopOverlay = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().forwardRef(function (props, ref) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(CalOverlay, Object.assign({}, props, {\n    containerRef: ref\n  }));\n});\nPopOverlay.propTypes = {\n  popupOffset: prop_types__WEBPACK_IMPORTED_MODULE_44___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_44___default().number), prop_types__WEBPACK_IMPORTED_MODULE_44___default().shape({\n    x: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().number),\n    y: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().number)\n  })]),\n  overlay: prop_types__WEBPACK_IMPORTED_MODULE_44___default().shape({\n    position: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object),\n    events: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().array),\n    date: prop_types__WEBPACK_IMPORTED_MODULE_44___default().instanceOf(Date),\n    end: prop_types__WEBPACK_IMPORTED_MODULE_44___default().instanceOf(Date)\n  }),\n  accessors: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  localizer: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  components: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  getters: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n  selected: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object),\n  handleSelectEvent: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  handleDoubleClickEvent: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  handleKeyPressEvent: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  handleDragStart: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  onHide: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n  overlayDisplay: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func)\n};\n\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0,dom_helpers_listen__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(target, type, handler, {\n    passive: false\n  });\n}\nfunction isOverContainer(container, x, y) {\n  return !container || (0,dom_helpers_contains__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(container, document.elementFromPoint(x, y));\n}\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n    clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0,dom_helpers_closest__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(target, '.rbc-event', node);\n}\nfunction getShowMoreNodeFromPoint(node, _ref2) {\n  var clientX = _ref2.clientX,\n    clientY = _ref2.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0,dom_helpers_closest__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(target, '.rbc-show-more', node);\n}\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\nfunction isShowMore(node, bounds) {\n  return !!getShowMoreNodeFromPoint(node, bounds);\n}\nfunction getEventCoordinates(e) {\n  var target = e;\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\nvar clickTolerance = 5;\nvar clickInterval = 250;\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$global = _ref3.global,\n      global = _ref3$global === void 0 ? false : _ref3$global,\n      _ref3$longPressThresh = _ref3.longPressThreshold,\n      longPressThreshold = _ref3$longPressThresh === void 0 ? 250 : _ref3$longPressThresh,\n      _ref3$validContainers = _ref3.validContainers,\n      validContainers = _ref3$validContainers === void 0 ? [] : _ref3$validContainers;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Selection);\n    this._initialEvent = null;\n    this.selecting = false;\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this);\n\n    // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n    this._addInitialEventListener();\n  }\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this._initialEvent = null;\n      this._initialEventData = null;\n      this._selectRect = null;\n      this.selecting = false;\n      this._lastClickData = null;\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect;\n\n      //not selecting\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    }\n\n    // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    }\n\n    // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._handleInitialEvent(e);\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n        pageX = _getEventCoordinates.pageX,\n        pageY = _getEventCoordinates.pageY,\n        clientX = _getEventCoordinates.clientX,\n        clientY = _getEventCoordinates.clientY;\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n        pageX = _getEventCoordinates2.pageX,\n        pageY = _getEventCoordinates2.pageY,\n        clientX = _getEventCoordinates2.clientX,\n        clientY = _getEventCoordinates2.clientY;\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      this._initialEvent = e;\n      if (this.isDetached) {\n        return;\n      }\n      var _getEventCoordinates3 = getEventCoordinates(e),\n        clientX = _getEventCoordinates3.clientX,\n        clientY = _getEventCoordinates3.clientY,\n        pageX = _getEventCoordinates3.pageX,\n        pageY = _getEventCoordinates3.pageY;\n      var node = this.container(),\n        collides,\n        offsetData;\n\n      // Right clicks\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n      if (!this.globalMouse && node && !(0,dom_helpers_contains__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n          top = _normalizeDistance.top,\n          left = _normalizeDistance.left,\n          bottom = _normalizeDistance.bottom,\n          right = _normalizeDistance.right;\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n        case 'touchstart':\n          this._handleMoveEvent(e);\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n      }\n    }\n\n    // Check whether provided event target element\n    // - is contained within a valid container\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var selecting = this.selecting;\n      var bounds = this._selectRect;\n      // If it's not in selecting state, it's a click event\n      if (!selecting && e.type.includes('key')) {\n        e = this._initialEvent;\n      }\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._selectRect = null;\n      this._initialEvent = null;\n      this._initialEventData = null;\n      if (!e) return;\n      var inRoot = !this.container || (0,dom_helpers_contains__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(this.container(), e.target);\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n      if (!selecting && inRoot) {\n        return this._handleClickEvent(e);\n      }\n\n      // User drag-clicked in the Selectable area\n      if (selecting) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n        pageX = _getEventCoordinates4.pageX,\n        pageY = _getEventCoordinates4.pageY,\n        clientX = _getEventCoordinates4.clientX,\n        clientY = _getEventCoordinates4.clientY;\n      var now = new Date().getTime();\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      }\n\n      // Click event\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n      var _this$_initialEventDa = this._initialEventData,\n        x = _this$_initialEventDa.x,\n        y = _this$_initialEventDa.y;\n      var _getEventCoordinates5 = getEventCoordinates(e),\n        pageX = _getEventCoordinates5.pageX,\n        pageY = _getEventCoordinates5.pageY;\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n        top = Math.min(pageY, y),\n        old = this.selecting;\n      var click = this.isClick(pageX, pageY);\n      // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n      if (click && !old && !(w || h)) {\n        return;\n      }\n      if (!old && !click) {\n        this.emit('selectStart', this._initialEventData);\n      }\n      if (!click) {\n        this.selecting = true;\n        this._selectRect = {\n          top: top,\n          left: left,\n          x: pageX,\n          y: pageY,\n          right: left + w,\n          bottom: top + h\n        };\n        this.emit('selecting', this._selectRect);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n        x = _this$_initialEventDa2.x,\n        y = _this$_initialEventDa2.y,\n        isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n    aTop = _getBoundsForNode.top,\n    aLeft = _getBoundsForNode.left,\n    _getBoundsForNode$rig = _getBoundsForNode.right,\n    aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n    _getBoundsForNode$bot = _getBoundsForNode.bottom,\n    aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n    bTop = _getBoundsForNode2.top,\n    bLeft = _getBoundsForNode2.left,\n    _getBoundsForNode2$ri = _getBoundsForNode2.right,\n    bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n    _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n    bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n  return !(\n  // 'a' bottom doesn't touch 'b' top\n\n  aBottom - tolerance < bTop ||\n  // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom ||\n  // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft ||\n  // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n    left = rect.left + pageOffset('left'),\n    top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\n\nvar BackgroundCells = /*#__PURE__*/function (_React$Component) {\n  function BackgroundCells(props, context) {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, BackgroundCells);\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, BackgroundCells, [props, context]);\n    _this.state = {\n      selecting: false\n    };\n    _this.containerRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(BackgroundCells, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(BackgroundCells, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.selectable && this._selectable();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._teardownSelectable();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (!prevProps.selectable && this.props.selectable) this._selectable();\n      if (prevProps.selectable && !this.props.selectable) this._teardownSelectable();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        range = _this$props.range,\n        getNow = _this$props.getNow,\n        getters = _this$props.getters,\n        currentDate = _this$props.date,\n        Wrapper = _this$props.components.dateCellWrapper,\n        localizer = _this$props.localizer;\n      var _this$state = this.state,\n        selecting = _this$state.selecting,\n        startIdx = _this$state.startIdx,\n        endIdx = _this$state.endIdx;\n      var current = getNow();\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row-bg\",\n        ref: this.containerRef\n      }, range.map(function (date, index) {\n        var selected = selecting && index >= startIdx && index <= endIdx;\n        var _getters$dayProp = getters.dayProp(date),\n          className = _getters$dayProp.className,\n          style = _getters$dayProp.style;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Wrapper, {\n          key: index,\n          value: date,\n          range: range\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          style: style,\n          className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-day-bg', className, selected && 'rbc-selected-cell', localizer.isSameDate(date, current) && 'rbc-today', currentDate && localizer.neq(currentDate, date, 'month') && 'rbc-off-range-bg')\n        }));\n      }));\n    }\n  }, {\n    key: \"_selectable\",\n    value: function _selectable() {\n      var _this2 = this;\n      var node = this.containerRef.current;\n      var selector = this._selector = new Selection(this.props.container, {\n        longPressThreshold: this.props.longPressThreshold\n      });\n      var selectorClicksHandler = function selectorClicksHandler(point, actionType) {\n        if (!isEvent(node, point) && !isShowMore(node, point)) {\n          var rowBox = getBoundsForNode(node);\n          var _this2$props = _this2.props,\n            range = _this2$props.range,\n            rtl = _this2$props.rtl;\n          if (pointInBox(rowBox, point)) {\n            var currentCell = getSlotAtX(rowBox, point.x, rtl, range.length);\n            _this2._selectSlot({\n              startIdx: currentCell,\n              endIdx: currentCell,\n              action: actionType,\n              box: point\n            });\n          }\n        }\n        _this2._initial = {};\n        _this2.setState({\n          selecting: false\n        });\n      };\n      selector.on('selecting', function (box) {\n        var _this2$props2 = _this2.props,\n          range = _this2$props2.range,\n          rtl = _this2$props2.rtl;\n        var startIdx = -1;\n        var endIdx = -1;\n        if (!_this2.state.selecting) {\n          notify(_this2.props.onSelectStart, [box]);\n          _this2._initial = {\n            x: box.x,\n            y: box.y\n          };\n        }\n        if (selector.isSelected(node)) {\n          var nodeBox = getBoundsForNode(node);\n          var _dateCellSelection = dateCellSelection(_this2._initial, nodeBox, box, range.length, rtl);\n          startIdx = _dateCellSelection.startIdx;\n          endIdx = _dateCellSelection.endIdx;\n        }\n        _this2.setState({\n          selecting: true,\n          startIdx: startIdx,\n          endIdx: endIdx\n        });\n      });\n      selector.on('beforeSelect', function (box) {\n        if (_this2.props.selectable !== 'ignoreEvents') return;\n        return !isEvent(_this2.containerRef.current, box);\n      });\n      selector.on('click', function (point) {\n        return selectorClicksHandler(point, 'click');\n      });\n      selector.on('doubleClick', function (point) {\n        return selectorClicksHandler(point, 'doubleClick');\n      });\n      selector.on('select', function (bounds) {\n        _this2._selectSlot((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _this2.state), {}, {\n          action: 'select',\n          bounds: bounds\n        }));\n        _this2._initial = {};\n        _this2.setState({\n          selecting: false\n        });\n        notify(_this2.props.onSelectEnd, [_this2.state]);\n      });\n    }\n  }, {\n    key: \"_teardownSelectable\",\n    value: function _teardownSelectable() {\n      if (!this._selector) return;\n      this._selector.teardown();\n      this._selector = null;\n    }\n  }, {\n    key: \"_selectSlot\",\n    value: function _selectSlot(_ref) {\n      var endIdx = _ref.endIdx,\n        startIdx = _ref.startIdx,\n        action = _ref.action,\n        bounds = _ref.bounds,\n        box = _ref.box;\n      if (endIdx !== -1 && startIdx !== -1) this.props.onSelectSlot && this.props.onSelectSlot({\n        start: startIdx,\n        end: endIdx,\n        action: action,\n        bounds: bounds,\n        box: box,\n        resourceId: this.props.resourceId\n      });\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\n\n/* eslint-disable react/prop-types */\nvar EventRowMixin = {\n  propTypes: {\n    slotMetrics: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n    selected: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object),\n    isAllDay: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().bool),\n    accessors: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n    localizer: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n    components: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n    getters: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().object).isRequired,\n    onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n    onDoubleClick: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func),\n    onKeyPress: (prop_types__WEBPACK_IMPORTED_MODULE_44___default().func)\n  },\n  defaultProps: {\n    segments: [],\n    selected: {}\n  },\n  renderEvent: function renderEvent(props, event) {\n    var selected = props.selected;\n      props.isAllDay;\n      var accessors = props.accessors,\n      getters = props.getters,\n      onSelect = props.onSelect,\n      onDoubleClick = props.onDoubleClick,\n      onKeyPress = props.onKeyPress,\n      localizer = props.localizer,\n      slotMetrics = props.slotMetrics,\n      components = props.components,\n      resizable = props.resizable;\n    var continuesPrior = slotMetrics.continuesPrior(event);\n    var continuesAfter = slotMetrics.continuesAfter(event);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventCell, {\n      event: event,\n      getters: getters,\n      localizer: localizer,\n      accessors: accessors,\n      components: components,\n      onSelect: onSelect,\n      onDoubleClick: onDoubleClick,\n      onKeyPress: onKeyPress,\n      continuesPrior: continuesPrior,\n      continuesAfter: continuesAfter,\n      slotStart: slotMetrics.first,\n      slotEnd: slotMetrics.last,\n      selected: isSelected(event, selected),\n      resizable: resizable\n    });\n  },\n  renderSpan: function renderSpan(slots, len, key) {\n    var content = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ' ';\n    var per = Math.abs(len) / slots * 100 + '%';\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n      key: key,\n      className: \"rbc-row-segment\"\n      // IE10/11 need max-width. flex-basis doesn't respect box-sizing\n      ,\n      style: {\n        WebkitFlexBasis: per,\n        flexBasis: per,\n        maxWidth: per\n      }\n    }, content);\n  }\n};\n\nvar EventRow = /*#__PURE__*/function (_React$Component) {\n  function EventRow() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, EventRow);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, EventRow, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(EventRow, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(EventRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props = this.props,\n        segments = _this$props.segments,\n        slots = _this$props.slotMetrics.slots,\n        className = _this$props.className;\n      var lastEnd = 1;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(className, 'rbc-row')\n      }, segments.reduce(function (row, _ref, li) {\n        var event = _ref.event,\n          left = _ref.left,\n          right = _ref.right,\n          span = _ref.span;\n        var key = '_lvl_' + li;\n        var gap = left - lastEnd;\n        var content = EventRowMixin.renderEvent(_this.props, event);\n        if (gap) row.push(EventRowMixin.renderSpan(slots, gap, \"\".concat(key, \"_gap\")));\n        row.push(EventRowMixin.renderSpan(slots, span, key, content));\n        lastEnd = right + 1;\n        return row;\n      }, []));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nEventRow.defaultProps = (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, EventRowMixin.defaultProps);\n\nfunction endOfRange(_ref) {\n  var dateRange = _ref.dateRange,\n    _ref$unit = _ref.unit,\n    unit = _ref$unit === void 0 ? 'day' : _ref$unit,\n    localizer = _ref.localizer;\n  return {\n    first: dateRange[0],\n    last: localizer.add(dateRange[dateRange.length - 1], 1, unit)\n  };\n}\n\n// properly calculating segments requires working with dates in\n// the timezone we're working with, so we use the localizer\nfunction eventSegments(event, range, accessors, localizer) {\n  var _endOfRange = endOfRange({\n      dateRange: range,\n      localizer: localizer\n    }),\n    first = _endOfRange.first,\n    last = _endOfRange.last;\n  var slots = localizer.diff(first, last, 'day');\n  var start = localizer.max(localizer.startOf(accessors.start(event), 'day'), first);\n  var end = localizer.min(localizer.ceil(accessors.end(event), 'day'), last);\n  var padding = lodash_findIndex__WEBPACK_IMPORTED_MODULE_25___default()(range, function (x) {\n    return localizer.isSameDate(x, start);\n  });\n  var span = localizer.diff(start, end, 'day');\n  span = Math.min(span, slots);\n  // The segmentOffset is necessary when adjusting for timezones\n  // ahead of the browser timezone\n  span = Math.max(span - localizer.segmentOffset, 1);\n  return {\n    event: event,\n    span: span,\n    left: padding + 1,\n    right: Math.max(padding + span, 1)\n  };\n}\nfunction eventLevels(rowSegments) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Infinity;\n  var i,\n    j,\n    seg,\n    levels = [],\n    extra = [];\n  for (i = 0; i < rowSegments.length; i++) {\n    seg = rowSegments[i];\n    for (j = 0; j < levels.length; j++) if (!segsOverlap(seg, levels[j])) break;\n    if (j >= limit) {\n      extra.push(seg);\n    } else {\n      (levels[j] || (levels[j] = [])).push(seg);\n    }\n  }\n  for (i = 0; i < levels.length; i++) {\n    levels[i].sort(function (a, b) {\n      return a.left - b.left;\n    }); //eslint-disable-line\n  }\n  return {\n    levels: levels,\n    extra: extra\n  };\n}\nfunction inRange(e, start, end, accessors, localizer) {\n  var event = {\n    start: accessors.start(e),\n    end: accessors.end(e)\n  };\n  var range = {\n    start: start,\n    end: end\n  };\n  return localizer.inEventRange({\n    event: event,\n    range: range\n  });\n}\nfunction segsOverlap(seg, otherSegs) {\n  return otherSegs.some(function (otherSeg) {\n    return otherSeg.left <= seg.right && otherSeg.right >= seg.left;\n  });\n}\nfunction sortWeekEvents(events, accessors, localizer) {\n  var base = (0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(events);\n  var multiDayEvents = [];\n  var standardEvents = [];\n  base.forEach(function (event) {\n    var startCheck = accessors.start(event);\n    var endCheck = accessors.end(event);\n    if (localizer.daySpan(startCheck, endCheck) > 1) {\n      multiDayEvents.push(event);\n    } else {\n      standardEvents.push(event);\n    }\n  });\n  var multiSorted = multiDayEvents.sort(function (a, b) {\n    return sortEvents(a, b, accessors, localizer);\n  });\n  var standardSorted = standardEvents.sort(function (a, b) {\n    return sortEvents(a, b, accessors, localizer);\n  });\n  return [].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(multiSorted), (0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(standardSorted));\n}\nfunction sortEvents(eventA, eventB, accessors, localizer) {\n  var evtA = {\n    start: accessors.start(eventA),\n    end: accessors.end(eventA),\n    allDay: accessors.allDay(eventA)\n  };\n  var evtB = {\n    start: accessors.start(eventB),\n    end: accessors.end(eventB),\n    allDay: accessors.allDay(eventB)\n  };\n  return localizer.sortEvents({\n    evtA: evtA,\n    evtB: evtB\n  });\n}\n\nvar isSegmentInSlot$1 = function isSegmentInSlot(seg, slot) {\n  return seg.left <= slot && seg.right >= slot;\n};\nvar eventsInSlot = function eventsInSlot(segments, slot) {\n  return segments.filter(function (seg) {\n    return isSegmentInSlot$1(seg, slot);\n  }).map(function (seg) {\n    return seg.event;\n  });\n};\nvar EventEndingRow = /*#__PURE__*/function (_React$Component) {\n  function EventEndingRow() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, EventEndingRow);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, EventEndingRow, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(EventEndingRow, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(EventEndingRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        segments = _this$props.segments,\n        slots = _this$props.slotMetrics.slots;\n      var rowSegments = eventLevels(segments).levels[0];\n      var current = 1,\n        lastEnd = 1,\n        row = [];\n      while (current <= slots) {\n        var key = '_lvl_' + current;\n        var _ref = rowSegments.filter(function (seg) {\n            return isSegmentInSlot$1(seg, current);\n          })[0] || {},\n          event = _ref.event,\n          left = _ref.left,\n          right = _ref.right,\n          span = _ref.span; //eslint-disable-line\n\n        if (!event) {\n          current++;\n          continue;\n        }\n        var gap = Math.max(0, left - lastEnd);\n        if (this.canRenderSlotEvent(left, span)) {\n          var content = EventRowMixin.renderEvent(this.props, event);\n          if (gap) {\n            row.push(EventRowMixin.renderSpan(slots, gap, key + '_gap'));\n          }\n          row.push(EventRowMixin.renderSpan(slots, span, key, content));\n          lastEnd = current = right + 1;\n        } else {\n          if (gap) {\n            row.push(EventRowMixin.renderSpan(slots, gap, key + '_gap'));\n          }\n          row.push(EventRowMixin.renderSpan(slots, 1, key, this.renderShowMore(segments, current)));\n          lastEnd = current = current + 1;\n        }\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row\"\n      }, row);\n    }\n  }, {\n    key: \"canRenderSlotEvent\",\n    value: function canRenderSlotEvent(slot, span) {\n      var segments = this.props.segments;\n      return lodash_range__WEBPACK_IMPORTED_MODULE_26___default()(slot, slot + span).every(function (s) {\n        var count = eventsInSlot(segments, s).length;\n        return count === 1;\n      });\n    }\n  }, {\n    key: \"renderShowMore\",\n    value: function renderShowMore(segments, slot) {\n      var _this = this;\n      var _this$props2 = this.props,\n        localizer = _this$props2.localizer,\n        slotMetrics = _this$props2.slotMetrics,\n        components = _this$props2.components;\n      var events = slotMetrics.getEventsForSlot(slot);\n      var remainingEvents = eventsInSlot(segments, slot);\n      var count = remainingEvents.length;\n      if (components !== null && components !== void 0 && components.showMore) {\n        var ShowMore = components.showMore;\n        // The received slot seems to be 1-based, but the range we use to pull the date is 0-based\n        var slotDate = slotMetrics.getDateForSlot(slot - 1);\n        return count ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ShowMore, {\n          localizer: localizer,\n          slotDate: slotDate,\n          slot: slot,\n          count: count,\n          events: events,\n          remainingEvents: remainingEvents\n        }) : false;\n      }\n      return count ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n        type: \"button\",\n        key: 'sm_' + slot,\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-button-link', 'rbc-show-more'),\n        onClick: function onClick(e) {\n          return _this.showMore(slot, e);\n        }\n      }, localizer.messages.showMore(count, remainingEvents, events)) : false;\n    }\n  }, {\n    key: \"showMore\",\n    value: function showMore(slot, e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onShowMore(slot, e.target);\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nEventEndingRow.defaultProps = (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, EventRowMixin.defaultProps);\n\nvar ScrollableWeekWrapper = function ScrollableWeekWrapper(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"rbc-row-content-scroll-container\"\n  }, children);\n};\n\nvar isSegmentInSlot = function isSegmentInSlot(seg, slot) {\n  return seg.left <= slot && seg.right >= slot;\n};\nvar isEqual = function isEqual(a, b) {\n  return a[0].range === b[0].range && a[0].events === b[0].events;\n};\nfunction getSlotMetrics$1() {\n  return (0,memoize_one__WEBPACK_IMPORTED_MODULE_46__[\"default\"])(function (options) {\n    var range = options.range,\n      events = options.events,\n      maxRows = options.maxRows,\n      minRows = options.minRows,\n      accessors = options.accessors,\n      localizer = options.localizer;\n    var _endOfRange = endOfRange({\n        dateRange: range,\n        localizer: localizer\n      }),\n      first = _endOfRange.first,\n      last = _endOfRange.last;\n    var segments = events.map(function (evt) {\n      return eventSegments(evt, range, accessors, localizer);\n    });\n    var _eventLevels = eventLevels(segments, Math.max(maxRows - 1, 1)),\n      levels = _eventLevels.levels,\n      extra = _eventLevels.extra;\n    // Subtract 1 from minRows to not include showMore button row when\n    // it would be rendered\n    var minEventRows = extra.length > 0 ? minRows - 1 : minRows;\n    while (levels.length < minEventRows) levels.push([]);\n    return {\n      first: first,\n      last: last,\n      levels: levels,\n      extra: extra,\n      range: range,\n      slots: range.length,\n      clone: function clone(args) {\n        var metrics = getSlotMetrics$1();\n        return metrics((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, options), args));\n      },\n      getDateForSlot: function getDateForSlot(slotNumber) {\n        return range[slotNumber];\n      },\n      getSlotForDate: function getSlotForDate(date) {\n        return range.find(function (r) {\n          return localizer.isSameDate(r, date);\n        });\n      },\n      getEventsForSlot: function getEventsForSlot(slot) {\n        return segments.filter(function (seg) {\n          return isSegmentInSlot(seg, slot);\n        }).map(function (seg) {\n          return seg.event;\n        });\n      },\n      continuesPrior: function continuesPrior(event) {\n        return localizer.continuesPrior(accessors.start(event), first);\n      },\n      continuesAfter: function continuesAfter(event) {\n        var start = accessors.start(event);\n        var end = accessors.end(event);\n        return localizer.continuesAfter(start, end, last);\n      }\n    };\n  }, isEqual);\n}\n\nvar DateContentRow = /*#__PURE__*/function (_React$Component) {\n  function DateContentRow() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, DateContentRow);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, DateContentRow, [].concat(args));\n    _this.handleSelectSlot = function (slot) {\n      var _this$props = _this.props,\n        range = _this$props.range,\n        onSelectSlot = _this$props.onSelectSlot;\n      onSelectSlot(range.slice(slot.start, slot.end + 1), slot);\n    };\n    _this.handleShowMore = function (slot, target) {\n      var _this$props2 = _this.props,\n        range = _this$props2.range,\n        onShowMore = _this$props2.onShowMore;\n      var metrics = _this.slotMetrics(_this.props);\n      var row = (0,dom_helpers_querySelectorAll__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(_this.containerRef.current, '.rbc-row-bg')[0];\n      var cell;\n      if (row) cell = row.children[slot - 1];\n      var events = metrics.getEventsForSlot(slot);\n      onShowMore(events, range[slot - 1], cell, slot, target);\n    };\n    _this.getContainer = function () {\n      var container = _this.props.container;\n      return container ? container() : _this.containerRef.current;\n    };\n    _this.renderHeadingCell = function (date, index) {\n      var _this$props3 = _this.props,\n        renderHeader = _this$props3.renderHeader,\n        getNow = _this$props3.getNow,\n        localizer = _this$props3.localizer;\n      return renderHeader({\n        date: date,\n        key: \"header_\".concat(index),\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-date-cell', localizer.isSameDate(date, getNow()) && 'rbc-now')\n      });\n    };\n    _this.renderDummy = function () {\n      var _this$props4 = _this.props,\n        className = _this$props4.className,\n        range = _this$props4.range,\n        renderHeader = _this$props4.renderHeader,\n        showAllEvents = _this$props4.showAllEvents;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: className,\n        ref: _this.containerRef\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-row-content', showAllEvents && 'rbc-row-content-scrollable')\n      }, renderHeader && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row\",\n        ref: _this.headingRowRef\n      }, range.map(_this.renderHeadingCell)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row\",\n        ref: _this.eventRowRef\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row-segment\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-event\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-event-content\"\n      }, \"\\xA0\"))))));\n    };\n    _this.containerRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    _this.headingRowRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    _this.eventRowRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    _this.slotMetrics = getSlotMetrics$1();\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(DateContentRow, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(DateContentRow, [{\n    key: \"getRowLimit\",\n    value: function getRowLimit() {\n      var _this$headingRowRef;\n      /* Guessing this only gets called on the dummyRow */\n      var eventHeight = (0,dom_helpers_height__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(this.eventRowRef.current);\n      var headingHeight = (_this$headingRowRef = this.headingRowRef) !== null && _this$headingRowRef !== void 0 && _this$headingRowRef.current ? (0,dom_helpers_height__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(this.headingRowRef.current) : 0;\n      var eventSpace = (0,dom_helpers_height__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(this.containerRef.current) - headingHeight;\n      return Math.max(Math.floor(eventSpace / eventHeight), 1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        date = _this$props5.date,\n        rtl = _this$props5.rtl,\n        range = _this$props5.range,\n        className = _this$props5.className,\n        selected = _this$props5.selected,\n        selectable = _this$props5.selectable,\n        renderForMeasure = _this$props5.renderForMeasure,\n        accessors = _this$props5.accessors,\n        getters = _this$props5.getters,\n        components = _this$props5.components,\n        getNow = _this$props5.getNow,\n        renderHeader = _this$props5.renderHeader,\n        onSelect = _this$props5.onSelect,\n        localizer = _this$props5.localizer,\n        onSelectStart = _this$props5.onSelectStart,\n        onSelectEnd = _this$props5.onSelectEnd,\n        onDoubleClick = _this$props5.onDoubleClick,\n        onKeyPress = _this$props5.onKeyPress,\n        resourceId = _this$props5.resourceId,\n        longPressThreshold = _this$props5.longPressThreshold,\n        isAllDay = _this$props5.isAllDay,\n        resizable = _this$props5.resizable,\n        showAllEvents = _this$props5.showAllEvents;\n      if (renderForMeasure) return this.renderDummy();\n      var metrics = this.slotMetrics(this.props);\n      var levels = metrics.levels,\n        extra = metrics.extra;\n      var ScrollableWeekComponent = showAllEvents ? ScrollableWeekWrapper : NoopWrapper;\n      var WeekWrapper = components.weekWrapper;\n      var eventRowProps = {\n        selected: selected,\n        accessors: accessors,\n        getters: getters,\n        localizer: localizer,\n        components: components,\n        onSelect: onSelect,\n        onDoubleClick: onDoubleClick,\n        onKeyPress: onKeyPress,\n        resourceId: resourceId,\n        slotMetrics: metrics,\n        resizable: resizable\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: className,\n        role: \"rowgroup\",\n        ref: this.containerRef\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(BackgroundCells, {\n        localizer: localizer,\n        date: date,\n        getNow: getNow,\n        rtl: rtl,\n        range: range,\n        selectable: selectable,\n        container: this.getContainer,\n        getters: getters,\n        onSelectStart: onSelectStart,\n        onSelectEnd: onSelectEnd,\n        onSelectSlot: this.handleSelectSlot,\n        components: components,\n        longPressThreshold: longPressThreshold,\n        resourceId: resourceId\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-row-content', showAllEvents && 'rbc-row-content-scrollable'),\n        role: \"row\"\n      }, renderHeader && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row \",\n        ref: this.headingRowRef\n      }, range.map(this.renderHeadingCell)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ScrollableWeekComponent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(WeekWrapper, Object.assign({\n        isAllDay: isAllDay\n      }, eventRowProps, {\n        rtl: this.props.rtl\n      }), levels.map(function (segs, idx) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventRow, Object.assign({\n          key: idx,\n          segments: segs\n        }, eventRowProps));\n      }), !!extra.length && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventEndingRow, Object.assign({\n        segments: extra,\n        onShowMore: this.handleShowMore\n      }, eventRowProps))))));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nDateContentRow.defaultProps = {\n  minRows: 0,\n  maxRows: Infinity\n};\n\nvar Header = function Header(_ref) {\n  var label = _ref.label;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n    role: \"columnheader\",\n    \"aria-sort\": \"none\"\n  }, label);\n};\n\nvar DateHeader = function DateHeader(_ref) {\n  var label = _ref.label,\n    drilldownView = _ref.drilldownView,\n    onDrillDown = _ref.onDrillDown;\n  if (!drilldownView) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", null, label);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n    type: \"button\",\n    className: \"rbc-button-link\",\n    onClick: onDrillDown\n  }, label);\n};\n\nvar _excluded$6 = [\"date\", \"className\"];\nvar eventsForWeek = function eventsForWeek(evts, start, end, accessors, localizer) {\n  return evts.filter(function (e) {\n    return inRange(e, start, end, accessors, localizer);\n  });\n};\nvar MonthView = /*#__PURE__*/function (_React$Component) {\n  function MonthView() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, MonthView);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, MonthView, [].concat(_args));\n    _this.getContainer = function () {\n      return _this.containerRef.current;\n    };\n    _this.renderWeek = function (week, weekIdx) {\n      var _this$props = _this.props,\n        events = _this$props.events,\n        components = _this$props.components,\n        selectable = _this$props.selectable,\n        getNow = _this$props.getNow,\n        selected = _this$props.selected,\n        date = _this$props.date,\n        localizer = _this$props.localizer,\n        longPressThreshold = _this$props.longPressThreshold,\n        accessors = _this$props.accessors,\n        getters = _this$props.getters,\n        showAllEvents = _this$props.showAllEvents;\n      var _this$state = _this.state,\n        needLimitMeasure = _this$state.needLimitMeasure,\n        rowLimit = _this$state.rowLimit;\n\n      // let's not mutate props\n      var weeksEvents = eventsForWeek((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(events), week[0], week[week.length - 1], accessors, localizer);\n      var sorted = sortWeekEvents(weeksEvents, accessors, localizer);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DateContentRow, {\n        key: weekIdx,\n        ref: weekIdx === 0 ? _this.slotRowRef : undefined,\n        container: _this.getContainer,\n        className: \"rbc-month-row\",\n        getNow: getNow,\n        date: date,\n        range: week,\n        events: sorted,\n        maxRows: showAllEvents ? Infinity : rowLimit,\n        selected: selected,\n        selectable: selectable,\n        components: components,\n        accessors: accessors,\n        getters: getters,\n        localizer: localizer,\n        renderHeader: _this.readerDateHeading,\n        renderForMeasure: needLimitMeasure,\n        onShowMore: _this.handleShowMore,\n        onSelect: _this.handleSelectEvent,\n        onDoubleClick: _this.handleDoubleClickEvent,\n        onKeyPress: _this.handleKeyPressEvent,\n        onSelectSlot: _this.handleSelectSlot,\n        longPressThreshold: longPressThreshold,\n        rtl: _this.props.rtl,\n        resizable: _this.props.resizable,\n        showAllEvents: showAllEvents\n      });\n    };\n    _this.readerDateHeading = function (_ref) {\n      var date = _ref.date,\n        className = _ref.className,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref, _excluded$6);\n      var _this$props2 = _this.props,\n        currentDate = _this$props2.date,\n        getDrilldownView = _this$props2.getDrilldownView,\n        localizer = _this$props2.localizer;\n      var isOffRange = localizer.neq(date, currentDate, 'month');\n      var isCurrent = localizer.isSameDate(date, currentDate);\n      var drilldownView = getDrilldownView(date);\n      var label = localizer.format(date, 'dateFormat');\n      var DateHeaderComponent = _this.props.components.dateHeader || DateHeader;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", Object.assign({}, props, {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(className, isOffRange && 'rbc-off-range', isCurrent && 'rbc-current'),\n        role: \"cell\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DateHeaderComponent, {\n        label: label,\n        date: date,\n        drilldownView: drilldownView,\n        isOffRange: isOffRange,\n        onDrillDown: function onDrillDown(e) {\n          return _this.handleHeadingClick(date, drilldownView, e);\n        }\n      }));\n    };\n    _this.handleSelectSlot = function (range, slotInfo) {\n      _this._pendingSelection = _this._pendingSelection.concat(range);\n      clearTimeout(_this._selectTimer);\n      _this._selectTimer = setTimeout(function () {\n        return _this.selectDates(slotInfo);\n      });\n    };\n    _this.handleHeadingClick = function (date, view, e) {\n      e.preventDefault();\n      _this.clearSelection();\n      notify(_this.props.onDrillDown, [date, view]);\n    };\n    _this.handleSelectEvent = function () {\n      _this.clearSelection();\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      notify(_this.props.onSelectEvent, args);\n    };\n    _this.handleDoubleClickEvent = function () {\n      _this.clearSelection();\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      notify(_this.props.onDoubleClickEvent, args);\n    };\n    _this.handleKeyPressEvent = function () {\n      _this.clearSelection();\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      notify(_this.props.onKeyPressEvent, args);\n    };\n    _this.handleShowMore = function (events, date, cell, slot, target) {\n      var _this$props3 = _this.props,\n        popup = _this$props3.popup,\n        onDrillDown = _this$props3.onDrillDown,\n        onShowMore = _this$props3.onShowMore,\n        getDrilldownView = _this$props3.getDrilldownView,\n        doShowMoreDrillDown = _this$props3.doShowMoreDrillDown;\n      //cancel any pending selections so only the event click goes through.\n      _this.clearSelection();\n      if (popup) {\n        var position = (0,dom_helpers_position__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(cell, _this.containerRef.current);\n        _this.setState({\n          overlay: {\n            date: date,\n            events: events,\n            position: position,\n            target: target\n          }\n        });\n      } else if (doShowMoreDrillDown) {\n        notify(onDrillDown, [date, getDrilldownView(date) || views.DAY]);\n      }\n      notify(onShowMore, [events, date, slot]);\n    };\n    _this.overlayDisplay = function () {\n      _this.setState({\n        overlay: null\n      });\n    };\n    _this.state = {\n      rowLimit: 5,\n      needLimitMeasure: true,\n      date: null\n    };\n    _this.containerRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    _this.slotRowRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    _this._bgRows = [];\n    _this._pendingSelection = [];\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(MonthView, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(MonthView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var running;\n      if (this.state.needLimitMeasure) this.measureRowLimit(this.props);\n      window.addEventListener('resize', this._resizeListener = function () {\n        if (!running) {\n          dom_helpers_animationFrame__WEBPACK_IMPORTED_MODULE_17__.request(function () {\n            running = false;\n            _this2.setState({\n              needLimitMeasure: true\n            }); //eslint-disable-line\n          });\n        }\n      }, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.state.needLimitMeasure) this.measureRowLimit(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this._resizeListener, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        date = _this$props4.date,\n        localizer = _this$props4.localizer,\n        className = _this$props4.className,\n        month = localizer.visibleDays(date, localizer),\n        weeks = lodash_chunk__WEBPACK_IMPORTED_MODULE_15___default()(month, 7);\n      this._weekCount = weeks.length;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-month-view', className),\n        role: \"table\",\n        \"aria-label\": \"Month View\",\n        ref: this.containerRef\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-row rbc-month-header\",\n        role: \"row\"\n      }, this.renderHeaders(weeks[0])), weeks.map(this.renderWeek), this.props.popup && this.renderOverlay());\n    }\n  }, {\n    key: \"renderHeaders\",\n    value: function renderHeaders(row) {\n      var _this$props5 = this.props,\n        localizer = _this$props5.localizer,\n        components = _this$props5.components;\n      var first = row[0];\n      var last = row[row.length - 1];\n      var HeaderComponent = components.header || Header;\n      return localizer.range(first, last, 'day').map(function (day, idx) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          key: 'header_' + idx,\n          className: \"rbc-header\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(HeaderComponent, {\n          date: day,\n          localizer: localizer,\n          label: localizer.format(day, 'weekdayFormat')\n        }));\n      });\n    }\n  }, {\n    key: \"renderOverlay\",\n    value: function renderOverlay() {\n      var _this$state$overlay,\n        _this$state2,\n        _this3 = this;\n      var overlay = (_this$state$overlay = (_this$state2 = this.state) === null || _this$state2 === void 0 ? void 0 : _this$state2.overlay) !== null && _this$state$overlay !== void 0 ? _this$state$overlay : {};\n      var _this$props6 = this.props,\n        accessors = _this$props6.accessors,\n        localizer = _this$props6.localizer,\n        components = _this$props6.components,\n        getters = _this$props6.getters,\n        selected = _this$props6.selected,\n        popupOffset = _this$props6.popupOffset,\n        handleDragStart = _this$props6.handleDragStart;\n      var onHide = function onHide() {\n        return _this3.setState({\n          overlay: null\n        });\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(PopOverlay, {\n        overlay: overlay,\n        accessors: accessors,\n        localizer: localizer,\n        components: components,\n        getters: getters,\n        selected: selected,\n        popupOffset: popupOffset,\n        ref: this.containerRef,\n        handleKeyPressEvent: this.handleKeyPressEvent,\n        handleSelectEvent: this.handleSelectEvent,\n        handleDoubleClickEvent: this.handleDoubleClickEvent,\n        handleDragStart: handleDragStart,\n        show: !!overlay.position,\n        overlayDisplay: this.overlayDisplay,\n        onHide: onHide\n      });\n\n      /* return (\n        <Overlay\n          rootClose\n          placement=\"bottom\"\n          show={!!overlay.position}\n          onHide={() => this.setState({ overlay: null })}\n          target={() => overlay.target}\n        >\n          {({ props }) => (\n            <Popup\n              {...props}\n              popupOffset={popupOffset}\n              accessors={accessors}\n              getters={getters}\n              selected={selected}\n              components={components}\n              localizer={localizer}\n              position={overlay.position}\n              show={this.overlayDisplay}\n              events={overlay.events}\n              slotStart={overlay.date}\n              slotEnd={overlay.end}\n              onSelect={this.handleSelectEvent}\n              onDoubleClick={this.handleDoubleClickEvent}\n              onKeyPress={this.handleKeyPressEvent}\n              handleDragStart={this.props.handleDragStart}\n            />\n          )}\n        </Overlay>\n      ) */\n    }\n  }, {\n    key: \"measureRowLimit\",\n    value: function measureRowLimit() {\n      this.setState({\n        needLimitMeasure: false,\n        rowLimit: this.slotRowRef.current.getRowLimit()\n      });\n    }\n  }, {\n    key: \"selectDates\",\n    value: function selectDates(slotInfo) {\n      var slots = this._pendingSelection.slice();\n      this._pendingSelection = [];\n      slots.sort(function (a, b) {\n        return +a - +b;\n      });\n      var start = new Date(slots[0]);\n      var end = new Date(slots[slots.length - 1]);\n      end.setDate(slots[slots.length - 1].getDate() + 1);\n      notify(this.props.onSelectSlot, {\n        slots: slots,\n        start: start,\n        end: end,\n        action: slotInfo.action,\n        bounds: slotInfo.bounds,\n        box: slotInfo.box\n      });\n    }\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      clearTimeout(this._selectTimer);\n      this._pendingSelection = [];\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(_ref2, state) {\n      var date = _ref2.date,\n        localizer = _ref2.localizer;\n      return {\n        date: date,\n        needLimitMeasure: localizer.neq(date, state.date, 'month')\n      };\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nMonthView.range = function (date, _ref3) {\n  var localizer = _ref3.localizer;\n  var start = localizer.firstVisibleDay(date, localizer);\n  var end = localizer.lastVisibleDay(date, localizer);\n  return {\n    start: start,\n    end: end\n  };\n};\nMonthView.navigate = function (date, action, _ref4) {\n  var localizer = _ref4.localizer;\n  switch (action) {\n    case navigate.PREVIOUS:\n      return localizer.add(date, -1, 'month');\n    case navigate.NEXT:\n      return localizer.add(date, 1, 'month');\n    default:\n      return date;\n  }\n};\nMonthView.title = function (date, _ref5) {\n  var localizer = _ref5.localizer;\n  return localizer.format(date, 'monthHeaderFormat');\n};\n\nvar getKey = function getKey(_ref) {\n  var min = _ref.min,\n    max = _ref.max,\n    step = _ref.step,\n    slots = _ref.slots,\n    localizer = _ref.localizer;\n  return \"\".concat(+localizer.startOf(min, 'minutes')) + \"\".concat(+localizer.startOf(max, 'minutes')) + \"\".concat(step, \"-\").concat(slots);\n};\nfunction getSlotMetrics(_ref2) {\n  var start = _ref2.min,\n    end = _ref2.max,\n    step = _ref2.step,\n    timeslots = _ref2.timeslots,\n    localizer = _ref2.localizer;\n  var key = getKey({\n    start: start,\n    end: end,\n    step: step,\n    timeslots: timeslots,\n    localizer: localizer\n  });\n\n  // DST differences are handled inside the localizer\n  var totalMin = 1 + localizer.getTotalMin(start, end);\n  var minutesFromMidnight = localizer.getMinutesFromMidnight(start);\n  var numGroups = Math.ceil((totalMin - 1) / (step * timeslots));\n  var numSlots = numGroups * timeslots;\n  var groups = new Array(numGroups);\n  var slots = new Array(numSlots);\n  // Each slot date is created from \"zero\", instead of adding `step` to\n  // the previous one, in order to avoid DST oddities\n  for (var grp = 0; grp < numGroups; grp++) {\n    groups[grp] = new Array(timeslots);\n    for (var slot = 0; slot < timeslots; slot++) {\n      var slotIdx = grp * timeslots + slot;\n      var minFromStart = slotIdx * step;\n      // A date with total minutes calculated from the start of the day\n      slots[slotIdx] = groups[grp][slot] = localizer.getSlotDate(start, minutesFromMidnight, minFromStart);\n    }\n  }\n\n  // Necessary to be able to select up until the last timeslot in a day\n  var lastSlotMinFromStart = slots.length * step;\n  slots.push(localizer.getSlotDate(start, minutesFromMidnight, lastSlotMinFromStart));\n  function positionFromDate(date) {\n    var diff = localizer.diff(start, date, 'minutes') + localizer.getDstOffset(start, date);\n    return Math.min(diff, totalMin);\n  }\n  return {\n    groups: groups,\n    update: function update(args) {\n      if (getKey(args) !== key) return getSlotMetrics(args);\n      return this;\n    },\n    dateIsInGroup: function dateIsInGroup(date, groupIndex) {\n      var nextGroup = groups[groupIndex + 1];\n      return localizer.inRange(date, groups[groupIndex][0], nextGroup ? nextGroup[0] : end, 'minutes');\n    },\n    nextSlot: function nextSlot(slot) {\n      // We cannot guarantee that the slot object must be in slots,\n      // because after each update, a new slots array will be created.\n      var next = slots[Math.min(slots.findIndex(function (s) {\n        return s === slot || localizer.eq(s, slot);\n      }) + 1, slots.length - 1)];\n      // in the case of the last slot we won't a long enough range so manually get it\n      if (localizer.eq(next, slot)) next = localizer.add(slot, step, 'minutes');\n      return next;\n    },\n    closestSlotToPosition: function closestSlotToPosition(percent) {\n      var slot = Math.min(slots.length - 1, Math.max(0, Math.floor(percent * numSlots)));\n      return slots[slot];\n    },\n    closestSlotFromPoint: function closestSlotFromPoint(point, boundaryRect) {\n      var range = Math.abs(boundaryRect.top - boundaryRect.bottom);\n      return this.closestSlotToPosition((point.y - boundaryRect.top) / range);\n    },\n    closestSlotFromDate: function closestSlotFromDate(date) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (localizer.lt(date, start, 'minutes')) return slots[0];\n      if (localizer.gt(date, end, 'minutes')) return slots[slots.length - 1];\n      var diffMins = localizer.diff(start, date, 'minutes');\n      return slots[(diffMins - diffMins % step) / step + offset];\n    },\n    startsBeforeDay: function startsBeforeDay(date) {\n      return localizer.lt(date, start, 'day');\n    },\n    startsAfterDay: function startsAfterDay(date) {\n      return localizer.gt(date, end, 'day');\n    },\n    startsBefore: function startsBefore(date) {\n      return localizer.lt(localizer.merge(start, date), start, 'minutes');\n    },\n    startsAfter: function startsAfter(date) {\n      return localizer.gt(localizer.merge(end, date), end, 'minutes');\n    },\n    getRange: function getRange(rangeStart, rangeEnd, ignoreMin, ignoreMax) {\n      if (!ignoreMin) rangeStart = localizer.min(end, localizer.max(start, rangeStart));\n      if (!ignoreMax) rangeEnd = localizer.min(end, localizer.max(start, rangeEnd));\n      var rangeStartMin = positionFromDate(rangeStart);\n      var rangeEndMin = positionFromDate(rangeEnd);\n      var top = rangeEndMin > step * numSlots && !localizer.eq(end, rangeEnd) ? (rangeStartMin - step) / (step * numSlots) * 100 : rangeStartMin / (step * numSlots) * 100;\n      return {\n        top: top,\n        height: rangeEndMin / (step * numSlots) * 100 - top,\n        start: positionFromDate(rangeStart),\n        startDate: rangeStart,\n        end: positionFromDate(rangeEnd),\n        endDate: rangeEnd\n      };\n    },\n    getCurrentTimePosition: function getCurrentTimePosition(rangeStart) {\n      var rangeStartMin = positionFromDate(rangeStart);\n      var top = rangeStartMin / (step * numSlots) * 100;\n      return top;\n    }\n  };\n}\n\nvar Event = /*#__PURE__*/function () {\n  function Event(data, _ref) {\n    var accessors = _ref.accessors,\n      slotMetrics = _ref.slotMetrics;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Event);\n    var _slotMetrics$getRange = slotMetrics.getRange(accessors.start(data), accessors.end(data)),\n      start = _slotMetrics$getRange.start,\n      startDate = _slotMetrics$getRange.startDate,\n      end = _slotMetrics$getRange.end,\n      endDate = _slotMetrics$getRange.endDate,\n      top = _slotMetrics$getRange.top,\n      height = _slotMetrics$getRange.height;\n    this.start = start;\n    this.end = end;\n    this.startMs = +startDate;\n    this.endMs = +endDate;\n    this.top = top;\n    this.height = height;\n    this.data = data;\n  }\n\n  /**\n   * The event's width without any overlap.\n   */\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Event, [{\n    key: \"_width\",\n    get: function get() {\n      // The container event's width is determined by the maximum number of\n      // events in any of its rows.\n      if (this.rows) {\n        var columns = this.rows.reduce(function (max, row) {\n          return Math.max(max, row.leaves.length + 1);\n        },\n        // add itself\n        0) + 1; // add the container\n\n        return 100 / columns;\n      }\n\n      // The row event's width is the space left by the container, divided\n      // among itself and its leaves.\n      if (this.leaves) {\n        var availableWidth = 100 - this.container._width;\n        return availableWidth / (this.leaves.length + 1);\n      }\n\n      // The leaf event's width is determined by its row's width\n      return this.row._width;\n    }\n\n    /**\n     * The event's calculated width, possibly with extra width added for\n     * overlapping effect.\n     */\n  }, {\n    key: \"width\",\n    get: function get() {\n      var noOverlap = this._width;\n      var overlap = Math.min(100, this._width * 1.7);\n\n      // Containers can always grow.\n      if (this.rows) {\n        return overlap;\n      }\n\n      // Rows can grow if they have leaves.\n      if (this.leaves) {\n        return this.leaves.length > 0 ? overlap : noOverlap;\n      }\n\n      // Leaves can grow unless they're the last item in a row.\n      var leaves = this.row.leaves;\n      var index = leaves.indexOf(this);\n      return index === leaves.length - 1 ? noOverlap : overlap;\n    }\n  }, {\n    key: \"xOffset\",\n    get: function get() {\n      // Containers have no offset.\n      if (this.rows) return 0;\n\n      // Rows always start where their container ends.\n      if (this.leaves) return this.container._width;\n\n      // Leaves are spread out evenly on the space left by its row.\n      var _this$row = this.row,\n        leaves = _this$row.leaves,\n        xOffset = _this$row.xOffset,\n        _width = _this$row._width;\n      var index = leaves.indexOf(this) + 1;\n      return xOffset + index * _width;\n    }\n  }]);\n}();\n/**\n * Return true if event a and b is considered to be on the same row.\n */\nfunction onSameRow(a, b, minimumStartDifference) {\n  return (\n    // Occupies the same start slot.\n    Math.abs(b.start - a.start) < minimumStartDifference ||\n    // A's start slot overlaps with b's end slot.\n    b.start > a.start && b.start < a.end\n  );\n}\nfunction sortByRender(events) {\n  var sortedByTime = lodash_sortBy__WEBPACK_IMPORTED_MODULE_28___default()(events, ['startMs', function (e) {\n    return -e.endMs;\n  }]);\n  var sorted = [];\n  while (sortedByTime.length > 0) {\n    var event = sortedByTime.shift();\n    sorted.push(event);\n    for (var i = 0; i < sortedByTime.length; i++) {\n      var test = sortedByTime[i];\n\n      // Still inside this event, look for next.\n      if (event.endMs > test.startMs) continue;\n\n      // We've found the first event of the next event group.\n      // If that event is not right next to our current event, we have to\n      // move it here.\n      if (i > 0) {\n        var _event = sortedByTime.splice(i, 1)[0];\n        sorted.push(_event);\n      }\n\n      // We've already found the next event group, so stop looking.\n      break;\n    }\n  }\n  return sorted;\n}\nfunction getStyledEvents$1(_ref2) {\n  var events = _ref2.events,\n    minimumStartDifference = _ref2.minimumStartDifference,\n    slotMetrics = _ref2.slotMetrics,\n    accessors = _ref2.accessors;\n  // Create proxy events and order them so that we don't have\n  // to fiddle with z-indexes.\n  var proxies = events.map(function (event) {\n    return new Event(event, {\n      slotMetrics: slotMetrics,\n      accessors: accessors\n    });\n  });\n  var eventsInRenderOrder = sortByRender(proxies);\n\n  // Group overlapping events, while keeping order.\n  // Every event is always one of: container, row or leaf.\n  // Containers can contain rows, and rows can contain leaves.\n  var containerEvents = [];\n  var _loop = function _loop() {\n    var event = eventsInRenderOrder[i];\n\n    // Check if this event can go into a container event.\n    var container = containerEvents.find(function (c) {\n      return c.end > event.start || Math.abs(event.start - c.start) < minimumStartDifference;\n    });\n\n    // Couldn't find a container  that means this event is a container.\n    if (!container) {\n      event.rows = [];\n      containerEvents.push(event);\n      return 1; // continue\n    }\n\n    // Found a container for the event.\n    event.container = container;\n\n    // Check if the event can be placed in an existing row.\n    // Start looking from behind.\n    var row = null;\n    for (var j = container.rows.length - 1; !row && j >= 0; j--) {\n      if (onSameRow(container.rows[j], event, minimumStartDifference)) {\n        row = container.rows[j];\n      }\n    }\n    if (row) {\n      // Found a row, so add it.\n      row.leaves.push(event);\n      event.row = row;\n    } else {\n      // Couldn't find a row  that means this event is a row.\n      event.leaves = [];\n      container.rows.push(event);\n    }\n  };\n  for (var i = 0; i < eventsInRenderOrder.length; i++) {\n    if (_loop()) continue;\n  }\n\n  // Return the original events, along with their styles.\n  return eventsInRenderOrder.map(function (event) {\n    return {\n      event: event.data,\n      style: {\n        top: event.top,\n        height: event.height,\n        width: event.width,\n        xOffset: Math.max(0, event.xOffset)\n      }\n    };\n  });\n}\n\nfunction getMaxIdxDFS(node, maxIdx, visited) {\n  for (var i = 0; i < node.friends.length; ++i) {\n    if (visited.indexOf(node.friends[i]) > -1) continue;\n    maxIdx = maxIdx > node.friends[i].idx ? maxIdx : node.friends[i].idx;\n    // TODO : trace it by not object but kinda index or something for performance\n    visited.push(node.friends[i]);\n    var newIdx = getMaxIdxDFS(node.friends[i], maxIdx, visited);\n    maxIdx = maxIdx > newIdx ? maxIdx : newIdx;\n  }\n  return maxIdx;\n}\nfunction noOverlap (_ref) {\n  var events = _ref.events,\n    minimumStartDifference = _ref.minimumStartDifference,\n    slotMetrics = _ref.slotMetrics,\n    accessors = _ref.accessors;\n  var styledEvents = getStyledEvents$1({\n    events: events,\n    minimumStartDifference: minimumStartDifference,\n    slotMetrics: slotMetrics,\n    accessors: accessors\n  });\n  styledEvents.sort(function (a, b) {\n    a = a.style;\n    b = b.style;\n    if (a.top !== b.top) return a.top > b.top ? 1 : -1;else if (a.height !== b.height) return a.top + a.height < b.top + b.height ? 1 : -1;else return 0;\n  });\n  for (var i = 0; i < styledEvents.length; ++i) {\n    styledEvents[i].friends = [];\n    delete styledEvents[i].style.left;\n    delete styledEvents[i].style.left;\n    delete styledEvents[i].idx;\n    delete styledEvents[i].size;\n  }\n  for (var _i2 = 0; _i2 < styledEvents.length - 1; ++_i2) {\n    var se1 = styledEvents[_i2];\n    var y1 = se1.style.top;\n    var y2 = se1.style.top + se1.style.height;\n    for (var j = _i2 + 1; j < styledEvents.length; ++j) {\n      var se2 = styledEvents[j];\n      var y3 = se2.style.top;\n      var y4 = se2.style.top + se2.style.height;\n      if (y3 >= y1 && y4 <= y2 || y4 > y1 && y4 <= y2 || y3 >= y1 && y3 < y2) {\n        // TODO : hashmap would be effective for performance\n        se1.friends.push(se2);\n        se2.friends.push(se1);\n      }\n    }\n  }\n  for (var _i4 = 0; _i4 < styledEvents.length; ++_i4) {\n    var se = styledEvents[_i4];\n    var bitmap = [];\n    for (var _j2 = 0; _j2 < 100; ++_j2) bitmap.push(1); // 1 means available\n\n    for (var _j4 = 0; _j4 < se.friends.length; ++_j4) if (se.friends[_j4].idx !== undefined) bitmap[se.friends[_j4].idx] = 0; // 0 means reserved\n\n    se.idx = bitmap.indexOf(1);\n  }\n  for (var _i6 = 0; _i6 < styledEvents.length; ++_i6) {\n    var size = 0;\n    if (styledEvents[_i6].size) continue;\n    var allFriends = [];\n    var maxIdx = getMaxIdxDFS(styledEvents[_i6], 0, allFriends);\n    size = 100 / (maxIdx + 1);\n    styledEvents[_i6].size = size;\n    for (var _j6 = 0; _j6 < allFriends.length; ++_j6) allFriends[_j6].size = size;\n  }\n  for (var _i8 = 0; _i8 < styledEvents.length; ++_i8) {\n    var e = styledEvents[_i8];\n    e.style.left = e.idx * e.size;\n\n    // stretch to maximum\n    var _maxIdx = 0;\n    for (var _j8 = 0; _j8 < e.friends.length; ++_j8) {\n      var idx = e.friends[_j8].idx;\n      _maxIdx = _maxIdx > idx ? _maxIdx : idx;\n    }\n    if (_maxIdx <= e.idx) e.size = 100 - e.idx * e.size;\n\n    // padding between events\n    // for this feature, `width` is not percentage based unit anymore\n    // it will be used with calc()\n    var padding = e.idx === 0 ? 0 : 3;\n    e.style.width = \"calc(\".concat(e.size, \"% - \").concat(padding, \"px)\");\n    e.style.height = \"calc(\".concat(e.style.height, \"% - 2px)\");\n    e.style.xOffset = \"calc(\".concat(e.style.left, \"% + \").concat(padding, \"px)\");\n  }\n  return styledEvents;\n}\n\n/*eslint no-unused-vars: \"off\"*/\n\nvar DefaultAlgorithms = {\n  overlap: getStyledEvents$1,\n  'no-overlap': noOverlap\n};\nfunction isFunction(a) {\n  return !!(a && a.constructor && a.call && a.apply);\n}\n\n//\nfunction getStyledEvents(_ref) {\n  _ref.events;\n    _ref.minimumStartDifference;\n    _ref.slotMetrics;\n    _ref.accessors;\n    var dayLayoutAlgorithm = _ref.dayLayoutAlgorithm;\n  var algorithm = dayLayoutAlgorithm;\n  if (dayLayoutAlgorithm in DefaultAlgorithms) algorithm = DefaultAlgorithms[dayLayoutAlgorithm];\n  if (!isFunction(algorithm)) {\n    // invalid algorithm\n    return [];\n  }\n  return algorithm.apply(this, arguments);\n}\n\nvar TimeSlotGroup = /*#__PURE__*/function (_Component) {\n  function TimeSlotGroup() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, TimeSlotGroup);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, TimeSlotGroup, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(TimeSlotGroup, _Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TimeSlotGroup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        renderSlot = _this$props.renderSlot,\n        resource = _this$props.resource,\n        group = _this$props.group,\n        getters = _this$props.getters,\n        _this$props$component = _this$props.components,\n        _this$props$component2 = _this$props$component === void 0 ? {} : _this$props$component,\n        _this$props$component3 = _this$props$component2.timeSlotWrapper,\n        Wrapper = _this$props$component3 === void 0 ? NoopWrapper : _this$props$component3;\n      var groupProps = getters ? getters.slotGroupProp(group) : {};\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", Object.assign({\n        className: \"rbc-timeslot-group\"\n      }, groupProps), group.map(function (value, idx) {\n        var slotProps = getters ? getters.slotProp(value, resource) : {};\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Wrapper, {\n          key: idx,\n          value: value,\n          resource: resource\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", Object.assign({}, slotProps, {\n          className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-time-slot', slotProps.className)\n        }), renderSlot && renderSlot(value, idx)));\n      }));\n    }\n  }]);\n}(react__WEBPACK_IMPORTED_MODULE_9__.Component);\n\nfunction stringifyPercent(v) {\n  return typeof v === 'string' ? v : v + '%';\n}\n\n/* eslint-disable react/prop-types */\nfunction TimeGridEvent(props) {\n  var style = props.style,\n    className = props.className,\n    event = props.event,\n    accessors = props.accessors,\n    rtl = props.rtl,\n    selected = props.selected,\n    label = props.label,\n    continuesPrior = props.continuesPrior,\n    continuesAfter = props.continuesAfter,\n    getters = props.getters,\n    onClick = props.onClick,\n    onDoubleClick = props.onDoubleClick,\n    isBackgroundEvent = props.isBackgroundEvent,\n    onKeyPress = props.onKeyPress,\n    _props$components = props.components,\n    Event = _props$components.event,\n    EventWrapper = _props$components.eventWrapper;\n  var title = accessors.title(event);\n  var tooltip = accessors.tooltip(event);\n  var end = accessors.end(event);\n  var start = accessors.start(event);\n  var userProps = getters.eventProp(event, start, end, selected);\n  var inner = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    key: \"1\",\n    className: \"rbc-event-label\"\n  }, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    key: \"2\",\n    className: \"rbc-event-content\"\n  }, Event ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Event, {\n    event: event,\n    title: title\n  }) : title)];\n  var height = style.height,\n    top = style.top,\n    width = style.width,\n    xOffset = style.xOffset;\n  var eventStyle = (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, userProps.style), {}, (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n    top: stringifyPercent(top),\n    height: stringifyPercent(height),\n    width: stringifyPercent(width)\n  }, rtl ? 'right' : 'left', stringifyPercent(xOffset)));\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventWrapper, Object.assign({\n    type: \"time\"\n  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    onClick: onClick,\n    onDoubleClick: onDoubleClick,\n    style: eventStyle,\n    onKeyDown: onKeyPress,\n    title: tooltip ? (typeof label === 'string' ? label + ': ' : '') + tooltip : undefined,\n    className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(isBackgroundEvent ? 'rbc-background-event' : 'rbc-event', className, userProps.className, {\n      'rbc-selected': selected,\n      'rbc-event-continues-earlier': continuesPrior,\n      'rbc-event-continues-later': continuesAfter\n    })\n  }, inner));\n}\n\nvar DayColumnWrapper = function DayColumnWrapper(_ref) {\n  var children = _ref.children,\n    className = _ref.className,\n    style = _ref.style,\n    innerRef = _ref.innerRef;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: className,\n    style: style,\n    ref: innerRef\n  }, children);\n};\nvar DayColumnWrapper$1 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().forwardRef(function (props, ref) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DayColumnWrapper, Object.assign({}, props, {\n    innerRef: ref\n  }));\n});\n\nvar _excluded$5 = [\"dayProp\"],\n  _excluded2$1 = [\"eventContainerWrapper\"];\nvar DayColumn = /*#__PURE__*/function (_React$Component) {\n  function DayColumn() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, DayColumn);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, DayColumn, [].concat(_args));\n    _this.state = {\n      selecting: false,\n      timeIndicatorPosition: null\n    };\n    _this.intervalTriggered = false;\n    _this.renderEvents = function (_ref) {\n      var events = _ref.events,\n        isBackgroundEvent = _ref.isBackgroundEvent;\n      var _this$props = _this.props,\n        rtl = _this$props.rtl,\n        selected = _this$props.selected,\n        accessors = _this$props.accessors,\n        localizer = _this$props.localizer,\n        getters = _this$props.getters,\n        components = _this$props.components,\n        step = _this$props.step,\n        timeslots = _this$props.timeslots,\n        dayLayoutAlgorithm = _this$props.dayLayoutAlgorithm,\n        resizable = _this$props.resizable;\n      var _this2 = _this,\n        slotMetrics = _this2.slotMetrics;\n      var messages = localizer.messages;\n      var styledEvents = getStyledEvents({\n        events: events,\n        accessors: accessors,\n        slotMetrics: slotMetrics,\n        minimumStartDifference: Math.ceil(step * timeslots / 2),\n        dayLayoutAlgorithm: dayLayoutAlgorithm\n      });\n      return styledEvents.map(function (_ref2, idx) {\n        var _accessors$eventId;\n        var event = _ref2.event,\n          style = _ref2.style;\n        var end = accessors.end(event);\n        var start = accessors.start(event);\n        var key = (_accessors$eventId = accessors.eventId(event)) !== null && _accessors$eventId !== void 0 ? _accessors$eventId : 'evt_' + idx;\n        var format = 'eventTimeRangeFormat';\n        var label;\n        var startsBeforeDay = slotMetrics.startsBeforeDay(start);\n        var startsAfterDay = slotMetrics.startsAfterDay(end);\n        if (startsBeforeDay) format = 'eventTimeRangeEndFormat';else if (startsAfterDay) format = 'eventTimeRangeStartFormat';\n        if (startsBeforeDay && startsAfterDay) label = messages.allDay;else label = localizer.format({\n          start: start,\n          end: end\n        }, format);\n        var continuesPrior = startsBeforeDay || slotMetrics.startsBefore(start);\n        var continuesAfter = startsAfterDay || slotMetrics.startsAfter(end);\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGridEvent, {\n          style: style,\n          event: event,\n          label: label,\n          key: key,\n          getters: getters,\n          rtl: rtl,\n          components: components,\n          continuesPrior: continuesPrior,\n          continuesAfter: continuesAfter,\n          accessors: accessors,\n          resource: _this.props.resource,\n          selected: isSelected(event, selected),\n          onClick: function onClick(e) {\n            return _this._select((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, event), _this.props.resource && {\n              sourceResource: _this.props.resource\n            }), isBackgroundEvent && {\n              isBackgroundEvent: true\n            }), e);\n          },\n          onDoubleClick: function onDoubleClick(e) {\n            return _this._doubleClick(event, e);\n          },\n          isBackgroundEvent: isBackgroundEvent,\n          onKeyPress: function onKeyPress(e) {\n            return _this._keyPress(event, e);\n          },\n          resizable: resizable\n        });\n      });\n    };\n    _this._selectable = function () {\n      var node = _this.containerRef.current;\n      var _this$props2 = _this.props,\n        longPressThreshold = _this$props2.longPressThreshold,\n        localizer = _this$props2.localizer;\n      var selector = _this._selector = new Selection(function () {\n        return node;\n      }, {\n        longPressThreshold: longPressThreshold\n      });\n      var maybeSelect = function maybeSelect(box) {\n        var onSelecting = _this.props.onSelecting;\n        var current = _this.state || {};\n        var state = selectionState(box);\n        var start = state.startDate,\n          end = state.endDate;\n        if (onSelecting) {\n          if (localizer.eq(current.startDate, start, 'minutes') && localizer.eq(current.endDate, end, 'minutes') || onSelecting({\n            start: start,\n            end: end,\n            resourceId: _this.props.resource\n          }) === false) return;\n        }\n        if (_this.state.start !== state.start || _this.state.end !== state.end || _this.state.selecting !== state.selecting) {\n          _this.setState(state);\n        }\n      };\n      var selectionState = function selectionState(point) {\n        var currentSlot = _this.slotMetrics.closestSlotFromPoint(point, getBoundsForNode(node));\n        if (!_this.state.selecting) {\n          _this._initialSlot = currentSlot;\n        }\n        var initialSlot = _this._initialSlot;\n        if (localizer.lte(initialSlot, currentSlot)) {\n          currentSlot = _this.slotMetrics.nextSlot(currentSlot);\n        } else if (localizer.gt(initialSlot, currentSlot)) {\n          initialSlot = _this.slotMetrics.nextSlot(initialSlot);\n        }\n        var selectRange = _this.slotMetrics.getRange(localizer.min(initialSlot, currentSlot), localizer.max(initialSlot, currentSlot));\n        return (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, selectRange), {}, {\n          selecting: true,\n          top: \"\".concat(selectRange.top, \"%\"),\n          height: \"\".concat(selectRange.height, \"%\")\n        });\n      };\n      var selectorClicksHandler = function selectorClicksHandler(box, actionType) {\n        if (!isEvent(_this.containerRef.current, box)) {\n          var _selectionState = selectionState(box),\n            startDate = _selectionState.startDate,\n            endDate = _selectionState.endDate;\n          _this._selectSlot({\n            startDate: startDate,\n            endDate: endDate,\n            action: actionType,\n            box: box\n          });\n        }\n        _this.setState({\n          selecting: false\n        });\n      };\n      selector.on('selecting', maybeSelect);\n      selector.on('selectStart', maybeSelect);\n      selector.on('beforeSelect', function (box) {\n        if (_this.props.selectable !== 'ignoreEvents') return;\n        return !isEvent(_this.containerRef.current, box);\n      });\n      selector.on('click', function (box) {\n        return selectorClicksHandler(box, 'click');\n      });\n      selector.on('doubleClick', function (box) {\n        return selectorClicksHandler(box, 'doubleClick');\n      });\n      selector.on('select', function (bounds) {\n        if (_this.state.selecting) {\n          _this._selectSlot((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, _this.state), {}, {\n            action: 'select',\n            bounds: bounds\n          }));\n          _this.setState({\n            selecting: false\n          });\n        }\n      });\n      selector.on('reset', function () {\n        if (_this.state.selecting) {\n          _this.setState({\n            selecting: false\n          });\n        }\n      });\n    };\n    _this._teardownSelectable = function () {\n      if (!_this._selector) return;\n      _this._selector.teardown();\n      _this._selector = null;\n    };\n    _this._selectSlot = function (_ref3) {\n      var startDate = _ref3.startDate,\n        endDate = _ref3.endDate,\n        action = _ref3.action,\n        bounds = _ref3.bounds,\n        box = _ref3.box;\n      var current = startDate,\n        slots = [];\n      while (_this.props.localizer.lte(current, endDate)) {\n        slots.push(current);\n        current = new Date(+current + _this.props.step * 60 * 1000); // using Date ensures not to create an endless loop the day DST begins\n      }\n      notify(_this.props.onSelectSlot, {\n        slots: slots,\n        start: startDate,\n        end: endDate,\n        resourceId: _this.props.resource,\n        action: action,\n        bounds: bounds,\n        box: box\n      });\n    };\n    _this._select = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      notify(_this.props.onSelectEvent, args);\n    };\n    _this._doubleClick = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      notify(_this.props.onDoubleClickEvent, args);\n    };\n    _this._keyPress = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      notify(_this.props.onKeyPressEvent, args);\n    };\n    _this.slotMetrics = getSlotMetrics(_this.props);\n    _this.containerRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(DayColumn, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(DayColumn, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.selectable && this._selectable();\n      if (this.props.isNow) {\n        this.setTimeIndicatorPositionUpdateInterval();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._teardownSelectable();\n      this.clearTimeIndicatorInterval();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.selectable && !prevProps.selectable) this._selectable();\n      if (!this.props.selectable && prevProps.selectable) this._teardownSelectable();\n      var _this$props3 = this.props,\n        getNow = _this$props3.getNow,\n        isNow = _this$props3.isNow,\n        localizer = _this$props3.localizer,\n        date = _this$props3.date,\n        min = _this$props3.min,\n        max = _this$props3.max;\n      var getNowChanged = localizer.neq(prevProps.getNow(), getNow(), 'minutes');\n      if (prevProps.isNow !== isNow || getNowChanged) {\n        this.clearTimeIndicatorInterval();\n        if (isNow) {\n          var tail = !getNowChanged && localizer.eq(prevProps.date, date, 'minutes') && prevState.timeIndicatorPosition === this.state.timeIndicatorPosition;\n          this.setTimeIndicatorPositionUpdateInterval(tail);\n        }\n      } else if (isNow && (localizer.neq(prevProps.min, min, 'minutes') || localizer.neq(prevProps.max, max, 'minutes'))) {\n        this.positionTimeIndicator();\n      }\n    }\n\n    /**\n     * @param tail {Boolean} - whether `positionTimeIndicator` call should be\n     *   deferred or called upon setting interval (`true` - if deferred);\n     */\n  }, {\n    key: \"setTimeIndicatorPositionUpdateInterval\",\n    value: function setTimeIndicatorPositionUpdateInterval() {\n      var _this3 = this;\n      var tail = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!this.intervalTriggered && !tail) {\n        this.positionTimeIndicator();\n      }\n      this._timeIndicatorTimeout = window.setTimeout(function () {\n        _this3.intervalTriggered = true;\n        _this3.positionTimeIndicator();\n        _this3.setTimeIndicatorPositionUpdateInterval();\n      }, 60000);\n    }\n  }, {\n    key: \"clearTimeIndicatorInterval\",\n    value: function clearTimeIndicatorInterval() {\n      this.intervalTriggered = false;\n      window.clearTimeout(this._timeIndicatorTimeout);\n    }\n  }, {\n    key: \"positionTimeIndicator\",\n    value: function positionTimeIndicator() {\n      var _this$props4 = this.props,\n        min = _this$props4.min,\n        max = _this$props4.max,\n        getNow = _this$props4.getNow;\n      var current = getNow();\n      if (current >= min && current <= max) {\n        var top = this.slotMetrics.getCurrentTimePosition(current);\n        this.intervalTriggered = true;\n        this.setState({\n          timeIndicatorPosition: top\n        });\n      } else {\n        this.clearTimeIndicatorInterval();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        date = _this$props5.date,\n        max = _this$props5.max,\n        rtl = _this$props5.rtl,\n        isNow = _this$props5.isNow,\n        resource = _this$props5.resource,\n        accessors = _this$props5.accessors,\n        localizer = _this$props5.localizer,\n        _this$props5$getters = _this$props5.getters,\n        dayProp = _this$props5$getters.dayProp,\n        getters = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props5$getters, _excluded$5),\n        _this$props5$componen = _this$props5.components,\n        EventContainer = _this$props5$componen.eventContainerWrapper,\n        components = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props5$componen, _excluded2$1);\n      this.slotMetrics = this.slotMetrics.update(this.props);\n      var slotMetrics = this.slotMetrics;\n      var _this$state = this.state,\n        selecting = _this$state.selecting,\n        top = _this$state.top,\n        height = _this$state.height,\n        startDate = _this$state.startDate,\n        endDate = _this$state.endDate;\n      var selectDates = {\n        start: startDate,\n        end: endDate\n      };\n      var _dayProp = dayProp(max, resource),\n        className = _dayProp.className,\n        style = _dayProp.style;\n      var DayColumnWrapperComponent = components.dayColumnWrapper || DayColumnWrapper$1;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DayColumnWrapperComponent, {\n        ref: this.containerRef,\n        date: date,\n        style: style,\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(className, 'rbc-day-slot', 'rbc-time-column', isNow && 'rbc-now', isNow && 'rbc-today',\n        // WHY\n        selecting && 'rbc-slot-selecting'),\n        slotMetrics: slotMetrics,\n        resource: resource\n      }, slotMetrics.groups.map(function (grp, idx) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeSlotGroup, {\n          key: idx,\n          group: grp,\n          resource: resource,\n          getters: getters,\n          components: components\n        });\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(EventContainer, {\n        localizer: localizer,\n        resource: resource,\n        accessors: accessors,\n        getters: getters,\n        components: components,\n        slotMetrics: slotMetrics\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-events-container', rtl && 'rtl')\n      }, this.renderEvents({\n        events: this.props.backgroundEvents,\n        isBackgroundEvent: true\n      }), this.renderEvents({\n        events: this.props.events\n      }))), selecting && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-slot-selection\",\n        style: {\n          top: top,\n          height: height\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", null, localizer.format(selectDates, 'selectRangeFormat'))), isNow && this.intervalTriggered && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-current-time-indicator\",\n        style: {\n          top: \"\".concat(this.state.timeIndicatorPosition, \"%\")\n        }\n      }));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nDayColumn.defaultProps = {\n  dragThroughEvents: true,\n  timeslots: 2\n};\n\nvar ResourceHeader = function ResourceHeader(_ref) {\n  var label = _ref.label;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement((react__WEBPACK_IMPORTED_MODULE_9___default().Fragment), null, label);\n};\n\nvar TimeGridHeader = /*#__PURE__*/function (_React$Component) {\n  function TimeGridHeader() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, TimeGridHeader);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, TimeGridHeader, [].concat(args));\n    _this.handleHeaderClick = function (date, view, e) {\n      e.preventDefault();\n      notify(_this.props.onDrillDown, [date, view]);\n    };\n    _this.renderRow = function (resource) {\n      var _this$props = _this.props,\n        events = _this$props.events,\n        rtl = _this$props.rtl,\n        selectable = _this$props.selectable,\n        getNow = _this$props.getNow,\n        range = _this$props.range,\n        getters = _this$props.getters,\n        localizer = _this$props.localizer,\n        accessors = _this$props.accessors,\n        components = _this$props.components,\n        resizable = _this$props.resizable;\n      var resourceId = accessors.resourceId(resource);\n      var eventsToDisplay = resource ? events.filter(function (event) {\n        return accessors.resource(event) === resourceId;\n      }) : events;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DateContentRow, {\n        isAllDay: true,\n        rtl: rtl,\n        getNow: getNow,\n        minRows: 2\n        // Add +1 to include showMore button row in the row limit\n        ,\n        maxRows: _this.props.allDayMaxRows + 1,\n        range: range,\n        events: eventsToDisplay,\n        resourceId: resourceId,\n        className: \"rbc-allday-cell\",\n        selectable: selectable,\n        selected: _this.props.selected,\n        components: components,\n        accessors: accessors,\n        getters: getters,\n        localizer: localizer,\n        onSelect: _this.props.onSelectEvent,\n        onShowMore: _this.props.onShowMore,\n        onDoubleClick: _this.props.onDoubleClickEvent,\n        onKeyPress: _this.props.onKeyPressEvent,\n        onSelectSlot: _this.props.onSelectSlot,\n        longPressThreshold: _this.props.longPressThreshold,\n        resizable: resizable\n      });\n    };\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(TimeGridHeader, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TimeGridHeader, [{\n    key: \"renderHeaderCells\",\n    value: function renderHeaderCells(range) {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        localizer = _this$props2.localizer,\n        getDrilldownView = _this$props2.getDrilldownView,\n        getNow = _this$props2.getNow,\n        dayProp = _this$props2.getters.dayProp,\n        _this$props2$componen = _this$props2.components.header,\n        HeaderComponent = _this$props2$componen === void 0 ? Header : _this$props2$componen;\n      var today = getNow();\n      return range.map(function (date, i) {\n        var drilldownView = getDrilldownView(date);\n        var label = localizer.format(date, 'dayFormat');\n        var _dayProp = dayProp(date),\n          className = _dayProp.className,\n          style = _dayProp.style;\n        var header = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(HeaderComponent, {\n          date: date,\n          label: label,\n          localizer: localizer\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          key: i,\n          style: style,\n          className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-header', className, localizer.isSameDate(date, today) && 'rbc-today')\n        }, drilldownView ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n          type: \"button\",\n          className: \"rbc-button-link\",\n          onClick: function onClick(e) {\n            return _this2.handleHeaderClick(date, drilldownView, e);\n          }\n        }, header) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", null, header));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props3 = this.props,\n        width = _this$props3.width,\n        rtl = _this$props3.rtl,\n        resources = _this$props3.resources,\n        range = _this$props3.range,\n        events = _this$props3.events,\n        getNow = _this$props3.getNow,\n        accessors = _this$props3.accessors,\n        selectable = _this$props3.selectable,\n        components = _this$props3.components,\n        getters = _this$props3.getters,\n        scrollRef = _this$props3.scrollRef,\n        localizer = _this$props3.localizer,\n        isOverflowing = _this$props3.isOverflowing,\n        _this$props3$componen = _this$props3.components,\n        TimeGutterHeader = _this$props3$componen.timeGutterHeader,\n        _this$props3$componen2 = _this$props3$componen.resourceHeader,\n        ResourceHeaderComponent = _this$props3$componen2 === void 0 ? ResourceHeader : _this$props3$componen2,\n        resizable = _this$props3.resizable;\n      var style = {};\n      if (isOverflowing) {\n        style[rtl ? 'marginLeft' : 'marginRight'] = \"\".concat((0,dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_29__[\"default\"])() - 1, \"px\");\n      }\n      var groupedEvents = resources.groupEvents(events);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        style: style,\n        ref: scrollRef,\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-time-header', isOverflowing && 'rbc-overflowing')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-label rbc-time-header-gutter\",\n        style: {\n          width: width,\n          minWidth: width,\n          maxWidth: width\n        }\n      }, TimeGutterHeader && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGutterHeader, null)), resources.map(function (_ref, idx) {\n        var _ref2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref, 2),\n          id = _ref2[0],\n          resource = _ref2[1];\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-time-header-content\",\n          key: id || idx\n        }, resource && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-row rbc-row-resource\",\n          key: \"resource_\".concat(idx)\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-header\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ResourceHeaderComponent, {\n          index: idx,\n          label: accessors.resourceTitle(resource),\n          resource: resource\n        }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-row rbc-time-header-cell\".concat(range.length <= 1 ? ' rbc-time-header-cell-single-day' : '')\n        }, _this3.renderHeaderCells(range)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DateContentRow, {\n          isAllDay: true,\n          rtl: rtl,\n          getNow: getNow,\n          minRows: 2\n          // Add +1 to include showMore button row in the row limit\n          ,\n          maxRows: _this3.props.allDayMaxRows + 1,\n          range: range,\n          events: groupedEvents.get(id) || [],\n          resourceId: resource && id,\n          className: \"rbc-allday-cell\",\n          selectable: selectable,\n          selected: _this3.props.selected,\n          components: components,\n          accessors: accessors,\n          getters: getters,\n          localizer: localizer,\n          onSelect: _this3.props.onSelectEvent,\n          onShowMore: _this3.props.onShowMore,\n          onDoubleClick: _this3.props.onDoubleClickEvent,\n          onKeyDown: _this3.props.onKeyPressEvent,\n          onSelectSlot: _this3.props.onSelectSlot,\n          longPressThreshold: _this3.props.longPressThreshold,\n          resizable: resizable\n        }));\n      }));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\n\nvar TimeGridHeaderResources = /*#__PURE__*/function (_React$Component) {\n  function TimeGridHeaderResources() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, TimeGridHeaderResources);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, TimeGridHeaderResources, [].concat(args));\n    _this.handleHeaderClick = function (date, view, e) {\n      e.preventDefault();\n      notify(_this.props.onDrillDown, [date, view]);\n    };\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(TimeGridHeaderResources, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TimeGridHeaderResources, [{\n    key: \"renderHeaderCells\",\n    value: function renderHeaderCells(range) {\n      var _this2 = this;\n      var _this$props = this.props,\n        localizer = _this$props.localizer,\n        getDrilldownView = _this$props.getDrilldownView,\n        getNow = _this$props.getNow,\n        dayProp = _this$props.getters.dayProp,\n        _this$props$component = _this$props.components,\n        _this$props$component2 = _this$props$component.header,\n        HeaderComponent = _this$props$component2 === void 0 ? Header : _this$props$component2,\n        _this$props$component3 = _this$props$component.resourceHeader,\n        ResourceHeaderComponent = _this$props$component3 === void 0 ? ResourceHeader : _this$props$component3,\n        resources = _this$props.resources,\n        accessors = _this$props.accessors,\n        events = _this$props.events,\n        rtl = _this$props.rtl,\n        selectable = _this$props.selectable,\n        components = _this$props.components,\n        getters = _this$props.getters,\n        resizable = _this$props.resizable;\n      var today = getNow();\n      var groupedEvents = resources.groupEvents(events);\n      return range.map(function (date, idx) {\n        var drilldownView = getDrilldownView(date);\n        var label = localizer.format(date, 'dayFormat');\n        var _dayProp = dayProp(date),\n          className = _dayProp.className,\n          style = _dayProp.style;\n        var header = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(HeaderComponent, {\n          date: date,\n          label: label,\n          localizer: localizer\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          key: idx,\n          className: \"rbc-time-header-content rbc-resource-grouping\"\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-row rbc-time-header-cell\".concat(range.length <= 1 ? ' rbc-time-header-cell-single-day' : '')\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          style: style,\n          className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-header', className, localizer.isSameDate(date, today) && 'rbc-today')\n        }, drilldownView ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"button\", {\n          type: \"button\",\n          className: \"rbc-button-link\",\n          onClick: function onClick(e) {\n            return _this2.handleHeaderClick(date, drilldownView, e);\n          }\n        }, header) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", null, header))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-row\"\n        }, resources.map(function (_ref, idx) {\n          var _ref2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref, 2),\n            id = _ref2[0],\n            resource = _ref2[1];\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n            key: \"resource_\".concat(id, \"_\").concat(idx),\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-header', className, localizer.isSameDate(date, today) && 'rbc-today')\n          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(ResourceHeaderComponent, {\n            index: idx,\n            label: accessors.resourceTitle(resource),\n            resource: resource\n          }));\n        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          className: \"rbc-row rbc-m-b-negative-3 rbc-h-full\"\n        }, resources.map(function (_ref3, idx) {\n          var _ref4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref3, 2),\n            id = _ref4[0],\n            resource = _ref4[1];\n          // Filter the grouped events by the current date.\n          var filteredEvents = (groupedEvents.get(id) || []).filter(function (event) {\n            return localizer.isSameDate(event.start, date) || localizer.isSameDate(event.end, date);\n          });\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DateContentRow, {\n            key: \"resource_\".concat(id, \"_\").concat(idx),\n            isAllDay: true,\n            rtl: rtl,\n            getNow: getNow,\n            minRows: 2,\n            maxRows: _this2.props.allDayMaxRows + 1,\n            range: [date] // This ensures that only the single day is rendered\n            ,\n            events: filteredEvents // Only show filtered events for this day.\n            ,\n            resourceId: resource && id,\n            className: \"rbc-allday-cell\",\n            selectable: selectable,\n            selected: _this2.props.selected,\n            components: components,\n            accessors: accessors,\n            getters: getters,\n            localizer: localizer,\n            onSelect: _this2.props.onSelectEvent,\n            onShowMore: _this2.props.onShowMore,\n            onDoubleClick: _this2.props.onDoubleClickEvent,\n            onKeyDown: _this2.props.onKeyPressEvent,\n            onSelectSlot: _this2.props.onSelectSlot,\n            longPressThreshold: _this2.props.longPressThreshold,\n            resizable: resizable\n          });\n        })));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        width = _this$props2.width,\n        rtl = _this$props2.rtl,\n        range = _this$props2.range,\n        scrollRef = _this$props2.scrollRef,\n        isOverflowing = _this$props2.isOverflowing,\n        TimeGutterHeader = _this$props2.components.timeGutterHeader;\n      var style = {};\n      if (isOverflowing) {\n        style[rtl ? 'marginLeft' : 'marginRight'] = \"\".concat((0,dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_29__[\"default\"])() - 1, \"px\");\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        style: style,\n        ref: scrollRef,\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-time-header', isOverflowing && 'rbc-overflowing')\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: \"rbc-label rbc-time-header-gutter\",\n        style: {\n          width: width,\n          minWidth: width,\n          maxWidth: width\n        }\n      }, TimeGutterHeader && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGutterHeader, null)), this.renderHeaderCells(range));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\n\n/**\n * Since the TimeGutter only displays the 'times' of slots in a day, and is separate\n * from the Day Columns themselves, we check to see if the range contains an offset difference\n * and, if so, change the beginning and end 'date' by a day to properly display the slots times\n * used.\n */\nfunction adjustForDST(_ref) {\n  var min = _ref.min,\n    max = _ref.max,\n    localizer = _ref.localizer;\n  if (localizer.getTimezoneOffset(min) !== localizer.getTimezoneOffset(max)) {\n    return {\n      start: localizer.add(min, -1, 'day'),\n      end: localizer.add(max, -1, 'day')\n    };\n  }\n  return {\n    start: min,\n    end: max\n  };\n}\nvar TimeGutter = function TimeGutter(_ref2) {\n  var min = _ref2.min,\n    max = _ref2.max,\n    timeslots = _ref2.timeslots,\n    step = _ref2.step,\n    localizer = _ref2.localizer,\n    getNow = _ref2.getNow,\n    resource = _ref2.resource,\n    components = _ref2.components,\n    getters = _ref2.getters,\n    gutterRef = _ref2.gutterRef;\n  var TimeGutterWrapper = components.timeGutterWrapper;\n  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_9__.useMemo)(function () {\n      return adjustForDST({\n        min: min,\n        max: max,\n        localizer: localizer\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [min === null || min === void 0 ? void 0 : min.toISOString(), max === null || max === void 0 ? void 0 : max.toISOString(), localizer]),\n    start = _useMemo.start,\n    end = _useMemo.end;\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_9__.useState)(getSlotMetrics({\n      min: start,\n      max: end,\n      timeslots: timeslots,\n      step: step,\n      localizer: localizer\n    })),\n    _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n    slotMetrics = _useState2[0],\n    setSlotMetrics = _useState2[1];\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    if (slotMetrics) {\n      setSlotMetrics(slotMetrics.update({\n        min: start,\n        max: end,\n        timeslots: timeslots,\n        step: step,\n        localizer: localizer\n      }));\n    }\n    /**\n     * We don't want this to fire when slotMetrics is updated as it would recursively bomb\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [start === null || start === void 0 ? void 0 : start.toISOString(), end === null || end === void 0 ? void 0 : end.toISOString(), timeslots, step]);\n  var renderSlot = (0,react__WEBPACK_IMPORTED_MODULE_9__.useCallback)(function (value, idx) {\n    if (idx) return null; // don't return the first (0) idx\n\n    var isNow = slotMetrics.dateIsInGroup(getNow(), idx);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-label', isNow && 'rbc-now')\n    }, localizer.format(value, 'timeGutterFormat'));\n  }, [slotMetrics, localizer, getNow]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGutterWrapper, {\n    slotMetrics: slotMetrics\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"rbc-time-gutter rbc-time-column\",\n    ref: gutterRef\n  }, slotMetrics.groups.map(function (grp, idx) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeSlotGroup, {\n      key: idx,\n      group: grp,\n      resource: resource,\n      components: components,\n      renderSlot: renderSlot,\n      getters: getters\n    });\n  })));\n};\nvar TimeGutter$1 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().forwardRef(function (props, ref) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGutter, Object.assign({\n    gutterRef: ref\n  }, props));\n});\n\nvar NONE = {};\nfunction Resources(resources, accessors) {\n  return {\n    map: function map(fn) {\n      if (!resources) return [fn([NONE, null], 0)];\n      return resources.map(function (resource, idx) {\n        return fn([accessors.resourceId(resource), resource], idx);\n      });\n    },\n    groupEvents: function groupEvents(events) {\n      var eventsByResource = new Map();\n      if (!resources) {\n        // Return all events if resources are not provided\n        eventsByResource.set(NONE, events);\n        return eventsByResource;\n      }\n      events.forEach(function (event) {\n        var id = accessors.resource(event) || NONE;\n        if (Array.isArray(id)) {\n          id.forEach(function (item) {\n            var resourceEvents = eventsByResource.get(item) || [];\n            resourceEvents.push(event);\n            eventsByResource.set(item, resourceEvents);\n          });\n        } else {\n          var resourceEvents = eventsByResource.get(id) || [];\n          resourceEvents.push(event);\n          eventsByResource.set(id, resourceEvents);\n        }\n      });\n      return eventsByResource;\n    }\n  };\n}\n\nvar TimeGrid = /*#__PURE__*/function (_Component) {\n  function TimeGrid(props) {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, TimeGrid);\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, TimeGrid, [props]);\n    _this.handleScroll = function (e) {\n      if (_this.scrollRef.current) {\n        _this.scrollRef.current.scrollLeft = e.target.scrollLeft;\n      }\n    };\n    _this.handleResize = function () {\n      dom_helpers_animationFrame__WEBPACK_IMPORTED_MODULE_17__.cancel(_this.rafHandle);\n      _this.rafHandle = dom_helpers_animationFrame__WEBPACK_IMPORTED_MODULE_17__.request(_this.checkOverflow);\n    };\n    _this.handleKeyPressEvent = function () {\n      _this.clearSelection();\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      notify(_this.props.onKeyPressEvent, args);\n    };\n    _this.handleSelectEvent = function () {\n      //cancel any pending selections so only the event click goes through.\n      _this.clearSelection();\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      notify(_this.props.onSelectEvent, args);\n    };\n    _this.handleDoubleClickEvent = function () {\n      _this.clearSelection();\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      notify(_this.props.onDoubleClickEvent, args);\n    };\n    _this.handleShowMore = function (events, date, cell, slot, target) {\n      var _this$props = _this.props,\n        popup = _this$props.popup,\n        onDrillDown = _this$props.onDrillDown,\n        onShowMore = _this$props.onShowMore,\n        getDrilldownView = _this$props.getDrilldownView,\n        doShowMoreDrillDown = _this$props.doShowMoreDrillDown;\n      _this.clearSelection();\n      if (popup) {\n        var position = (0,dom_helpers_position__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(cell, _this.containerRef.current);\n        _this.setState({\n          overlay: {\n            date: date,\n            events: events,\n            position: (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, position), {}, {\n              width: '200px'\n            }),\n            target: target\n          }\n        });\n      } else if (doShowMoreDrillDown) {\n        notify(onDrillDown, [date, getDrilldownView(date) || views.DAY]);\n      }\n      notify(onShowMore, [events, date, slot]);\n    };\n    _this.handleSelectAllDaySlot = function (slots, slotInfo) {\n      var onSelectSlot = _this.props.onSelectSlot;\n      var start = new Date(slots[0]);\n      var end = new Date(slots[slots.length - 1]);\n      end.setDate(slots[slots.length - 1].getDate() + 1);\n      notify(onSelectSlot, {\n        slots: slots,\n        start: start,\n        end: end,\n        action: slotInfo.action,\n        resourceId: slotInfo.resourceId\n      });\n    };\n    _this.overlayDisplay = function () {\n      _this.setState({\n        overlay: null\n      });\n    };\n    _this.checkOverflow = function () {\n      if (_this._updatingOverflow) return;\n      var content = _this.contentRef.current;\n      if (!(content !== null && content !== void 0 && content.scrollHeight)) return;\n      var isOverflowing = content.scrollHeight > content.clientHeight;\n      if (_this.state.isOverflowing !== isOverflowing) {\n        _this._updatingOverflow = true;\n        _this.setState({\n          isOverflowing: isOverflowing\n        }, function () {\n          _this._updatingOverflow = false;\n        });\n      }\n    };\n    _this.memoizedResources = (0,memoize_one__WEBPACK_IMPORTED_MODULE_46__[\"default\"])(function (resources, accessors) {\n      return Resources(resources, accessors);\n    });\n    _this.state = {\n      gutterWidth: undefined,\n      isOverflowing: null\n    };\n    _this.scrollRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createRef();\n    _this.contentRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createRef();\n    _this.containerRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createRef();\n    _this._scrollRatio = null;\n    _this.gutterRef = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_9__.createRef)();\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(TimeGrid, _Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TimeGrid, [{\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate() {\n      this.checkOverflow();\n      return null;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.width == null) {\n        this.measureGutter();\n      }\n      this.calculateScroll();\n      this.applyScroll();\n      window.addEventListener('resize', this.handleResize);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n      dom_helpers_animationFrame__WEBPACK_IMPORTED_MODULE_17__.cancel(this.rafHandle);\n      if (this.measureGutterAnimationFrameRequest) {\n        window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.applyScroll();\n    }\n  }, {\n    key: \"renderDayColumn\",\n    value: function renderDayColumn(date, id, resource, groupedEvents, groupedBackgroundEvents, localizer, accessors, components, dayLayoutAlgorithm, now) {\n      var _this$props2 = this.props,\n        min = _this$props2.min,\n        max = _this$props2.max;\n      var daysEvents = (groupedEvents.get(id) || []).filter(function (event) {\n        return localizer.inRange(date, accessors.start(event), accessors.end(event), 'day');\n      });\n      var daysBackgroundEvents = (groupedBackgroundEvents.get(id) || []).filter(function (event) {\n        return localizer.inRange(date, accessors.start(event), accessors.end(event), 'day');\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(DayColumn, Object.assign({}, this.props, {\n        localizer: localizer,\n        min: localizer.merge(date, min),\n        max: localizer.merge(date, max),\n        resource: resource && id,\n        components: components,\n        isNow: localizer.isSameDate(date, now),\n        key: \"\".concat(id, \"-\").concat(date),\n        date: date,\n        events: daysEvents,\n        backgroundEvents: daysBackgroundEvents,\n        dayLayoutAlgorithm: dayLayoutAlgorithm\n      }));\n    }\n  }, {\n    key: \"renderResourcesFirst\",\n    value: function renderResourcesFirst(range, resources, groupedEvents, groupedBackgroundEvents, localizer, accessors, now, components, dayLayoutAlgorithm) {\n      var _this2 = this;\n      return resources.map(function (_ref) {\n        var _ref2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref, 2),\n          id = _ref2[0],\n          resource = _ref2[1];\n        return range.map(function (date) {\n          return _this2.renderDayColumn(date, id, resource, groupedEvents, groupedBackgroundEvents, localizer, accessors, components, dayLayoutAlgorithm, now);\n        });\n      });\n    }\n  }, {\n    key: \"renderRangeFirst\",\n    value: function renderRangeFirst(range, resources, groupedEvents, groupedBackgroundEvents, localizer, accessors, now, components, dayLayoutAlgorithm) {\n      var _this3 = this;\n      return range.map(function (date) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n          style: {\n            display: 'flex',\n            minHeight: '100%',\n            flex: 1\n          },\n          key: date\n        }, resources.map(function (_ref3) {\n          var _ref4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_ref3, 2),\n            id = _ref4[0],\n            resource = _ref4[1];\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n            style: {\n              flex: 1\n            },\n            key: accessors.resourceId(resource)\n          }, _this3.renderDayColumn(date, id, resource, groupedEvents, groupedBackgroundEvents, localizer, accessors, components, dayLayoutAlgorithm, now));\n        }));\n      });\n    }\n  }, {\n    key: \"renderEvents\",\n    value: function renderEvents(range, events, backgroundEvents, now) {\n      var _this$props3 = this.props,\n        accessors = _this$props3.accessors,\n        localizer = _this$props3.localizer,\n        resourceGroupingLayout = _this$props3.resourceGroupingLayout,\n        components = _this$props3.components,\n        dayLayoutAlgorithm = _this$props3.dayLayoutAlgorithm;\n      var resources = this.memoizedResources(this.props.resources, accessors);\n      var groupedEvents = resources.groupEvents(events);\n      var groupedBackgroundEvents = resources.groupEvents(backgroundEvents);\n      if (!resourceGroupingLayout) {\n        return this.renderResourcesFirst(range, resources, groupedEvents, groupedBackgroundEvents, localizer, accessors, now, components, dayLayoutAlgorithm);\n      } else {\n        return this.renderRangeFirst(range, resources, groupedEvents, groupedBackgroundEvents, localizer, accessors, now, components, dayLayoutAlgorithm);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$allDayMax;\n      var _this$props4 = this.props,\n        events = _this$props4.events,\n        backgroundEvents = _this$props4.backgroundEvents,\n        range = _this$props4.range,\n        width = _this$props4.width,\n        rtl = _this$props4.rtl,\n        selected = _this$props4.selected,\n        getNow = _this$props4.getNow,\n        resources = _this$props4.resources,\n        components = _this$props4.components,\n        accessors = _this$props4.accessors,\n        getters = _this$props4.getters,\n        localizer = _this$props4.localizer,\n        min = _this$props4.min,\n        max = _this$props4.max,\n        showMultiDayTimes = _this$props4.showMultiDayTimes,\n        longPressThreshold = _this$props4.longPressThreshold,\n        resizable = _this$props4.resizable,\n        resourceGroupingLayout = _this$props4.resourceGroupingLayout;\n      width = width || this.state.gutterWidth;\n      var start = range[0],\n        end = range[range.length - 1];\n      this.slots = range.length;\n      var allDayEvents = [],\n        rangeEvents = [],\n        rangeBackgroundEvents = [];\n      events.forEach(function (event) {\n        if (inRange(event, start, end, accessors, localizer)) {\n          var eStart = accessors.start(event),\n            eEnd = accessors.end(event);\n          if (accessors.allDay(event) || localizer.startAndEndAreDateOnly(eStart, eEnd) || !showMultiDayTimes && !localizer.isSameDate(eStart, eEnd)) {\n            allDayEvents.push(event);\n          } else {\n            rangeEvents.push(event);\n          }\n        }\n      });\n      backgroundEvents.forEach(function (event) {\n        if (inRange(event, start, end, accessors, localizer)) {\n          rangeBackgroundEvents.push(event);\n        }\n      });\n      allDayEvents.sort(function (a, b) {\n        return sortEvents(a, b, accessors, localizer);\n      });\n      var headerProps = {\n        range: range,\n        events: allDayEvents,\n        width: width,\n        rtl: rtl,\n        getNow: getNow,\n        localizer: localizer,\n        selected: selected,\n        allDayMaxRows: this.props.showAllEvents ? Infinity : (_this$props$allDayMax = this.props.allDayMaxRows) !== null && _this$props$allDayMax !== void 0 ? _this$props$allDayMax : Infinity,\n        resources: this.memoizedResources(resources, accessors),\n        selectable: this.props.selectable,\n        accessors: accessors,\n        getters: getters,\n        components: components,\n        scrollRef: this.scrollRef,\n        isOverflowing: this.state.isOverflowing,\n        longPressThreshold: longPressThreshold,\n        onSelectSlot: this.handleSelectAllDaySlot,\n        onSelectEvent: this.handleSelectEvent,\n        onShowMore: this.handleShowMore,\n        onDoubleClickEvent: this.props.onDoubleClickEvent,\n        onKeyPressEvent: this.props.onKeyPressEvent,\n        onDrillDown: this.props.onDrillDown,\n        getDrilldownView: this.props.getDrilldownView,\n        resizable: resizable\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('rbc-time-view', resources && 'rbc-time-view-resources'),\n        ref: this.containerRef\n      }, resources && resources.length > 1 && resourceGroupingLayout ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGridHeaderResources, headerProps) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGridHeader, headerProps), this.props.popup && this.renderOverlay(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n        ref: this.contentRef,\n        className: \"rbc-time-content\",\n        onScroll: this.handleScroll\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGutter$1, {\n        date: start,\n        ref: this.gutterRef,\n        localizer: localizer,\n        min: localizer.merge(start, min),\n        max: localizer.merge(start, max),\n        step: this.props.step,\n        getNow: this.props.getNow,\n        timeslots: this.props.timeslots,\n        components: components,\n        className: \"rbc-time-gutter\",\n        getters: getters\n      }), this.renderEvents(range, rangeEvents, rangeBackgroundEvents, getNow())));\n    }\n  }, {\n    key: \"renderOverlay\",\n    value: function renderOverlay() {\n      var _this$state$overlay,\n        _this$state,\n        _this4 = this;\n      var overlay = (_this$state$overlay = (_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.overlay) !== null && _this$state$overlay !== void 0 ? _this$state$overlay : {};\n      var _this$props5 = this.props,\n        accessors = _this$props5.accessors,\n        localizer = _this$props5.localizer,\n        components = _this$props5.components,\n        getters = _this$props5.getters,\n        selected = _this$props5.selected,\n        popupOffset = _this$props5.popupOffset,\n        handleDragStart = _this$props5.handleDragStart;\n      var onHide = function onHide() {\n        return _this4.setState({\n          overlay: null\n        });\n      };\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(PopOverlay, {\n        overlay: overlay,\n        accessors: accessors,\n        localizer: localizer,\n        components: components,\n        getters: getters,\n        selected: selected,\n        popupOffset: popupOffset,\n        ref: this.containerRef,\n        handleKeyPressEvent: this.handleKeyPressEvent,\n        handleSelectEvent: this.handleSelectEvent,\n        handleDoubleClickEvent: this.handleDoubleClickEvent,\n        handleDragStart: handleDragStart,\n        show: !!overlay.position,\n        overlayDisplay: this.overlayDisplay,\n        onHide: onHide\n      });\n    }\n  }, {\n    key: \"clearSelection\",\n    value: function clearSelection() {\n      clearTimeout(this._selectTimer);\n      this._pendingSelection = [];\n    }\n  }, {\n    key: \"measureGutter\",\n    value: function measureGutter() {\n      var _this5 = this;\n      if (this.measureGutterAnimationFrameRequest) {\n        window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest);\n      }\n      this.measureGutterAnimationFrameRequest = window.requestAnimationFrame(function () {\n        var _this5$gutterRef;\n        var width = (_this5$gutterRef = _this5.gutterRef) !== null && _this5$gutterRef !== void 0 && _this5$gutterRef.current ? (0,dom_helpers_width__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(_this5.gutterRef.current) : undefined;\n        if (width && _this5.state.gutterWidth !== width) {\n          _this5.setState({\n            gutterWidth: width\n          });\n        }\n      });\n    }\n  }, {\n    key: \"applyScroll\",\n    value: function applyScroll() {\n      // If auto-scroll is disabled, we don't actually apply the scroll\n      if (this._scrollRatio != null && this.props.enableAutoScroll === true) {\n        var content = this.contentRef.current;\n        content.scrollTop = content.scrollHeight * this._scrollRatio;\n        // Only do this once\n        this._scrollRatio = null;\n      }\n    }\n  }, {\n    key: \"calculateScroll\",\n    value: function calculateScroll() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var min = props.min,\n        max = props.max,\n        scrollToTime = props.scrollToTime,\n        localizer = props.localizer;\n      var diffMillis = localizer.diff(localizer.merge(scrollToTime, min), scrollToTime, 'milliseconds');\n      var totalMillis = localizer.diff(min, max, 'milliseconds');\n      this._scrollRatio = diffMillis / totalMillis;\n    }\n  }]);\n}(react__WEBPACK_IMPORTED_MODULE_9__.Component);\nTimeGrid.defaultProps = {\n  step: 30,\n  timeslots: 2,\n  // To be compatible with old versions, default as `false`.\n  resourceGroupingLayout: false\n};\n\nvar _excluded$4 = [\"date\", \"localizer\", \"min\", \"max\", \"scrollToTime\", \"enableAutoScroll\"];\nvar Day = /*#__PURE__*/function (_React$Component) {\n  function Day() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Day);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, Day, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Day, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Day, [{\n    key: \"render\",\n    value: function render() {\n      /**\n       * This allows us to default min, max, and scrollToTime\n       * using our localizer. This is necessary until such time\n       * as TODO: TimeGrid is converted to a functional component.\n       */\n      var _this$props = this.props,\n        date = _this$props.date,\n        localizer = _this$props.localizer,\n        _this$props$min = _this$props.min,\n        min = _this$props$min === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$min,\n        _this$props$max = _this$props.max,\n        max = _this$props$max === void 0 ? localizer.endOf(new Date(), 'day') : _this$props$max,\n        _this$props$scrollToT = _this$props.scrollToTime,\n        scrollToTime = _this$props$scrollToT === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$scrollToT,\n        _this$props$enableAut = _this$props.enableAutoScroll,\n        enableAutoScroll = _this$props$enableAut === void 0 ? true : _this$props$enableAut,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded$4);\n      var range = Day.range(date, {\n        localizer: localizer\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGrid, Object.assign({}, props, {\n        range: range,\n        eventOffset: 10,\n        localizer: localizer,\n        min: min,\n        max: max,\n        scrollToTime: scrollToTime,\n        enableAutoScroll: enableAutoScroll\n      }));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nDay.range = function (date, _ref) {\n  var localizer = _ref.localizer;\n  return [localizer.startOf(date, 'day')];\n};\nDay.navigate = function (date, action, _ref2) {\n  var localizer = _ref2.localizer;\n  switch (action) {\n    case navigate.PREVIOUS:\n      return localizer.add(date, -1, 'day');\n    case navigate.NEXT:\n      return localizer.add(date, 1, 'day');\n    default:\n      return date;\n  }\n};\nDay.title = function (date, _ref3) {\n  var localizer = _ref3.localizer;\n  return localizer.format(date, 'dayHeaderFormat');\n};\n\nvar _excluded$3 = [\"date\", \"localizer\", \"min\", \"max\", \"scrollToTime\", \"enableAutoScroll\"];\nvar Week = /*#__PURE__*/function (_React$Component) {\n  function Week() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Week);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, Week, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Week, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Week, [{\n    key: \"render\",\n    value: function render() {\n      /**\n       * This allows us to default min, max, and scrollToTime\n       * using our localizer. This is necessary until such time\n       * as TimeGrid is converted to a functional component.\n       */\n      var _this$props = this.props,\n        date = _this$props.date,\n        localizer = _this$props.localizer,\n        _this$props$min = _this$props.min,\n        min = _this$props$min === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$min,\n        _this$props$max = _this$props.max,\n        max = _this$props$max === void 0 ? localizer.endOf(new Date(), 'day') : _this$props$max,\n        _this$props$scrollToT = _this$props.scrollToTime,\n        scrollToTime = _this$props$scrollToT === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$scrollToT,\n        _this$props$enableAut = _this$props.enableAutoScroll,\n        enableAutoScroll = _this$props$enableAut === void 0 ? true : _this$props$enableAut,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded$3);\n      var range = Week.range(date, this.props);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGrid, Object.assign({}, props, {\n        range: range,\n        eventOffset: 15,\n        localizer: localizer,\n        min: min,\n        max: max,\n        scrollToTime: scrollToTime,\n        enableAutoScroll: enableAutoScroll\n      }));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nWeek.defaultProps = TimeGrid.defaultProps;\nWeek.navigate = function (date, action, _ref) {\n  var localizer = _ref.localizer;\n  switch (action) {\n    case navigate.PREVIOUS:\n      return localizer.add(date, -1, 'week');\n    case navigate.NEXT:\n      return localizer.add(date, 1, 'week');\n    default:\n      return date;\n  }\n};\nWeek.range = function (date, _ref2) {\n  var localizer = _ref2.localizer;\n  var firstOfWeek = localizer.startOfWeek();\n  var start = localizer.startOf(date, 'week', firstOfWeek);\n  var end = localizer.endOf(date, 'week', firstOfWeek);\n  return localizer.range(start, end);\n};\nWeek.title = function (date, _ref3) {\n  var localizer = _ref3.localizer;\n  var _Week$range = Week.range(date, {\n      localizer: localizer\n    }),\n    _Week$range2 = (0,_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_30__[\"default\"])(_Week$range),\n    start = _Week$range2[0],\n    rest = _Week$range2.slice(1);\n  return localizer.format({\n    start: start,\n    end: rest.pop()\n  }, 'dayRangeHeaderFormat');\n};\n\nvar _excluded$2 = [\"date\", \"localizer\", \"min\", \"max\", \"scrollToTime\", \"enableAutoScroll\"];\nfunction workWeekRange(date, options) {\n  return Week.range(date, options).filter(function (d) {\n    return [6, 0].indexOf(d.getDay()) === -1;\n  });\n}\nvar WorkWeek = /*#__PURE__*/function (_React$Component) {\n  function WorkWeek() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, WorkWeek);\n    return (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, WorkWeek, arguments);\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(WorkWeek, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(WorkWeek, [{\n    key: \"render\",\n    value: function render() {\n      /**\n       * This allows us to default min, max, and scrollToTime\n       * using our localizer. This is necessary until such time\n       * as TimeGrid is converted to a functional component.\n       */\n      var _this$props = this.props,\n        date = _this$props.date,\n        localizer = _this$props.localizer,\n        _this$props$min = _this$props.min,\n        min = _this$props$min === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$min,\n        _this$props$max = _this$props.max,\n        max = _this$props$max === void 0 ? localizer.endOf(new Date(), 'day') : _this$props$max,\n        _this$props$scrollToT = _this$props.scrollToTime,\n        scrollToTime = _this$props$scrollToT === void 0 ? localizer.startOf(new Date(), 'day') : _this$props$scrollToT,\n        _this$props$enableAut = _this$props.enableAutoScroll,\n        enableAutoScroll = _this$props$enableAut === void 0 ? true : _this$props$enableAut,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props, _excluded$2);\n      var range = workWeekRange(date, this.props);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeGrid, Object.assign({}, props, {\n        range: range,\n        eventOffset: 15,\n        localizer: localizer,\n        min: min,\n        max: max,\n        scrollToTime: scrollToTime,\n        enableAutoScroll: enableAutoScroll\n      }));\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nWorkWeek.defaultProps = TimeGrid.defaultProps;\nWorkWeek.range = workWeekRange;\nWorkWeek.navigate = Week.navigate;\nWorkWeek.title = function (date, _ref) {\n  var localizer = _ref.localizer;\n  var _workWeekRange = workWeekRange(date, {\n      localizer: localizer\n    }),\n    _workWeekRange2 = (0,_babel_runtime_helpers_esm_toArray__WEBPACK_IMPORTED_MODULE_30__[\"default\"])(_workWeekRange),\n    start = _workWeekRange2[0],\n    rest = _workWeekRange2.slice(1);\n  return localizer.format({\n    start: start,\n    end: rest.pop()\n  }, 'dayRangeHeaderFormat');\n};\n\nvar DEFAULT_LENGTH = 30;\nfunction Agenda(_ref) {\n  var accessors = _ref.accessors,\n    components = _ref.components,\n    date = _ref.date,\n    events = _ref.events,\n    getters = _ref.getters,\n    _ref$length = _ref.length,\n    length = _ref$length === void 0 ? DEFAULT_LENGTH : _ref$length,\n    localizer = _ref.localizer,\n    onDoubleClickEvent = _ref.onDoubleClickEvent,\n    onSelectEvent = _ref.onSelectEvent,\n    selected = _ref.selected;\n  var headerRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var dateColRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var timeColRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var contentRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  var tbodyRef = (0,react__WEBPACK_IMPORTED_MODULE_9__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_9__.useEffect)(function () {\n    _adjustHeader();\n  });\n  var renderDay = function renderDay(day, events, dayKey) {\n    var Event = components.event,\n      AgendaDate = components.date;\n    events = events.filter(function (e) {\n      return inRange(e, localizer.startOf(day, 'day'), localizer.endOf(day, 'day'), accessors, localizer);\n    });\n    return events.map(function (event, idx) {\n      var title = accessors.title(event);\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n      var userProps = getters.eventProp(event, start, end, isSelected(event, selected));\n      var dateLabel = idx === 0 && localizer.format(day, 'agendaDateFormat');\n      var first = idx === 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"td\", {\n        rowSpan: events.length,\n        className: \"rbc-agenda-date-cell\"\n      }, AgendaDate ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(AgendaDate, {\n        day: day,\n        label: dateLabel\n      }) : dateLabel) : false;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"tr\", {\n        key: dayKey + '_' + idx,\n        className: userProps.className,\n        style: userProps.style\n      }, first, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"td\", {\n        className: \"rbc-agenda-time-cell\"\n      }, timeRangeLabel(day, event)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"td\", {\n        className: \"rbc-agenda-event-cell\",\n        onClick: function onClick(e) {\n          return onSelectEvent && onSelectEvent(event, e);\n        },\n        onDoubleClick: function onDoubleClick(e) {\n          return onDoubleClickEvent && onDoubleClickEvent(event, e);\n        }\n      }, Event ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(Event, {\n        event: event,\n        title: title\n      }) : title));\n    }, []);\n  };\n  var timeRangeLabel = function timeRangeLabel(day, event) {\n    var labelClass = '',\n      TimeComponent = components.time,\n      label = localizer.messages.allDay;\n    var end = accessors.end(event);\n    var start = accessors.start(event);\n    if (!accessors.allDay(event)) {\n      if (localizer.eq(start, end)) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (localizer.isSameDate(start, end)) {\n        label = localizer.format({\n          start: start,\n          end: end\n        }, 'agendaTimeRangeFormat');\n      } else if (localizer.isSameDate(day, start)) {\n        label = localizer.format(start, 'agendaTimeFormat');\n      } else if (localizer.isSameDate(day, end)) {\n        label = localizer.format(end, 'agendaTimeFormat');\n      }\n    }\n    if (localizer.gt(day, start, 'day')) labelClass = 'rbc-continues-prior';\n    if (localizer.lt(day, end, 'day')) labelClass += ' rbc-continues-after';\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n      className: labelClass.trim()\n    }, TimeComponent ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(TimeComponent, {\n      event: event,\n      day: day,\n      label: label\n    }) : label);\n  };\n  var _adjustHeader = function _adjustHeader() {\n    if (!tbodyRef.current) return;\n    var header = headerRef.current;\n    var firstRow = tbodyRef.current.firstChild;\n    if (!firstRow) return;\n    var isOverflowing = contentRef.current.scrollHeight > contentRef.current.clientHeight;\n    var _widths = [];\n    var widths = _widths;\n    _widths = [(0,dom_helpers_width__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(firstRow.children[0]), (0,dom_helpers_width__WEBPACK_IMPORTED_MODULE_27__[\"default\"])(firstRow.children[1])];\n    if (widths[0] !== _widths[0] || widths[1] !== _widths[1]) {\n      dateColRef.current.style.width = _widths[0] + 'px';\n      timeColRef.current.style.width = _widths[1] + 'px';\n    }\n    if (isOverflowing) {\n      (0,dom_helpers_addClass__WEBPACK_IMPORTED_MODULE_31__[\"default\"])(header, 'rbc-header-overflowing');\n      header.style.marginRight = (0,dom_helpers_scrollbarSize__WEBPACK_IMPORTED_MODULE_29__[\"default\"])() + 'px';\n    } else {\n      (0,dom_helpers_removeClass__WEBPACK_IMPORTED_MODULE_32__[\"default\"])(header, 'rbc-header-overflowing');\n    }\n  };\n  var messages = localizer.messages;\n  var end = localizer.add(date, length, 'day');\n  var range = localizer.range(date, end, 'day');\n  events = events.filter(function (event) {\n    return inRange(event, localizer.startOf(date, 'day'), localizer.endOf(end, 'day'), accessors, localizer);\n  });\n  events.sort(function (a, b) {\n    return +accessors.start(a) - +accessors.start(b);\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"rbc-agenda-view\"\n  }, events.length !== 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement((react__WEBPACK_IMPORTED_MODULE_9___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"table\", {\n    ref: headerRef,\n    className: \"rbc-agenda-table\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: dateColRef\n  }, messages.date), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"th\", {\n    className: \"rbc-header\",\n    ref: timeColRef\n  }, messages.time), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"th\", {\n    className: \"rbc-header\"\n  }, messages.event)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", {\n    className: \"rbc-agenda-content\",\n    ref: contentRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"table\", {\n    className: \"rbc-agenda-table\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"tbody\", {\n    ref: tbodyRef\n  }, range.map(function (day, idx) {\n    return renderDay(day, events, idx);\n  }))))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"span\", {\n    className: \"rbc-agenda-empty\"\n  }, messages.noEventsInRange));\n}\nAgenda.range = function (start, _ref2) {\n  var _ref2$length = _ref2.length,\n    length = _ref2$length === void 0 ? DEFAULT_LENGTH : _ref2$length,\n    localizer = _ref2.localizer;\n  var end = localizer.add(start, length, 'day');\n  return {\n    start: start,\n    end: end\n  };\n};\nAgenda.navigate = function (date, action, _ref3) {\n  var _ref3$length = _ref3.length,\n    length = _ref3$length === void 0 ? DEFAULT_LENGTH : _ref3$length,\n    localizer = _ref3.localizer;\n  switch (action) {\n    case navigate.PREVIOUS:\n      return localizer.add(date, -length, 'day');\n    case navigate.NEXT:\n      return localizer.add(date, length, 'day');\n    default:\n      return date;\n  }\n};\nAgenda.title = function (start, _ref4) {\n  var _ref4$length = _ref4.length,\n    length = _ref4$length === void 0 ? DEFAULT_LENGTH : _ref4$length,\n    localizer = _ref4.localizer;\n  var end = localizer.add(start, length, 'day');\n  return localizer.format({\n    start: start,\n    end: end\n  }, 'agendaHeaderFormat');\n};\n\nvar VIEWS = (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])((0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({}, views.MONTH, MonthView), views.WEEK, Week), views.WORK_WEEK, WorkWeek), views.DAY, Day), views.AGENDA, Agenda);\n\nvar _excluded$1 = [\"action\", \"date\", \"today\"];\nfunction moveDate(View, _ref) {\n  var action = _ref.action,\n    date = _ref.date,\n    today = _ref.today,\n    props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref, _excluded$1);\n  View = typeof View === 'string' ? VIEWS[View] : View;\n  switch (action) {\n    case navigate.TODAY:\n      date = today || new Date();\n      break;\n    case navigate.DATE:\n      break;\n    default:\n      invariant__WEBPACK_IMPORTED_MODULE_11___default()(View && typeof View.navigate === 'function', 'Calendar View components must implement a static `.navigate(date, action)` method.s');\n      date = View.navigate(date, action, props);\n  }\n  return date;\n}\n\n/**\n * Retrieve via an accessor-like property\n *\n *    accessor(obj, 'name')   // => retrieves obj['name']\n *    accessor(data, func)    // => retrieves func(data)\n *    ... otherwise null\n */\nfunction accessor(data, field) {\n  var value = null;\n  if (typeof field === 'function') value = field(data);else if (typeof field === 'string' && (0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(data) === 'object' && data != null && field in data) value = data[field];\n  return value;\n}\nvar wrapAccessor = function wrapAccessor(acc) {\n  return function (data) {\n    return accessor(data, acc);\n  };\n};\n\nvar _excluded = [\"view\", \"date\", \"getNow\", \"onNavigate\"],\n  _excluded2 = [\"view\", \"toolbar\", \"events\", \"backgroundEvents\", \"resourceGroupingLayout\", \"style\", \"className\", \"elementProps\", \"date\", \"getNow\", \"length\", \"showMultiDayTimes\", \"onShowMore\", \"doShowMoreDrillDown\", \"components\", \"formats\", \"messages\", \"culture\"];\nfunction viewNames(_views) {\n  if (Array.isArray(_views)) {\n    return _views;\n  }\n  var views = [];\n  for (var _i = 0, _Object$entries = Object.entries(_views); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    if (value) {\n      views.push(key);\n    }\n  }\n  return views;\n}\nfunction isValidView(view, _ref) {\n  var _views = _ref.views;\n  var names = viewNames(_views);\n  return names.indexOf(view) !== -1;\n}\nvar Calendar = /*#__PURE__*/function (_React$Component) {\n  function Calendar() {\n    var _this;\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, Calendar);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = (0,_babel_runtime_helpers_esm_callSuper__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, Calendar, [].concat(_args));\n    _this.getViews = function () {\n      var views = _this.props.views;\n      if (Array.isArray(views)) {\n        return lodash_transform__WEBPACK_IMPORTED_MODULE_36___default()(views, function (obj, name) {\n          return obj[name] = VIEWS[name];\n        }, {});\n      }\n      if ((0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(views) === 'object') {\n        return lodash_mapValues__WEBPACK_IMPORTED_MODULE_34___default()(views, function (value, key) {\n          if (value === true) {\n            return VIEWS[key];\n          }\n          return value;\n        });\n      }\n      return VIEWS;\n    };\n    _this.getView = function () {\n      var views = _this.getViews();\n      return views[_this.props.view];\n    };\n    _this.getDrilldownView = function (date) {\n      var _this$props = _this.props,\n        view = _this$props.view,\n        drilldownView = _this$props.drilldownView,\n        getDrilldownView = _this$props.getDrilldownView;\n      if (!getDrilldownView) return drilldownView;\n      return getDrilldownView(date, view, Object.keys(_this.getViews()));\n    };\n    /**\n     *\n     * @param date\n     * @param viewComponent\n     * @param {'month'|'week'|'work_week'|'day'|'agenda'} [view] - optional\n     * parameter. It appears when range change on view changing. It could be handy\n     * when you need to have both: range and view type at once, i.e. for manage rbc\n     * state via url\n     */\n    _this.handleRangeChange = function (date, viewComponent, view) {\n      var _this$props2 = _this.props,\n        onRangeChange = _this$props2.onRangeChange,\n        localizer = _this$props2.localizer;\n      if (onRangeChange) {\n        if (viewComponent.range) {\n          onRangeChange(viewComponent.range(date, {\n            localizer: localizer\n          }), view);\n        } else {\n          if (true) {\n            console.error('onRangeChange prop not supported for this view');\n          }\n        }\n      }\n    };\n    _this.handleNavigate = function (action, newDate) {\n      var _this$props3 = _this.props,\n        view = _this$props3.view,\n        date = _this$props3.date,\n        getNow = _this$props3.getNow,\n        onNavigate = _this$props3.onNavigate,\n        props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props3, _excluded);\n      var ViewComponent = _this.getView();\n      var today = getNow();\n      date = moveDate(ViewComponent, (0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props), {}, {\n        action: action,\n        date: newDate || date || today,\n        today: today\n      }));\n      onNavigate(date, view, action);\n      _this.handleRangeChange(date, ViewComponent);\n    };\n    _this.handleViewChange = function (view) {\n      if (view !== _this.props.view && isValidView(view, _this.props)) {\n        _this.props.onView(view);\n      }\n      var views = _this.getViews();\n      _this.handleRangeChange(_this.props.date || _this.props.getNow(), views[view], view);\n    };\n    _this.handleSelectEvent = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      notify(_this.props.onSelectEvent, args);\n    };\n    _this.handleDoubleClickEvent = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      notify(_this.props.onDoubleClickEvent, args);\n    };\n    _this.handleKeyPressEvent = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      notify(_this.props.onKeyPressEvent, args);\n    };\n    _this.handleSelectSlot = function (slotInfo) {\n      notify(_this.props.onSelectSlot, slotInfo);\n    };\n    _this.handleDrillDown = function (date, view) {\n      var onDrillDown = _this.props.onDrillDown;\n      if (onDrillDown) {\n        onDrillDown(date, view, _this.drilldownView);\n        return;\n      }\n      if (view) _this.handleViewChange(view);\n      _this.handleNavigate(navigate.DATE, date);\n    };\n    _this.state = {\n      context: Calendar.getContext(_this.props)\n    };\n    return _this;\n  }\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Calendar, _React$Component);\n  return (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Calendar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        view = _this$props4.view,\n        toolbar = _this$props4.toolbar,\n        events = _this$props4.events,\n        backgroundEvents = _this$props4.backgroundEvents,\n        resourceGroupingLayout = _this$props4.resourceGroupingLayout,\n        style = _this$props4.style,\n        className = _this$props4.className,\n        elementProps = _this$props4.elementProps,\n        current = _this$props4.date,\n        getNow = _this$props4.getNow,\n        length = _this$props4.length,\n        showMultiDayTimes = _this$props4.showMultiDayTimes,\n        onShowMore = _this$props4.onShowMore,\n        doShowMoreDrillDown = _this$props4.doShowMoreDrillDown;\n        _this$props4.components;\n        _this$props4.formats;\n        _this$props4.messages;\n        _this$props4.culture;\n        var props = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props4, _excluded2);\n      current = current || getNow();\n      var View = this.getView();\n      var _this$state$context = this.state.context,\n        accessors = _this$state$context.accessors,\n        components = _this$state$context.components,\n        getters = _this$state$context.getters,\n        localizer = _this$state$context.localizer,\n        viewNames = _this$state$context.viewNames;\n      var CalToolbar = components.toolbar || Toolbar;\n      var label = View.title(current, {\n        localizer: localizer,\n        length: length\n      });\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(\"div\", Object.assign({}, elementProps, {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(className, 'rbc-calendar', props.rtl && 'rbc-rtl'),\n        style: style\n      }), toolbar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(CalToolbar, {\n        date: current,\n        view: view,\n        views: viewNames,\n        label: label,\n        onView: this.handleViewChange,\n        onNavigate: this.handleNavigate,\n        localizer: localizer\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_9___default().createElement(View, Object.assign({}, props, {\n        events: events,\n        backgroundEvents: backgroundEvents,\n        date: current,\n        getNow: getNow,\n        length: length,\n        localizer: localizer,\n        getters: getters,\n        components: components,\n        accessors: accessors,\n        showMultiDayTimes: showMultiDayTimes,\n        getDrilldownView: this.getDrilldownView,\n        onNavigate: this.handleNavigate,\n        onDrillDown: this.handleDrillDown,\n        onSelectEvent: this.handleSelectEvent,\n        onDoubleClickEvent: this.handleDoubleClickEvent,\n        onKeyPressEvent: this.handleKeyPressEvent,\n        onSelectSlot: this.handleSelectSlot,\n        onShowMore: onShowMore,\n        doShowMoreDrillDown: doShowMoreDrillDown,\n        resourceGroupingLayout: resourceGroupingLayout\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      return {\n        context: Calendar.getContext(nextProps)\n      };\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(_ref2) {\n      var startAccessor = _ref2.startAccessor,\n        endAccessor = _ref2.endAccessor,\n        allDayAccessor = _ref2.allDayAccessor,\n        tooltipAccessor = _ref2.tooltipAccessor,\n        titleAccessor = _ref2.titleAccessor,\n        resourceAccessor = _ref2.resourceAccessor,\n        resourceIdAccessor = _ref2.resourceIdAccessor,\n        resourceTitleAccessor = _ref2.resourceTitleAccessor,\n        eventIdAccessor = _ref2.eventIdAccessor,\n        eventPropGetter = _ref2.eventPropGetter,\n        backgroundEventPropGetter = _ref2.backgroundEventPropGetter,\n        slotPropGetter = _ref2.slotPropGetter,\n        slotGroupPropGetter = _ref2.slotGroupPropGetter,\n        dayPropGetter = _ref2.dayPropGetter,\n        view = _ref2.view,\n        views = _ref2.views,\n        localizer = _ref2.localizer,\n        culture = _ref2.culture,\n        _ref2$messages = _ref2.messages,\n        messages$1 = _ref2$messages === void 0 ? {} : _ref2$messages,\n        _ref2$components = _ref2.components,\n        components = _ref2$components === void 0 ? {} : _ref2$components,\n        _ref2$formats = _ref2.formats,\n        formats = _ref2$formats === void 0 ? {} : _ref2$formats;\n      var names = viewNames(views);\n      var msgs = messages(messages$1);\n      return {\n        viewNames: names,\n        localizer: mergeWithDefaults(localizer, culture, formats, msgs),\n        getters: {\n          eventProp: function eventProp() {\n            return eventPropGetter && eventPropGetter.apply(void 0, arguments) || {};\n          },\n          backgroundEventProp: function backgroundEventProp() {\n            return backgroundEventPropGetter && backgroundEventPropGetter.apply(void 0, arguments) || {};\n          },\n          slotProp: function slotProp() {\n            return slotPropGetter && slotPropGetter.apply(void 0, arguments) || {};\n          },\n          slotGroupProp: function slotGroupProp() {\n            return slotGroupPropGetter && slotGroupPropGetter.apply(void 0, arguments) || {};\n          },\n          dayProp: function dayProp() {\n            return dayPropGetter && dayPropGetter.apply(void 0, arguments) || {};\n          }\n        },\n        components: lodash_defaults__WEBPACK_IMPORTED_MODULE_33___default()(components[view] || {}, lodash_omit__WEBPACK_IMPORTED_MODULE_35___default()(components, names), {\n          eventWrapper: NoopWrapper,\n          backgroundEventWrapper: NoopWrapper,\n          eventContainerWrapper: NoopWrapper,\n          dateCellWrapper: NoopWrapper,\n          weekWrapper: NoopWrapper,\n          timeSlotWrapper: NoopWrapper,\n          timeGutterWrapper: NoopWrapper\n        }),\n        accessors: {\n          start: wrapAccessor(startAccessor),\n          end: wrapAccessor(endAccessor),\n          allDay: wrapAccessor(allDayAccessor),\n          tooltip: wrapAccessor(tooltipAccessor),\n          title: wrapAccessor(titleAccessor),\n          resource: wrapAccessor(resourceAccessor),\n          resourceId: wrapAccessor(resourceIdAccessor),\n          resourceTitle: wrapAccessor(resourceTitleAccessor),\n          eventId: wrapAccessor(eventIdAccessor)\n        }\n      };\n    }\n  }]);\n}((react__WEBPACK_IMPORTED_MODULE_9___default().Component));\nCalendar.defaultProps = {\n  events: [],\n  backgroundEvents: [],\n  elementProps: {},\n  popup: false,\n  toolbar: true,\n  view: views.MONTH,\n  views: [views.MONTH, views.WEEK, views.DAY, views.AGENDA],\n  step: 30,\n  length: 30,\n  allDayMaxRows: Infinity,\n  doShowMoreDrillDown: true,\n  drilldownView: views.DAY,\n  titleAccessor: 'title',\n  tooltipAccessor: 'title',\n  allDayAccessor: 'allDay',\n  startAccessor: 'start',\n  endAccessor: 'end',\n  resourceAccessor: 'resourceId',\n  resourceIdAccessor: 'id',\n  resourceTitleAccessor: 'title',\n  eventIdAccessor: 'id',\n  longPressThreshold: 250,\n  getNow: function getNow() {\n    return new Date();\n  },\n  dayLayoutAlgorithm: 'overlap'\n};\nvar Calendar$1 = (0,uncontrollable__WEBPACK_IMPORTED_MODULE_10__.uncontrollable)(Calendar, {\n  view: 'onView',\n  date: 'onNavigate',\n  selected: 'onSelectEvent'\n});\n\nvar weekRangeFormat$5 = function weekRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return local.format(start, 'MMMM DD', culture) + '  ' +\n  // updated to use this localizer 'eq()' method\n  local.format(end, local.eq(start, end, 'month') ? 'DD' : 'MMMM DD', culture);\n};\nvar dateRangeFormat$5 = function dateRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return local.format(start, 'L', culture) + '  ' + local.format(end, 'L', culture);\n};\nvar timeRangeFormat$5 = function timeRangeFormat(_ref3, culture, local) {\n  var start = _ref3.start,\n    end = _ref3.end;\n  return local.format(start, 'LT', culture) + '  ' + local.format(end, 'LT', culture);\n};\nvar timeRangeStartFormat$5 = function timeRangeStartFormat(_ref4, culture, local) {\n  var start = _ref4.start;\n  return local.format(start, 'LT', culture) + '  ';\n};\nvar timeRangeEndFormat$5 = function timeRangeEndFormat(_ref5, culture, local) {\n  var end = _ref5.end;\n  return '  ' + local.format(end, 'LT', culture);\n};\nvar formats$5 = {\n  dateFormat: 'DD',\n  dayFormat: 'DD ddd',\n  weekdayFormat: 'ddd',\n  selectRangeFormat: timeRangeFormat$5,\n  eventTimeRangeFormat: timeRangeFormat$5,\n  eventTimeRangeStartFormat: timeRangeStartFormat$5,\n  eventTimeRangeEndFormat: timeRangeEndFormat$5,\n  timeGutterFormat: 'LT',\n  monthHeaderFormat: 'MMMM YYYY',\n  dayHeaderFormat: 'dddd MMM DD',\n  dayRangeHeaderFormat: weekRangeFormat$5,\n  agendaHeaderFormat: dateRangeFormat$5,\n  agendaDateFormat: 'ddd MMM DD',\n  agendaTimeFormat: 'LT',\n  agendaTimeRangeFormat: timeRangeFormat$5\n};\nfunction fixUnit$2(unit) {\n  var datePart = unit ? unit.toLowerCase() : unit;\n  if (datePart === 'FullYear') {\n    datePart = 'year';\n  } else if (!datePart) {\n    datePart = undefined;\n  }\n  return datePart;\n}\nfunction moment (moment) {\n  var locale = function locale(m, c) {\n    return c ? m.locale(c) : m;\n  };\n  function getTimezoneOffset(date) {\n    // ensures this gets cast to timezone\n    return moment(date).toDate().getTimezoneOffset();\n  }\n  function getDstOffset(start, end) {\n    var _st$_z$name, _st$_z;\n    // convert to moment, in case\n    // Calculate the offset in the timezone of the Events (local)\n    // not in the timezone of the calendar (moment.tz)\n    var st = moment(start).local();\n    var ed = moment(end).local();\n    // if not using moment timezone\n    if (!moment.tz) {\n      return st.toDate().getTimezoneOffset() - ed.toDate().getTimezoneOffset();\n    }\n    /**\n     * If using moment-timezone, and a timezone has been applied, then\n     * use this to get the proper timezone offset, otherwise default\n     * the timezone to the browser local\n     */\n    var tzName = (_st$_z$name = st === null || st === void 0 ? void 0 : (_st$_z = st._z) === null || _st$_z === void 0 ? void 0 : _st$_z.name) !== null && _st$_z$name !== void 0 ? _st$_z$name : moment.tz.guess();\n    var startOffset = moment.tz.zone(tzName).utcOffset(+st);\n    var endOffset = moment.tz.zone(tzName).utcOffset(+ed);\n    return startOffset - endOffset;\n  }\n  function getDayStartDstOffset(start) {\n    var dayStart = moment(start).startOf('day');\n    return getDstOffset(dayStart, start);\n  }\n\n  /*** BEGIN localized date arithmetic methods with moment ***/\n  function defineComparators(a, b, unit) {\n    var datePart = fixUnit$2(unit);\n    var dtA = datePart ? moment(a).startOf(datePart) : moment(a);\n    var dtB = datePart ? moment(b).startOf(datePart) : moment(b);\n    return [dtA, dtB, datePart];\n  }\n  function startOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit$2(unit);\n    if (datePart) {\n      return moment(date).startOf(datePart).toDate();\n    }\n    return moment(date).toDate();\n  }\n  function endOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit$2(unit);\n    if (datePart) {\n      return moment(date).endOf(datePart).toDate();\n    }\n    return moment(date).toDate();\n  }\n\n  // moment comparison operations *always* convert both sides to moment objects\n  // prior to running the comparisons\n  function eq(a, b, unit) {\n    var _defineComparators = defineComparators(a, b, unit),\n      _defineComparators2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators, 3),\n      dtA = _defineComparators2[0],\n      dtB = _defineComparators2[1],\n      datePart = _defineComparators2[2];\n    return dtA.isSame(dtB, datePart);\n  }\n  function neq(a, b, unit) {\n    return !eq(a, b, unit);\n  }\n  function gt(a, b, unit) {\n    var _defineComparators3 = defineComparators(a, b, unit),\n      _defineComparators4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators3, 3),\n      dtA = _defineComparators4[0],\n      dtB = _defineComparators4[1],\n      datePart = _defineComparators4[2];\n    return dtA.isAfter(dtB, datePart);\n  }\n  function lt(a, b, unit) {\n    var _defineComparators5 = defineComparators(a, b, unit),\n      _defineComparators6 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators5, 3),\n      dtA = _defineComparators6[0],\n      dtB = _defineComparators6[1],\n      datePart = _defineComparators6[2];\n    return dtA.isBefore(dtB, datePart);\n  }\n  function gte(a, b, unit) {\n    var _defineComparators7 = defineComparators(a, b, unit),\n      _defineComparators8 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators7, 3),\n      dtA = _defineComparators8[0],\n      dtB = _defineComparators8[1],\n      datePart = _defineComparators8[2];\n    return dtA.isSameOrBefore(dtB, datePart);\n  }\n  function lte(a, b, unit) {\n    var _defineComparators9 = defineComparators(a, b, unit),\n      _defineComparators10 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators9, 3),\n      dtA = _defineComparators10[0],\n      dtB = _defineComparators10[1],\n      datePart = _defineComparators10[2];\n    return dtA.isSameOrBefore(dtB, datePart);\n  }\n  function inRange(day, min, max) {\n    var unit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'day';\n    var datePart = fixUnit$2(unit);\n    var mDay = moment(day);\n    var mMin = moment(min);\n    var mMax = moment(max);\n    return mDay.isBetween(mMin, mMax, datePart, '[]');\n  }\n  function min(dateA, dateB) {\n    var dtA = moment(dateA);\n    var dtB = moment(dateB);\n    var minDt = moment.min(dtA, dtB);\n    return minDt.toDate();\n  }\n  function max(dateA, dateB) {\n    var dtA = moment(dateA);\n    var dtB = moment(dateB);\n    var maxDt = moment.max(dtA, dtB);\n    return maxDt.toDate();\n  }\n  function merge(date, time) {\n    if (!date && !time) return null;\n    var tm = moment(time).format('HH:mm:ss');\n    var dt = moment(date).startOf('day').format('MM/DD/YYYY');\n    // We do it this way to avoid issues when timezone switching\n    return moment(\"\".concat(dt, \" \").concat(tm), 'MM/DD/YYYY HH:mm:ss').toDate();\n  }\n  function add(date, adder, unit) {\n    var datePart = fixUnit$2(unit);\n    return moment(date).add(adder, datePart).toDate();\n  }\n  function range(start, end) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit$2(unit);\n    // because the add method will put these in tz, we have to start that way\n    var current = moment(start).toDate();\n    var days = [];\n    while (lte(current, end)) {\n      days.push(current);\n      current = add(current, 1, datePart);\n    }\n    return days;\n  }\n  function ceil(date, unit) {\n    var datePart = fixUnit$2(unit);\n    var floor = startOf(date, datePart);\n    return eq(floor, date) ? floor : add(floor, 1, datePart);\n  }\n  function diff(a, b) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit$2(unit);\n    // don't use 'defineComparators' here, as we don't want to mutate the values\n    var dtA = moment(a);\n    var dtB = moment(b);\n    return dtB.diff(dtA, datePart);\n  }\n  function minutes(date) {\n    var dt = moment(date);\n    return dt.minutes();\n  }\n  function firstOfWeek(culture) {\n    var data = culture ? moment.localeData(culture) : moment.localeData();\n    return data ? data.firstDayOfWeek() : 0;\n  }\n  function firstVisibleDay(date) {\n    return moment(date).startOf('month').startOf('week').toDate();\n  }\n  function lastVisibleDay(date) {\n    return moment(date).endOf('month').endOf('week').toDate();\n  }\n  function visibleDays(date) {\n    var current = firstVisibleDay(date);\n    var last = lastVisibleDay(date);\n    var days = [];\n    while (lte(current, last)) {\n      days.push(current);\n      current = add(current, 1, 'd');\n    }\n    return days;\n  }\n  /*** END localized date arithmetic methods with moment ***/\n\n  /**\n   * Moved from TimeSlots.js, this method overrides the method of the same name\n   * in the localizer.js, using moment to construct the js Date\n   * @param {Date} dt - date to start with\n   * @param {Number} minutesFromMidnight\n   * @param {Number} offset\n   * @returns {Date}\n   */\n  function getSlotDate(dt, minutesFromMidnight, offset) {\n    return moment(dt).startOf('day').minute(minutesFromMidnight + offset).toDate();\n  }\n\n  // moment will automatically handle DST differences in it's calculations\n  function getTotalMin(start, end) {\n    return diff(start, end, 'minutes');\n  }\n  function getMinutesFromMidnight(start) {\n    var dayStart = moment(start).startOf('day');\n    var day = moment(start);\n    return day.diff(dayStart, 'minutes') + getDayStartDstOffset(start);\n  }\n\n  // These two are used by DateSlotMetrics\n  function continuesPrior(start, first) {\n    var mStart = moment(start);\n    var mFirst = moment(first);\n    return mStart.isBefore(mFirst, 'day');\n  }\n  function continuesAfter(start, end, last) {\n    var mEnd = moment(end);\n    var mLast = moment(last);\n    return mEnd.isSameOrAfter(mLast, 'minutes');\n  }\n  function daySpan(start, end) {\n    var mStart = moment(start);\n    var mEnd = moment(end);\n    var dur = moment.duration(mEnd.diff(mStart));\n    return dur.days();\n  }\n\n  // These two are used by eventLevels\n  function sortEvents(_ref6) {\n    var _ref6$evtA = _ref6.evtA,\n      aStart = _ref6$evtA.start,\n      aEnd = _ref6$evtA.end,\n      aAllDay = _ref6$evtA.allDay,\n      _ref6$evtB = _ref6.evtB,\n      bStart = _ref6$evtB.start,\n      bEnd = _ref6$evtB.end,\n      bAllDay = _ref6$evtB.allDay;\n    var startSort = +startOf(aStart, 'day') - +startOf(bStart, 'day');\n    var durA = daySpan(aStart, aEnd);\n    var durB = daySpan(bStart, bEnd);\n    return startSort ||\n    // sort by start Day first\n    durB - durA ||\n    // events spanning multiple days go first\n    !!bAllDay - !!aAllDay ||\n    // then allDay single day events\n    +aStart - +bStart ||\n    // then sort by start time *don't need moment conversion here\n    +aEnd - +bEnd // then sort by end time *don't need moment conversion here either\n    ;\n  }\n  function inEventRange(_ref7) {\n    var _ref7$event = _ref7.event,\n      start = _ref7$event.start,\n      end = _ref7$event.end,\n      _ref7$range = _ref7.range,\n      rangeStart = _ref7$range.start,\n      rangeEnd = _ref7$range.end;\n    var startOfDay = moment(start).startOf('day');\n    var eEnd = moment(end);\n    var rStart = moment(rangeStart);\n    var rEnd = moment(rangeEnd);\n    var startsBeforeEnd = startOfDay.isSameOrBefore(rEnd, 'day');\n    // when the event is zero duration we need to handle a bit differently\n    var sameMin = !startOfDay.isSame(eEnd, 'minutes');\n    var endsAfterStart = sameMin ? eEnd.isAfter(rStart, 'minutes') : eEnd.isSameOrAfter(rStart, 'minutes');\n    return startsBeforeEnd && endsAfterStart;\n  }\n  function isSameDate(date1, date2) {\n    var dt = moment(date1);\n    var dt2 = moment(date2);\n    return dt.isSame(dt2, 'day');\n  }\n\n  /**\n   * This method, called once in the localizer constructor, is used by eventLevels\n   * 'eventSegments()' to assist in determining the 'span' of the event in the display,\n   * specifically when using a timezone that is greater than the browser native timezone.\n   * @returns number\n   */\n  function browserTZOffset() {\n    /**\n     * Date.prototype.getTimezoneOffset horrifically flips the positive/negative from\n     * what you see in it's string, so we have to jump through some hoops to get a value\n     * we can actually compare.\n     */\n    var dt = new Date();\n    var neg = /-/.test(dt.toString()) ? '-' : '';\n    var dtOffset = dt.getTimezoneOffset();\n    var comparator = Number(\"\".concat(neg).concat(Math.abs(dtOffset)));\n    // moment correctly provides positive/negative offset, as expected\n    var mtOffset = moment().utcOffset();\n    return mtOffset > comparator ? 1 : 0;\n  }\n  return new DateLocalizer({\n    formats: formats$5,\n    firstOfWeek: firstOfWeek,\n    firstVisibleDay: firstVisibleDay,\n    lastVisibleDay: lastVisibleDay,\n    visibleDays: visibleDays,\n    format: function format(value, _format, culture) {\n      return locale(moment(value), culture).format(_format);\n    },\n    lt: lt,\n    lte: lte,\n    gt: gt,\n    gte: gte,\n    eq: eq,\n    neq: neq,\n    merge: merge,\n    inRange: inRange,\n    startOf: startOf,\n    endOf: endOf,\n    range: range,\n    add: add,\n    diff: diff,\n    ceil: ceil,\n    min: min,\n    max: max,\n    minutes: minutes,\n    getSlotDate: getSlotDate,\n    getTimezoneOffset: getTimezoneOffset,\n    getDstOffset: getDstOffset,\n    getTotalMin: getTotalMin,\n    getMinutesFromMidnight: getMinutesFromMidnight,\n    continuesPrior: continuesPrior,\n    continuesAfter: continuesAfter,\n    sortEvents: sortEvents,\n    inEventRange: inEventRange,\n    isSameDate: isSameDate,\n    daySpan: daySpan,\n    browserTZOffset: browserTZOffset\n  });\n}\n\nfunction pluralizeUnit(unit) {\n  return /s$/.test(unit) ? unit : unit + 's';\n}\nvar weekRangeFormat$4 = function weekRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return local.format(start, 'MMMM dd', culture) + '  ' +\n  // updated to use this localizer 'eq()' method\n  local.format(end, local.eq(start, end, 'month') ? 'dd' : 'MMMM dd', culture);\n};\nvar dateRangeFormat$4 = function dateRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return local.format(start, 'D', culture) + '  ' + local.format(end, 'D', culture);\n};\nvar timeRangeFormat$4 = function timeRangeFormat(_ref3, culture, local) {\n  var start = _ref3.start,\n    end = _ref3.end;\n  return local.format(start, 't', culture) + '  ' + local.format(end, 't', culture);\n};\nvar timeRangeStartFormat$4 = function timeRangeStartFormat(_ref4, culture, local) {\n  var start = _ref4.start;\n  return local.format(start, 't', culture) + '  ';\n};\nvar timeRangeEndFormat$4 = function timeRangeEndFormat(_ref5, culture, local) {\n  var end = _ref5.end;\n  return '  ' + local.format(end, 't', culture);\n};\nvar formats$4 = {\n  dateFormat: 'dd',\n  dayFormat: 'dd EEE',\n  weekdayFormat: 'EEE',\n  selectRangeFormat: timeRangeFormat$4,\n  eventTimeRangeFormat: timeRangeFormat$4,\n  eventTimeRangeStartFormat: timeRangeStartFormat$4,\n  eventTimeRangeEndFormat: timeRangeEndFormat$4,\n  timeGutterFormat: 't',\n  monthHeaderFormat: 'MMMM yyyy',\n  dayHeaderFormat: 'EEEE MMM dd',\n  dayRangeHeaderFormat: weekRangeFormat$4,\n  agendaHeaderFormat: dateRangeFormat$4,\n  agendaDateFormat: 'EEE MMM dd',\n  agendaTimeFormat: 't',\n  agendaTimeRangeFormat: timeRangeFormat$4\n};\nfunction fixUnit$1(unit) {\n  var datePart = unit ? pluralizeUnit(unit.toLowerCase()) : unit;\n  if (datePart === 'FullYear') {\n    datePart = 'year';\n  } else if (!datePart) {\n    datePart = undefined;\n  }\n  return datePart;\n}\n\n// Luxon does not currently have weekInfo by culture\n// Luxon uses 1 based values for month and weekday\n// So we default to Sunday (7)\nfunction luxon (DateTime) {\n  var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref6$firstDayOfWeek = _ref6.firstDayOfWeek,\n    firstDayOfWeek = _ref6$firstDayOfWeek === void 0 ? 7 : _ref6$firstDayOfWeek;\n  function formatDate(value, format) {\n    return DateTime.fromJSDate(value).toFormat(format);\n  }\n  function formatDateWithCulture(value, culture, format) {\n    return DateTime.fromJSDate(value).setLocale(culture).toFormat(format);\n  }\n\n  /*** BEGIN localized date arithmetic methods with Luxon ***/\n  function defineComparators(a, b, unit) {\n    var datePart = fixUnit$1(unit);\n    var dtA = datePart ? DateTime.fromJSDate(a).startOf(datePart) : DateTime.fromJSDate(a);\n    var dtB = datePart ? DateTime.fromJSDate(b).startOf(datePart) : DateTime.fromJSDate(b);\n    return [dtA, dtB, datePart];\n  }\n\n  // Since Luxon (and current Intl API) has no support\n  // for culture based weekInfo, we need to handle\n  // the start of the week differently\n  // depending on locale, the firstDayOfWeek could also be Saturday, Sunday or Monday\n  function startOfDTWeek(dtObj) {\n    var weekday = dtObj.weekday;\n    if (weekday === firstDayOfWeek) {\n      return dtObj.startOf('day'); // already beginning of week\n    } else if (firstDayOfWeek === 1) {\n      return dtObj.startOf('week'); // fow is Monday, which is Luxon default\n    }\n    var diff = firstDayOfWeek === 7 ? weekday : weekday + (7 - firstDayOfWeek);\n    return dtObj.minus({\n      day: diff\n    }).startOf('day');\n  }\n  function endOfDTWeek(dtObj) {\n    var weekday = dtObj.weekday;\n    var eow = firstDayOfWeek === 1 ? 7 : firstDayOfWeek - 1;\n    if (weekday === eow) {\n      return dtObj.endOf('day'); // already last day of the week\n    } else if (firstDayOfWeek === 1) {\n      return dtObj.endOf('week'); // use Luxon default (Sunday)\n    }\n    var fromDate = firstDayOfWeek > eow ? dtObj.plus({\n      day: firstDayOfWeek - eow\n    }) : dtObj;\n    return fromDate.set({\n      weekday: eow\n    }).endOf('day');\n  }\n\n  // This returns a DateTime instance\n  function startOfDT() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit$1(unit);\n    if (datePart) {\n      var dt = DateTime.fromJSDate(date);\n      return datePart.includes('week') ? startOfDTWeek(dt) : dt.startOf(datePart);\n    }\n    return DateTime.fromJSDate(date);\n  }\n  function firstOfWeek() {\n    return firstDayOfWeek;\n  }\n\n  // This returns a JS Date from a DateTime instance\n  function startOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    return startOfDT(date, unit).toJSDate();\n  }\n\n  // This returns a DateTime instance\n  function endOfDT() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit$1(unit);\n    if (datePart) {\n      var dt = DateTime.fromJSDate(date);\n      return datePart.includes('week') ? endOfDTWeek(dt) : dt.endOf(datePart);\n    }\n    return DateTime.fromJSDate(date);\n  }\n  function endOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    return endOfDT(date, unit).toJSDate();\n  }\n  function eq(a, b, unit) {\n    var _defineComparators = defineComparators(a, b, unit),\n      _defineComparators2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators, 2),\n      dtA = _defineComparators2[0],\n      dtB = _defineComparators2[1];\n    return +dtA == +dtB;\n  }\n  function neq(a, b, unit) {\n    return !eq(a, b, unit);\n  }\n  function gt(a, b, unit) {\n    var _defineComparators3 = defineComparators(a, b, unit),\n      _defineComparators4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators3, 2),\n      dtA = _defineComparators4[0],\n      dtB = _defineComparators4[1];\n    return +dtA > +dtB;\n  }\n  function lt(a, b, unit) {\n    var _defineComparators5 = defineComparators(a, b, unit),\n      _defineComparators6 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators5, 2),\n      dtA = _defineComparators6[0],\n      dtB = _defineComparators6[1];\n    return +dtA < +dtB;\n  }\n  function gte(a, b, unit) {\n    var _defineComparators7 = defineComparators(a, b, unit),\n      _defineComparators8 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators7, 2),\n      dtA = _defineComparators8[0],\n      dtB = _defineComparators8[1];\n    return +dtA >= +dtB;\n  }\n  function lte(a, b, unit) {\n    var _defineComparators9 = defineComparators(a, b, unit),\n      _defineComparators10 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators9, 2),\n      dtA = _defineComparators10[0],\n      dtB = _defineComparators10[1];\n    return +dtA <= +dtB;\n  }\n  function inRange(day, min, max) {\n    var unit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'day';\n    var datePart = fixUnit$1(unit);\n    var mDay = startOfDT(day, datePart);\n    var mMin = startOfDT(min, datePart);\n    var mMax = startOfDT(max, datePart);\n    return +mDay >= +mMin && +mDay <= +mMax;\n  }\n  function min(dateA, dateB) {\n    var dtA = DateTime.fromJSDate(dateA);\n    var dtB = DateTime.fromJSDate(dateB);\n    var minDt = DateTime.min(dtA, dtB);\n    return minDt.toJSDate();\n  }\n  function max(dateA, dateB) {\n    var dtA = DateTime.fromJSDate(dateA);\n    var dtB = DateTime.fromJSDate(dateB);\n    var maxDt = DateTime.max(dtA, dtB);\n    return maxDt.toJSDate();\n  }\n  function merge(date, time) {\n    if (!date && !time) return null;\n    var tm = DateTime.fromJSDate(time);\n    var dt = startOfDT(date, 'day');\n    return dt.set({\n      hour: tm.hour,\n      minute: tm.minute,\n      second: tm.second,\n      millisecond: tm.millisecond\n    }).toJSDate();\n  }\n  function add(date, adder, unit) {\n    var datePart = fixUnit$1(unit);\n    return DateTime.fromJSDate(date).plus((0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({}, datePart, adder)).toJSDate();\n  }\n  function range(start, end) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit$1(unit);\n    var current = DateTime.fromJSDate(start).toJSDate(); // this is to get it to tz\n    var days = [];\n    while (lte(current, end)) {\n      days.push(current);\n      current = add(current, 1, datePart);\n    }\n    return days;\n  }\n  function ceil(date, unit) {\n    var datePart = fixUnit$1(unit);\n    var floor = startOf(date, datePart);\n    return eq(floor, date) ? floor : add(floor, 1, datePart);\n  }\n  function diff(a, b) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit$1(unit);\n    // don't use 'defineComparators' here, as we don't want to mutate the values\n    var dtA = DateTime.fromJSDate(a);\n    var dtB = DateTime.fromJSDate(b);\n    return Math.floor(dtB.diff(dtA, datePart, {\n      conversionAccuracy: 'longterm'\n    }).toObject()[datePart]);\n  }\n  function firstVisibleDay(date) {\n    var startOfMonth = startOfDT(date, 'month');\n    return startOfDTWeek(startOfMonth).toJSDate();\n  }\n  function lastVisibleDay(date) {\n    var endOfMonth = endOfDT(date, 'month');\n    return endOfDTWeek(endOfMonth).toJSDate();\n  }\n  function visibleDays(date) {\n    var current = firstVisibleDay(date);\n    var last = lastVisibleDay(date);\n    var days = [];\n    while (lte(current, last)) {\n      days.push(current);\n      current = add(current, 1, 'day');\n    }\n    return days;\n  }\n  /*** END localized date arithmetic methods with moment ***/\n\n  /**\n   * Moved from TimeSlots.js, this method overrides the method of the same name\n   * in the localizer.js, using moment to construct the js Date\n   * @param {Date} dt - date to start with\n   * @param {Number} minutesFromMidnight\n   * @param {Number} offset\n   * @returns {Date}\n   */\n  function getSlotDate(dt, minutesFromMidnight, offset) {\n    return startOfDT(dt, 'day').set({\n      minutes: minutesFromMidnight + offset\n    }).toJSDate();\n  }\n\n  // Luxon will automatically handle DST differences in it's calculations\n  function getTotalMin(start, end) {\n    return diff(start, end, 'minutes');\n  }\n  function getMinutesFromMidnight(start) {\n    var dayStart = startOfDT(start, 'day');\n    var day = DateTime.fromJSDate(start);\n    return Math.round(day.diff(dayStart, 'minutes', {\n      conversionAccuracy: 'longterm'\n    }).toObject().minutes);\n  }\n\n  // These two are used by DateSlotMetrics\n  function continuesPrior(start, first) {\n    return lt(start, first);\n  }\n  function continuesAfter(start, end, last) {\n    return gte(end, last);\n  }\n  function daySpan(start, end) {\n    var dtStart = DateTime.fromJSDate(start);\n    var dtEnd = DateTime.fromJSDate(end);\n    return dtEnd.diff(dtStart).as('days');\n  }\n\n  // These two are used by eventLevels\n  function sortEvents(_ref7) {\n    var _ref7$evtA = _ref7.evtA,\n      aStart = _ref7$evtA.start,\n      aEnd = _ref7$evtA.end,\n      aAllDay = _ref7$evtA.allDay,\n      _ref7$evtB = _ref7.evtB,\n      bStart = _ref7$evtB.start,\n      bEnd = _ref7$evtB.end,\n      bAllDay = _ref7$evtB.allDay;\n    var startSort = +startOf(aStart, 'day') - +startOf(bStart, 'day');\n    var durA = daySpan(aStart, aEnd);\n    var durB = daySpan(bStart, bEnd);\n    return startSort ||\n    // sort by start Day first\n    durB - durA ||\n    // events spanning multiple days go first\n    !!bAllDay - !!aAllDay ||\n    // then allDay single day events\n    +aStart - +bStart ||\n    // then sort by start time *don't need moment conversion here\n    +aEnd - +bEnd // then sort by end time *don't need moment conversion here either\n    ;\n  }\n  function inEventRange(_ref8) {\n    var _ref8$event = _ref8.event,\n      start = _ref8$event.start,\n      end = _ref8$event.end,\n      _ref8$range = _ref8.range,\n      rangeStart = _ref8$range.start,\n      rangeEnd = _ref8$range.end;\n    var eStart = startOf(start, 'day');\n    var startsBeforeEnd = lte(eStart, rangeEnd, 'day');\n    // when the event is zero duration we need to handle a bit differently\n    var sameMin = neq(eStart, end, 'minutes');\n    var endsAfterStart = sameMin ? gt(end, rangeStart, 'minutes') : gte(end, rangeStart, 'minutes');\n    return startsBeforeEnd && endsAfterStart;\n  }\n\n  // moment treats 'day' and 'date' equality very different\n  // moment(date1).isSame(date2, 'day') would test that they were both the same day of the week\n  // moment(date1).isSame(date2, 'date') would test that they were both the same date of the month of the year\n  function isSameDate(date1, date2) {\n    var dt = DateTime.fromJSDate(date1);\n    var dt2 = DateTime.fromJSDate(date2);\n    return dt.hasSame(dt2, 'day');\n  }\n\n  /**\n   * This method, called once in the localizer constructor, is used by eventLevels\n   * 'eventSegments()' to assist in determining the 'span' of the event in the display,\n   * specifically when using a timezone that is greater than the browser native timezone.\n   * @returns number\n   */\n  function browserTZOffset() {\n    /**\n     * Date.prototype.getTimezoneOffset horrifically flips the positive/negative from\n     * what you see in it's string, so we have to jump through some hoops to get a value\n     * we can actually compare.\n     */\n    var dt = new Date();\n    var neg = /-/.test(dt.toString()) ? '-' : '';\n    var dtOffset = dt.getTimezoneOffset();\n    var comparator = Number(\"\".concat(neg).concat(Math.abs(dtOffset)));\n    // moment correctly provides positive/negative offset, as expected\n    var mtOffset = DateTime.local().offset;\n    return mtOffset > comparator ? 1 : 0;\n  }\n  return new DateLocalizer({\n    format: function format(value, _format, culture) {\n      if (culture) {\n        return formatDateWithCulture(value, culture, _format);\n      }\n      return formatDate(value, _format);\n    },\n    formats: formats$4,\n    firstOfWeek: firstOfWeek,\n    firstVisibleDay: firstVisibleDay,\n    lastVisibleDay: lastVisibleDay,\n    visibleDays: visibleDays,\n    lt: lt,\n    lte: lte,\n    gt: gt,\n    gte: gte,\n    eq: eq,\n    neq: neq,\n    merge: merge,\n    inRange: inRange,\n    startOf: startOf,\n    endOf: endOf,\n    range: range,\n    add: add,\n    diff: diff,\n    ceil: ceil,\n    min: min,\n    max: max,\n    getSlotDate: getSlotDate,\n    getTotalMin: getTotalMin,\n    getMinutesFromMidnight: getMinutesFromMidnight,\n    continuesPrior: continuesPrior,\n    continuesAfter: continuesAfter,\n    sortEvents: sortEvents,\n    inEventRange: inEventRange,\n    isSameDate: isSameDate,\n    daySpan: daySpan,\n    browserTZOffset: browserTZOffset\n  });\n}\n\nvar dateRangeFormat$3 = function dateRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return local.format(start, 'd', culture) + '  ' + local.format(end, 'd', culture);\n};\nvar timeRangeFormat$3 = function timeRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return local.format(start, 't', culture) + '  ' + local.format(end, 't', culture);\n};\nvar timeRangeStartFormat$3 = function timeRangeStartFormat(_ref3, culture, local) {\n  var start = _ref3.start;\n  return local.format(start, 't', culture) + '  ';\n};\nvar timeRangeEndFormat$3 = function timeRangeEndFormat(_ref4, culture, local) {\n  var end = _ref4.end;\n  return '  ' + local.format(end, 't', culture);\n};\nvar weekRangeFormat$3 = function weekRangeFormat(_ref5, culture, local) {\n  var start = _ref5.start,\n    end = _ref5.end;\n  return local.format(start, 'MMM dd', culture) + '  ' + local.format(end, (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq)(start, end, 'month') ? 'dd' : 'MMM dd', culture);\n};\nvar formats$3 = {\n  dateFormat: 'dd',\n  dayFormat: 'ddd dd/MM',\n  weekdayFormat: 'ddd',\n  selectRangeFormat: timeRangeFormat$3,\n  eventTimeRangeFormat: timeRangeFormat$3,\n  eventTimeRangeStartFormat: timeRangeStartFormat$3,\n  eventTimeRangeEndFormat: timeRangeEndFormat$3,\n  timeGutterFormat: 't',\n  monthHeaderFormat: 'Y',\n  dayHeaderFormat: 'dddd MMM dd',\n  dayRangeHeaderFormat: weekRangeFormat$3,\n  agendaHeaderFormat: dateRangeFormat$3,\n  agendaDateFormat: 'ddd MMM dd',\n  agendaTimeFormat: 't',\n  agendaTimeRangeFormat: timeRangeFormat$3\n};\nfunction oldGlobalize (globalize) {\n  function getCulture(culture) {\n    return culture ? globalize.findClosestCulture(culture) : globalize.culture();\n  }\n  function firstOfWeek(culture) {\n    culture = getCulture(culture);\n    return culture && culture.calendar.firstDay || 0;\n  }\n  return new DateLocalizer({\n    firstOfWeek: firstOfWeek,\n    formats: formats$3,\n    format: function format(value, _format, culture) {\n      return globalize.format(value, _format, culture);\n    }\n  });\n}\n\n// TODO: fix the globalizeLocalizer to work with globalize 1.x\n\nvar dateRangeFormat$2 = function dateRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return local.format(start, {\n    date: 'short'\n  }, culture) + '  ' + local.format(end, {\n    date: 'short'\n  }, culture);\n};\nvar timeRangeFormat$2 = function timeRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return local.format(start, {\n    time: 'short'\n  }, culture) + '  ' + local.format(end, {\n    time: 'short'\n  }, culture);\n};\nvar timeRangeStartFormat$2 = function timeRangeStartFormat(_ref3, culture, local) {\n  var start = _ref3.start;\n  return local.format(start, {\n    time: 'short'\n  }, culture) + '  ';\n};\nvar timeRangeEndFormat$2 = function timeRangeEndFormat(_ref4, culture, local) {\n  var end = _ref4.end;\n  return '  ' + local.format(end, {\n    time: 'short'\n  }, culture);\n};\nvar weekRangeFormat$2 = function weekRangeFormat(_ref5, culture, local) {\n  var start = _ref5.start,\n    end = _ref5.end;\n  return local.format(start, 'MMM dd', culture) + '  ' + local.format(end, (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq)(start, end, 'month') ? 'dd' : 'MMM dd', culture);\n};\nvar formats$2 = {\n  dateFormat: 'dd',\n  dayFormat: 'eee dd/MM',\n  weekdayFormat: 'eee',\n  selectRangeFormat: timeRangeFormat$2,\n  eventTimeRangeFormat: timeRangeFormat$2,\n  eventTimeRangeStartFormat: timeRangeStartFormat$2,\n  eventTimeRangeEndFormat: timeRangeEndFormat$2,\n  timeGutterFormat: {\n    time: 'short'\n  },\n  monthHeaderFormat: 'MMMM yyyy',\n  dayHeaderFormat: 'eeee MMM dd',\n  dayRangeHeaderFormat: weekRangeFormat$2,\n  agendaHeaderFormat: dateRangeFormat$2,\n  agendaDateFormat: 'eee MMM dd',\n  agendaTimeFormat: {\n    time: 'short'\n  },\n  agendaTimeRangeFormat: timeRangeFormat$2\n};\nfunction globalize (globalize) {\n  var locale = function locale(culture) {\n    return culture ? globalize(culture) : globalize;\n  };\n\n  // return the first day of the week from the locale data. Defaults to 'world'\n  // territory if no territory is derivable from CLDR.\n  // Failing to use CLDR supplemental (not loaded?), revert to the original\n  // method of getting first day of week.\n  function firstOfWeek(culture) {\n    try {\n      var days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n      var cldr = locale(culture).cldr;\n      var territory = cldr.attributes.territory;\n      var weekData = cldr.get('supplemental').weekData;\n      var firstDay = weekData.firstDay[territory || '001'];\n      return days.indexOf(firstDay);\n    } catch (e) {\n      if (true) {\n        console.error('Failed to accurately determine first day of the week.' + ' Is supplemental data loaded into CLDR?');\n      }\n      // maybe cldr supplemental is not loaded? revert to original method\n      var date = new Date();\n      //cldr-data doesn't seem to be zero based\n      var localeDay = Math.max(parseInt(locale(culture).formatDate(date, {\n        raw: 'e'\n      }), 10) - 1, 0);\n      return Math.abs(date.getDay() - localeDay);\n    }\n  }\n  if (!globalize.load) return oldGlobalize(globalize);\n  return new DateLocalizer({\n    firstOfWeek: firstOfWeek,\n    formats: formats$2,\n    format: function format(value, _format, culture) {\n      _format = typeof _format === 'string' ? {\n        raw: _format\n      } : _format;\n      return locale(culture).formatDate(value, _format);\n    }\n  });\n}\n\nvar dateRangeFormat$1 = function dateRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return \"\".concat(local.format(start, 'P', culture), \" \\u2013 \").concat(local.format(end, 'P', culture));\n};\nvar timeRangeFormat$1 = function timeRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return \"\".concat(local.format(start, 'p', culture), \" \\u2013 \").concat(local.format(end, 'p', culture));\n};\nvar timeRangeStartFormat$1 = function timeRangeStartFormat(_ref3, culture, local) {\n  var start = _ref3.start;\n  return \"\".concat(local.format(start, 'h:mma', culture), \" \\u2013 \");\n};\nvar timeRangeEndFormat$1 = function timeRangeEndFormat(_ref4, culture, local) {\n  var end = _ref4.end;\n  return \" \\u2013 \".concat(local.format(end, 'h:mma', culture));\n};\nvar weekRangeFormat$1 = function weekRangeFormat(_ref5, culture, local) {\n  var start = _ref5.start,\n    end = _ref5.end;\n  return \"\".concat(local.format(start, 'MMMM dd', culture), \" \\u2013 \").concat(local.format(end, (0,date_arithmetic__WEBPACK_IMPORTED_MODULE_12__.eq)(start, end, 'month') ? 'dd' : 'MMMM dd', culture));\n};\nvar formats$1 = {\n  dateFormat: 'dd',\n  dayFormat: 'dd eee',\n  weekdayFormat: 'ccc',\n  selectRangeFormat: timeRangeFormat$1,\n  eventTimeRangeFormat: timeRangeFormat$1,\n  eventTimeRangeStartFormat: timeRangeStartFormat$1,\n  eventTimeRangeEndFormat: timeRangeEndFormat$1,\n  timeGutterFormat: 'p',\n  monthHeaderFormat: 'MMMM yyyy',\n  dayHeaderFormat: 'cccc MMM dd',\n  dayRangeHeaderFormat: weekRangeFormat$1,\n  agendaHeaderFormat: dateRangeFormat$1,\n  agendaDateFormat: 'ccc MMM dd',\n  agendaTimeFormat: 'p',\n  agendaTimeRangeFormat: timeRangeFormat$1\n};\nvar dateFnsLocalizer = function dateFnsLocalizer(_ref6) {\n  var startOfWeek = _ref6.startOfWeek,\n    getDay = _ref6.getDay,\n    _format = _ref6.format,\n    locales = _ref6.locales;\n  return new DateLocalizer({\n    formats: formats$1,\n    firstOfWeek: function firstOfWeek(culture) {\n      return getDay(startOfWeek(new Date(), {\n        locale: locales[culture]\n      }));\n    },\n    format: function format(value, formatString, culture) {\n      return _format(new Date(value), formatString, {\n        locale: locales[culture]\n      });\n    }\n  });\n};\n\nvar weekRangeFormat = function weekRangeFormat(_ref, culture, local) {\n  var start = _ref.start,\n    end = _ref.end;\n  return local.format(start, 'MMMM DD', culture) + '  ' +\n  // updated to use this localizer 'eq()' method\n  local.format(end, local.eq(start, end, 'month') ? 'DD' : 'MMMM DD', culture);\n};\nvar dateRangeFormat = function dateRangeFormat(_ref2, culture, local) {\n  var start = _ref2.start,\n    end = _ref2.end;\n  return local.format(start, 'L', culture) + '  ' + local.format(end, 'L', culture);\n};\nvar timeRangeFormat = function timeRangeFormat(_ref3, culture, local) {\n  var start = _ref3.start,\n    end = _ref3.end;\n  return local.format(start, 'LT', culture) + '  ' + local.format(end, 'LT', culture);\n};\nvar timeRangeStartFormat = function timeRangeStartFormat(_ref4, culture, local) {\n  var start = _ref4.start;\n  return local.format(start, 'LT', culture) + '  ';\n};\nvar timeRangeEndFormat = function timeRangeEndFormat(_ref5, culture, local) {\n  var end = _ref5.end;\n  return '  ' + local.format(end, 'LT', culture);\n};\nvar formats = {\n  dateFormat: 'DD',\n  dayFormat: 'DD ddd',\n  weekdayFormat: 'ddd',\n  selectRangeFormat: timeRangeFormat,\n  eventTimeRangeFormat: timeRangeFormat,\n  eventTimeRangeStartFormat: timeRangeStartFormat,\n  eventTimeRangeEndFormat: timeRangeEndFormat,\n  timeGutterFormat: 'LT',\n  monthHeaderFormat: 'MMMM YYYY',\n  dayHeaderFormat: 'dddd MMM DD',\n  dayRangeHeaderFormat: weekRangeFormat,\n  agendaHeaderFormat: dateRangeFormat,\n  agendaDateFormat: 'ddd MMM DD',\n  agendaTimeFormat: 'LT',\n  agendaTimeRangeFormat: timeRangeFormat\n};\nfunction fixUnit(unit) {\n  var datePart = unit ? unit.toLowerCase() : unit;\n  if (datePart === 'FullYear') {\n    datePart = 'year';\n  } else if (!datePart) {\n    datePart = undefined;\n  }\n  return datePart;\n}\nfunction dayjs (dayjsLib) {\n  // load dayjs plugins\n  dayjsLib.extend((dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_37___default()));\n  dayjsLib.extend((dayjs_plugin_isSameOrAfter__WEBPACK_IMPORTED_MODULE_38___default()));\n  dayjsLib.extend((dayjs_plugin_isSameOrBefore__WEBPACK_IMPORTED_MODULE_39___default()));\n  dayjsLib.extend((dayjs_plugin_localeData__WEBPACK_IMPORTED_MODULE_40___default()));\n  dayjsLib.extend((dayjs_plugin_localizedFormat__WEBPACK_IMPORTED_MODULE_41___default()));\n  dayjsLib.extend((dayjs_plugin_minMax__WEBPACK_IMPORTED_MODULE_42___default()));\n  dayjsLib.extend((dayjs_plugin_utc__WEBPACK_IMPORTED_MODULE_43___default()));\n  var locale = function locale(dj, c) {\n    return c ? dj.locale(c) : dj;\n  };\n\n  // if the timezone plugin is loaded,\n  // then use the timezone aware version\n  var dayjs = dayjsLib.tz ? dayjsLib.tz : dayjsLib;\n  function getTimezoneOffset(date) {\n    // ensures this gets cast to timezone\n    return dayjs(date).toDate().getTimezoneOffset();\n  }\n  function getDstOffset(start, end) {\n    var _st$tz$$x$$timezone;\n    // convert to dayjs, in case\n    var st = dayjs(start);\n    var ed = dayjs(end);\n    // if not using the dayjs timezone plugin\n    if (!dayjs.tz) {\n      return st.toDate().getTimezoneOffset() - ed.toDate().getTimezoneOffset();\n    }\n    /**\n     * If a default timezone has been applied, then\n     * use this to get the proper timezone offset, otherwise default\n     * the timezone to the browser local\n     */\n    var tzName = (_st$tz$$x$$timezone = st.tz().$x.$timezone) !== null && _st$tz$$x$$timezone !== void 0 ? _st$tz$$x$$timezone : dayjsLib.tz.guess();\n    // invert offsets to be inline with moment.js\n    var startOffset = -dayjs.tz(+st, tzName).utcOffset();\n    var endOffset = -dayjs.tz(+ed, tzName).utcOffset();\n    return startOffset - endOffset;\n  }\n  function getDayStartDstOffset(start) {\n    var dayStart = dayjs(start).startOf('day');\n    return getDstOffset(dayStart, start);\n  }\n\n  /*** BEGIN localized date arithmetic methods with dayjs ***/\n  function defineComparators(a, b, unit) {\n    var datePart = fixUnit(unit);\n    var dtA = datePart ? dayjs(a).startOf(datePart) : dayjs(a);\n    var dtB = datePart ? dayjs(b).startOf(datePart) : dayjs(b);\n    return [dtA, dtB, datePart];\n  }\n  function startOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit(unit);\n    if (datePart) {\n      return dayjs(date).startOf(datePart).toDate();\n    }\n    return dayjs(date).toDate();\n  }\n  function endOf() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var unit = arguments.length > 1 ? arguments[1] : undefined;\n    var datePart = fixUnit(unit);\n    if (datePart) {\n      return dayjs(date).endOf(datePart).toDate();\n    }\n    return dayjs(date).toDate();\n  }\n\n  // dayjs comparison operations *always* convert both sides to dayjs objects\n  // prior to running the comparisons\n  function eq(a, b, unit) {\n    var _defineComparators = defineComparators(a, b, unit),\n      _defineComparators2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators, 3),\n      dtA = _defineComparators2[0],\n      dtB = _defineComparators2[1],\n      datePart = _defineComparators2[2];\n    return dtA.isSame(dtB, datePart);\n  }\n  function neq(a, b, unit) {\n    return !eq(a, b, unit);\n  }\n  function gt(a, b, unit) {\n    var _defineComparators3 = defineComparators(a, b, unit),\n      _defineComparators4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators3, 3),\n      dtA = _defineComparators4[0],\n      dtB = _defineComparators4[1],\n      datePart = _defineComparators4[2];\n    return dtA.isAfter(dtB, datePart);\n  }\n  function lt(a, b, unit) {\n    var _defineComparators5 = defineComparators(a, b, unit),\n      _defineComparators6 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators5, 3),\n      dtA = _defineComparators6[0],\n      dtB = _defineComparators6[1],\n      datePart = _defineComparators6[2];\n    return dtA.isBefore(dtB, datePart);\n  }\n  function gte(a, b, unit) {\n    var _defineComparators7 = defineComparators(a, b, unit),\n      _defineComparators8 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators7, 3),\n      dtA = _defineComparators8[0],\n      dtB = _defineComparators8[1],\n      datePart = _defineComparators8[2];\n    return dtA.isSameOrBefore(dtB, datePart);\n  }\n  function lte(a, b, unit) {\n    var _defineComparators9 = defineComparators(a, b, unit),\n      _defineComparators10 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_defineComparators9, 3),\n      dtA = _defineComparators10[0],\n      dtB = _defineComparators10[1],\n      datePart = _defineComparators10[2];\n    return dtA.isSameOrBefore(dtB, datePart);\n  }\n  function inRange(day, min, max) {\n    var unit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'day';\n    var datePart = fixUnit(unit);\n    var djDay = dayjs(day);\n    var djMin = dayjs(min);\n    var djMax = dayjs(max);\n    return djDay.isBetween(djMin, djMax, datePart, '[]');\n  }\n  function min(dateA, dateB) {\n    var dtA = dayjs(dateA);\n    var dtB = dayjs(dateB);\n    var minDt = dayjsLib.min(dtA, dtB);\n    return minDt.toDate();\n  }\n  function max(dateA, dateB) {\n    var dtA = dayjs(dateA);\n    var dtB = dayjs(dateB);\n    var maxDt = dayjsLib.max(dtA, dtB);\n    return maxDt.toDate();\n  }\n  function merge(date, time) {\n    if (!date && !time) return null;\n    var tm = dayjs(time).format('HH:mm:ss');\n    var dt = dayjs(date).startOf('day').format('MM/DD/YYYY');\n    // We do it this way to avoid issues when timezone switching\n    return dayjsLib(\"\".concat(dt, \" \").concat(tm), 'MM/DD/YYYY HH:mm:ss').toDate();\n  }\n  function add(date, adder, unit) {\n    var datePart = fixUnit(unit);\n    return dayjs(date).add(adder, datePart).toDate();\n  }\n  function range(start, end) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit(unit);\n    // because the add method will put these in tz, we have to start that way\n    var current = dayjs(start).toDate();\n    var days = [];\n    while (lte(current, end)) {\n      days.push(current);\n      current = add(current, 1, datePart);\n    }\n    return days;\n  }\n  function ceil(date, unit) {\n    var datePart = fixUnit(unit);\n    var floor = startOf(date, datePart);\n    return eq(floor, date) ? floor : add(floor, 1, datePart);\n  }\n  function diff(a, b) {\n    var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'day';\n    var datePart = fixUnit(unit);\n    // don't use 'defineComparators' here, as we don't want to mutate the values\n    var dtA = dayjs(a);\n    var dtB = dayjs(b);\n    return dtB.diff(dtA, datePart);\n  }\n  function minutes(date) {\n    var dt = dayjs(date);\n    return dt.minutes();\n  }\n  function firstOfWeek(culture) {\n    var data = culture ? dayjsLib.localeData(culture) : dayjsLib.localeData();\n    return data ? data.firstDayOfWeek() : 0;\n  }\n  function firstVisibleDay(date) {\n    return dayjs(date).startOf('month').startOf('week').toDate();\n  }\n  function lastVisibleDay(date) {\n    return dayjs(date).endOf('month').endOf('week').toDate();\n  }\n  function visibleDays(date) {\n    var current = firstVisibleDay(date);\n    var last = lastVisibleDay(date);\n    var days = [];\n    while (lte(current, last)) {\n      days.push(current);\n      current = add(current, 1, 'd');\n    }\n    return days;\n  }\n  /*** END localized date arithmetic methods with dayjs ***/\n\n  /**\n   * Moved from TimeSlots.js, this method overrides the method of the same name\n   * in the localizer.js, using dayjs to construct the js Date\n   * @param {Date} dt - date to start with\n   * @param {Number} minutesFromMidnight\n   * @param {Number} offset\n   * @returns {Date}\n   */\n  function getSlotDate(dt, minutesFromMidnight, offset) {\n    return dayjs(dt).startOf('day').minute(minutesFromMidnight + offset).toDate();\n  }\n\n  // dayjs will automatically handle DST differences in it's calculations\n  function getTotalMin(start, end) {\n    return diff(start, end, 'minutes');\n  }\n  function getMinutesFromMidnight(start) {\n    var dayStart = dayjs(start).startOf('day');\n    var day = dayjs(start);\n    return day.diff(dayStart, 'minutes') + getDayStartDstOffset(start);\n  }\n\n  // These two are used by DateSlotMetrics\n  function continuesPrior(start, first) {\n    var djStart = dayjs(start);\n    var djFirst = dayjs(first);\n    return djStart.isBefore(djFirst, 'day');\n  }\n  function continuesAfter(start, end, last) {\n    var djEnd = dayjs(end);\n    var djLast = dayjs(last);\n    return djEnd.isSameOrAfter(djLast, 'minutes');\n  }\n  function daySpan(start, end) {\n    var startDay = dayjs(start);\n    var endDay = dayjs(end);\n    return endDay.diff(startDay, 'day');\n  }\n\n  // These two are used by eventLevels\n  function sortEvents(_ref6) {\n    var _ref6$evtA = _ref6.evtA,\n      aStart = _ref6$evtA.start,\n      aEnd = _ref6$evtA.end,\n      aAllDay = _ref6$evtA.allDay,\n      _ref6$evtB = _ref6.evtB,\n      bStart = _ref6$evtB.start,\n      bEnd = _ref6$evtB.end,\n      bAllDay = _ref6$evtB.allDay;\n    var startSort = +startOf(aStart, 'day') - +startOf(bStart, 'day');\n    var durA = daySpan(aStart, aEnd);\n    var durB = daySpan(bStart, bEnd);\n    return startSort ||\n    // sort by start Day first\n    durB - durA ||\n    // events spanning multiple days go first\n    !!bAllDay - !!aAllDay ||\n    // then allDay single day events\n    +aStart - +bStart ||\n    // then sort by start time *don't need dayjs conversion here\n    +aEnd - +bEnd // then sort by end time *don't need dayjs conversion here either\n    ;\n  }\n  function inEventRange(_ref7) {\n    var _ref7$event = _ref7.event,\n      start = _ref7$event.start,\n      end = _ref7$event.end,\n      _ref7$range = _ref7.range,\n      rangeStart = _ref7$range.start,\n      rangeEnd = _ref7$range.end;\n    var startOfDay = dayjs(start).startOf('day');\n    var eEnd = dayjs(end);\n    var rStart = dayjs(rangeStart);\n    var rEnd = dayjs(rangeEnd);\n    var startsBeforeEnd = startOfDay.isSameOrBefore(rEnd, 'day');\n    // when the event is zero duration we need to handle a bit differently\n    var sameMin = !startOfDay.isSame(eEnd, 'minutes');\n    var endsAfterStart = sameMin ? eEnd.isAfter(rStart, 'minutes') : eEnd.isSameOrAfter(rStart, 'minutes');\n    return startsBeforeEnd && endsAfterStart;\n  }\n  function isSameDate(date1, date2) {\n    var dt = dayjs(date1);\n    var dt2 = dayjs(date2);\n    return dt.isSame(dt2, 'day');\n  }\n\n  /**\n   * This method, called once in the localizer constructor, is used by eventLevels\n   * 'eventSegments()' to assist in determining the 'span' of the event in the display,\n   * specifically when using a timezone that is greater than the browser native timezone.\n   * @returns number\n   */\n  function browserTZOffset() {\n    /**\n     * Date.prototype.getTimezoneOffset horrifically flips the positive/negative from\n     * what you see in it's string, so we have to jump through some hoops to get a value\n     * we can actually compare.\n     */\n    var dt = new Date();\n    var neg = /-/.test(dt.toString()) ? '-' : '';\n    var dtOffset = dt.getTimezoneOffset();\n    var comparator = Number(\"\".concat(neg).concat(Math.abs(dtOffset)));\n    // dayjs correctly provides positive/negative offset, as expected\n    var mtOffset = dayjs().utcOffset();\n    return mtOffset > comparator ? 1 : 0;\n  }\n  return new DateLocalizer({\n    formats: formats,\n    firstOfWeek: firstOfWeek,\n    firstVisibleDay: firstVisibleDay,\n    lastVisibleDay: lastVisibleDay,\n    visibleDays: visibleDays,\n    format: function format(value, _format, culture) {\n      return locale(dayjs(value), culture).format(_format);\n    },\n    lt: lt,\n    lte: lte,\n    gt: gt,\n    gte: gte,\n    eq: eq,\n    neq: neq,\n    merge: merge,\n    inRange: inRange,\n    startOf: startOf,\n    endOf: endOf,\n    range: range,\n    add: add,\n    diff: diff,\n    ceil: ceil,\n    min: min,\n    max: max,\n    minutes: minutes,\n    getSlotDate: getSlotDate,\n    getTimezoneOffset: getTimezoneOffset,\n    getDstOffset: getDstOffset,\n    getTotalMin: getTotalMin,\n    getMinutesFromMidnight: getMinutesFromMidnight,\n    continuesPrior: continuesPrior,\n    continuesAfter: continuesAfter,\n    sortEvents: sortEvents,\n    inEventRange: inEventRange,\n    isSameDate: isSameDate,\n    browserTZOffset: browserTZOffset\n  });\n}\n\nvar components = {\n  eventWrapper: NoopWrapper,\n  timeSlotWrapper: NoopWrapper,\n  dateCellWrapper: NoopWrapper\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvZGlzdC9yZWFjdC1iaWctY2FsZW5kYXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFFO0FBQ3FCO0FBQ2xDO0FBQ2dCO0FBQ047QUFDSjtBQUNGO0FBQ1U7QUFDOUM7QUFDZ0c7QUFDeEU7QUFDYjtBQUNEO0FBQ087QUFDaUY7QUFDbEQ7QUFDTTtBQUM3QztBQUNnQjtBQUNZO0FBQ3BCO0FBQ0U7QUFDSjtBQUNJO0FBQ0k7QUFDSDtBQUNGO0FBQ0Y7QUFDQztBQUNOO0FBQ0Q7QUFDTztBQUNOO0FBQ21CO0FBQ0k7QUFDZDtBQUNNO0FBQ1g7QUFDRTtBQUNWO0FBQ1U7QUFDTTtBQUNRO0FBQ0U7QUFDUjtBQUNVO0FBQ2xCO0FBQ047O0FBRW5DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDREQUFtQixFQUFFLDJEQUFnQixFQUFFLHlEQUFjO0FBQ3JELHdEQUFhO0FBQ2IseURBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUFtQixFQUFFLDBEQUFpQixDQUFDLHdEQUFlLGdCQUFnQiwyREFBa0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDJGQUEyRixhQUFhO0FBQ3hHO0FBQ0E7QUFDQSxXQUFXLDhEQUFx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QUNBO0FBQ0EsU0FBUyxrRkFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSw2RkFBNkYsYUFBYTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxpRUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxpRUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlCQUFpQiwrREFBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9GQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9GQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9GQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9GQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9GQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLG9EQUFFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLG9EQUFFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixVQUFVLElBQXFDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFFO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdFQUFTO0FBQzNCLGtCQUFrQixvRUFBYTtBQUMvQixrQkFBa0IscUVBQWM7QUFDaEMsa0JBQWtCLGlFQUFVO0FBQzVCLGtCQUFrQixzRUFBZTtBQUNqQyxrQkFBa0IsNkRBQU07QUFDeEIsa0JBQWtCLDBEQUFHO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvRkFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcVAiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9kaXN0L3JlYWN0LWJpZy1jYWxlbmRhci5lc20uanM/ZTkxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2NhbGxTdXBlciBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jYWxsU3VwZXInO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyc7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmLCBjcmVhdGVSZWYsIENvbXBvbmVudCwgdXNlTWVtbywgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdW5jb250cm9sbGFibGUgfSBmcm9tICd1bmNvbnRyb2xsYWJsZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0ICogYXMgZGF0ZXMgZnJvbSAnZGF0ZS1hcml0aG1ldGljJztcbmltcG9ydCB7IGluUmFuZ2UgYXMgaW5SYW5nZSQxLCBsdCwgbHRlLCBndCwgZ3RlLCBlcSwgbmVxLCBzdGFydE9mLCBlbmRPZiwgYWRkLCBtaW4sIG1heCwgbWludXRlcyB9IGZyb20gJ2RhdGUtYXJpdGhtZXRpYyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXknO1xuaW1wb3J0IGNodW5rIGZyb20gJ2xvZGFzaC9jaHVuayc7XG5pbXBvcnQgZ2V0UG9zaXRpb24kMSBmcm9tICdkb20taGVscGVycy9wb3NpdGlvbic7XG5pbXBvcnQgKiBhcyBhbmltYXRpb25GcmFtZSBmcm9tICdkb20taGVscGVycy9hbmltYXRpb25GcmFtZSc7XG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAncmVhY3Qtb3ZlcmxheXMnO1xuaW1wb3J0IGdldE9mZnNldCBmcm9tICdkb20taGVscGVycy9vZmZzZXQnO1xuaW1wb3J0IGlzRXF1YWwkMSBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgZ2V0SGVpZ2h0IGZyb20gJ2RvbS1oZWxwZXJzL2hlaWdodCc7XG5pbXBvcnQgcXNhIGZyb20gJ2RvbS1oZWxwZXJzL3F1ZXJ5U2VsZWN0b3JBbGwnO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gJ2RvbS1oZWxwZXJzL2NvbnRhaW5zJztcbmltcG9ydCBjbG9zZXN0IGZyb20gJ2RvbS1oZWxwZXJzL2Nsb3Nlc3QnO1xuaW1wb3J0IGxpc3RlbiBmcm9tICdkb20taGVscGVycy9saXN0ZW4nO1xuaW1wb3J0IGZpbmRJbmRleCBmcm9tICdsb2Rhc2gvZmluZEluZGV4JztcbmltcG9ydCByYW5nZSQxIGZyb20gJ2xvZGFzaC9yYW5nZSc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdtZW1vaXplLW9uZSc7XG5pbXBvcnQgZ2V0V2lkdGggZnJvbSAnZG9tLWhlbHBlcnMvd2lkdGgnO1xuaW1wb3J0IHNvcnRCeSBmcm9tICdsb2Rhc2gvc29ydEJ5JztcbmltcG9ydCBzY3JvbGxiYXJTaXplIGZyb20gJ2RvbS1oZWxwZXJzL3Njcm9sbGJhclNpemUnO1xuaW1wb3J0IF90b0FycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQXJyYXknO1xuaW1wb3J0IGFkZENsYXNzIGZyb20gJ2RvbS1oZWxwZXJzL2FkZENsYXNzJztcbmltcG9ydCByZW1vdmVDbGFzcyBmcm9tICdkb20taGVscGVycy9yZW1vdmVDbGFzcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnbG9kYXNoL2RlZmF1bHRzJztcbmltcG9ydCBtYXBWYWx1ZXMgZnJvbSAnbG9kYXNoL21hcFZhbHVlcyc7XG5pbXBvcnQgb21pdCBmcm9tICdsb2Rhc2gvb21pdCc7XG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJ2xvZGFzaC90cmFuc2Zvcm0nO1xuaW1wb3J0IGlzQmV0d2VlbiBmcm9tICdkYXlqcy9wbHVnaW4vaXNCZXR3ZWVuJztcbmltcG9ydCBpc1NhbWVPckFmdGVyIGZyb20gJ2RheWpzL3BsdWdpbi9pc1NhbWVPckFmdGVyJztcbmltcG9ydCBpc1NhbWVPckJlZm9yZSBmcm9tICdkYXlqcy9wbHVnaW4vaXNTYW1lT3JCZWZvcmUnO1xuaW1wb3J0IGxvY2FsZURhdGEgZnJvbSAnZGF5anMvcGx1Z2luL2xvY2FsZURhdGEnO1xuaW1wb3J0IGxvY2FsaXplZEZvcm1hdCBmcm9tICdkYXlqcy9wbHVnaW4vbG9jYWxpemVkRm9ybWF0JztcbmltcG9ydCBtaW5NYXggZnJvbSAnZGF5anMvcGx1Z2luL21pbk1heCc7XG5pbXBvcnQgdXRjIGZyb20gJ2RheWpzL3BsdWdpbi91dGMnO1xuXG5mdW5jdGlvbiBOb29wV3JhcHBlcihwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59XG5cbnZhciBuYXZpZ2F0ZSA9IHtcbiAgUFJFVklPVVM6ICdQUkVWJyxcbiAgTkVYVDogJ05FWFQnLFxuICBUT0RBWTogJ1RPREFZJyxcbiAgREFURTogJ0RBVEUnXG59O1xudmFyIHZpZXdzID0ge1xuICBNT05USDogJ21vbnRoJyxcbiAgV0VFSzogJ3dlZWsnLFxuICBXT1JLX1dFRUs6ICd3b3JrX3dlZWsnLFxuICBEQVk6ICdkYXknLFxuICBBR0VOREE6ICdhZ2VuZGEnXG59O1xuXG52YXIgdmlld05hbWVzJDEgPSBPYmplY3Qua2V5cyh2aWV3cykubWFwKGZ1bmN0aW9uIChrKSB7XG4gIHJldHVybiB2aWV3c1trXTtcbn0pO1xuUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKTtcblByb3BUeXBlcy5hbnk7XG5Qcm9wVHlwZXMuZnVuYztcblxuLyoqXG4gKiBhY2NlcHRzIGVpdGhlciBhbiBhcnJheSBvZiBidWlsdGluIHZpZXcgbmFtZXM6XG4gKlxuICogYGBgXG4gKiB2aWV3cz17Wydtb250aCcsICdkYXknLCAnYWdlbmRhJ119XG4gKiBgYGBcbiAqXG4gKiBvciBhbiBvYmplY3QgaGFzaCBvZiB0aGUgdmlldyBuYW1lIGFuZCB0aGUgY29tcG9uZW50IChvciBib29sZWFuIGZvciBidWlsdGluKVxuICpcbiAqIGBgYFxuICogdmlld3M9e3tcbiAqICAgbW9udGg6IHRydWUsXG4gKiAgIHdlZWs6IGZhbHNlLFxuICogICB3b3Jrd2VlazogV29ya1dlZWtWaWV3Q29tcG9uZW50LFxuICogfX1cbiAqIGBgYFxuICovXG5cblByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vbmVPZih2aWV3TmFtZXMkMSkpLCBQcm9wVHlwZXMub2JqZWN0T2YoZnVuY3Rpb24gKHByb3AsIGtleSkge1xuICB2YXIgaXNCdWlsdGluVmlldyA9IHZpZXdOYW1lcyQxLmluZGV4T2Yoa2V5KSAhPT0gLTEgJiYgdHlwZW9mIHByb3Bba2V5XSA9PT0gJ2Jvb2xlYW4nO1xuICBpZiAoaXNCdWlsdGluVmlldykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICByZXR1cm4gUHJvcFR5cGVzLmVsZW1lbnRUeXBlLmFwcGx5KFByb3BUeXBlcywgW3Byb3AsIGtleV0uY29uY2F0KGFyZ3MpKTtcbiAgfVxufSldKTtcblByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbJ292ZXJsYXAnLCAnbm8tb3ZlcmxhcCddKSwgUHJvcFR5cGVzLmZ1bmNdKTtcblxuLyogZXNsaW50IG5vLWZhbGx0aHJvdWdoOiBvZmYgKi9cbnZhciBNSUxMSSA9IHtcbiAgc2Vjb25kczogMTAwMCxcbiAgbWludXRlczogMTAwMCAqIDYwLFxuICBob3VyczogMTAwMCAqIDYwICogNjAsXG4gIGRheTogMTAwMCAqIDYwICogNjAgKiAyNFxufTtcbmZ1bmN0aW9uIGZpcnN0VmlzaWJsZURheShkYXRlLCBsb2NhbGl6ZXIpIHtcbiAgdmFyIGZpcnN0T2ZNb250aCA9IGRhdGVzLnN0YXJ0T2YoZGF0ZSwgJ21vbnRoJyk7XG4gIHJldHVybiBkYXRlcy5zdGFydE9mKGZpcnN0T2ZNb250aCwgJ3dlZWsnLCBsb2NhbGl6ZXIuc3RhcnRPZldlZWsoKSk7XG59XG5mdW5jdGlvbiBsYXN0VmlzaWJsZURheShkYXRlLCBsb2NhbGl6ZXIpIHtcbiAgdmFyIGVuZE9mTW9udGggPSBkYXRlcy5lbmRPZihkYXRlLCAnbW9udGgnKTtcbiAgcmV0dXJuIGRhdGVzLmVuZE9mKGVuZE9mTW9udGgsICd3ZWVrJywgbG9jYWxpemVyLnN0YXJ0T2ZXZWVrKCkpO1xufVxuZnVuY3Rpb24gdmlzaWJsZURheXMoZGF0ZSwgbG9jYWxpemVyKSB7XG4gIHZhciBjdXJyZW50ID0gZmlyc3RWaXNpYmxlRGF5KGRhdGUsIGxvY2FsaXplciksXG4gICAgbGFzdCA9IGxhc3RWaXNpYmxlRGF5KGRhdGUsIGxvY2FsaXplciksXG4gICAgZGF5cyA9IFtdO1xuICB3aGlsZSAoZGF0ZXMubHRlKGN1cnJlbnQsIGxhc3QsICdkYXknKSkge1xuICAgIGRheXMucHVzaChjdXJyZW50KTtcbiAgICBjdXJyZW50ID0gZGF0ZXMuYWRkKGN1cnJlbnQsIDEsICdkYXknKTtcbiAgfVxuICByZXR1cm4gZGF5cztcbn1cbmZ1bmN0aW9uIGNlaWwoZGF0ZSwgdW5pdCkge1xuICB2YXIgZmxvb3IgPSBkYXRlcy5zdGFydE9mKGRhdGUsIHVuaXQpO1xuICByZXR1cm4gZGF0ZXMuZXEoZmxvb3IsIGRhdGUpID8gZmxvb3IgOiBkYXRlcy5hZGQoZmxvb3IsIDEsIHVuaXQpO1xufVxuZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCkge1xuICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2RheSc7XG4gIHZhciBjdXJyZW50ID0gc3RhcnQsXG4gICAgZGF5cyA9IFtdO1xuICB3aGlsZSAoZGF0ZXMubHRlKGN1cnJlbnQsIGVuZCwgdW5pdCkpIHtcbiAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGRhdGVzLmFkZChjdXJyZW50LCAxLCB1bml0KTtcbiAgfVxuICByZXR1cm4gZGF5cztcbn1cbmZ1bmN0aW9uIG1lcmdlKGRhdGUsIHRpbWUpIHtcbiAgaWYgKHRpbWUgPT0gbnVsbCAmJiBkYXRlID09IG51bGwpIHJldHVybiBudWxsO1xuICBpZiAodGltZSA9PSBudWxsKSB0aW1lID0gbmV3IERhdGUoKTtcbiAgaWYgKGRhdGUgPT0gbnVsbCkgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGRhdGUgPSBkYXRlcy5zdGFydE9mKGRhdGUsICdkYXknKTtcbiAgZGF0ZSA9IGRhdGVzLmhvdXJzKGRhdGUsIGRhdGVzLmhvdXJzKHRpbWUpKTtcbiAgZGF0ZSA9IGRhdGVzLm1pbnV0ZXMoZGF0ZSwgZGF0ZXMubWludXRlcyh0aW1lKSk7XG4gIGRhdGUgPSBkYXRlcy5zZWNvbmRzKGRhdGUsIGRhdGVzLnNlY29uZHModGltZSkpO1xuICByZXR1cm4gZGF0ZXMubWlsbGlzZWNvbmRzKGRhdGUsIGRhdGVzLm1pbGxpc2Vjb25kcyh0aW1lKSk7XG59XG5mdW5jdGlvbiBpc0p1c3REYXRlKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGVzLmhvdXJzKGRhdGUpID09PSAwICYmIGRhdGVzLm1pbnV0ZXMoZGF0ZSkgPT09IDAgJiYgZGF0ZXMuc2Vjb25kcyhkYXRlKSA9PT0gMCAmJiBkYXRlcy5taWxsaXNlY29uZHMoZGF0ZSkgPT09IDA7XG59XG5mdW5jdGlvbiBkdXJhdGlvbihzdGFydCwgZW5kLCB1bml0LCBmaXJzdE9mV2Vlaykge1xuICBpZiAodW5pdCA9PT0gJ2RheScpIHVuaXQgPSAnZGF0ZSc7XG4gIHJldHVybiBNYXRoLmFicyhcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uYW1lc3BhY2VcbiAgZGF0ZXNbdW5pdF0oc3RhcnQsIHVuZGVmaW5lZCwgZmlyc3RPZldlZWspIC1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uYW1lc3BhY2VcbiAgZGF0ZXNbdW5pdF0oZW5kLCB1bmRlZmluZWQsIGZpcnN0T2ZXZWVrKSk7XG59XG5mdW5jdGlvbiBkaWZmKGRhdGVBLCBkYXRlQiwgdW5pdCkge1xuICBpZiAoIXVuaXQgfHwgdW5pdCA9PT0gJ21pbGxpc2Vjb25kcycpIHJldHVybiBNYXRoLmFicygrZGF0ZUEgLSArZGF0ZUIpO1xuXG4gIC8vIHRoZSAucm91bmQoKSBoYW5kbGVzIGFuIGVkZ2UgY2FzZVxuICAvLyB3aXRoIERTVCB3aGVyZSB0aGUgdG90YWwgd29uJ3QgYmUgZXhhY3RcbiAgLy8gc2luY2Ugb25lIGRheSBpbiB0aGUgcmFuZ2UgbWF5IGJlIHNob3J0ZXIvbG9uZ2VyIGJ5IGFuIGhvdXJcbiAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5hYnMoK2RhdGVzLnN0YXJ0T2YoZGF0ZUEsIHVuaXQpIC8gTUlMTElbdW5pdF0gLSArZGF0ZXMuc3RhcnRPZihkYXRlQiwgdW5pdCkgLyBNSUxMSVt1bml0XSkpO1xufVxuXG52YXIgbG9jYWxlUHJvcFR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pO1xuZnVuY3Rpb24gX2Zvcm1hdChsb2NhbGl6ZXIsIGZvcm1hdHRlciwgdmFsdWUsIGZvcm1hdCwgY3VsdHVyZSkge1xuICB2YXIgcmVzdWx0ID0gdHlwZW9mIGZvcm1hdCA9PT0gJ2Z1bmN0aW9uJyA/IGZvcm1hdCh2YWx1ZSwgY3VsdHVyZSwgbG9jYWxpemVyKSA6IGZvcm1hdHRlci5jYWxsKGxvY2FsaXplciwgdmFsdWUsIGZvcm1hdCwgY3VsdHVyZSk7XG4gIGludmFyaWFudChyZXN1bHQgPT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJywgJ2Bsb2NhbGl6ZXIgZm9ybWF0KC4uKWAgbXVzdCByZXR1cm4gYSBzdHJpbmcsIG51bGwsIG9yIHVuZGVmaW5lZCcpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZGF0ZSBjb252ZXJzaW9uIHdhcyBtb3ZlZCBvdXQgb2YgVGltZVNsb3RzLmpzLCB0b1xuICogYWxsb3cgZm9yIGxvY2FsaXplciBvdmVycmlkZVxuICogQHBhcmFtIHtEYXRlfSBkdCAtIFRoZSBkYXRlIHRvIHN0YXJ0IGZyb21cbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW51dGVzRnJvbU1pZG5pZ2h0XG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG4gKiBAcmV0dXJucyB7RGF0ZX1cbiAqL1xuZnVuY3Rpb24gZ2V0U2xvdERhdGUoZHQsIG1pbnV0ZXNGcm9tTWlkbmlnaHQsIG9mZnNldCkge1xuICByZXR1cm4gbmV3IERhdGUoZHQuZ2V0RnVsbFllYXIoKSwgZHQuZ2V0TW9udGgoKSwgZHQuZ2V0RGF0ZSgpLCAwLCBtaW51dGVzRnJvbU1pZG5pZ2h0ICsgb2Zmc2V0LCAwLCAwKTtcbn1cbmZ1bmN0aW9uIGdldERzdE9mZnNldChzdGFydCwgZW5kKSB7XG4gIHJldHVybiBzdGFydC5nZXRUaW1lem9uZU9mZnNldCgpIC0gZW5kLmdldFRpbWV6b25lT2Zmc2V0KCk7XG59XG5cbi8vIGlmIHRoZSBzdGFydCBpcyBvbiBhIERTVC1jaGFuZ2luZyBkYXkgYnV0ICphZnRlciogdGhlIG1vbWVudCBvZiBEU1Rcbi8vIHRyYW5zaXRpb24gd2UgbmVlZCB0byBhZGQgdGhvc2UgZXh0cmEgbWludXRlcyB0byBvdXIgbWludXRlc0Zyb21NaWRuaWdodFxuZnVuY3Rpb24gZ2V0VG90YWxNaW4oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZGlmZihzdGFydCwgZW5kLCAnbWludXRlcycpICsgZ2V0RHN0T2Zmc2V0KHN0YXJ0LCBlbmQpO1xufVxuZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21NaWRuaWdodChzdGFydCkge1xuICB2YXIgZGF5c3RhcnQgPSBzdGFydE9mKHN0YXJ0LCAnZGF5Jyk7XG4gIHJldHVybiBkaWZmKGRheXN0YXJ0LCBzdGFydCwgJ21pbnV0ZXMnKSArIGdldERzdE9mZnNldChkYXlzdGFydCwgc3RhcnQpO1xufVxuXG4vLyBUaGVzZSB0d28gYXJlIHVzZWQgYnkgRGF0ZVNsb3RNZXRyaWNzXG5mdW5jdGlvbiBjb250aW51ZXNQcmlvcihzdGFydCwgZmlyc3QpIHtcbiAgcmV0dXJuIGx0KHN0YXJ0LCBmaXJzdCwgJ2RheScpO1xufVxuZnVuY3Rpb24gY29udGludWVzQWZ0ZXIoc3RhcnQsIGVuZCwgbGFzdCkge1xuICB2YXIgc2luZ2xlRGF5RHVyYXRpb24gPSBlcShzdGFydCwgZW5kLCAnbWludXRlcycpO1xuICByZXR1cm4gc2luZ2xlRGF5RHVyYXRpb24gPyBndGUoZW5kLCBsYXN0LCAnbWludXRlcycpIDogZ3QoZW5kLCBsYXN0LCAnbWludXRlcycpO1xufVxuZnVuY3Rpb24gZGF5U3BhbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBkdXJhdGlvbihzdGFydCwgZW5kLCAnZGF5Jyk7XG59XG5cbi8vIFRoZXNlIHR3byBhcmUgdXNlZCBieSBldmVudExldmVsc1xuZnVuY3Rpb24gc29ydEV2ZW50cyQxKF9yZWYpIHtcbiAgdmFyIF9yZWYkZXZ0QSA9IF9yZWYuZXZ0QSxcbiAgICBhU3RhcnQgPSBfcmVmJGV2dEEuc3RhcnQsXG4gICAgYUVuZCA9IF9yZWYkZXZ0QS5lbmQsXG4gICAgYUFsbERheSA9IF9yZWYkZXZ0QS5hbGxEYXksXG4gICAgX3JlZiRldnRCID0gX3JlZi5ldnRCLFxuICAgIGJTdGFydCA9IF9yZWYkZXZ0Qi5zdGFydCxcbiAgICBiRW5kID0gX3JlZiRldnRCLmVuZCxcbiAgICBiQWxsRGF5ID0gX3JlZiRldnRCLmFsbERheTtcbiAgdmFyIHN0YXJ0U29ydCA9ICtzdGFydE9mKGFTdGFydCwgJ2RheScpIC0gK3N0YXJ0T2YoYlN0YXJ0LCAnZGF5Jyk7XG4gIHZhciBkdXJBID0gZGF5U3BhbihhU3RhcnQsIGFFbmQpO1xuICB2YXIgZHVyQiA9IGRheVNwYW4oYlN0YXJ0LCBiRW5kKTtcbiAgcmV0dXJuIHN0YXJ0U29ydCB8fFxuICAvLyBzb3J0IGJ5IHN0YXJ0IERheSBmaXJzdFxuICBkdXJCIC0gZHVyQSB8fFxuICAvLyBldmVudHMgc3Bhbm5pbmcgbXVsdGlwbGUgZGF5cyBnbyBmaXJzdFxuICAhIWJBbGxEYXkgLSAhIWFBbGxEYXkgfHxcbiAgLy8gdGhlbiBhbGxEYXkgc2luZ2xlIGRheSBldmVudHNcbiAgK2FTdGFydCAtICtiU3RhcnQgfHxcbiAgLy8gdGhlbiBzb3J0IGJ5IHN0YXJ0IHRpbWVcbiAgK2FFbmQgLSArYkVuZCAvLyB0aGVuIHNvcnQgYnkgZW5kIHRpbWVcbiAgO1xufVxuZnVuY3Rpb24gaW5FdmVudFJhbmdlKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRldmVudCA9IF9yZWYyLmV2ZW50LFxuICAgIHN0YXJ0ID0gX3JlZjIkZXZlbnQuc3RhcnQsXG4gICAgZW5kID0gX3JlZjIkZXZlbnQuZW5kLFxuICAgIF9yZWYyJHJhbmdlID0gX3JlZjIucmFuZ2UsXG4gICAgcmFuZ2VTdGFydCA9IF9yZWYyJHJhbmdlLnN0YXJ0LFxuICAgIHJhbmdlRW5kID0gX3JlZjIkcmFuZ2UuZW5kO1xuICB2YXIgZVN0YXJ0ID0gc3RhcnRPZihzdGFydCwgJ2RheScpO1xuICB2YXIgc3RhcnRzQmVmb3JlRW5kID0gbHRlKGVTdGFydCwgcmFuZ2VFbmQsICdkYXknKTtcbiAgLy8gd2hlbiB0aGUgZXZlbnQgaXMgemVybyBkdXJhdGlvbiB3ZSBuZWVkIHRvIGhhbmRsZSBhIGJpdCBkaWZmZXJlbnRseVxuICB2YXIgc2FtZU1pbiA9IG5lcShlU3RhcnQsIGVuZCwgJ21pbnV0ZXMnKTtcbiAgdmFyIGVuZHNBZnRlclN0YXJ0ID0gc2FtZU1pbiA/IGd0KGVuZCwgcmFuZ2VTdGFydCwgJ21pbnV0ZXMnKSA6IGd0ZShlbmQsIHJhbmdlU3RhcnQsICdtaW51dGVzJyk7XG4gIHJldHVybiBzdGFydHNCZWZvcmVFbmQgJiYgZW5kc0FmdGVyU3RhcnQ7XG59XG5cbi8vIG90aGVyIGxvY2FsaXplcnMgdHJlYXRzICdkYXknIGFuZCAnZGF0ZScgZXF1YWxpdHkgdmVyeSBkaWZmZXJlbnRseSwgc28gd2Vcbi8vIGFic3RyYWN0IHRoZSBjaGFuZ2UgdGhlICdsb2NhbGl6ZXIuZXEoZGF0ZTEsIGRhdGUyLCAnZGF5JykgaW50byB0aGlzXG4vLyBuZXcgbWV0aG9kLCB3aGVyZSB0aGV5IGNhbiBiZSB0cmVhdGVkIGNvcnJlY3RseSBieSB0aGUgbG9jYWxpemVyIG92ZXJyaWRlc1xuZnVuY3Rpb24gaXNTYW1lRGF0ZShkYXRlMSwgZGF0ZTIpIHtcbiAgcmV0dXJuIGVxKGRhdGUxLCBkYXRlMiwgJ2RheScpO1xufVxuZnVuY3Rpb24gc3RhcnRBbmRFbmRBcmVEYXRlT25seShzdGFydCwgZW5kKSB7XG4gIHJldHVybiBpc0p1c3REYXRlKHN0YXJ0KSAmJiBpc0p1c3REYXRlKGVuZCk7XG59XG52YXIgRGF0ZUxvY2FsaXplciA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gRGF0ZUxvY2FsaXplcihzcGVjKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlTG9jYWxpemVyKTtcbiAgaW52YXJpYW50KHR5cGVvZiBzcGVjLmZvcm1hdCA9PT0gJ2Z1bmN0aW9uJywgJ2RhdGUgbG9jYWxpemVyIGBmb3JtYXQoLi4pYCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgaW52YXJpYW50KHR5cGVvZiBzcGVjLmZpcnN0T2ZXZWVrID09PSAnZnVuY3Rpb24nLCAnZGF0ZSBsb2NhbGl6ZXIgYGZpcnN0T2ZXZWVrKC4uKWAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIHRoaXMucHJvcFR5cGUgPSBzcGVjLnByb3BUeXBlIHx8IGxvY2FsZVByb3BUeXBlO1xuICB0aGlzLmZvcm1hdHMgPSBzcGVjLmZvcm1hdHM7XG4gIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIF9mb3JtYXQuYXBwbHkodm9pZCAwLCBbX3RoaXMsIHNwZWMuZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICB9O1xuICAvLyBUaGVzZSBkYXRlIGFyaXRobWV0aWMgbWV0aG9kcyBjYW4gYmUgb3ZlcnJpZGVuIGJ5IHRoZSBsb2NhbGl6ZXJcbiAgdGhpcy5zdGFydE9mV2VlayA9IHNwZWMuZmlyc3RPZldlZWs7XG4gIHRoaXMubWVyZ2UgPSBzcGVjLm1lcmdlIHx8IG1lcmdlO1xuICB0aGlzLmluUmFuZ2UgPSBzcGVjLmluUmFuZ2UgfHwgaW5SYW5nZSQxO1xuICB0aGlzLmx0ID0gc3BlYy5sdCB8fCBsdDtcbiAgdGhpcy5sdGUgPSBzcGVjLmx0ZSB8fCBsdGU7XG4gIHRoaXMuZ3QgPSBzcGVjLmd0IHx8IGd0O1xuICB0aGlzLmd0ZSA9IHNwZWMuZ3RlIHx8IGd0ZTtcbiAgdGhpcy5lcSA9IHNwZWMuZXEgfHwgZXE7XG4gIHRoaXMubmVxID0gc3BlYy5uZXEgfHwgbmVxO1xuICB0aGlzLnN0YXJ0T2YgPSBzcGVjLnN0YXJ0T2YgfHwgc3RhcnRPZjtcbiAgdGhpcy5lbmRPZiA9IHNwZWMuZW5kT2YgfHwgZW5kT2Y7XG4gIHRoaXMuYWRkID0gc3BlYy5hZGQgfHwgYWRkO1xuICB0aGlzLnJhbmdlID0gc3BlYy5yYW5nZSB8fCByYW5nZTtcbiAgdGhpcy5kaWZmID0gc3BlYy5kaWZmIHx8IGRpZmY7XG4gIHRoaXMuY2VpbCA9IHNwZWMuY2VpbCB8fCBjZWlsO1xuICB0aGlzLm1pbiA9IHNwZWMubWluIHx8IG1pbjtcbiAgdGhpcy5tYXggPSBzcGVjLm1heCB8fCBtYXg7XG4gIHRoaXMubWludXRlcyA9IHNwZWMubWludXRlcyB8fCBtaW51dGVzO1xuICB0aGlzLmRheVNwYW4gPSBzcGVjLmRheVNwYW4gfHwgZGF5U3BhbjtcbiAgdGhpcy5maXJzdFZpc2libGVEYXkgPSBzcGVjLmZpcnN0VmlzaWJsZURheSB8fCBmaXJzdFZpc2libGVEYXk7XG4gIHRoaXMubGFzdFZpc2libGVEYXkgPSBzcGVjLmxhc3RWaXNpYmxlRGF5IHx8IGxhc3RWaXNpYmxlRGF5O1xuICB0aGlzLnZpc2libGVEYXlzID0gc3BlYy52aXNpYmxlRGF5cyB8fCB2aXNpYmxlRGF5cztcbiAgdGhpcy5nZXRTbG90RGF0ZSA9IHNwZWMuZ2V0U2xvdERhdGUgfHwgZ2V0U2xvdERhdGU7XG4gIHRoaXMuZ2V0VGltZXpvbmVPZmZzZXQgPSBzcGVjLmdldFRpbWV6b25lT2Zmc2V0IHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB9O1xuICB0aGlzLmdldERzdE9mZnNldCA9IHNwZWMuZ2V0RHN0T2Zmc2V0IHx8IGdldERzdE9mZnNldDtcbiAgdGhpcy5nZXRUb3RhbE1pbiA9IHNwZWMuZ2V0VG90YWxNaW4gfHwgZ2V0VG90YWxNaW47XG4gIHRoaXMuZ2V0TWludXRlc0Zyb21NaWRuaWdodCA9IHNwZWMuZ2V0TWludXRlc0Zyb21NaWRuaWdodCB8fCBnZXRNaW51dGVzRnJvbU1pZG5pZ2h0O1xuICB0aGlzLmNvbnRpbnVlc1ByaW9yID0gc3BlYy5jb250aW51ZXNQcmlvciB8fCBjb250aW51ZXNQcmlvcjtcbiAgdGhpcy5jb250aW51ZXNBZnRlciA9IHNwZWMuY29udGludWVzQWZ0ZXIgfHwgY29udGludWVzQWZ0ZXI7XG4gIHRoaXMuc29ydEV2ZW50cyA9IHNwZWMuc29ydEV2ZW50cyB8fCBzb3J0RXZlbnRzJDE7XG4gIHRoaXMuaW5FdmVudFJhbmdlID0gc3BlYy5pbkV2ZW50UmFuZ2UgfHwgaW5FdmVudFJhbmdlO1xuICB0aGlzLmlzU2FtZURhdGUgPSBzcGVjLmlzU2FtZURhdGUgfHwgaXNTYW1lRGF0ZTtcbiAgdGhpcy5zdGFydEFuZEVuZEFyZURhdGVPbmx5ID0gc3BlYy5zdGFydEFuZEVuZEFyZURhdGVPbmx5IHx8IHN0YXJ0QW5kRW5kQXJlRGF0ZU9ubHk7XG4gIHRoaXMuc2VnbWVudE9mZnNldCA9IHNwZWMuYnJvd3NlclRaT2Zmc2V0ID8gc3BlYy5icm93c2VyVFpPZmZzZXQoKSA6IDA7XG59KTtcbmZ1bmN0aW9uIG1lcmdlV2l0aERlZmF1bHRzKGxvY2FsaXplciwgY3VsdHVyZSwgZm9ybWF0T3ZlcnJpZGVzLCBtZXNzYWdlcykge1xuICB2YXIgZm9ybWF0cyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbG9jYWxpemVyLmZvcm1hdHMpLCBmb3JtYXRPdmVycmlkZXMpO1xuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsb2NhbGl6ZXIpLCB7fSwge1xuICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICBzdGFydE9mV2VlazogZnVuY3Rpb24gc3RhcnRPZldlZWsoKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemVyLnN0YXJ0T2ZXZWVrKGN1bHR1cmUpO1xuICAgIH0sXG4gICAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIF9mb3JtYXQyKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmZvcm1hdCh2YWx1ZSwgZm9ybWF0c1tfZm9ybWF0Ml0gfHwgX2Zvcm1hdDIsIGN1bHR1cmUpO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBUb29sYmFyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIFRvb2xiYXIoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUb29sYmFyKTtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBUb29sYmFyLCBbXS5jb25jYXQoYXJncykpO1xuICAgIF90aGlzLm5hdmlnYXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgX3RoaXMucHJvcHMub25OYXZpZ2F0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgX3RoaXMudmlldyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblZpZXcodmlldyk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKFRvb2xiYXIsIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRvb2xiYXIsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBtZXNzYWdlcyA9IF90aGlzJHByb3BzLmxvY2FsaXplci5tZXNzYWdlcyxcbiAgICAgICAgbGFiZWwgPSBfdGhpcyRwcm9wcy5sYWJlbDtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtdG9vbGJhclwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWJ0bi1ncm91cFwiXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMubmF2aWdhdGUuYmluZChudWxsLCBuYXZpZ2F0ZS5UT0RBWSlcbiAgICAgIH0sIG1lc3NhZ2VzLnRvZGF5KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm5hdmlnYXRlLmJpbmQobnVsbCwgbmF2aWdhdGUuUFJFVklPVVMpXG4gICAgICB9LCBtZXNzYWdlcy5wcmV2aW91cyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgb25DbGljazogdGhpcy5uYXZpZ2F0ZS5iaW5kKG51bGwsIG5hdmlnYXRlLk5FWFQpXG4gICAgICB9LCBtZXNzYWdlcy5uZXh0KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtdG9vbGJhci1sYWJlbFwiXG4gICAgICB9LCBsYWJlbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYnRuLWdyb3VwXCJcbiAgICAgIH0sIHRoaXMudmlld05hbWVzR3JvdXAobWVzc2FnZXMpKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInZpZXdOYW1lc0dyb3VwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZpZXdOYW1lc0dyb3VwKG1lc3NhZ2VzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHZhciB2aWV3TmFtZXMgPSB0aGlzLnByb3BzLnZpZXdzO1xuICAgICAgdmFyIHZpZXcgPSB0aGlzLnByb3BzLnZpZXc7XG4gICAgICBpZiAodmlld05hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIHZpZXdOYW1lcy5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGtleTogbmFtZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeCh7XG4gICAgICAgICAgICAgICdyYmMtYWN0aXZlJzogdmlldyA9PT0gbmFtZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkNsaWNrOiBfdGhpczIudmlldy5iaW5kKG51bGwsIG5hbWUpXG4gICAgICAgICAgfSwgbWVzc2FnZXNbbmFtZV0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gbm90aWZ5KGhhbmRsZXIsIGFyZ3MpIHtcbiAgaGFuZGxlciAmJiBoYW5kbGVyLmFwcGx5KG51bGwsIFtdLmNvbmNhdChhcmdzKSk7XG59XG5cbnZhciBkZWZhdWx0TWVzc2FnZXMgPSB7XG4gIGRhdGU6ICdEYXRlJyxcbiAgdGltZTogJ1RpbWUnLFxuICBldmVudDogJ0V2ZW50JyxcbiAgYWxsRGF5OiAnQWxsIERheScsXG4gIHdlZWs6ICdXZWVrJyxcbiAgd29ya193ZWVrOiAnV29yayBXZWVrJyxcbiAgZGF5OiAnRGF5JyxcbiAgbW9udGg6ICdNb250aCcsXG4gIHByZXZpb3VzOiAnQmFjaycsXG4gIG5leHQ6ICdOZXh0JyxcbiAgeWVzdGVyZGF5OiAnWWVzdGVyZGF5JyxcbiAgdG9tb3Jyb3c6ICdUb21vcnJvdycsXG4gIHRvZGF5OiAnVG9kYXknLFxuICBhZ2VuZGE6ICdBZ2VuZGEnLFxuICBub0V2ZW50c0luUmFuZ2U6ICdUaGVyZSBhcmUgbm8gZXZlbnRzIGluIHRoaXMgcmFuZ2UuJyxcbiAgc2hvd01vcmU6IGZ1bmN0aW9uIHNob3dNb3JlKHRvdGFsKSB7XG4gICAgcmV0dXJuIFwiK1wiLmNvbmNhdCh0b3RhbCwgXCIgbW9yZVwiKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1lc3NhZ2VzKG1zZ3MpIHtcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE1lc3NhZ2VzKSwgbXNncyk7XG59XG5cbmZ1bmN0aW9uIHVzZUNsaWNrT3V0c2lkZShfcmVmKSB7XG4gIHZhciByZWYgPSBfcmVmLnJlZixcbiAgICBjYWxsYmFjayA9IF9yZWYuY2FsbGJhY2s7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhbmRsZUNsaWNrT3V0c2lkZSA9IGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShlKSB7XG4gICAgICBpZiAocmVmLmN1cnJlbnQgJiYgIXJlZi5jdXJyZW50LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9O1xuICB9LCBbcmVmLCBjYWxsYmFja10pO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDcgPSBbXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcImV2ZW50XCIsIFwic2VsZWN0ZWRcIiwgXCJpc0FsbERheVwiLCBcIm9uU2VsZWN0XCIsIFwib25Eb3VibGVDbGlja1wiLCBcIm9uS2V5UHJlc3NcIiwgXCJsb2NhbGl6ZXJcIiwgXCJjb250aW51ZXNQcmlvclwiLCBcImNvbnRpbnVlc0FmdGVyXCIsIFwiYWNjZXNzb3JzXCIsIFwiZ2V0dGVyc1wiLCBcImNoaWxkcmVuXCIsIFwiY29tcG9uZW50c1wiLCBcInNsb3RTdGFydFwiLCBcInNsb3RFbmRcIl07XG52YXIgRXZlbnRDZWxsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIEV2ZW50Q2VsbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRDZWxsKTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBFdmVudENlbGwsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKEV2ZW50Q2VsbCwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRXZlbnRDZWxsLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wcy5zdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBldmVudCA9IF90aGlzJHByb3BzLmV2ZW50LFxuICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzLnNlbGVjdGVkLFxuICAgICAgICBpc0FsbERheSA9IF90aGlzJHByb3BzLmlzQWxsRGF5LFxuICAgICAgICBvblNlbGVjdCA9IF90aGlzJHByb3BzLm9uU2VsZWN0LFxuICAgICAgICBfb25Eb3VibGVDbGljayA9IF90aGlzJHByb3BzLm9uRG91YmxlQ2xpY2ssXG4gICAgICAgIG9uS2V5UHJlc3MgPSBfdGhpcyRwcm9wcy5vbktleVByZXNzLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfdGhpcyRwcm9wcy5sb2NhbGl6ZXIsXG4gICAgICAgIGNvbnRpbnVlc1ByaW9yID0gX3RoaXMkcHJvcHMuY29udGludWVzUHJpb3IsXG4gICAgICAgIGNvbnRpbnVlc0FmdGVyID0gX3RoaXMkcHJvcHMuY29udGludWVzQWZ0ZXIsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzLmFjY2Vzc29ycyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzLmdldHRlcnMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIF90aGlzJHByb3BzJGNvbXBvbmVudCA9IF90aGlzJHByb3BzLmNvbXBvbmVudHMsXG4gICAgICAgIEV2ZW50ID0gX3RoaXMkcHJvcHMkY29tcG9uZW50LmV2ZW50LFxuICAgICAgICBFdmVudFdyYXBwZXIgPSBfdGhpcyRwcm9wcyRjb21wb25lbnQuZXZlbnRXcmFwcGVyLFxuICAgICAgICBzbG90U3RhcnQgPSBfdGhpcyRwcm9wcy5zbG90U3RhcnQsXG4gICAgICAgIHNsb3RFbmQgPSBfdGhpcyRwcm9wcy5zbG90RW5kLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wcywgX2V4Y2x1ZGVkJDcpO1xuICAgICAgZGVsZXRlIHByb3BzLnJlc2l6YWJsZTtcbiAgICAgIHZhciB0aXRsZSA9IGFjY2Vzc29ycy50aXRsZShldmVudCk7XG4gICAgICB2YXIgdG9vbHRpcCA9IGFjY2Vzc29ycy50b29sdGlwKGV2ZW50KTtcbiAgICAgIHZhciBlbmQgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgICAgIHZhciBzdGFydCA9IGFjY2Vzc29ycy5zdGFydChldmVudCk7XG4gICAgICB2YXIgYWxsRGF5ID0gYWNjZXNzb3JzLmFsbERheShldmVudCk7XG4gICAgICB2YXIgc2hvd0FzQWxsRGF5ID0gaXNBbGxEYXkgfHwgYWxsRGF5IHx8IGxvY2FsaXplci5kaWZmKHN0YXJ0LCBsb2NhbGl6ZXIuY2VpbChlbmQsICdkYXknKSwgJ2RheScpID4gMTtcbiAgICAgIHZhciB1c2VyUHJvcHMgPSBnZXR0ZXJzLmV2ZW50UHJvcChldmVudCwgc3RhcnQsIGVuZCwgc2VsZWN0ZWQpO1xuICAgICAgdmFyIGNvbnRlbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtZXZlbnQtY29udGVudFwiLFxuICAgICAgICB0aXRsZTogdG9vbHRpcCB8fCB1bmRlZmluZWRcbiAgICAgIH0sIEV2ZW50ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnQsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBjb250aW51ZXNQcmlvcjogY29udGludWVzUHJpb3IsXG4gICAgICAgIGNvbnRpbnVlc0FmdGVyOiBjb250aW51ZXNBZnRlcixcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICBpc0FsbERheTogYWxsRGF5LFxuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgc2xvdFN0YXJ0OiBzbG90U3RhcnQsXG4gICAgICAgIHNsb3RFbmQ6IHNsb3RFbmRcbiAgICAgIH0pIDogdGl0bGUpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50V3JhcHBlciwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcywge1xuICAgICAgICB0eXBlOiBcImRhdGVcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVzZXJQcm9wcy5zdHlsZSksIHN0eWxlKSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtZXZlbnQnLCBjbGFzc05hbWUsIHVzZXJQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAncmJjLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgICAgJ3JiYy1ldmVudC1hbGxkYXknOiBzaG93QXNBbGxEYXksXG4gICAgICAgICAgJ3JiYy1ldmVudC1jb250aW51ZXMtcHJpb3InOiBjb250aW51ZXNQcmlvcixcbiAgICAgICAgICAncmJjLWV2ZW50LWNvbnRpbnVlcy1hZnRlcic6IGNvbnRpbnVlc0FmdGVyXG4gICAgICAgIH0pLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25TZWxlY3QgJiYgb25TZWxlY3QoZXZlbnQsIGUpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRvdWJsZUNsaWNrOiBmdW5jdGlvbiBvbkRvdWJsZUNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gX29uRG91YmxlQ2xpY2sgJiYgX29uRG91YmxlQ2xpY2soZXZlbnQsIGUpO1xuICAgICAgICB9LFxuICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uS2V5UHJlc3MgJiYgb25LZXlQcmVzcyhldmVudCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pLCB0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihjb250ZW50KSA6IGNvbnRlbnQpKTtcbiAgICB9XG4gIH1dKTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZnVuY3Rpb24gaXNTZWxlY3RlZChldmVudCwgc2VsZWN0ZWQpIHtcbiAgaWYgKCFldmVudCB8fCBzZWxlY3RlZCA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBpc0VxdWFsJDEoZXZlbnQsIHNlbGVjdGVkKTtcbn1cbmZ1bmN0aW9uIHNsb3RXaWR0aChyb3dCb3gsIHNsb3RzKSB7XG4gIHZhciByb3dXaWR0aCA9IHJvd0JveC5yaWdodCAtIHJvd0JveC5sZWZ0O1xuICB2YXIgY2VsbFdpZHRoID0gcm93V2lkdGggLyBzbG90cztcbiAgcmV0dXJuIGNlbGxXaWR0aDtcbn1cbmZ1bmN0aW9uIGdldFNsb3RBdFgocm93Qm94LCB4LCBydGwsIHNsb3RzKSB7XG4gIHZhciBjZWxsV2lkdGggPSBzbG90V2lkdGgocm93Qm94LCBzbG90cyk7XG4gIHJldHVybiBydGwgPyBzbG90cyAtIDEgLSBNYXRoLmZsb29yKCh4IC0gcm93Qm94LmxlZnQpIC8gY2VsbFdpZHRoKSA6IE1hdGguZmxvb3IoKHggLSByb3dCb3gubGVmdCkgLyBjZWxsV2lkdGgpO1xufVxuZnVuY3Rpb24gcG9pbnRJbkJveChib3gsIF9yZWYpIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgeSA9IF9yZWYueTtcbiAgcmV0dXJuIHkgPj0gYm94LnRvcCAmJiB5IDw9IGJveC5ib3R0b20gJiYgeCA+PSBib3gubGVmdCAmJiB4IDw9IGJveC5yaWdodDtcbn1cbmZ1bmN0aW9uIGRhdGVDZWxsU2VsZWN0aW9uKHN0YXJ0LCByb3dCb3gsIGJveCwgc2xvdHMsIHJ0bCkge1xuICB2YXIgc3RhcnRJZHggPSAtMTtcbiAgdmFyIGVuZElkeCA9IC0xO1xuICB2YXIgbGFzdFNsb3RJZHggPSBzbG90cyAtIDE7XG4gIHZhciBjZWxsV2lkdGggPSBzbG90V2lkdGgocm93Qm94LCBzbG90cyk7XG5cbiAgLy8gY2VsbCB1bmRlciB0aGUgbW91c2VcbiAgdmFyIGN1cnJlbnRTbG90ID0gZ2V0U2xvdEF0WChyb3dCb3gsIGJveC54LCBydGwsIHNsb3RzKTtcblxuICAvLyBJZGVudGlmeSByb3cgYXMgZWl0aGVyIHRoZSBpbml0aWFsIHJvd1xuICAvLyBvciB0aGUgcm93IHVuZGVyIHRoZSBjdXJyZW50IG1vdXNlIHBvaW50XG4gIHZhciBpc0N1cnJlbnRSb3cgPSByb3dCb3gudG9wIDwgYm94LnkgJiYgcm93Qm94LmJvdHRvbSA+IGJveC55O1xuICB2YXIgaXNTdGFydFJvdyA9IHJvd0JveC50b3AgPCBzdGFydC55ICYmIHJvd0JveC5ib3R0b20gPiBzdGFydC55O1xuXG4gIC8vIHRoaXMgcm93J3MgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IHBvaW50XG4gIHZhciBpc0Fib3ZlU3RhcnQgPSBzdGFydC55ID4gcm93Qm94LmJvdHRvbTtcbiAgdmFyIGlzQmVsb3dTdGFydCA9IHJvd0JveC50b3AgPiBzdGFydC55O1xuICB2YXIgaXNCZXR3ZWVuID0gYm94LnRvcCA8IHJvd0JveC50b3AgJiYgYm94LmJvdHRvbSA+IHJvd0JveC5ib3R0b207XG5cbiAgLy8gdGhpcyByb3cgaXMgYmV0d2VlbiB0aGUgY3VycmVudCBhbmQgc3RhcnQgcm93cywgc28gZW50aXJlbHkgc2VsZWN0ZWRcbiAgaWYgKGlzQmV0d2Vlbikge1xuICAgIHN0YXJ0SWR4ID0gMDtcbiAgICBlbmRJZHggPSBsYXN0U2xvdElkeDtcbiAgfVxuICBpZiAoaXNDdXJyZW50Um93KSB7XG4gICAgaWYgKGlzQmVsb3dTdGFydCkge1xuICAgICAgc3RhcnRJZHggPSAwO1xuICAgICAgZW5kSWR4ID0gY3VycmVudFNsb3Q7XG4gICAgfSBlbHNlIGlmIChpc0Fib3ZlU3RhcnQpIHtcbiAgICAgIHN0YXJ0SWR4ID0gY3VycmVudFNsb3Q7XG4gICAgICBlbmRJZHggPSBsYXN0U2xvdElkeDtcbiAgICB9XG4gIH1cbiAgaWYgKGlzU3RhcnRSb3cpIHtcbiAgICAvLyBzZWxlY3QgdGhlIGNlbGwgdW5kZXIgdGhlIGluaXRpYWwgcG9pbnRcbiAgICBzdGFydElkeCA9IGVuZElkeCA9IHJ0bCA/IGxhc3RTbG90SWR4IC0gTWF0aC5mbG9vcigoc3RhcnQueCAtIHJvd0JveC5sZWZ0KSAvIGNlbGxXaWR0aCkgOiBNYXRoLmZsb29yKChzdGFydC54IC0gcm93Qm94LmxlZnQpIC8gY2VsbFdpZHRoKTtcbiAgICBpZiAoaXNDdXJyZW50Um93KSB7XG4gICAgICBpZiAoY3VycmVudFNsb3QgPCBzdGFydElkeCkgc3RhcnRJZHggPSBjdXJyZW50U2xvdDtlbHNlIGVuZElkeCA9IGN1cnJlbnRTbG90OyAvL3NlbGVjdCBjdXJyZW50IHJhbmdlXG4gICAgfSBlbHNlIGlmIChzdGFydC55IDwgYm94LnkpIHtcbiAgICAgIC8vIHRoZSBjdXJyZW50IHJvdyBpcyBiZWxvdyBzdGFydCByb3dcbiAgICAgIC8vIHNlbGVjdCBjZWxscyB0byB0aGUgcmlnaHQgb2YgdGhlIHN0YXJ0IGNlbGxcbiAgICAgIGVuZElkeCA9IGxhc3RTbG90SWR4O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZWxlY3QgY2VsbHMgdG8gdGhlIGxlZnQgb2YgdGhlIHN0YXJ0IGNlbGxcbiAgICAgIHN0YXJ0SWR4ID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGFydElkeDogc3RhcnRJZHgsXG4gICAgZW5kSWR4OiBlbmRJZHhcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGFuZ2VzIHRvIHJlYWN0LW92ZXJsYXlzIGNhdXNlIGlzc3VlIHdpdGggYXV0byBwb3NpdGlvbmluZyxcbiAqIHNvIHdlIG5lZWQgdG8gbWFudWFsbHkgY2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyLFxuICogYW5kIGNvbnN0cmFpbiBpdCB0byB0aGUgTW9udGggY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiBnZXRQb3NpdGlvbihfcmVmKSB7XG4gIHZhciB0YXJnZXQgPSBfcmVmLnRhcmdldCxcbiAgICBvZmZzZXQgPSBfcmVmLm9mZnNldCxcbiAgICBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICBib3ggPSBfcmVmLmJveDtcbiAgdmFyIF9nZXRPZmZzZXQgPSBnZXRPZmZzZXQodGFyZ2V0KSxcbiAgICB0b3AgPSBfZ2V0T2Zmc2V0LnRvcCxcbiAgICBsZWZ0ID0gX2dldE9mZnNldC5sZWZ0LFxuICAgIHdpZHRoID0gX2dldE9mZnNldC53aWR0aCxcbiAgICBoZWlnaHQgPSBfZ2V0T2Zmc2V0LmhlaWdodDtcbiAgdmFyIF9nZXRPZmZzZXQyID0gZ2V0T2Zmc2V0KGNvbnRhaW5lciksXG4gICAgY1RvcCA9IF9nZXRPZmZzZXQyLnRvcCxcbiAgICBjTGVmdCA9IF9nZXRPZmZzZXQyLmxlZnQsXG4gICAgY1dpZHRoID0gX2dldE9mZnNldDIud2lkdGgsXG4gICAgY0hlaWdodCA9IF9nZXRPZmZzZXQyLmhlaWdodDtcbiAgdmFyIF9nZXRPZmZzZXQzID0gZ2V0T2Zmc2V0KGJveCksXG4gICAgYldpZHRoID0gX2dldE9mZnNldDMud2lkdGgsXG4gICAgYkhlaWdodCA9IF9nZXRPZmZzZXQzLmhlaWdodDtcbiAgdmFyIHZpZXdCb3R0b20gPSBjVG9wICsgY0hlaWdodDtcbiAgdmFyIHZpZXdSaWdodCA9IGNMZWZ0ICsgY1dpZHRoO1xuICB2YXIgYm90dG9tID0gdG9wICsgYkhlaWdodDtcbiAgdmFyIHJpZ2h0ID0gbGVmdCArIGJXaWR0aDtcbiAgdmFyIHggPSBvZmZzZXQueCxcbiAgICB5ID0gb2Zmc2V0Lnk7XG4gIHZhciB0b3BPZmZzZXQgPSBib3R0b20gPiB2aWV3Qm90dG9tID8gdG9wIC0gYkhlaWdodCAtIHkgOiB0b3AgKyB5ICsgaGVpZ2h0O1xuICB2YXIgbGVmdE9mZnNldCA9IHJpZ2h0ID4gdmlld1JpZ2h0ID8gbGVmdCArIHggLSBiV2lkdGggKyB3aWR0aCA6IGxlZnQgKyB4O1xuICByZXR1cm4ge1xuICAgIHRvcE9mZnNldDogdG9wT2Zmc2V0LFxuICAgIGxlZnRPZmZzZXQ6IGxlZnRPZmZzZXRcbiAgfTtcbn1cbmZ1bmN0aW9uIFBvcChfcmVmMikge1xuICB2YXIgY29udGFpbmVyUmVmID0gX3JlZjIuY29udGFpbmVyUmVmLFxuICAgIGFjY2Vzc29ycyA9IF9yZWYyLmFjY2Vzc29ycyxcbiAgICBnZXR0ZXJzID0gX3JlZjIuZ2V0dGVycyxcbiAgICBzZWxlY3RlZCA9IF9yZWYyLnNlbGVjdGVkLFxuICAgIGNvbXBvbmVudHMgPSBfcmVmMi5jb21wb25lbnRzLFxuICAgIGxvY2FsaXplciA9IF9yZWYyLmxvY2FsaXplcixcbiAgICBwb3NpdGlvbiA9IF9yZWYyLnBvc2l0aW9uLFxuICAgIHNob3cgPSBfcmVmMi5zaG93LFxuICAgIGV2ZW50cyA9IF9yZWYyLmV2ZW50cyxcbiAgICBzbG90U3RhcnQgPSBfcmVmMi5zbG90U3RhcnQsXG4gICAgc2xvdEVuZCA9IF9yZWYyLnNsb3RFbmQsXG4gICAgb25TZWxlY3QgPSBfcmVmMi5vblNlbGVjdCxcbiAgICBvbkRvdWJsZUNsaWNrID0gX3JlZjIub25Eb3VibGVDbGljayxcbiAgICBvbktleVByZXNzID0gX3JlZjIub25LZXlQcmVzcyxcbiAgICBoYW5kbGVEcmFnU3RhcnQgPSBfcmVmMi5oYW5kbGVEcmFnU3RhcnQsXG4gICAgcG9wcGVyUmVmID0gX3JlZjIucG9wcGVyUmVmLFxuICAgIHRhcmdldCA9IF9yZWYyLnRhcmdldCxcbiAgICBvZmZzZXQgPSBfcmVmMi5vZmZzZXQ7XG4gIHVzZUNsaWNrT3V0c2lkZSh7XG4gICAgcmVmOiBwb3BwZXJSZWYsXG4gICAgY2FsbGJhY2s6IHNob3dcbiAgfSk7XG4gIHVzZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9nZXRQb3NpdGlvbiA9IGdldFBvc2l0aW9uKHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lclJlZi5jdXJyZW50LFxuICAgICAgICBib3g6IHBvcHBlclJlZi5jdXJyZW50XG4gICAgICB9KSxcbiAgICAgIHRvcE9mZnNldCA9IF9nZXRQb3NpdGlvbi50b3BPZmZzZXQsXG4gICAgICBsZWZ0T2Zmc2V0ID0gX2dldFBvc2l0aW9uLmxlZnRPZmZzZXQ7XG4gICAgcG9wcGVyUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gXCJcIi5jb25jYXQodG9wT2Zmc2V0LCBcInB4XCIpO1xuICAgIHBvcHBlclJlZi5jdXJyZW50LnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChsZWZ0T2Zmc2V0LCBcInB4XCIpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW29mZnNldC54LCBvZmZzZXQueSwgdGFyZ2V0XSk7XG4gIHZhciB3aWR0aCA9IHBvc2l0aW9uLndpZHRoO1xuICB2YXIgc3R5bGUgPSB7XG4gICAgbWluV2lkdGg6IHdpZHRoICsgd2lkdGggLyAyXG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIGNsYXNzTmFtZTogXCJyYmMtb3ZlcmxheVwiLFxuICAgIHJlZjogcG9wcGVyUmVmXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmJjLW92ZXJsYXktaGVhZGVyXCJcbiAgfSwgbG9jYWxpemVyLmZvcm1hdChzbG90U3RhcnQsICdkYXlIZWFkZXJGb3JtYXQnKSksIGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50LCBpZHgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRDZWxsLCB7XG4gICAgICBrZXk6IGlkeCxcbiAgICAgIHR5cGU6IFwicG9wdXBcIixcbiAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgIG9uU2VsZWN0OiBvblNlbGVjdCxcbiAgICAgIGFjY2Vzc29yczogYWNjZXNzb3JzLFxuICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2ssXG4gICAgICBvbktleVByZXNzOiBvbktleVByZXNzLFxuICAgICAgY29udGludWVzUHJpb3I6IGxvY2FsaXplci5sdChhY2Nlc3NvcnMuZW5kKGV2ZW50KSwgc2xvdFN0YXJ0LCAnZGF5JyksXG4gICAgICBjb250aW51ZXNBZnRlcjogbG9jYWxpemVyLmd0ZShhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpLCBzbG90RW5kLCAnZGF5JyksXG4gICAgICBzbG90U3RhcnQ6IHNsb3RTdGFydCxcbiAgICAgIHNsb3RFbmQ6IHNsb3RFbmQsXG4gICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZChldmVudCwgc2VsZWN0ZWQpLFxuICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgICAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBvbkRyYWdFbmQ6IGZ1bmN0aW9uIG9uRHJhZ0VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHNob3coKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkpO1xufVxudmFyIFBvcHVwID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICBwb3BwZXJSZWY6IHJlZlxuICB9KSk7XG59KTtcblBvcHVwLnByb3BUeXBlcyA9IHtcbiAgYWNjZXNzb3JzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGdldHRlcnM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc2VsZWN0ZWQ6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbXBvbmVudHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgbG9jYWxpemVyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHBvc2l0aW9uOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNob3c6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIHNsb3RTdGFydDogUHJvcFR5cGVzLmluc3RhbmNlT2YoRGF0ZSkuaXNSZXF1aXJlZCxcbiAgc2xvdEVuZDogUHJvcFR5cGVzLmluc3RhbmNlT2YoRGF0ZSksXG4gIG9uU2VsZWN0OiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Eb3VibGVDbGljazogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uS2V5UHJlc3M6IFByb3BUeXBlcy5mdW5jLFxuICBoYW5kbGVEcmFnU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb2Zmc2V0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgeTogUHJvcFR5cGVzLm51bWJlclxuICB9KVxufTtcblxuZnVuY3Rpb24gQ2FsT3ZlcmxheShfcmVmKSB7XG4gIHZhciBjb250YWluZXJSZWYgPSBfcmVmLmNvbnRhaW5lclJlZixcbiAgICBfcmVmJHBvcHVwT2Zmc2V0ID0gX3JlZi5wb3B1cE9mZnNldCxcbiAgICBwb3B1cE9mZnNldCA9IF9yZWYkcG9wdXBPZmZzZXQgPT09IHZvaWQgMCA/IDUgOiBfcmVmJHBvcHVwT2Zmc2V0LFxuICAgIG92ZXJsYXkgPSBfcmVmLm92ZXJsYXksXG4gICAgYWNjZXNzb3JzID0gX3JlZi5hY2Nlc3NvcnMsXG4gICAgbG9jYWxpemVyID0gX3JlZi5sb2NhbGl6ZXIsXG4gICAgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cyxcbiAgICBnZXR0ZXJzID0gX3JlZi5nZXR0ZXJzLFxuICAgIHNlbGVjdGVkID0gX3JlZi5zZWxlY3RlZCxcbiAgICBoYW5kbGVTZWxlY3RFdmVudCA9IF9yZWYuaGFuZGxlU2VsZWN0RXZlbnQsXG4gICAgaGFuZGxlRG91YmxlQ2xpY2tFdmVudCA9IF9yZWYuaGFuZGxlRG91YmxlQ2xpY2tFdmVudCxcbiAgICBoYW5kbGVLZXlQcmVzc0V2ZW50ID0gX3JlZi5oYW5kbGVLZXlQcmVzc0V2ZW50LFxuICAgIGhhbmRsZURyYWdTdGFydCA9IF9yZWYuaGFuZGxlRHJhZ1N0YXJ0LFxuICAgIG9uSGlkZSA9IF9yZWYub25IaWRlLFxuICAgIG92ZXJsYXlEaXNwbGF5ID0gX3JlZi5vdmVybGF5RGlzcGxheTtcbiAgdmFyIHBvcHBlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgaWYgKCFvdmVybGF5LnBvc2l0aW9uKSByZXR1cm4gbnVsbDtcbiAgdmFyIG9mZnNldCA9IHBvcHVwT2Zmc2V0O1xuICBpZiAoIWlzTmFOKHBvcHVwT2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IHtcbiAgICAgIHg6IHBvcHVwT2Zmc2V0LFxuICAgICAgeTogcG9wdXBPZmZzZXRcbiAgICB9O1xuICB9XG4gIHZhciBwb3NpdGlvbiA9IG92ZXJsYXkucG9zaXRpb24sXG4gICAgZXZlbnRzID0gb3ZlcmxheS5ldmVudHMsXG4gICAgZGF0ZSA9IG92ZXJsYXkuZGF0ZSxcbiAgICBlbmQgPSBvdmVybGF5LmVuZDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE92ZXJsYXksIHtcbiAgICByb290Q2xvc2U6IHRydWUsXG4gICAgZmxpcDogdHJ1ZSxcbiAgICBzaG93OiB0cnVlLFxuICAgIHBsYWNlbWVudDogXCJib3R0b21cIixcbiAgICBvbkhpZGU6IG9uSGlkZSxcbiAgICB0YXJnZXQ6IG92ZXJsYXkudGFyZ2V0XG4gIH0sIGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3B1cCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIGNvbnRhaW5lclJlZjogY29udGFpbmVyUmVmLFxuICAgICAgcmVmOiBwb3BwZXJSZWYsXG4gICAgICB0YXJnZXQ6IG92ZXJsYXkudGFyZ2V0LFxuICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgIGdldHRlcnM6IGdldHRlcnMsXG4gICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICBzaG93OiBvdmVybGF5RGlzcGxheSxcbiAgICAgIGV2ZW50czogZXZlbnRzLFxuICAgICAgc2xvdFN0YXJ0OiBkYXRlLFxuICAgICAgc2xvdEVuZDogZW5kLFxuICAgICAgb25TZWxlY3Q6IGhhbmRsZVNlbGVjdEV2ZW50LFxuICAgICAgb25Eb3VibGVDbGljazogaGFuZGxlRG91YmxlQ2xpY2tFdmVudCxcbiAgICAgIG9uS2V5UHJlc3M6IGhhbmRsZUtleVByZXNzRXZlbnQsXG4gICAgICBoYW5kbGVEcmFnU3RhcnQ6IGhhbmRsZURyYWdTdGFydFxuICAgIH0pKTtcbiAgfSk7XG59XG52YXIgUG9wT3ZlcmxheSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDYWxPdmVybGF5LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGNvbnRhaW5lclJlZjogcmVmXG4gIH0pKTtcbn0pO1xuUG9wT3ZlcmxheS5wcm9wVHlwZXMgPSB7XG4gIHBvcHVwT2Zmc2V0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgeTogUHJvcFR5cGVzLm51bWJlclxuICB9KV0pLFxuICBvdmVybGF5OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIHBvc2l0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGV2ZW50czogUHJvcFR5cGVzLmFycmF5LFxuICAgIGRhdGU6IFByb3BUeXBlcy5pbnN0YW5jZU9mKERhdGUpLFxuICAgIGVuZDogUHJvcFR5cGVzLmluc3RhbmNlT2YoRGF0ZSlcbiAgfSksXG4gIGFjY2Vzc29yczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBsb2NhbGl6ZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgY29tcG9uZW50czogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBnZXR0ZXJzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHNlbGVjdGVkOiBQcm9wVHlwZXMub2JqZWN0LFxuICBoYW5kbGVTZWxlY3RFdmVudDogUHJvcFR5cGVzLmZ1bmMsXG4gIGhhbmRsZURvdWJsZUNsaWNrRXZlbnQ6IFByb3BUeXBlcy5mdW5jLFxuICBoYW5kbGVLZXlQcmVzc0V2ZW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgaGFuZGxlRHJhZ1N0YXJ0OiBQcm9wVHlwZXMuZnVuYyxcbiAgb25IaWRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb3ZlcmxheURpc3BsYXk6IFByb3BUeXBlcy5mdW5jXG59O1xuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpIHtcbiAgdmFyIHRhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZG9jdW1lbnQ7XG4gIHJldHVybiBsaXN0ZW4odGFyZ2V0LCB0eXBlLCBoYW5kbGVyLCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpc092ZXJDb250YWluZXIoY29udGFpbmVyLCB4LCB5KSB7XG4gIHJldHVybiAhY29udGFpbmVyIHx8IGNvbnRhaW5zKGNvbnRhaW5lciwgZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSk7XG59XG5mdW5jdGlvbiBnZXRFdmVudE5vZGVGcm9tUG9pbnQobm9kZSwgX3JlZikge1xuICB2YXIgY2xpZW50WCA9IF9yZWYuY2xpZW50WCxcbiAgICBjbGllbnRZID0gX3JlZi5jbGllbnRZO1xuICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGNsb3Nlc3QodGFyZ2V0LCAnLnJiYy1ldmVudCcsIG5vZGUpO1xufVxuZnVuY3Rpb24gZ2V0U2hvd01vcmVOb2RlRnJvbVBvaW50KG5vZGUsIF9yZWYyKSB7XG4gIHZhciBjbGllbnRYID0gX3JlZjIuY2xpZW50WCxcbiAgICBjbGllbnRZID0gX3JlZjIuY2xpZW50WTtcbiAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoY2xpZW50WCwgY2xpZW50WSk7XG4gIHJldHVybiBjbG9zZXN0KHRhcmdldCwgJy5yYmMtc2hvdy1tb3JlJywgbm9kZSk7XG59XG5mdW5jdGlvbiBpc0V2ZW50KG5vZGUsIGJvdW5kcykge1xuICByZXR1cm4gISFnZXRFdmVudE5vZGVGcm9tUG9pbnQobm9kZSwgYm91bmRzKTtcbn1cbmZ1bmN0aW9uIGlzU2hvd01vcmUobm9kZSwgYm91bmRzKSB7XG4gIHJldHVybiAhIWdldFNob3dNb3JlTm9kZUZyb21Qb2ludChub2RlLCBib3VuZHMpO1xufVxuZnVuY3Rpb24gZ2V0RXZlbnRDb29yZGluYXRlcyhlKSB7XG4gIHZhciB0YXJnZXQgPSBlO1xuICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGgpIHtcbiAgICB0YXJnZXQgPSBlLnRvdWNoZXNbMF07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjbGllbnRYOiB0YXJnZXQuY2xpZW50WCxcbiAgICBjbGllbnRZOiB0YXJnZXQuY2xpZW50WSxcbiAgICBwYWdlWDogdGFyZ2V0LnBhZ2VYLFxuICAgIHBhZ2VZOiB0YXJnZXQucGFnZVlcbiAgfTtcbn1cbnZhciBjbGlja1RvbGVyYW5jZSA9IDU7XG52YXIgY2xpY2tJbnRlcnZhbCA9IDI1MDtcbnZhciBTZWxlY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWxlY3Rpb24obm9kZSkge1xuICAgIHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBfcmVmMyRnbG9iYWwgPSBfcmVmMy5nbG9iYWwsXG4gICAgICBnbG9iYWwgPSBfcmVmMyRnbG9iYWwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjMkZ2xvYmFsLFxuICAgICAgX3JlZjMkbG9uZ1ByZXNzVGhyZXNoID0gX3JlZjMubG9uZ1ByZXNzVGhyZXNob2xkLFxuICAgICAgbG9uZ1ByZXNzVGhyZXNob2xkID0gX3JlZjMkbG9uZ1ByZXNzVGhyZXNoID09PSB2b2lkIDAgPyAyNTAgOiBfcmVmMyRsb25nUHJlc3NUaHJlc2gsXG4gICAgICBfcmVmMyR2YWxpZENvbnRhaW5lcnMgPSBfcmVmMy52YWxpZENvbnRhaW5lcnMsXG4gICAgICB2YWxpZENvbnRhaW5lcnMgPSBfcmVmMyR2YWxpZENvbnRhaW5lcnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZjMkdmFsaWRDb250YWluZXJzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rpb24pO1xuICAgIHRoaXMuX2luaXRpYWxFdmVudCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGV0YWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5vZGU7XG4gICAgdGhpcy5nbG9iYWxNb3VzZSA9ICFub2RlIHx8IGdsb2JhbDtcbiAgICB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCA9IGxvbmdQcmVzc1RocmVzaG9sZDtcbiAgICB0aGlzLnZhbGlkQ29udGFpbmVycyA9IHZhbGlkQ29udGFpbmVycztcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2hhbmRsZUluaXRpYWxFdmVudCA9IHRoaXMuX2hhbmRsZUluaXRpYWxFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZU1vdmVFdmVudCA9IHRoaXMuX2hhbmRsZU1vdmVFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnQgPSB0aGlzLl9oYW5kbGVUZXJtaW5hdGluZ0V2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fa2V5TGlzdGVuZXIgPSB0aGlzLl9rZXlMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Ryb3BGcm9tT3V0c2lkZUxpc3RlbmVyID0gdGhpcy5fZHJvcEZyb21PdXRzaWRlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIgPSB0aGlzLl9kcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgIC8vIEZpeGVzIGFuIGlPUyAxMCBidWcgd2hlcmUgc2Nyb2xsaW5nIGNvdWxkIG5vdCBiZSBwcmV2ZW50ZWQgb24gdGhlIHdpbmRvdy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWV0YWZpenp5L2ZsaWNraXR5L2lzc3Vlcy80NTcjaXNzdWVjb21tZW50LTI1NDUwMTM1NlxuICAgIHRoaXMuX3JlbW92ZVRvdWNoTW92ZVdpbmRvd0xpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKCkge30sIHdpbmRvdyk7XG4gICAgdGhpcy5fcmVtb3ZlS2V5RG93bkxpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2tleUxpc3RlbmVyKTtcbiAgICB0aGlzLl9yZW1vdmVLZXlVcExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9rZXlMaXN0ZW5lcik7XG4gICAgdGhpcy5fcmVtb3ZlRHJvcEZyb21PdXRzaWRlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5fZHJvcEZyb21PdXRzaWRlTGlzdGVuZXIpO1xuICAgIHRoaXMuX3JlbW92ZURyYWdPdmVyRnJvbU91dHNpZGVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5fZHJhZ092ZXJGcm9tT3V0c2lkZUxpc3RlbmVyKTtcbiAgICB0aGlzLl9hZGRJbml0aWFsRXZlbnRMaXN0ZW5lcigpO1xuICB9XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoU2VsZWN0aW9uLCBbe1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbih0eXBlLCBoYW5kbGVyKSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gfHwgKHRoaXMuX2xpc3RlbmVyc1t0eXBlXSA9IFtdKTtcbiAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgICB2YXIgaWR4ID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkgaGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2xpc3RlbmVyc1t0eXBlXSB8fCBbXTtcbiAgICAgIGhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gZm4uYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGVhcmRvd25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVhcmRvd24oKSB7XG4gICAgICB0aGlzLl9pbml0aWFsRXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5faW5pdGlhbEV2ZW50RGF0YSA9IG51bGw7XG4gICAgICB0aGlzLl9zZWxlY3RSZWN0ID0gbnVsbDtcbiAgICAgIHRoaXMuc2VsZWN0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9sYXN0Q2xpY2tEYXRhID0gbnVsbDtcbiAgICAgIHRoaXMuaXNEZXRhY2hlZCA9IHRydWU7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgdGhpcy5fcmVtb3ZlVG91Y2hNb3ZlV2luZG93TGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlVG91Y2hNb3ZlV2luZG93TGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUluaXRpYWxFdmVudExpc3RlbmVyICYmIHRoaXMuX3JlbW92ZUluaXRpYWxFdmVudExpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9yZW1vdmVFbmRMaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVFbmRMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5fb25Fc2NMaXN0ZW5lciAmJiB0aGlzLl9vbkVzY0xpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlTW92ZUxpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9yZW1vdmVLZXlVcExpc3RlbmVyICYmIHRoaXMuX3JlbW92ZUtleVVwTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUtleURvd25MaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVLZXlEb3duTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZURyb3BGcm9tT3V0c2lkZUxpc3RlbmVyICYmIHRoaXMuX3JlbW92ZURyb3BGcm9tT3V0c2lkZUxpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9yZW1vdmVEcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlRHJhZ092ZXJGcm9tT3V0c2lkZUxpc3RlbmVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzU2VsZWN0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTZWxlY3RlZChub2RlKSB7XG4gICAgICB2YXIgYm94ID0gdGhpcy5fc2VsZWN0UmVjdDtcbiAgICAgIGlmICghYm94IHx8ICF0aGlzLnNlbGVjdGluZykgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIG9iamVjdHNDb2xsaWRlKGJveCwgZ2V0Qm91bmRzRm9yTm9kZShub2RlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIoaXRlbXMpIHtcbiAgICAgIHZhciBib3ggPSB0aGlzLl9zZWxlY3RSZWN0O1xuXG4gICAgICAvL25vdCBzZWxlY3RpbmdcbiAgICAgIGlmICghYm94IHx8ICF0aGlzLnNlbGVjdGluZykgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIGl0ZW1zLmZpbHRlcih0aGlzLmlzU2VsZWN0ZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgY2FsbCB0aGUgaGFuZGxlciBvbmx5IGFmdGVyIHRoZSB1c2VyIGhhcyBwcmVzc2VkIG9uIHRoZSBzY3JlZW5cbiAgICAvLyB3aXRob3V0IG1vdmluZyB0aGVpciBmaW5nZXIgZm9yIDI1MG1zLlxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRMb25nUHJlc3NMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkTG9uZ1ByZXNzTGlzdGVuZXIoaGFuZGxlciwgaW5pdGlhbEV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIHRpbWVyID0gbnVsbDtcbiAgICAgIHZhciByZW1vdmVUb3VjaE1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgICB2YXIgcmVtb3ZlVG91Y2hFbmRMaXN0ZW5lciA9IG51bGw7XG4gICAgICB2YXIgaGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoaW5pdGlhbEV2ZW50KSB7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIGhhbmRsZXIoaW5pdGlhbEV2ZW50KTtcbiAgICAgICAgfSwgX3RoaXMubG9uZ1ByZXNzVGhyZXNob2xkKTtcbiAgICAgICAgcmVtb3ZlVG91Y2hNb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNsZWFudXAoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZVRvdWNoRW5kTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2xlYW51cCgpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB2YXIgcmVtb3ZlVG91Y2hTdGFydExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGhhbmRsZVRvdWNoU3RhcnQpO1xuICAgICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmVUb3VjaE1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgIHJlbW92ZVRvdWNoTW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZVRvdWNoRW5kTGlzdGVuZXIpIHtcbiAgICAgICAgICByZW1vdmVUb3VjaEVuZExpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICByZW1vdmVUb3VjaE1vdmVMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHJlbW92ZVRvdWNoRW5kTGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICAgIGlmIChpbml0aWFsRXZlbnQpIHtcbiAgICAgICAgaGFuZGxlVG91Y2hTdGFydChpbml0aWFsRXZlbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZW1vdmVUb3VjaFN0YXJ0TGlzdGVuZXIoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gTGlzdGVuIGZvciBtb3VzZWRvd24gYW5kIHRvdWNoc3RhcnQgZXZlbnRzLiBXaGVuIG9uZSBpcyByZWNlaXZlZCwgZGlzYWJsZSB0aGUgb3RoZXIgYW5kIHNldHVwXG4gICAgLy8gZnV0dXJlIGV2ZW50IGhhbmRsaW5nIGJhc2VkIG9uIHRoZSB0eXBlIG9mIGV2ZW50LlxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRJbml0aWFsRXZlbnRMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkSW5pdGlhbEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHZhciByZW1vdmVNb3VzZURvd25MaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIF90aGlzMi5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgX3RoaXMyLl9oYW5kbGVJbml0aWFsRXZlbnQoZSk7XG4gICAgICAgIF90aGlzMi5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfdGhpczIuX2hhbmRsZUluaXRpYWxFdmVudCk7XG4gICAgICB9KTtcbiAgICAgIHZhciByZW1vdmVUb3VjaFN0YXJ0TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXMyLl9yZW1vdmVJbml0aWFsRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICBfdGhpczIuX3JlbW92ZUluaXRpYWxFdmVudExpc3RlbmVyID0gX3RoaXMyLl9hZGRMb25nUHJlc3NMaXN0ZW5lcihfdGhpczIuX2hhbmRsZUluaXRpYWxFdmVudCwgZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3JlbW92ZUluaXRpYWxFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVNb3VzZURvd25MaXN0ZW5lcigpO1xuICAgICAgICByZW1vdmVUb3VjaFN0YXJ0TGlzdGVuZXIoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9kcm9wRnJvbU91dHNpZGVMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZHJvcEZyb21PdXRzaWRlTGlzdGVuZXIoZSkge1xuICAgICAgdmFyIF9nZXRFdmVudENvb3JkaW5hdGVzID0gZ2V0RXZlbnRDb29yZGluYXRlcyhlKSxcbiAgICAgICAgcGFnZVggPSBfZ2V0RXZlbnRDb29yZGluYXRlcy5wYWdlWCxcbiAgICAgICAgcGFnZVkgPSBfZ2V0RXZlbnRDb29yZGluYXRlcy5wYWdlWSxcbiAgICAgICAgY2xpZW50WCA9IF9nZXRFdmVudENvb3JkaW5hdGVzLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFkgPSBfZ2V0RXZlbnRDb29yZGluYXRlcy5jbGllbnRZO1xuICAgICAgdGhpcy5lbWl0KCdkcm9wRnJvbU91dHNpZGUnLCB7XG4gICAgICAgIHg6IHBhZ2VYLFxuICAgICAgICB5OiBwYWdlWSxcbiAgICAgICAgY2xpZW50WDogY2xpZW50WCxcbiAgICAgICAgY2xpZW50WTogY2xpZW50WVxuICAgICAgfSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9kcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RyYWdPdmVyRnJvbU91dHNpZGVMaXN0ZW5lcihlKSB7XG4gICAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXMyID0gZ2V0RXZlbnRDb29yZGluYXRlcyhlKSxcbiAgICAgICAgcGFnZVggPSBfZ2V0RXZlbnRDb29yZGluYXRlczIucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX2dldEV2ZW50Q29vcmRpbmF0ZXMyLnBhZ2VZLFxuICAgICAgICBjbGllbnRYID0gX2dldEV2ZW50Q29vcmRpbmF0ZXMyLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczIuY2xpZW50WTtcbiAgICAgIHRoaXMuZW1pdCgnZHJhZ092ZXJGcm9tT3V0c2lkZScsIHtcbiAgICAgICAgeDogcGFnZVgsXG4gICAgICAgIHk6IHBhZ2VZLFxuICAgICAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICB9KTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZUluaXRpYWxFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW5pdGlhbEV2ZW50KGUpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxFdmVudCA9IGU7XG4gICAgICBpZiAodGhpcy5pc0RldGFjaGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBfZ2V0RXZlbnRDb29yZGluYXRlczMgPSBnZXRFdmVudENvb3JkaW5hdGVzKGUpLFxuICAgICAgICBjbGllbnRYID0gX2dldEV2ZW50Q29vcmRpbmF0ZXMzLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczMuY2xpZW50WSxcbiAgICAgICAgcGFnZVggPSBfZ2V0RXZlbnRDb29yZGluYXRlczMucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX2dldEV2ZW50Q29vcmRpbmF0ZXMzLnBhZ2VZO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLmNvbnRhaW5lcigpLFxuICAgICAgICBjb2xsaWRlcyxcbiAgICAgICAgb2Zmc2V0RGF0YTtcblxuICAgICAgLy8gUmlnaHQgY2xpY2tzXG4gICAgICBpZiAoZS53aGljaCA9PT0gMyB8fCBlLmJ1dHRvbiA9PT0gMiB8fCAhaXNPdmVyQ29udGFpbmVyKG5vZGUsIGNsaWVudFgsIGNsaWVudFkpKSByZXR1cm47XG4gICAgICBpZiAoIXRoaXMuZ2xvYmFsTW91c2UgJiYgbm9kZSAmJiAhY29udGFpbnMobm9kZSwgZS50YXJnZXQpKSB7XG4gICAgICAgIHZhciBfbm9ybWFsaXplRGlzdGFuY2UgPSBub3JtYWxpemVEaXN0YW5jZSgwKSxcbiAgICAgICAgICB0b3AgPSBfbm9ybWFsaXplRGlzdGFuY2UudG9wLFxuICAgICAgICAgIGxlZnQgPSBfbm9ybWFsaXplRGlzdGFuY2UubGVmdCxcbiAgICAgICAgICBib3R0b20gPSBfbm9ybWFsaXplRGlzdGFuY2UuYm90dG9tLFxuICAgICAgICAgIHJpZ2h0ID0gX25vcm1hbGl6ZURpc3RhbmNlLnJpZ2h0O1xuICAgICAgICBvZmZzZXREYXRhID0gZ2V0Qm91bmRzRm9yTm9kZShub2RlKTtcbiAgICAgICAgY29sbGlkZXMgPSBvYmplY3RzQ29sbGlkZSh7XG4gICAgICAgICAgdG9wOiBvZmZzZXREYXRhLnRvcCAtIHRvcCxcbiAgICAgICAgICBsZWZ0OiBvZmZzZXREYXRhLmxlZnQgLSBsZWZ0LFxuICAgICAgICAgIGJvdHRvbTogb2Zmc2V0RGF0YS5ib3R0b20gKyBib3R0b20sXG4gICAgICAgICAgcmlnaHQ6IG9mZnNldERhdGEucmlnaHQgKyByaWdodFxuICAgICAgICB9LCB7XG4gICAgICAgICAgdG9wOiBwYWdlWSxcbiAgICAgICAgICBsZWZ0OiBwYWdlWFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjb2xsaWRlcykgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZW1pdCgnYmVmb3JlU2VsZWN0JywgdGhpcy5faW5pdGlhbEV2ZW50RGF0YSA9IHtcbiAgICAgICAgaXNUb3VjaDogL150b3VjaC8udGVzdChlLnR5cGUpLFxuICAgICAgICB4OiBwYWdlWCxcbiAgICAgICAgeTogcGFnZVksXG4gICAgICAgIGNsaWVudFg6IGNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IGNsaWVudFlcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlRW5kTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5faGFuZGxlVGVybWluYXRpbmdFdmVudCk7XG4gICAgICAgICAgdGhpcy5fb25Fc2NMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVUZXJtaW5hdGluZ0V2ZW50KTtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVNb3ZlRXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0b3VjaHN0YXJ0JzpcbiAgICAgICAgICB0aGlzLl9oYW5kbGVNb3ZlRXZlbnQoZSk7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlRW5kTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnQpO1xuICAgICAgICAgIHRoaXMuX3JlbW92ZU1vdmVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZU1vdmVFdmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2hldGhlciBwcm92aWRlZCBldmVudCB0YXJnZXQgZWxlbWVudFxuICAgIC8vIC0gaXMgY29udGFpbmVkIHdpdGhpbiBhIHZhbGlkIGNvbnRhaW5lclxuICB9LCB7XG4gICAga2V5OiBcIl9pc1dpdGhpblZhbGlkQ29udGFpbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1dpdGhpblZhbGlkQ29udGFpbmVyKGUpIHtcbiAgICAgIHZhciBldmVudFRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGNvbnRhaW5lcnMgPSB0aGlzLnZhbGlkQ29udGFpbmVycztcbiAgICAgIGlmICghY29udGFpbmVycyB8fCAhY29udGFpbmVycy5sZW5ndGggfHwgIWV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRhaW5lcnMuc29tZShmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAhIWV2ZW50VGFyZ2V0LmNsb3Nlc3QodGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlVGVybWluYXRpbmdFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVGVybWluYXRpbmdFdmVudChlKSB7XG4gICAgICB2YXIgc2VsZWN0aW5nID0gdGhpcy5zZWxlY3Rpbmc7XG4gICAgICB2YXIgYm91bmRzID0gdGhpcy5fc2VsZWN0UmVjdDtcbiAgICAgIC8vIElmIGl0J3Mgbm90IGluIHNlbGVjdGluZyBzdGF0ZSwgaXQncyBhIGNsaWNrIGV2ZW50XG4gICAgICBpZiAoIXNlbGVjdGluZyAmJiBlLnR5cGUuaW5jbHVkZXMoJ2tleScpKSB7XG4gICAgICAgIGUgPSB0aGlzLl9pbml0aWFsRXZlbnQ7XG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fcmVtb3ZlRW5kTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlRW5kTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZU1vdmVMaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3NlbGVjdFJlY3QgPSBudWxsO1xuICAgICAgdGhpcy5faW5pdGlhbEV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2luaXRpYWxFdmVudERhdGEgPSBudWxsO1xuICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICB2YXIgaW5Sb290ID0gIXRoaXMuY29udGFpbmVyIHx8IGNvbnRhaW5zKHRoaXMuY29udGFpbmVyKCksIGUudGFyZ2V0KTtcbiAgICAgIHZhciBpc1dpdGhpblZhbGlkQ29udGFpbmVyID0gdGhpcy5faXNXaXRoaW5WYWxpZENvbnRhaW5lcihlKTtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgfHwgIWlzV2l0aGluVmFsaWRDb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgncmVzZXQnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc2VsZWN0aW5nICYmIGluUm9vdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlQ2xpY2tFdmVudChlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlciBkcmFnLWNsaWNrZWQgaW4gdGhlIFNlbGVjdGFibGUgYXJlYVxuICAgICAgaWYgKHNlbGVjdGluZykgcmV0dXJuIHRoaXMuZW1pdCgnc2VsZWN0JywgYm91bmRzKTtcbiAgICAgIHJldHVybiB0aGlzLmVtaXQoJ3Jlc2V0Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVDbGlja0V2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDbGlja0V2ZW50KGUpIHtcbiAgICAgIHZhciBfZ2V0RXZlbnRDb29yZGluYXRlczQgPSBnZXRFdmVudENvb3JkaW5hdGVzKGUpLFxuICAgICAgICBwYWdlWCA9IF9nZXRFdmVudENvb3JkaW5hdGVzNC5wYWdlWCxcbiAgICAgICAgcGFnZVkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczQucGFnZVksXG4gICAgICAgIGNsaWVudFggPSBfZ2V0RXZlbnRDb29yZGluYXRlczQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF9nZXRFdmVudENvb3JkaW5hdGVzNC5jbGllbnRZO1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgaWYgKHRoaXMuX2xhc3RDbGlja0RhdGEgJiYgbm93IC0gdGhpcy5fbGFzdENsaWNrRGF0YS50aW1lc3RhbXAgPCBjbGlja0ludGVydmFsKSB7XG4gICAgICAgIC8vIERvdWJsZSBjbGljayBldmVudFxuICAgICAgICB0aGlzLl9sYXN0Q2xpY2tEYXRhID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnZG91YmxlQ2xpY2snLCB7XG4gICAgICAgICAgeDogcGFnZVgsXG4gICAgICAgICAgeTogcGFnZVksXG4gICAgICAgICAgY2xpZW50WDogY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGljayBldmVudFxuICAgICAgdGhpcy5fbGFzdENsaWNrRGF0YSA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBub3dcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5lbWl0KCdjbGljaycsIHtcbiAgICAgICAgeDogcGFnZVgsXG4gICAgICAgIHk6IHBhZ2VZLFxuICAgICAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZU1vdmVFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW92ZUV2ZW50KGUpIHtcbiAgICAgIGlmICh0aGlzLl9pbml0aWFsRXZlbnREYXRhID09PSBudWxsIHx8IHRoaXMuaXNEZXRhY2hlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgX3RoaXMkX2luaXRpYWxFdmVudERhID0gdGhpcy5faW5pdGlhbEV2ZW50RGF0YSxcbiAgICAgICAgeCA9IF90aGlzJF9pbml0aWFsRXZlbnREYS54LFxuICAgICAgICB5ID0gX3RoaXMkX2luaXRpYWxFdmVudERhLnk7XG4gICAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXM1ID0gZ2V0RXZlbnRDb29yZGluYXRlcyhlKSxcbiAgICAgICAgcGFnZVggPSBfZ2V0RXZlbnRDb29yZGluYXRlczUucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX2dldEV2ZW50Q29vcmRpbmF0ZXM1LnBhZ2VZO1xuICAgICAgdmFyIHcgPSBNYXRoLmFicyh4IC0gcGFnZVgpO1xuICAgICAgdmFyIGggPSBNYXRoLmFicyh5IC0gcGFnZVkpO1xuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihwYWdlWCwgeCksXG4gICAgICAgIHRvcCA9IE1hdGgubWluKHBhZ2VZLCB5KSxcbiAgICAgICAgb2xkID0gdGhpcy5zZWxlY3Rpbmc7XG4gICAgICB2YXIgY2xpY2sgPSB0aGlzLmlzQ2xpY2socGFnZVgsIHBhZ2VZKTtcbiAgICAgIC8vIFByZXZlbnQgZW1pdHRpbmcgc2VsZWN0U3RhcnQgZXZlbnQgdW50aWwgbW91c2UgaXMgbW92ZWQuXG4gICAgICAvLyBpbiBDaHJvbWUgb24gV2luZG93cywgbW91c2VNb3ZlIGV2ZW50IG1heSBiZSBmaXJlZCBqdXN0IGFmdGVyIG1vdXNlRG93biBldmVudC5cbiAgICAgIGlmIChjbGljayAmJiAhb2xkICYmICEodyB8fCBoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIW9sZCAmJiAhY2xpY2spIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzZWxlY3RTdGFydCcsIHRoaXMuX2luaXRpYWxFdmVudERhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKCFjbGljaykge1xuICAgICAgICB0aGlzLnNlbGVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NlbGVjdFJlY3QgPSB7XG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICB4OiBwYWdlWCxcbiAgICAgICAgICB5OiBwYWdlWSxcbiAgICAgICAgICByaWdodDogbGVmdCArIHcsXG4gICAgICAgICAgYm90dG9tOiB0b3AgKyBoXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW1pdCgnc2VsZWN0aW5nJywgdGhpcy5fc2VsZWN0UmVjdCk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9rZXlMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfa2V5TGlzdGVuZXIoZSkge1xuICAgICAgdGhpcy5jdHJsID0gZS5tZXRhS2V5IHx8IGUuY3RybEtleTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NsaWNrKHBhZ2VYLCBwYWdlWSkge1xuICAgICAgdmFyIF90aGlzJF9pbml0aWFsRXZlbnREYTIgPSB0aGlzLl9pbml0aWFsRXZlbnREYXRhLFxuICAgICAgICB4ID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi54LFxuICAgICAgICB5ID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi55LFxuICAgICAgICBpc1RvdWNoID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi5pc1RvdWNoO1xuICAgICAgcmV0dXJuICFpc1RvdWNoICYmIE1hdGguYWJzKHBhZ2VYIC0geCkgPD0gY2xpY2tUb2xlcmFuY2UgJiYgTWF0aC5hYnMocGFnZVkgLSB5KSA8PSBjbGlja1RvbGVyYW5jZTtcbiAgICB9XG4gIH1dKTtcbn0oKTtcbi8qKlxuICogUmVzb2x2ZSB0aGUgZGlzYW5jZSBwcm9wIGZyb20gZWl0aGVyIGFuIEludCBvciBhbiBPYmplY3RcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGlzdGFuY2UoKSB7XG4gIHZhciBkaXN0YW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgaWYgKF90eXBlb2YoZGlzdGFuY2UpICE9PSAnb2JqZWN0JykgZGlzdGFuY2UgPSB7XG4gICAgdG9wOiBkaXN0YW5jZSxcbiAgICBsZWZ0OiBkaXN0YW5jZSxcbiAgICByaWdodDogZGlzdGFuY2UsXG4gICAgYm90dG9tOiBkaXN0YW5jZVxuICB9O1xuICByZXR1cm4gZGlzdGFuY2U7XG59XG5cbi8qKlxuICogR2l2ZW4gdHdvIG9iamVjdHMgY29udGFpbmluZyBcInRvcFwiLCBcImxlZnRcIiwgXCJvZmZzZXRXaWR0aFwiIGFuZCBcIm9mZnNldEhlaWdodFwiXG4gKiBwcm9wZXJ0aWVzLCBkZXRlcm1pbmUgaWYgdGhleSBjb2xsaWRlLlxuICogQHBhcmFtICB7T2JqZWN0fEhUTUxFbGVtZW50fSBhXG4gKiBAcGFyYW0gIHtPYmplY3R8SFRNTEVsZW1lbnR9IGJcbiAqIEByZXR1cm4ge2Jvb2x9XG4gKi9cbmZ1bmN0aW9uIG9iamVjdHNDb2xsaWRlKG5vZGVBLCBub2RlQikge1xuICB2YXIgdG9sZXJhbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICB2YXIgX2dldEJvdW5kc0Zvck5vZGUgPSBnZXRCb3VuZHNGb3JOb2RlKG5vZGVBKSxcbiAgICBhVG9wID0gX2dldEJvdW5kc0Zvck5vZGUudG9wLFxuICAgIGFMZWZ0ID0gX2dldEJvdW5kc0Zvck5vZGUubGVmdCxcbiAgICBfZ2V0Qm91bmRzRm9yTm9kZSRyaWcgPSBfZ2V0Qm91bmRzRm9yTm9kZS5yaWdodCxcbiAgICBhUmlnaHQgPSBfZ2V0Qm91bmRzRm9yTm9kZSRyaWcgPT09IHZvaWQgMCA/IGFMZWZ0IDogX2dldEJvdW5kc0Zvck5vZGUkcmlnLFxuICAgIF9nZXRCb3VuZHNGb3JOb2RlJGJvdCA9IF9nZXRCb3VuZHNGb3JOb2RlLmJvdHRvbSxcbiAgICBhQm90dG9tID0gX2dldEJvdW5kc0Zvck5vZGUkYm90ID09PSB2b2lkIDAgPyBhVG9wIDogX2dldEJvdW5kc0Zvck5vZGUkYm90O1xuICB2YXIgX2dldEJvdW5kc0Zvck5vZGUyID0gZ2V0Qm91bmRzRm9yTm9kZShub2RlQiksXG4gICAgYlRvcCA9IF9nZXRCb3VuZHNGb3JOb2RlMi50b3AsXG4gICAgYkxlZnQgPSBfZ2V0Qm91bmRzRm9yTm9kZTIubGVmdCxcbiAgICBfZ2V0Qm91bmRzRm9yTm9kZTIkcmkgPSBfZ2V0Qm91bmRzRm9yTm9kZTIucmlnaHQsXG4gICAgYlJpZ2h0ID0gX2dldEJvdW5kc0Zvck5vZGUyJHJpID09PSB2b2lkIDAgPyBiTGVmdCA6IF9nZXRCb3VuZHNGb3JOb2RlMiRyaSxcbiAgICBfZ2V0Qm91bmRzRm9yTm9kZTIkYm8gPSBfZ2V0Qm91bmRzRm9yTm9kZTIuYm90dG9tLFxuICAgIGJCb3R0b20gPSBfZ2V0Qm91bmRzRm9yTm9kZTIkYm8gPT09IHZvaWQgMCA/IGJUb3AgOiBfZ2V0Qm91bmRzRm9yTm9kZTIkYm87XG4gIHJldHVybiAhKFxuICAvLyAnYScgYm90dG9tIGRvZXNuJ3QgdG91Y2ggJ2InIHRvcFxuXG4gIGFCb3R0b20gLSB0b2xlcmFuY2UgPCBiVG9wIHx8XG4gIC8vICdhJyB0b3AgZG9lc24ndCB0b3VjaCAnYicgYm90dG9tXG4gIGFUb3AgKyB0b2xlcmFuY2UgPiBiQm90dG9tIHx8XG4gIC8vICdhJyByaWdodCBkb2Vzbid0IHRvdWNoICdiJyBsZWZ0XG4gIGFSaWdodCAtIHRvbGVyYW5jZSA8IGJMZWZ0IHx8XG4gIC8vICdhJyBsZWZ0IGRvZXNuJ3QgdG91Y2ggJ2InIHJpZ2h0XG4gIGFMZWZ0ICsgdG9sZXJhbmNlID4gYlJpZ2h0KTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhIG5vZGUsIGdldCBldmVyeXRoaW5nIG5lZWRlZCB0byBjYWxjdWxhdGUgaXRzIGJvdW5kYXJpZXNcbiAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kc0Zvck5vZGUobm9kZSkge1xuICBpZiAoIW5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KSByZXR1cm4gbm9kZTtcbiAgdmFyIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgIGxlZnQgPSByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0KCdsZWZ0JyksXG4gICAgdG9wID0gcmVjdC50b3AgKyBwYWdlT2Zmc2V0KCd0b3AnKTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRvcCxcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIHJpZ2h0OiAobm9kZS5vZmZzZXRXaWR0aCB8fCAwKSArIGxlZnQsXG4gICAgYm90dG9tOiAobm9kZS5vZmZzZXRIZWlnaHQgfHwgMCkgKyB0b3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhZ2VPZmZzZXQoZGlyKSB7XG4gIGlmIChkaXIgPT09ICdsZWZ0JykgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDtcbiAgaWYgKGRpciA9PT0gJ3RvcCcpIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgMDtcbn1cblxudmFyIEJhY2tncm91bmRDZWxscyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBmdW5jdGlvbiBCYWNrZ3JvdW5kQ2VsbHMocHJvcHMsIGNvbnRleHQpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhY2tncm91bmRDZWxscyk7XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIEJhY2tncm91bmRDZWxscywgW3Byb3BzLCBjb250ZXh0XSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3Rpbmc6IGZhbHNlXG4gICAgfTtcbiAgICBfdGhpcy5jb250YWluZXJSZWYgPSAvKiNfX1BVUkVfXyovY3JlYXRlUmVmKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhCYWNrZ3JvdW5kQ2VsbHMsIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEJhY2tncm91bmRDZWxscywgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnByb3BzLnNlbGVjdGFibGUgJiYgdGhpcy5fc2VsZWN0YWJsZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuX3RlYXJkb3duU2VsZWN0YWJsZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgaWYgKCFwcmV2UHJvcHMuc2VsZWN0YWJsZSAmJiB0aGlzLnByb3BzLnNlbGVjdGFibGUpIHRoaXMuX3NlbGVjdGFibGUoKTtcbiAgICAgIGlmIChwcmV2UHJvcHMuc2VsZWN0YWJsZSAmJiAhdGhpcy5wcm9wcy5zZWxlY3RhYmxlKSB0aGlzLl90ZWFyZG93blNlbGVjdGFibGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHMucmFuZ2UsXG4gICAgICAgIGdldE5vdyA9IF90aGlzJHByb3BzLmdldE5vdyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzLmdldHRlcnMsXG4gICAgICAgIGN1cnJlbnREYXRlID0gX3RoaXMkcHJvcHMuZGF0ZSxcbiAgICAgICAgV3JhcHBlciA9IF90aGlzJHByb3BzLmNvbXBvbmVudHMuZGF0ZUNlbGxXcmFwcGVyLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfdGhpcyRwcm9wcy5sb2NhbGl6ZXI7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBzZWxlY3RpbmcgPSBfdGhpcyRzdGF0ZS5zZWxlY3RpbmcsXG4gICAgICAgIHN0YXJ0SWR4ID0gX3RoaXMkc3RhdGUuc3RhcnRJZHgsXG4gICAgICAgIGVuZElkeCA9IF90aGlzJHN0YXRlLmVuZElkeDtcbiAgICAgIHZhciBjdXJyZW50ID0gZ2V0Tm93KCk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXJvdy1iZ1wiLFxuICAgICAgICByZWY6IHRoaXMuY29udGFpbmVyUmVmXG4gICAgICB9LCByYW5nZS5tYXAoZnVuY3Rpb24gKGRhdGUsIGluZGV4KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGluZyAmJiBpbmRleCA+PSBzdGFydElkeCAmJiBpbmRleCA8PSBlbmRJZHg7XG4gICAgICAgIHZhciBfZ2V0dGVycyRkYXlQcm9wID0gZ2V0dGVycy5kYXlQcm9wKGRhdGUpLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9nZXR0ZXJzJGRheVByb3AuY2xhc3NOYW1lLFxuICAgICAgICAgIHN0eWxlID0gX2dldHRlcnMkZGF5UHJvcC5zdHlsZTtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIHtcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIHZhbHVlOiBkYXRlLFxuICAgICAgICAgIHJhbmdlOiByYW5nZVxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xzeCgncmJjLWRheS1iZycsIGNsYXNzTmFtZSwgc2VsZWN0ZWQgJiYgJ3JiYy1zZWxlY3RlZC1jZWxsJywgbG9jYWxpemVyLmlzU2FtZURhdGUoZGF0ZSwgY3VycmVudCkgJiYgJ3JiYy10b2RheScsIGN1cnJlbnREYXRlICYmIGxvY2FsaXplci5uZXEoY3VycmVudERhdGUsIGRhdGUsICdtb250aCcpICYmICdyYmMtb2ZmLXJhbmdlLWJnJylcbiAgICAgICAgfSkpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2VsZWN0YWJsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VsZWN0YWJsZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5fc2VsZWN0b3IgPSBuZXcgU2VsZWN0aW9uKHRoaXMucHJvcHMuY29udGFpbmVyLCB7XG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogdGhpcy5wcm9wcy5sb25nUHJlc3NUaHJlc2hvbGRcbiAgICAgIH0pO1xuICAgICAgdmFyIHNlbGVjdG9yQ2xpY2tzSGFuZGxlciA9IGZ1bmN0aW9uIHNlbGVjdG9yQ2xpY2tzSGFuZGxlcihwb2ludCwgYWN0aW9uVHlwZSkge1xuICAgICAgICBpZiAoIWlzRXZlbnQobm9kZSwgcG9pbnQpICYmICFpc1Nob3dNb3JlKG5vZGUsIHBvaW50KSkge1xuICAgICAgICAgIHZhciByb3dCb3ggPSBnZXRCb3VuZHNGb3JOb2RlKG5vZGUpO1xuICAgICAgICAgIHZhciBfdGhpczIkcHJvcHMgPSBfdGhpczIucHJvcHMsXG4gICAgICAgICAgICByYW5nZSA9IF90aGlzMiRwcm9wcy5yYW5nZSxcbiAgICAgICAgICAgIHJ0bCA9IF90aGlzMiRwcm9wcy5ydGw7XG4gICAgICAgICAgaWYgKHBvaW50SW5Cb3gocm93Qm94LCBwb2ludCkpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2VsbCA9IGdldFNsb3RBdFgocm93Qm94LCBwb2ludC54LCBydGwsIHJhbmdlLmxlbmd0aCk7XG4gICAgICAgICAgICBfdGhpczIuX3NlbGVjdFNsb3Qoe1xuICAgICAgICAgICAgICBzdGFydElkeDogY3VycmVudENlbGwsXG4gICAgICAgICAgICAgIGVuZElkeDogY3VycmVudENlbGwsXG4gICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgYm94OiBwb2ludFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzMi5faW5pdGlhbCA9IHt9O1xuICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgc2VsZWN0b3Iub24oJ3NlbGVjdGluZycsIGZ1bmN0aW9uIChib3gpIHtcbiAgICAgICAgdmFyIF90aGlzMiRwcm9wczIgPSBfdGhpczIucHJvcHMsXG4gICAgICAgICAgcmFuZ2UgPSBfdGhpczIkcHJvcHMyLnJhbmdlLFxuICAgICAgICAgIHJ0bCA9IF90aGlzMiRwcm9wczIucnRsO1xuICAgICAgICB2YXIgc3RhcnRJZHggPSAtMTtcbiAgICAgICAgdmFyIGVuZElkeCA9IC0xO1xuICAgICAgICBpZiAoIV90aGlzMi5zdGF0ZS5zZWxlY3RpbmcpIHtcbiAgICAgICAgICBub3RpZnkoX3RoaXMyLnByb3BzLm9uU2VsZWN0U3RhcnQsIFtib3hdKTtcbiAgICAgICAgICBfdGhpczIuX2luaXRpYWwgPSB7XG4gICAgICAgICAgICB4OiBib3gueCxcbiAgICAgICAgICAgIHk6IGJveC55XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0b3IuaXNTZWxlY3RlZChub2RlKSkge1xuICAgICAgICAgIHZhciBub2RlQm94ID0gZ2V0Qm91bmRzRm9yTm9kZShub2RlKTtcbiAgICAgICAgICB2YXIgX2RhdGVDZWxsU2VsZWN0aW9uID0gZGF0ZUNlbGxTZWxlY3Rpb24oX3RoaXMyLl9pbml0aWFsLCBub2RlQm94LCBib3gsIHJhbmdlLmxlbmd0aCwgcnRsKTtcbiAgICAgICAgICBzdGFydElkeCA9IF9kYXRlQ2VsbFNlbGVjdGlvbi5zdGFydElkeDtcbiAgICAgICAgICBlbmRJZHggPSBfZGF0ZUNlbGxTZWxlY3Rpb24uZW5kSWR4O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0aW5nOiB0cnVlLFxuICAgICAgICAgIHN0YXJ0SWR4OiBzdGFydElkeCxcbiAgICAgICAgICBlbmRJZHg6IGVuZElkeFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ2JlZm9yZVNlbGVjdCcsIGZ1bmN0aW9uIChib3gpIHtcbiAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5zZWxlY3RhYmxlICE9PSAnaWdub3JlRXZlbnRzJykgcmV0dXJuO1xuICAgICAgICByZXR1cm4gIWlzRXZlbnQoX3RoaXMyLmNvbnRhaW5lclJlZi5jdXJyZW50LCBib3gpO1xuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignY2xpY2snLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yQ2xpY2tzSGFuZGxlcihwb2ludCwgJ2NsaWNrJyk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdkb3VibGVDbGljaycsIGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3JDbGlja3NIYW5kbGVyKHBvaW50LCAnZG91YmxlQ2xpY2snKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgX3RoaXMyLl9zZWxlY3RTbG90KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMyLnN0YXRlKSwge30sIHtcbiAgICAgICAgICBhY3Rpb246ICdzZWxlY3QnLFxuICAgICAgICAgIGJvdW5kczogYm91bmRzXG4gICAgICAgIH0pKTtcbiAgICAgICAgX3RoaXMyLl9pbml0aWFsID0ge307XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgc2VsZWN0aW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgbm90aWZ5KF90aGlzMi5wcm9wcy5vblNlbGVjdEVuZCwgW190aGlzMi5zdGF0ZV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl90ZWFyZG93blNlbGVjdGFibGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3RlYXJkb3duU2VsZWN0YWJsZSgpIHtcbiAgICAgIGlmICghdGhpcy5fc2VsZWN0b3IpIHJldHVybjtcbiAgICAgIHRoaXMuX3NlbGVjdG9yLnRlYXJkb3duKCk7XG4gICAgICB0aGlzLl9zZWxlY3RvciA9IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZWxlY3RTbG90XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3RTbG90KF9yZWYpIHtcbiAgICAgIHZhciBlbmRJZHggPSBfcmVmLmVuZElkeCxcbiAgICAgICAgc3RhcnRJZHggPSBfcmVmLnN0YXJ0SWR4LFxuICAgICAgICBhY3Rpb24gPSBfcmVmLmFjdGlvbixcbiAgICAgICAgYm91bmRzID0gX3JlZi5ib3VuZHMsXG4gICAgICAgIGJveCA9IF9yZWYuYm94O1xuICAgICAgaWYgKGVuZElkeCAhPT0gLTEgJiYgc3RhcnRJZHggIT09IC0xKSB0aGlzLnByb3BzLm9uU2VsZWN0U2xvdCAmJiB0aGlzLnByb3BzLm9uU2VsZWN0U2xvdCh7XG4gICAgICAgIHN0YXJ0OiBzdGFydElkeCxcbiAgICAgICAgZW5kOiBlbmRJZHgsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBib3VuZHM6IGJvdW5kcyxcbiAgICAgICAgYm94OiBib3gsXG4gICAgICAgIHJlc291cmNlSWQ6IHRoaXMucHJvcHMucmVzb3VyY2VJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbnZhciBFdmVudFJvd01peGluID0ge1xuICBwcm9wVHlwZXM6IHtcbiAgICBzbG90TWV0cmljczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGlzQWxsRGF5OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBhY2Nlc3NvcnM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBsb2NhbGl6ZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb21wb25lbnRzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZ2V0dGVyczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uU2VsZWN0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkRvdWJsZUNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbktleVByZXNzOiBQcm9wVHlwZXMuZnVuY1xuICB9LFxuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBzZWdtZW50czogW10sXG4gICAgc2VsZWN0ZWQ6IHt9XG4gIH0sXG4gIHJlbmRlckV2ZW50OiBmdW5jdGlvbiByZW5kZXJFdmVudChwcm9wcywgZXZlbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZDtcbiAgICAgIHByb3BzLmlzQWxsRGF5O1xuICAgICAgdmFyIGFjY2Vzc29ycyA9IHByb3BzLmFjY2Vzc29ycyxcbiAgICAgIGdldHRlcnMgPSBwcm9wcy5nZXR0ZXJzLFxuICAgICAgb25TZWxlY3QgPSBwcm9wcy5vblNlbGVjdCxcbiAgICAgIG9uRG91YmxlQ2xpY2sgPSBwcm9wcy5vbkRvdWJsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzcyA9IHByb3BzLm9uS2V5UHJlc3MsXG4gICAgICBsb2NhbGl6ZXIgPSBwcm9wcy5sb2NhbGl6ZXIsXG4gICAgICBzbG90TWV0cmljcyA9IHByb3BzLnNsb3RNZXRyaWNzLFxuICAgICAgY29tcG9uZW50cyA9IHByb3BzLmNvbXBvbmVudHMsXG4gICAgICByZXNpemFibGUgPSBwcm9wcy5yZXNpemFibGU7XG4gICAgdmFyIGNvbnRpbnVlc1ByaW9yID0gc2xvdE1ldHJpY3MuY29udGludWVzUHJpb3IoZXZlbnQpO1xuICAgIHZhciBjb250aW51ZXNBZnRlciA9IHNsb3RNZXRyaWNzLmNvbnRpbnVlc0FmdGVyKGV2ZW50KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRDZWxsLCB7XG4gICAgICBldmVudDogZXZlbnQsXG4gICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICBvblNlbGVjdDogb25TZWxlY3QsXG4gICAgICBvbkRvdWJsZUNsaWNrOiBvbkRvdWJsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzczogb25LZXlQcmVzcyxcbiAgICAgIGNvbnRpbnVlc1ByaW9yOiBjb250aW51ZXNQcmlvcixcbiAgICAgIGNvbnRpbnVlc0FmdGVyOiBjb250aW51ZXNBZnRlcixcbiAgICAgIHNsb3RTdGFydDogc2xvdE1ldHJpY3MuZmlyc3QsXG4gICAgICBzbG90RW5kOiBzbG90TWV0cmljcy5sYXN0LFxuICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQoZXZlbnQsIHNlbGVjdGVkKSxcbiAgICAgIHJlc2l6YWJsZTogcmVzaXphYmxlXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlclNwYW46IGZ1bmN0aW9uIHJlbmRlclNwYW4oc2xvdHMsIGxlbiwga2V5KSB7XG4gICAgdmFyIGNvbnRlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcgJztcbiAgICB2YXIgcGVyID0gTWF0aC5hYnMobGVuKSAvIHNsb3RzICogMTAwICsgJyUnO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGNsYXNzTmFtZTogXCJyYmMtcm93LXNlZ21lbnRcIlxuICAgICAgLy8gSUUxMC8xMSBuZWVkIG1heC13aWR0aC4gZmxleC1iYXNpcyBkb2Vzbid0IHJlc3BlY3QgYm94LXNpemluZ1xuICAgICAgLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgV2Via2l0RmxleEJhc2lzOiBwZXIsXG4gICAgICAgIGZsZXhCYXNpczogcGVyLFxuICAgICAgICBtYXhXaWR0aDogcGVyXG4gICAgICB9XG4gICAgfSwgY29udGVudCk7XG4gIH1cbn07XG5cbnZhciBFdmVudFJvdyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBmdW5jdGlvbiBFdmVudFJvdygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRSb3cpO1xuICAgIHJldHVybiBfY2FsbFN1cGVyKHRoaXMsIEV2ZW50Um93LCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhFdmVudFJvdywgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRXZlbnRSb3csIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc2VnbWVudHMgPSBfdGhpcyRwcm9wcy5zZWdtZW50cyxcbiAgICAgICAgc2xvdHMgPSBfdGhpcyRwcm9wcy5zbG90TWV0cmljcy5zbG90cyxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lO1xuICAgICAgdmFyIGxhc3RFbmQgPSAxO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzTmFtZSwgJ3JiYy1yb3cnKVxuICAgICAgfSwgc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChyb3csIF9yZWYsIGxpKSB7XG4gICAgICAgIHZhciBldmVudCA9IF9yZWYuZXZlbnQsXG4gICAgICAgICAgbGVmdCA9IF9yZWYubGVmdCxcbiAgICAgICAgICByaWdodCA9IF9yZWYucmlnaHQsXG4gICAgICAgICAgc3BhbiA9IF9yZWYuc3BhbjtcbiAgICAgICAgdmFyIGtleSA9ICdfbHZsXycgKyBsaTtcbiAgICAgICAgdmFyIGdhcCA9IGxlZnQgLSBsYXN0RW5kO1xuICAgICAgICB2YXIgY29udGVudCA9IEV2ZW50Um93TWl4aW4ucmVuZGVyRXZlbnQoX3RoaXMucHJvcHMsIGV2ZW50KTtcbiAgICAgICAgaWYgKGdhcCkgcm93LnB1c2goRXZlbnRSb3dNaXhpbi5yZW5kZXJTcGFuKHNsb3RzLCBnYXAsIFwiXCIuY29uY2F0KGtleSwgXCJfZ2FwXCIpKSk7XG4gICAgICAgIHJvdy5wdXNoKEV2ZW50Um93TWl4aW4ucmVuZGVyU3BhbihzbG90cywgc3Bhbiwga2V5LCBjb250ZW50KSk7XG4gICAgICAgIGxhc3RFbmQgPSByaWdodCArIDE7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgICB9LCBbXSkpO1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuRXZlbnRSb3cuZGVmYXVsdFByb3BzID0gX29iamVjdFNwcmVhZCh7fSwgRXZlbnRSb3dNaXhpbi5kZWZhdWx0UHJvcHMpO1xuXG5mdW5jdGlvbiBlbmRPZlJhbmdlKF9yZWYpIHtcbiAgdmFyIGRhdGVSYW5nZSA9IF9yZWYuZGF0ZVJhbmdlLFxuICAgIF9yZWYkdW5pdCA9IF9yZWYudW5pdCxcbiAgICB1bml0ID0gX3JlZiR1bml0ID09PSB2b2lkIDAgPyAnZGF5JyA6IF9yZWYkdW5pdCxcbiAgICBsb2NhbGl6ZXIgPSBfcmVmLmxvY2FsaXplcjtcbiAgcmV0dXJuIHtcbiAgICBmaXJzdDogZGF0ZVJhbmdlWzBdLFxuICAgIGxhc3Q6IGxvY2FsaXplci5hZGQoZGF0ZVJhbmdlW2RhdGVSYW5nZS5sZW5ndGggLSAxXSwgMSwgdW5pdClcbiAgfTtcbn1cblxuLy8gcHJvcGVybHkgY2FsY3VsYXRpbmcgc2VnbWVudHMgcmVxdWlyZXMgd29ya2luZyB3aXRoIGRhdGVzIGluXG4vLyB0aGUgdGltZXpvbmUgd2UncmUgd29ya2luZyB3aXRoLCBzbyB3ZSB1c2UgdGhlIGxvY2FsaXplclxuZnVuY3Rpb24gZXZlbnRTZWdtZW50cyhldmVudCwgcmFuZ2UsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBfZW5kT2ZSYW5nZSA9IGVuZE9mUmFuZ2Uoe1xuICAgICAgZGF0ZVJhbmdlOiByYW5nZSxcbiAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgfSksXG4gICAgZmlyc3QgPSBfZW5kT2ZSYW5nZS5maXJzdCxcbiAgICBsYXN0ID0gX2VuZE9mUmFuZ2UubGFzdDtcbiAgdmFyIHNsb3RzID0gbG9jYWxpemVyLmRpZmYoZmlyc3QsIGxhc3QsICdkYXknKTtcbiAgdmFyIHN0YXJ0ID0gbG9jYWxpemVyLm1heChsb2NhbGl6ZXIuc3RhcnRPZihhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpLCAnZGF5JyksIGZpcnN0KTtcbiAgdmFyIGVuZCA9IGxvY2FsaXplci5taW4obG9jYWxpemVyLmNlaWwoYWNjZXNzb3JzLmVuZChldmVudCksICdkYXknKSwgbGFzdCk7XG4gIHZhciBwYWRkaW5nID0gZmluZEluZGV4KHJhbmdlLCBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBsb2NhbGl6ZXIuaXNTYW1lRGF0ZSh4LCBzdGFydCk7XG4gIH0pO1xuICB2YXIgc3BhbiA9IGxvY2FsaXplci5kaWZmKHN0YXJ0LCBlbmQsICdkYXknKTtcbiAgc3BhbiA9IE1hdGgubWluKHNwYW4sIHNsb3RzKTtcbiAgLy8gVGhlIHNlZ21lbnRPZmZzZXQgaXMgbmVjZXNzYXJ5IHdoZW4gYWRqdXN0aW5nIGZvciB0aW1lem9uZXNcbiAgLy8gYWhlYWQgb2YgdGhlIGJyb3dzZXIgdGltZXpvbmVcbiAgc3BhbiA9IE1hdGgubWF4KHNwYW4gLSBsb2NhbGl6ZXIuc2VnbWVudE9mZnNldCwgMSk7XG4gIHJldHVybiB7XG4gICAgZXZlbnQ6IGV2ZW50LFxuICAgIHNwYW46IHNwYW4sXG4gICAgbGVmdDogcGFkZGluZyArIDEsXG4gICAgcmlnaHQ6IE1hdGgubWF4KHBhZGRpbmcgKyBzcGFuLCAxKVxuICB9O1xufVxuZnVuY3Rpb24gZXZlbnRMZXZlbHMocm93U2VnbWVudHMpIHtcbiAgdmFyIGxpbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBJbmZpbml0eTtcbiAgdmFyIGksXG4gICAgaixcbiAgICBzZWcsXG4gICAgbGV2ZWxzID0gW10sXG4gICAgZXh0cmEgPSBbXTtcbiAgZm9yIChpID0gMDsgaSA8IHJvd1NlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VnID0gcm93U2VnbWVudHNbaV07XG4gICAgZm9yIChqID0gMDsgaiA8IGxldmVscy5sZW5ndGg7IGorKykgaWYgKCFzZWdzT3ZlcmxhcChzZWcsIGxldmVsc1tqXSkpIGJyZWFrO1xuICAgIGlmIChqID49IGxpbWl0KSB7XG4gICAgICBleHRyYS5wdXNoKHNlZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChsZXZlbHNbal0gfHwgKGxldmVsc1tqXSA9IFtdKSkucHVzaChzZWcpO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV2ZWxzW2ldLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmxlZnQgLSBiLmxlZnQ7XG4gICAgfSk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIHJldHVybiB7XG4gICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgZXh0cmE6IGV4dHJhXG4gIH07XG59XG5mdW5jdGlvbiBpblJhbmdlKGUsIHN0YXJ0LCBlbmQsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBldmVudCA9IHtcbiAgICBzdGFydDogYWNjZXNzb3JzLnN0YXJ0KGUpLFxuICAgIGVuZDogYWNjZXNzb3JzLmVuZChlKVxuICB9O1xuICB2YXIgcmFuZ2UgPSB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG4gIHJldHVybiBsb2NhbGl6ZXIuaW5FdmVudFJhbmdlKHtcbiAgICBldmVudDogZXZlbnQsXG4gICAgcmFuZ2U6IHJhbmdlXG4gIH0pO1xufVxuZnVuY3Rpb24gc2Vnc092ZXJsYXAoc2VnLCBvdGhlclNlZ3MpIHtcbiAgcmV0dXJuIG90aGVyU2Vncy5zb21lKGZ1bmN0aW9uIChvdGhlclNlZykge1xuICAgIHJldHVybiBvdGhlclNlZy5sZWZ0IDw9IHNlZy5yaWdodCAmJiBvdGhlclNlZy5yaWdodCA+PSBzZWcubGVmdDtcbiAgfSk7XG59XG5mdW5jdGlvbiBzb3J0V2Vla0V2ZW50cyhldmVudHMsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBiYXNlID0gX3RvQ29uc3VtYWJsZUFycmF5KGV2ZW50cyk7XG4gIHZhciBtdWx0aURheUV2ZW50cyA9IFtdO1xuICB2YXIgc3RhbmRhcmRFdmVudHMgPSBbXTtcbiAgYmFzZS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBzdGFydENoZWNrID0gYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KTtcbiAgICB2YXIgZW5kQ2hlY2sgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgICBpZiAobG9jYWxpemVyLmRheVNwYW4oc3RhcnRDaGVjaywgZW5kQ2hlY2spID4gMSkge1xuICAgICAgbXVsdGlEYXlFdmVudHMucHVzaChldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YW5kYXJkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBtdWx0aVNvcnRlZCA9IG11bHRpRGF5RXZlbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gc29ydEV2ZW50cyhhLCBiLCBhY2Nlc3NvcnMsIGxvY2FsaXplcik7XG4gIH0pO1xuICB2YXIgc3RhbmRhcmRTb3J0ZWQgPSBzdGFuZGFyZEV2ZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIHNvcnRFdmVudHMoYSwgYiwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpO1xuICB9KTtcbiAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlTb3J0ZWQpLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RhbmRhcmRTb3J0ZWQpKTtcbn1cbmZ1bmN0aW9uIHNvcnRFdmVudHMoZXZlbnRBLCBldmVudEIsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBldnRBID0ge1xuICAgIHN0YXJ0OiBhY2Nlc3NvcnMuc3RhcnQoZXZlbnRBKSxcbiAgICBlbmQ6IGFjY2Vzc29ycy5lbmQoZXZlbnRBKSxcbiAgICBhbGxEYXk6IGFjY2Vzc29ycy5hbGxEYXkoZXZlbnRBKVxuICB9O1xuICB2YXIgZXZ0QiA9IHtcbiAgICBzdGFydDogYWNjZXNzb3JzLnN0YXJ0KGV2ZW50QiksXG4gICAgZW5kOiBhY2Nlc3NvcnMuZW5kKGV2ZW50QiksXG4gICAgYWxsRGF5OiBhY2Nlc3NvcnMuYWxsRGF5KGV2ZW50QilcbiAgfTtcbiAgcmV0dXJuIGxvY2FsaXplci5zb3J0RXZlbnRzKHtcbiAgICBldnRBOiBldnRBLFxuICAgIGV2dEI6IGV2dEJcbiAgfSk7XG59XG5cbnZhciBpc1NlZ21lbnRJblNsb3QkMSA9IGZ1bmN0aW9uIGlzU2VnbWVudEluU2xvdChzZWcsIHNsb3QpIHtcbiAgcmV0dXJuIHNlZy5sZWZ0IDw9IHNsb3QgJiYgc2VnLnJpZ2h0ID49IHNsb3Q7XG59O1xudmFyIGV2ZW50c0luU2xvdCA9IGZ1bmN0aW9uIGV2ZW50c0luU2xvdChzZWdtZW50cywgc2xvdCkge1xuICByZXR1cm4gc2VnbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChzZWcpIHtcbiAgICByZXR1cm4gaXNTZWdtZW50SW5TbG90JDEoc2VnLCBzbG90KTtcbiAgfSkubWFwKGZ1bmN0aW9uIChzZWcpIHtcbiAgICByZXR1cm4gc2VnLmV2ZW50O1xuICB9KTtcbn07XG52YXIgRXZlbnRFbmRpbmdSb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRXZlbnRFbmRpbmdSb3coKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50RW5kaW5nUm93KTtcbiAgICByZXR1cm4gX2NhbGxTdXBlcih0aGlzLCBFdmVudEVuZGluZ1JvdywgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoRXZlbnRFbmRpbmdSb3csIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKEV2ZW50RW5kaW5nUm93LCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc2VnbWVudHMgPSBfdGhpcyRwcm9wcy5zZWdtZW50cyxcbiAgICAgICAgc2xvdHMgPSBfdGhpcyRwcm9wcy5zbG90TWV0cmljcy5zbG90cztcbiAgICAgIHZhciByb3dTZWdtZW50cyA9IGV2ZW50TGV2ZWxzKHNlZ21lbnRzKS5sZXZlbHNbMF07XG4gICAgICB2YXIgY3VycmVudCA9IDEsXG4gICAgICAgIGxhc3RFbmQgPSAxLFxuICAgICAgICByb3cgPSBbXTtcbiAgICAgIHdoaWxlIChjdXJyZW50IDw9IHNsb3RzKSB7XG4gICAgICAgIHZhciBrZXkgPSAnX2x2bF8nICsgY3VycmVudDtcbiAgICAgICAgdmFyIF9yZWYgPSByb3dTZWdtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHNlZykge1xuICAgICAgICAgICAgcmV0dXJuIGlzU2VnbWVudEluU2xvdCQxKHNlZywgY3VycmVudCk7XG4gICAgICAgICAgfSlbMF0gfHwge30sXG4gICAgICAgICAgZXZlbnQgPSBfcmVmLmV2ZW50LFxuICAgICAgICAgIGxlZnQgPSBfcmVmLmxlZnQsXG4gICAgICAgICAgcmlnaHQgPSBfcmVmLnJpZ2h0LFxuICAgICAgICAgIHNwYW4gPSBfcmVmLnNwYW47IC8vZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdhcCA9IE1hdGgubWF4KDAsIGxlZnQgLSBsYXN0RW5kKTtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmVuZGVyU2xvdEV2ZW50KGxlZnQsIHNwYW4pKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBFdmVudFJvd01peGluLnJlbmRlckV2ZW50KHRoaXMucHJvcHMsIGV2ZW50KTtcbiAgICAgICAgICBpZiAoZ2FwKSB7XG4gICAgICAgICAgICByb3cucHVzaChFdmVudFJvd01peGluLnJlbmRlclNwYW4oc2xvdHMsIGdhcCwga2V5ICsgJ19nYXAnKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvdy5wdXNoKEV2ZW50Um93TWl4aW4ucmVuZGVyU3BhbihzbG90cywgc3Bhbiwga2V5LCBjb250ZW50KSk7XG4gICAgICAgICAgbGFzdEVuZCA9IGN1cnJlbnQgPSByaWdodCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGdhcCkge1xuICAgICAgICAgICAgcm93LnB1c2goRXZlbnRSb3dNaXhpbi5yZW5kZXJTcGFuKHNsb3RzLCBnYXAsIGtleSArICdfZ2FwJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByb3cucHVzaChFdmVudFJvd01peGluLnJlbmRlclNwYW4oc2xvdHMsIDEsIGtleSwgdGhpcy5yZW5kZXJTaG93TW9yZShzZWdtZW50cywgY3VycmVudCkpKTtcbiAgICAgICAgICBsYXN0RW5kID0gY3VycmVudCA9IGN1cnJlbnQgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXJvd1wiXG4gICAgICB9LCByb3cpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYW5SZW5kZXJTbG90RXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuUmVuZGVyU2xvdEV2ZW50KHNsb3QsIHNwYW4pIHtcbiAgICAgIHZhciBzZWdtZW50cyA9IHRoaXMucHJvcHMuc2VnbWVudHM7XG4gICAgICByZXR1cm4gcmFuZ2UkMShzbG90LCBzbG90ICsgc3BhbikuZXZlcnkoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gZXZlbnRzSW5TbG90KHNlZ21lbnRzLCBzKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjb3VudCA9PT0gMTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJTaG93TW9yZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJTaG93TW9yZShzZWdtZW50cywgc2xvdCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfdGhpcyRwcm9wczIubG9jYWxpemVyLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzJHByb3BzMi5zbG90TWV0cmljcyxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzMi5jb21wb25lbnRzO1xuICAgICAgdmFyIGV2ZW50cyA9IHNsb3RNZXRyaWNzLmdldEV2ZW50c0ZvclNsb3Qoc2xvdCk7XG4gICAgICB2YXIgcmVtYWluaW5nRXZlbnRzID0gZXZlbnRzSW5TbG90KHNlZ21lbnRzLCBzbG90KTtcbiAgICAgIHZhciBjb3VudCA9IHJlbWFpbmluZ0V2ZW50cy5sZW5ndGg7XG4gICAgICBpZiAoY29tcG9uZW50cyAhPT0gbnVsbCAmJiBjb21wb25lbnRzICE9PSB2b2lkIDAgJiYgY29tcG9uZW50cy5zaG93TW9yZSkge1xuICAgICAgICB2YXIgU2hvd01vcmUgPSBjb21wb25lbnRzLnNob3dNb3JlO1xuICAgICAgICAvLyBUaGUgcmVjZWl2ZWQgc2xvdCBzZWVtcyB0byBiZSAxLWJhc2VkLCBidXQgdGhlIHJhbmdlIHdlIHVzZSB0byBwdWxsIHRoZSBkYXRlIGlzIDAtYmFzZWRcbiAgICAgICAgdmFyIHNsb3REYXRlID0gc2xvdE1ldHJpY3MuZ2V0RGF0ZUZvclNsb3Qoc2xvdCAtIDEpO1xuICAgICAgICByZXR1cm4gY291bnQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTaG93TW9yZSwge1xuICAgICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICAgIHNsb3REYXRlOiBzbG90RGF0ZSxcbiAgICAgICAgICBzbG90OiBzbG90LFxuICAgICAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgICAgICBldmVudHM6IGV2ZW50cyxcbiAgICAgICAgICByZW1haW5pbmdFdmVudHM6IHJlbWFpbmluZ0V2ZW50c1xuICAgICAgICB9KSA6IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvdW50ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBrZXk6ICdzbV8nICsgc2xvdCxcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtYnV0dG9uLWxpbmsnLCAncmJjLXNob3ctbW9yZScpLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuc2hvd01vcmUoc2xvdCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGxvY2FsaXplci5tZXNzYWdlcy5zaG93TW9yZShjb3VudCwgcmVtYWluaW5nRXZlbnRzLCBldmVudHMpKSA6IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG93TW9yZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9yZShzbG90LCBlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5wcm9wcy5vblNob3dNb3JlKHNsb3QsIGUudGFyZ2V0KTtcbiAgICB9XG4gIH1dKTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcbkV2ZW50RW5kaW5nUm93LmRlZmF1bHRQcm9wcyA9IF9vYmplY3RTcHJlYWQoe30sIEV2ZW50Um93TWl4aW4uZGVmYXVsdFByb3BzKTtcblxudmFyIFNjcm9sbGFibGVXZWVrV3JhcHBlciA9IGZ1bmN0aW9uIFNjcm9sbGFibGVXZWVrV3JhcHBlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJiYy1yb3ctY29udGVudC1zY3JvbGwtY29udGFpbmVyXCJcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxudmFyIGlzU2VnbWVudEluU2xvdCA9IGZ1bmN0aW9uIGlzU2VnbWVudEluU2xvdChzZWcsIHNsb3QpIHtcbiAgcmV0dXJuIHNlZy5sZWZ0IDw9IHNsb3QgJiYgc2VnLnJpZ2h0ID49IHNsb3Q7XG59O1xudmFyIGlzRXF1YWwgPSBmdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0ucmFuZ2UgPT09IGJbMF0ucmFuZ2UgJiYgYVswXS5ldmVudHMgPT09IGJbMF0uZXZlbnRzO1xufTtcbmZ1bmN0aW9uIGdldFNsb3RNZXRyaWNzJDEoKSB7XG4gIHJldHVybiBtZW1vaXplKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHJhbmdlID0gb3B0aW9ucy5yYW5nZSxcbiAgICAgIGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzLFxuICAgICAgbWF4Um93cyA9IG9wdGlvbnMubWF4Um93cyxcbiAgICAgIG1pblJvd3MgPSBvcHRpb25zLm1pblJvd3MsXG4gICAgICBhY2Nlc3NvcnMgPSBvcHRpb25zLmFjY2Vzc29ycyxcbiAgICAgIGxvY2FsaXplciA9IG9wdGlvbnMubG9jYWxpemVyO1xuICAgIHZhciBfZW5kT2ZSYW5nZSA9IGVuZE9mUmFuZ2Uoe1xuICAgICAgICBkYXRlUmFuZ2U6IHJhbmdlLFxuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgICAgfSksXG4gICAgICBmaXJzdCA9IF9lbmRPZlJhbmdlLmZpcnN0LFxuICAgICAgbGFzdCA9IF9lbmRPZlJhbmdlLmxhc3Q7XG4gICAgdmFyIHNlZ21lbnRzID0gZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICByZXR1cm4gZXZlbnRTZWdtZW50cyhldnQsIHJhbmdlLCBhY2Nlc3NvcnMsIGxvY2FsaXplcik7XG4gICAgfSk7XG4gICAgdmFyIF9ldmVudExldmVscyA9IGV2ZW50TGV2ZWxzKHNlZ21lbnRzLCBNYXRoLm1heChtYXhSb3dzIC0gMSwgMSkpLFxuICAgICAgbGV2ZWxzID0gX2V2ZW50TGV2ZWxzLmxldmVscyxcbiAgICAgIGV4dHJhID0gX2V2ZW50TGV2ZWxzLmV4dHJhO1xuICAgIC8vIFN1YnRyYWN0IDEgZnJvbSBtaW5Sb3dzIHRvIG5vdCBpbmNsdWRlIHNob3dNb3JlIGJ1dHRvbiByb3cgd2hlblxuICAgIC8vIGl0IHdvdWxkIGJlIHJlbmRlcmVkXG4gICAgdmFyIG1pbkV2ZW50Um93cyA9IGV4dHJhLmxlbmd0aCA+IDAgPyBtaW5Sb3dzIC0gMSA6IG1pblJvd3M7XG4gICAgd2hpbGUgKGxldmVscy5sZW5ndGggPCBtaW5FdmVudFJvd3MpIGxldmVscy5wdXNoKFtdKTtcbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGZpcnN0LFxuICAgICAgbGFzdDogbGFzdCxcbiAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgZXh0cmE6IGV4dHJhLFxuICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgc2xvdHM6IHJhbmdlLmxlbmd0aCxcbiAgICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZShhcmdzKSB7XG4gICAgICAgIHZhciBtZXRyaWNzID0gZ2V0U2xvdE1ldHJpY3MkMSgpO1xuICAgICAgICByZXR1cm4gbWV0cmljcyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpLCBhcmdzKSk7XG4gICAgICB9LFxuICAgICAgZ2V0RGF0ZUZvclNsb3Q6IGZ1bmN0aW9uIGdldERhdGVGb3JTbG90KHNsb3ROdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlW3Nsb3ROdW1iZXJdO1xuICAgICAgfSxcbiAgICAgIGdldFNsb3RGb3JEYXRlOiBmdW5jdGlvbiBnZXRTbG90Rm9yRGF0ZShkYXRlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS5maW5kKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplci5pc1NhbWVEYXRlKHIsIGRhdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRFdmVudHNGb3JTbG90OiBmdW5jdGlvbiBnZXRFdmVudHNGb3JTbG90KHNsb3QpIHtcbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmZpbHRlcihmdW5jdGlvbiAoc2VnKSB7XG4gICAgICAgICAgcmV0dXJuIGlzU2VnbWVudEluU2xvdChzZWcsIHNsb3QpO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHNlZykge1xuICAgICAgICAgIHJldHVybiBzZWcuZXZlbnQ7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNvbnRpbnVlc1ByaW9yOiBmdW5jdGlvbiBjb250aW51ZXNQcmlvcihldmVudCkge1xuICAgICAgICByZXR1cm4gbG9jYWxpemVyLmNvbnRpbnVlc1ByaW9yKGFjY2Vzc29ycy5zdGFydChldmVudCksIGZpcnN0KTtcbiAgICAgIH0sXG4gICAgICBjb250aW51ZXNBZnRlcjogZnVuY3Rpb24gY29udGludWVzQWZ0ZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KTtcbiAgICAgICAgdmFyIGVuZCA9IGFjY2Vzc29ycy5lbmQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gbG9jYWxpemVyLmNvbnRpbnVlc0FmdGVyKHN0YXJ0LCBlbmQsIGxhc3QpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIGlzRXF1YWwpO1xufVxuXG52YXIgRGF0ZUNvbnRlbnRSb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRGF0ZUNvbnRlbnRSb3coKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlQ29udGVudFJvdyk7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgRGF0ZUNvbnRlbnRSb3csIFtdLmNvbmNhdChhcmdzKSk7XG4gICAgX3RoaXMuaGFuZGxlU2VsZWN0U2xvdCA9IGZ1bmN0aW9uIChzbG90KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgcmFuZ2UgPSBfdGhpcyRwcm9wcy5yYW5nZSxcbiAgICAgICAgb25TZWxlY3RTbG90ID0gX3RoaXMkcHJvcHMub25TZWxlY3RTbG90O1xuICAgICAgb25TZWxlY3RTbG90KHJhbmdlLnNsaWNlKHNsb3Quc3RhcnQsIHNsb3QuZW5kICsgMSksIHNsb3QpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2hvd01vcmUgPSBmdW5jdGlvbiAoc2xvdCwgdGFyZ2V0KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHMyLnJhbmdlLFxuICAgICAgICBvblNob3dNb3JlID0gX3RoaXMkcHJvcHMyLm9uU2hvd01vcmU7XG4gICAgICB2YXIgbWV0cmljcyA9IF90aGlzLnNsb3RNZXRyaWNzKF90aGlzLnByb3BzKTtcbiAgICAgIHZhciByb3cgPSBxc2EoX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQsICcucmJjLXJvdy1iZycpWzBdO1xuICAgICAgdmFyIGNlbGw7XG4gICAgICBpZiAocm93KSBjZWxsID0gcm93LmNoaWxkcmVuW3Nsb3QgLSAxXTtcbiAgICAgIHZhciBldmVudHMgPSBtZXRyaWNzLmdldEV2ZW50c0ZvclNsb3Qoc2xvdCk7XG4gICAgICBvblNob3dNb3JlKGV2ZW50cywgcmFuZ2Vbc2xvdCAtIDFdLCBjZWxsLCBzbG90LCB0YXJnZXQpO1xuICAgIH07XG4gICAgX3RoaXMuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLnByb3BzLmNvbnRhaW5lcjtcbiAgICAgIHJldHVybiBjb250YWluZXIgPyBjb250YWluZXIoKSA6IF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIH07XG4gICAgX3RoaXMucmVuZGVySGVhZGluZ0NlbGwgPSBmdW5jdGlvbiAoZGF0ZSwgaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgcmVuZGVySGVhZGVyID0gX3RoaXMkcHJvcHMzLnJlbmRlckhlYWRlcixcbiAgICAgICAgZ2V0Tm93ID0gX3RoaXMkcHJvcHMzLmdldE5vdyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHMzLmxvY2FsaXplcjtcbiAgICAgIHJldHVybiByZW5kZXJIZWFkZXIoe1xuICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICBrZXk6IFwiaGVhZGVyX1wiLmNvbmNhdChpbmRleCksXG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgncmJjLWRhdGUtY2VsbCcsIGxvY2FsaXplci5pc1NhbWVEYXRlKGRhdGUsIGdldE5vdygpKSAmJiAncmJjLW5vdycpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLnJlbmRlckR1bW15ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczQuY2xhc3NOYW1lLFxuICAgICAgICByYW5nZSA9IF90aGlzJHByb3BzNC5yYW5nZSxcbiAgICAgICAgcmVuZGVySGVhZGVyID0gX3RoaXMkcHJvcHM0LnJlbmRlckhlYWRlcixcbiAgICAgICAgc2hvd0FsbEV2ZW50cyA9IF90aGlzJHByb3BzNC5zaG93QWxsRXZlbnRzO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIHJlZjogX3RoaXMuY29udGFpbmVyUmVmXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xzeCgncmJjLXJvdy1jb250ZW50Jywgc2hvd0FsbEV2ZW50cyAmJiAncmJjLXJvdy1jb250ZW50LXNjcm9sbGFibGUnKVxuICAgICAgfSwgcmVuZGVySGVhZGVyICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1yb3dcIixcbiAgICAgICAgcmVmOiBfdGhpcy5oZWFkaW5nUm93UmVmXG4gICAgICB9LCByYW5nZS5tYXAoX3RoaXMucmVuZGVySGVhZGluZ0NlbGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXJvd1wiLFxuICAgICAgICByZWY6IF90aGlzLmV2ZW50Um93UmVmXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtcm93LXNlZ21lbnRcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWV2ZW50XCJcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1ldmVudC1jb250ZW50XCJcbiAgICAgIH0sIFwiXFx4QTBcIikpKSkpKTtcbiAgICB9O1xuICAgIF90aGlzLmNvbnRhaW5lclJlZiA9IC8qI19fUFVSRV9fKi9jcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5oZWFkaW5nUm93UmVmID0gLyojX19QVVJFX18qL2NyZWF0ZVJlZigpO1xuICAgIF90aGlzLmV2ZW50Um93UmVmID0gLyojX19QVVJFX18qL2NyZWF0ZVJlZigpO1xuICAgIF90aGlzLnNsb3RNZXRyaWNzID0gZ2V0U2xvdE1ldHJpY3MkMSgpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoRGF0ZUNvbnRlbnRSb3csIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKERhdGVDb250ZW50Um93LCBbe1xuICAgIGtleTogXCJnZXRSb3dMaW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSb3dMaW1pdCgpIHtcbiAgICAgIHZhciBfdGhpcyRoZWFkaW5nUm93UmVmO1xuICAgICAgLyogR3Vlc3NpbmcgdGhpcyBvbmx5IGdldHMgY2FsbGVkIG9uIHRoZSBkdW1teVJvdyAqL1xuICAgICAgdmFyIGV2ZW50SGVpZ2h0ID0gZ2V0SGVpZ2h0KHRoaXMuZXZlbnRSb3dSZWYuY3VycmVudCk7XG4gICAgICB2YXIgaGVhZGluZ0hlaWdodCA9IChfdGhpcyRoZWFkaW5nUm93UmVmID0gdGhpcy5oZWFkaW5nUm93UmVmKSAhPT0gbnVsbCAmJiBfdGhpcyRoZWFkaW5nUm93UmVmICE9PSB2b2lkIDAgJiYgX3RoaXMkaGVhZGluZ1Jvd1JlZi5jdXJyZW50ID8gZ2V0SGVpZ2h0KHRoaXMuaGVhZGluZ1Jvd1JlZi5jdXJyZW50KSA6IDA7XG4gICAgICB2YXIgZXZlbnRTcGFjZSA9IGdldEhlaWdodCh0aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50KSAtIGhlYWRpbmdIZWlnaHQ7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5mbG9vcihldmVudFNwYWNlIC8gZXZlbnRIZWlnaHQpLCAxKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRlID0gX3RoaXMkcHJvcHM1LmRhdGUsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzNS5ydGwsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHM1LnJhbmdlLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczUuY2xhc3NOYW1lLFxuICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzNS5zZWxlY3RlZCxcbiAgICAgICAgc2VsZWN0YWJsZSA9IF90aGlzJHByb3BzNS5zZWxlY3RhYmxlLFxuICAgICAgICByZW5kZXJGb3JNZWFzdXJlID0gX3RoaXMkcHJvcHM1LnJlbmRlckZvck1lYXN1cmUsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzNS5hY2Nlc3NvcnMsXG4gICAgICAgIGdldHRlcnMgPSBfdGhpcyRwcm9wczUuZ2V0dGVycyxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzNS5jb21wb25lbnRzLFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wczUuZ2V0Tm93LFxuICAgICAgICByZW5kZXJIZWFkZXIgPSBfdGhpcyRwcm9wczUucmVuZGVySGVhZGVyLFxuICAgICAgICBvblNlbGVjdCA9IF90aGlzJHByb3BzNS5vblNlbGVjdCxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM1LmxvY2FsaXplcixcbiAgICAgICAgb25TZWxlY3RTdGFydCA9IF90aGlzJHByb3BzNS5vblNlbGVjdFN0YXJ0LFxuICAgICAgICBvblNlbGVjdEVuZCA9IF90aGlzJHByb3BzNS5vblNlbGVjdEVuZCxcbiAgICAgICAgb25Eb3VibGVDbGljayA9IF90aGlzJHByb3BzNS5vbkRvdWJsZUNsaWNrLFxuICAgICAgICBvbktleVByZXNzID0gX3RoaXMkcHJvcHM1Lm9uS2V5UHJlc3MsXG4gICAgICAgIHJlc291cmNlSWQgPSBfdGhpcyRwcm9wczUucmVzb3VyY2VJZCxcbiAgICAgICAgbG9uZ1ByZXNzVGhyZXNob2xkID0gX3RoaXMkcHJvcHM1LmxvbmdQcmVzc1RocmVzaG9sZCxcbiAgICAgICAgaXNBbGxEYXkgPSBfdGhpcyRwcm9wczUuaXNBbGxEYXksXG4gICAgICAgIHJlc2l6YWJsZSA9IF90aGlzJHByb3BzNS5yZXNpemFibGUsXG4gICAgICAgIHNob3dBbGxFdmVudHMgPSBfdGhpcyRwcm9wczUuc2hvd0FsbEV2ZW50cztcbiAgICAgIGlmIChyZW5kZXJGb3JNZWFzdXJlKSByZXR1cm4gdGhpcy5yZW5kZXJEdW1teSgpO1xuICAgICAgdmFyIG1ldHJpY3MgPSB0aGlzLnNsb3RNZXRyaWNzKHRoaXMucHJvcHMpO1xuICAgICAgdmFyIGxldmVscyA9IG1ldHJpY3MubGV2ZWxzLFxuICAgICAgICBleHRyYSA9IG1ldHJpY3MuZXh0cmE7XG4gICAgICB2YXIgU2Nyb2xsYWJsZVdlZWtDb21wb25lbnQgPSBzaG93QWxsRXZlbnRzID8gU2Nyb2xsYWJsZVdlZWtXcmFwcGVyIDogTm9vcFdyYXBwZXI7XG4gICAgICB2YXIgV2Vla1dyYXBwZXIgPSBjb21wb25lbnRzLndlZWtXcmFwcGVyO1xuICAgICAgdmFyIGV2ZW50Um93UHJvcHMgPSB7XG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgIGdldHRlcnM6IGdldHRlcnMsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBvblNlbGVjdDogb25TZWxlY3QsXG4gICAgICAgIG9uRG91YmxlQ2xpY2s6IG9uRG91YmxlQ2xpY2ssXG4gICAgICAgIG9uS2V5UHJlc3M6IG9uS2V5UHJlc3MsXG4gICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlSWQsXG4gICAgICAgIHNsb3RNZXRyaWNzOiBtZXRyaWNzLFxuICAgICAgICByZXNpemFibGU6IHJlc2l6YWJsZVxuICAgICAgfTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICByb2xlOiBcInJvd2dyb3VwXCIsXG4gICAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWZcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJhY2tncm91bmRDZWxscywge1xuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgZ2V0Tm93OiBnZXROb3csXG4gICAgICAgIHJ0bDogcnRsLFxuICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgIHNlbGVjdGFibGU6IHNlbGVjdGFibGUsXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXIsXG4gICAgICAgIGdldHRlcnM6IGdldHRlcnMsXG4gICAgICAgIG9uU2VsZWN0U3RhcnQ6IG9uU2VsZWN0U3RhcnQsXG4gICAgICAgIG9uU2VsZWN0RW5kOiBvblNlbGVjdEVuZCxcbiAgICAgICAgb25TZWxlY3RTbG90OiB0aGlzLmhhbmRsZVNlbGVjdFNsb3QsXG4gICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogbG9uZ1ByZXNzVGhyZXNob2xkLFxuICAgICAgICByZXNvdXJjZUlkOiByZXNvdXJjZUlkXG4gICAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy1yb3ctY29udGVudCcsIHNob3dBbGxFdmVudHMgJiYgJ3JiYy1yb3ctY29udGVudC1zY3JvbGxhYmxlJyksXG4gICAgICAgIHJvbGU6IFwicm93XCJcbiAgICAgIH0sIHJlbmRlckhlYWRlciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtcm93IFwiLFxuICAgICAgICByZWY6IHRoaXMuaGVhZGluZ1Jvd1JlZlxuICAgICAgfSwgcmFuZ2UubWFwKHRoaXMucmVuZGVySGVhZGluZ0NlbGwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsYWJsZVdlZWtDb21wb25lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFdlZWtXcmFwcGVyLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgaXNBbGxEYXk6IGlzQWxsRGF5XG4gICAgICB9LCBldmVudFJvd1Byb3BzLCB7XG4gICAgICAgIHJ0bDogdGhpcy5wcm9wcy5ydGxcbiAgICAgIH0pLCBsZXZlbHMubWFwKGZ1bmN0aW9uIChzZWdzLCBpZHgpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50Um93LCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBrZXk6IGlkeCxcbiAgICAgICAgICBzZWdtZW50czogc2Vnc1xuICAgICAgICB9LCBldmVudFJvd1Byb3BzKSk7XG4gICAgICB9KSwgISFleHRyYS5sZW5ndGggJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnRFbmRpbmdSb3csIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBzZWdtZW50czogZXh0cmEsXG4gICAgICAgIG9uU2hvd01vcmU6IHRoaXMuaGFuZGxlU2hvd01vcmVcbiAgICAgIH0sIGV2ZW50Um93UHJvcHMpKSkpKSk7XG4gICAgfVxuICB9XSk7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5EYXRlQ29udGVudFJvdy5kZWZhdWx0UHJvcHMgPSB7XG4gIG1pblJvd3M6IDAsXG4gIG1heFJvd3M6IEluZmluaXR5XG59O1xuXG52YXIgSGVhZGVyID0gZnVuY3Rpb24gSGVhZGVyKF9yZWYpIHtcbiAgdmFyIGxhYmVsID0gX3JlZi5sYWJlbDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgcm9sZTogXCJjb2x1bW5oZWFkZXJcIixcbiAgICBcImFyaWEtc29ydFwiOiBcIm5vbmVcIlxuICB9LCBsYWJlbCk7XG59O1xuXG52YXIgRGF0ZUhlYWRlciA9IGZ1bmN0aW9uIERhdGVIZWFkZXIoX3JlZikge1xuICB2YXIgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgIGRyaWxsZG93blZpZXcgPSBfcmVmLmRyaWxsZG93blZpZXcsXG4gICAgb25EcmlsbERvd24gPSBfcmVmLm9uRHJpbGxEb3duO1xuICBpZiAoIWRyaWxsZG93blZpZXcpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGxhYmVsKTtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBcInJiYy1idXR0b24tbGlua1wiLFxuICAgIG9uQ2xpY2s6IG9uRHJpbGxEb3duXG4gIH0sIGxhYmVsKTtcbn07XG5cbnZhciBfZXhjbHVkZWQkNiA9IFtcImRhdGVcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgZXZlbnRzRm9yV2VlayA9IGZ1bmN0aW9uIGV2ZW50c0ZvcldlZWsoZXZ0cywgc3RhcnQsIGVuZCwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpIHtcbiAgcmV0dXJuIGV2dHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGluUmFuZ2UoZSwgc3RhcnQsIGVuZCwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpO1xuICB9KTtcbn07XG52YXIgTW9udGhWaWV3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIE1vbnRoVmlldygpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vbnRoVmlldyk7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBNb250aFZpZXcsIFtdLmNvbmNhdChfYXJncykpO1xuICAgIF90aGlzLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb250YWluZXJSZWYuY3VycmVudDtcbiAgICB9O1xuICAgIF90aGlzLnJlbmRlcldlZWsgPSBmdW5jdGlvbiAod2Vlaywgd2Vla0lkeCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgIGV2ZW50cyA9IF90aGlzJHByb3BzLmV2ZW50cyxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzLmNvbXBvbmVudHMsXG4gICAgICAgIHNlbGVjdGFibGUgPSBfdGhpcyRwcm9wcy5zZWxlY3RhYmxlLFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wcy5nZXROb3csXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgIGRhdGUgPSBfdGhpcyRwcm9wcy5kYXRlLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfdGhpcyRwcm9wcy5sb2NhbGl6ZXIsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZCA9IF90aGlzJHByb3BzLmxvbmdQcmVzc1RocmVzaG9sZCxcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHMuYWNjZXNzb3JzLFxuICAgICAgICBnZXR0ZXJzID0gX3RoaXMkcHJvcHMuZ2V0dGVycyxcbiAgICAgICAgc2hvd0FsbEV2ZW50cyA9IF90aGlzJHByb3BzLnNob3dBbGxFdmVudHM7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgbmVlZExpbWl0TWVhc3VyZSA9IF90aGlzJHN0YXRlLm5lZWRMaW1pdE1lYXN1cmUsXG4gICAgICAgIHJvd0xpbWl0ID0gX3RoaXMkc3RhdGUucm93TGltaXQ7XG5cbiAgICAgIC8vIGxldCdzIG5vdCBtdXRhdGUgcHJvcHNcbiAgICAgIHZhciB3ZWVrc0V2ZW50cyA9IGV2ZW50c0ZvcldlZWsoX3RvQ29uc3VtYWJsZUFycmF5KGV2ZW50cyksIHdlZWtbMF0sIHdlZWtbd2Vlay5sZW5ndGggLSAxXSwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpO1xuICAgICAgdmFyIHNvcnRlZCA9IHNvcnRXZWVrRXZlbnRzKHdlZWtzRXZlbnRzLCBhY2Nlc3NvcnMsIGxvY2FsaXplcik7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0ZUNvbnRlbnRSb3csIHtcbiAgICAgICAga2V5OiB3ZWVrSWR4LFxuICAgICAgICByZWY6IHdlZWtJZHggPT09IDAgPyBfdGhpcy5zbG90Um93UmVmIDogdW5kZWZpbmVkLFxuICAgICAgICBjb250YWluZXI6IF90aGlzLmdldENvbnRhaW5lcixcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1tb250aC1yb3dcIixcbiAgICAgICAgZ2V0Tm93OiBnZXROb3csXG4gICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIHJhbmdlOiB3ZWVrLFxuICAgICAgICBldmVudHM6IHNvcnRlZCxcbiAgICAgICAgbWF4Um93czogc2hvd0FsbEV2ZW50cyA/IEluZmluaXR5IDogcm93TGltaXQsXG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgc2VsZWN0YWJsZTogc2VsZWN0YWJsZSxcbiAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgIGdldHRlcnM6IGdldHRlcnMsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICByZW5kZXJIZWFkZXI6IF90aGlzLnJlYWRlckRhdGVIZWFkaW5nLFxuICAgICAgICByZW5kZXJGb3JNZWFzdXJlOiBuZWVkTGltaXRNZWFzdXJlLFxuICAgICAgICBvblNob3dNb3JlOiBfdGhpcy5oYW5kbGVTaG93TW9yZSxcbiAgICAgICAgb25TZWxlY3Q6IF90aGlzLmhhbmRsZVNlbGVjdEV2ZW50LFxuICAgICAgICBvbkRvdWJsZUNsaWNrOiBfdGhpcy5oYW5kbGVEb3VibGVDbGlja0V2ZW50LFxuICAgICAgICBvbktleVByZXNzOiBfdGhpcy5oYW5kbGVLZXlQcmVzc0V2ZW50LFxuICAgICAgICBvblNlbGVjdFNsb3Q6IF90aGlzLmhhbmRsZVNlbGVjdFNsb3QsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogbG9uZ1ByZXNzVGhyZXNob2xkLFxuICAgICAgICBydGw6IF90aGlzLnByb3BzLnJ0bCxcbiAgICAgICAgcmVzaXphYmxlOiBfdGhpcy5wcm9wcy5yZXNpemFibGUsXG4gICAgICAgIHNob3dBbGxFdmVudHM6IHNob3dBbGxFdmVudHNcbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXMucmVhZGVyRGF0ZUhlYWRpbmcgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIGRhdGUgPSBfcmVmLmRhdGUsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkNik7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgIGN1cnJlbnREYXRlID0gX3RoaXMkcHJvcHMyLmRhdGUsXG4gICAgICAgIGdldERyaWxsZG93blZpZXcgPSBfdGhpcyRwcm9wczIuZ2V0RHJpbGxkb3duVmlldyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHMyLmxvY2FsaXplcjtcbiAgICAgIHZhciBpc09mZlJhbmdlID0gbG9jYWxpemVyLm5lcShkYXRlLCBjdXJyZW50RGF0ZSwgJ21vbnRoJyk7XG4gICAgICB2YXIgaXNDdXJyZW50ID0gbG9jYWxpemVyLmlzU2FtZURhdGUoZGF0ZSwgY3VycmVudERhdGUpO1xuICAgICAgdmFyIGRyaWxsZG93blZpZXcgPSBnZXREcmlsbGRvd25WaWV3KGRhdGUpO1xuICAgICAgdmFyIGxhYmVsID0gbG9jYWxpemVyLmZvcm1hdChkYXRlLCAnZGF0ZUZvcm1hdCcpO1xuICAgICAgdmFyIERhdGVIZWFkZXJDb21wb25lbnQgPSBfdGhpcy5wcm9wcy5jb21wb25lbnRzLmRhdGVIZWFkZXIgfHwgRGF0ZUhlYWRlcjtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IGNsc3goY2xhc3NOYW1lLCBpc09mZlJhbmdlICYmICdyYmMtb2ZmLXJhbmdlJywgaXNDdXJyZW50ICYmICdyYmMtY3VycmVudCcpLFxuICAgICAgICByb2xlOiBcImNlbGxcIlxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERhdGVIZWFkZXJDb21wb25lbnQsIHtcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICBkcmlsbGRvd25WaWV3OiBkcmlsbGRvd25WaWV3LFxuICAgICAgICBpc09mZlJhbmdlOiBpc09mZlJhbmdlLFxuICAgICAgICBvbkRyaWxsRG93bjogZnVuY3Rpb24gb25EcmlsbERvd24oZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVIZWFkaW5nQ2xpY2soZGF0ZSwgZHJpbGxkb3duVmlldywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZVNlbGVjdFNsb3QgPSBmdW5jdGlvbiAocmFuZ2UsIHNsb3RJbmZvKSB7XG4gICAgICBfdGhpcy5fcGVuZGluZ1NlbGVjdGlvbiA9IF90aGlzLl9wZW5kaW5nU2VsZWN0aW9uLmNvbmNhdChyYW5nZSk7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuX3NlbGVjdFRpbWVyKTtcbiAgICAgIF90aGlzLl9zZWxlY3RUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc2VsZWN0RGF0ZXMoc2xvdEluZm8pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVIZWFkaW5nQ2xpY2sgPSBmdW5jdGlvbiAoZGF0ZSwgdmlldywgZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgX3RoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIG5vdGlmeShfdGhpcy5wcm9wcy5vbkRyaWxsRG93biwgW2RhdGUsIHZpZXddKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZVNlbGVjdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25TZWxlY3RFdmVudCwgYXJncyk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVEb3VibGVDbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25Eb3VibGVDbGlja0V2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUtleVByZXNzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cbiAgICAgIG5vdGlmeShfdGhpcy5wcm9wcy5vbktleVByZXNzRXZlbnQsIGFyZ3MpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2hvd01vcmUgPSBmdW5jdGlvbiAoZXZlbnRzLCBkYXRlLCBjZWxsLCBzbG90LCB0YXJnZXQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgcG9wdXAgPSBfdGhpcyRwcm9wczMucG9wdXAsXG4gICAgICAgIG9uRHJpbGxEb3duID0gX3RoaXMkcHJvcHMzLm9uRHJpbGxEb3duLFxuICAgICAgICBvblNob3dNb3JlID0gX3RoaXMkcHJvcHMzLm9uU2hvd01vcmUsXG4gICAgICAgIGdldERyaWxsZG93blZpZXcgPSBfdGhpcyRwcm9wczMuZ2V0RHJpbGxkb3duVmlldyxcbiAgICAgICAgZG9TaG93TW9yZURyaWxsRG93biA9IF90aGlzJHByb3BzMy5kb1Nob3dNb3JlRHJpbGxEb3duO1xuICAgICAgLy9jYW5jZWwgYW55IHBlbmRpbmcgc2VsZWN0aW9ucyBzbyBvbmx5IHRoZSBldmVudCBjbGljayBnb2VzIHRocm91Z2guXG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGdldFBvc2l0aW9uJDEoY2VsbCwgX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICAgIGV2ZW50czogZXZlbnRzLFxuICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkb1Nob3dNb3JlRHJpbGxEb3duKSB7XG4gICAgICAgIG5vdGlmeShvbkRyaWxsRG93biwgW2RhdGUsIGdldERyaWxsZG93blZpZXcoZGF0ZSkgfHwgdmlld3MuREFZXSk7XG4gICAgICB9XG4gICAgICBub3RpZnkob25TaG93TW9yZSwgW2V2ZW50cywgZGF0ZSwgc2xvdF0pO1xuICAgIH07XG4gICAgX3RoaXMub3ZlcmxheURpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG92ZXJsYXk6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICByb3dMaW1pdDogNSxcbiAgICAgIG5lZWRMaW1pdE1lYXN1cmU6IHRydWUsXG4gICAgICBkYXRlOiBudWxsXG4gICAgfTtcbiAgICBfdGhpcy5jb250YWluZXJSZWYgPSAvKiNfX1BVUkVfXyovY3JlYXRlUmVmKCk7XG4gICAgX3RoaXMuc2xvdFJvd1JlZiA9IC8qI19fUFVSRV9fKi9jcmVhdGVSZWYoKTtcbiAgICBfdGhpcy5fYmdSb3dzID0gW107XG4gICAgX3RoaXMuX3BlbmRpbmdTZWxlY3Rpb24gPSBbXTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKE1vbnRoVmlldywgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoTW9udGhWaWV3LCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIHJ1bm5pbmc7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5uZWVkTGltaXRNZWFzdXJlKSB0aGlzLm1lYXN1cmVSb3dMaW1pdCh0aGlzLnByb3BzKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemVMaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgYW5pbWF0aW9uRnJhbWUucmVxdWVzdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBuZWVkTGltaXRNZWFzdXJlOiB0cnVlXG4gICAgICAgICAgICB9KTsgLy9lc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm5lZWRMaW1pdE1lYXN1cmUpIHRoaXMubWVhc3VyZVJvd0xpbWl0KHRoaXMucHJvcHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemVMaXN0ZW5lciwgZmFsc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGUgPSBfdGhpcyRwcm9wczQuZGF0ZSxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM0LmxvY2FsaXplcixcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM0LmNsYXNzTmFtZSxcbiAgICAgICAgbW9udGggPSBsb2NhbGl6ZXIudmlzaWJsZURheXMoZGF0ZSwgbG9jYWxpemVyKSxcbiAgICAgICAgd2Vla3MgPSBjaHVuayhtb250aCwgNyk7XG4gICAgICB0aGlzLl93ZWVrQ291bnQgPSB3ZWVrcy5sZW5ndGg7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy1tb250aC12aWV3JywgY2xhc3NOYW1lKSxcbiAgICAgICAgcm9sZTogXCJ0YWJsZVwiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJNb250aCBWaWV3XCIsXG4gICAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWZcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1yb3cgcmJjLW1vbnRoLWhlYWRlclwiLFxuICAgICAgICByb2xlOiBcInJvd1wiXG4gICAgICB9LCB0aGlzLnJlbmRlckhlYWRlcnMod2Vla3NbMF0pKSwgd2Vla3MubWFwKHRoaXMucmVuZGVyV2VlayksIHRoaXMucHJvcHMucG9wdXAgJiYgdGhpcy5yZW5kZXJPdmVybGF5KCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJIZWFkZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckhlYWRlcnMocm93KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM1LmxvY2FsaXplcixcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzNS5jb21wb25lbnRzO1xuICAgICAgdmFyIGZpcnN0ID0gcm93WzBdO1xuICAgICAgdmFyIGxhc3QgPSByb3dbcm93Lmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIEhlYWRlckNvbXBvbmVudCA9IGNvbXBvbmVudHMuaGVhZGVyIHx8IEhlYWRlcjtcbiAgICAgIHJldHVybiBsb2NhbGl6ZXIucmFuZ2UoZmlyc3QsIGxhc3QsICdkYXknKS5tYXAoZnVuY3Rpb24gKGRheSwgaWR4KSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiAnaGVhZGVyXycgKyBpZHgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1oZWFkZXJcIlxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXJDb21wb25lbnQsIHtcbiAgICAgICAgICBkYXRlOiBkYXksXG4gICAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgICAgbGFiZWw6IGxvY2FsaXplci5mb3JtYXQoZGF5LCAnd2Vla2RheUZvcm1hdCcpXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJPdmVybGF5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck92ZXJsYXkoKSB7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUkb3ZlcmxheSxcbiAgICAgICAgX3RoaXMkc3RhdGUyLFxuICAgICAgICBfdGhpczMgPSB0aGlzO1xuICAgICAgdmFyIG92ZXJsYXkgPSAoX3RoaXMkc3RhdGUkb3ZlcmxheSA9IChfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHN0YXRlMi5vdmVybGF5KSAhPT0gbnVsbCAmJiBfdGhpcyRzdGF0ZSRvdmVybGF5ICE9PSB2b2lkIDAgPyBfdGhpcyRzdGF0ZSRvdmVybGF5IDoge307XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHM2LmFjY2Vzc29ycyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM2LmxvY2FsaXplcixcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzNi5jb21wb25lbnRzLFxuICAgICAgICBnZXR0ZXJzID0gX3RoaXMkcHJvcHM2LmdldHRlcnMsXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHM2LnNlbGVjdGVkLFxuICAgICAgICBwb3B1cE9mZnNldCA9IF90aGlzJHByb3BzNi5wb3B1cE9mZnNldCxcbiAgICAgICAgaGFuZGxlRHJhZ1N0YXJ0ID0gX3RoaXMkcHJvcHM2LmhhbmRsZURyYWdTdGFydDtcbiAgICAgIHZhciBvbkhpZGUgPSBmdW5jdGlvbiBvbkhpZGUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICAgIG92ZXJsYXk6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcE92ZXJsYXksIHtcbiAgICAgICAgb3ZlcmxheTogb3ZlcmxheSxcbiAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIHBvcHVwT2Zmc2V0OiBwb3B1cE9mZnNldCxcbiAgICAgICAgcmVmOiB0aGlzLmNvbnRhaW5lclJlZixcbiAgICAgICAgaGFuZGxlS2V5UHJlc3NFdmVudDogdGhpcy5oYW5kbGVLZXlQcmVzc0V2ZW50LFxuICAgICAgICBoYW5kbGVTZWxlY3RFdmVudDogdGhpcy5oYW5kbGVTZWxlY3RFdmVudCxcbiAgICAgICAgaGFuZGxlRG91YmxlQ2xpY2tFdmVudDogdGhpcy5oYW5kbGVEb3VibGVDbGlja0V2ZW50LFxuICAgICAgICBoYW5kbGVEcmFnU3RhcnQ6IGhhbmRsZURyYWdTdGFydCxcbiAgICAgICAgc2hvdzogISFvdmVybGF5LnBvc2l0aW9uLFxuICAgICAgICBvdmVybGF5RGlzcGxheTogdGhpcy5vdmVybGF5RGlzcGxheSxcbiAgICAgICAgb25IaWRlOiBvbkhpZGVcbiAgICAgIH0pO1xuXG4gICAgICAvKiByZXR1cm4gKFxuICAgICAgICA8T3ZlcmxheVxuICAgICAgICAgIHJvb3RDbG9zZVxuICAgICAgICAgIHBsYWNlbWVudD1cImJvdHRvbVwiXG4gICAgICAgICAgc2hvdz17ISFvdmVybGF5LnBvc2l0aW9ufVxuICAgICAgICAgIG9uSGlkZT17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IG92ZXJsYXk6IG51bGwgfSl9XG4gICAgICAgICAgdGFyZ2V0PXsoKSA9PiBvdmVybGF5LnRhcmdldH1cbiAgICAgICAgPlxuICAgICAgICAgIHsoeyBwcm9wcyB9KSA9PiAoXG4gICAgICAgICAgICA8UG9wdXBcbiAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICBwb3B1cE9mZnNldD17cG9wdXBPZmZzZXR9XG4gICAgICAgICAgICAgIGFjY2Vzc29ycz17YWNjZXNzb3JzfVxuICAgICAgICAgICAgICBnZXR0ZXJzPXtnZXR0ZXJzfVxuICAgICAgICAgICAgICBzZWxlY3RlZD17c2VsZWN0ZWR9XG4gICAgICAgICAgICAgIGNvbXBvbmVudHM9e2NvbXBvbmVudHN9XG4gICAgICAgICAgICAgIGxvY2FsaXplcj17bG9jYWxpemVyfVxuICAgICAgICAgICAgICBwb3NpdGlvbj17b3ZlcmxheS5wb3NpdGlvbn1cbiAgICAgICAgICAgICAgc2hvdz17dGhpcy5vdmVybGF5RGlzcGxheX1cbiAgICAgICAgICAgICAgZXZlbnRzPXtvdmVybGF5LmV2ZW50c31cbiAgICAgICAgICAgICAgc2xvdFN0YXJ0PXtvdmVybGF5LmRhdGV9XG4gICAgICAgICAgICAgIHNsb3RFbmQ9e292ZXJsYXkuZW5kfVxuICAgICAgICAgICAgICBvblNlbGVjdD17dGhpcy5oYW5kbGVTZWxlY3RFdmVudH1cbiAgICAgICAgICAgICAgb25Eb3VibGVDbGljaz17dGhpcy5oYW5kbGVEb3VibGVDbGlja0V2ZW50fVxuICAgICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLmhhbmRsZUtleVByZXNzRXZlbnR9XG4gICAgICAgICAgICAgIGhhbmRsZURyYWdTdGFydD17dGhpcy5wcm9wcy5oYW5kbGVEcmFnU3RhcnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvT3ZlcmxheT5cbiAgICAgICkgKi9cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWVhc3VyZVJvd0xpbWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lYXN1cmVSb3dMaW1pdCgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBuZWVkTGltaXRNZWFzdXJlOiBmYWxzZSxcbiAgICAgICAgcm93TGltaXQ6IHRoaXMuc2xvdFJvd1JlZi5jdXJyZW50LmdldFJvd0xpbWl0KClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWxlY3REYXRlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3REYXRlcyhzbG90SW5mbykge1xuICAgICAgdmFyIHNsb3RzID0gdGhpcy5fcGVuZGluZ1NlbGVjdGlvbi5zbGljZSgpO1xuICAgICAgdGhpcy5fcGVuZGluZ1NlbGVjdGlvbiA9IFtdO1xuICAgICAgc2xvdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gK2EgLSArYjtcbiAgICAgIH0pO1xuICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoc2xvdHNbMF0pO1xuICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKHNsb3RzW3Nsb3RzLmxlbmd0aCAtIDFdKTtcbiAgICAgIGVuZC5zZXREYXRlKHNsb3RzW3Nsb3RzLmxlbmd0aCAtIDFdLmdldERhdGUoKSArIDEpO1xuICAgICAgbm90aWZ5KHRoaXMucHJvcHMub25TZWxlY3RTbG90LCB7XG4gICAgICAgIHNsb3RzOiBzbG90cyxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgYWN0aW9uOiBzbG90SW5mby5hY3Rpb24sXG4gICAgICAgIGJvdW5kczogc2xvdEluZm8uYm91bmRzLFxuICAgICAgICBib3g6IHNsb3RJbmZvLmJveFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNsZWFyU2VsZWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3NlbGVjdFRpbWVyKTtcbiAgICAgIHRoaXMuX3BlbmRpbmdTZWxlY3Rpb24gPSBbXTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKF9yZWYyLCBzdGF0ZSkge1xuICAgICAgdmFyIGRhdGUgPSBfcmVmMi5kYXRlLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfcmVmMi5sb2NhbGl6ZXI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICBuZWVkTGltaXRNZWFzdXJlOiBsb2NhbGl6ZXIubmVxKGRhdGUsIHN0YXRlLmRhdGUsICdtb250aCcpXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuTW9udGhWaWV3LnJhbmdlID0gZnVuY3Rpb24gKGRhdGUsIF9yZWYzKSB7XG4gIHZhciBsb2NhbGl6ZXIgPSBfcmVmMy5sb2NhbGl6ZXI7XG4gIHZhciBzdGFydCA9IGxvY2FsaXplci5maXJzdFZpc2libGVEYXkoZGF0ZSwgbG9jYWxpemVyKTtcbiAgdmFyIGVuZCA9IGxvY2FsaXplci5sYXN0VmlzaWJsZURheShkYXRlLCBsb2NhbGl6ZXIpO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGVuZFxuICB9O1xufTtcbk1vbnRoVmlldy5uYXZpZ2F0ZSA9IGZ1bmN0aW9uIChkYXRlLCBhY3Rpb24sIF9yZWY0KSB7XG4gIHZhciBsb2NhbGl6ZXIgPSBfcmVmNC5sb2NhbGl6ZXI7XG4gIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgY2FzZSBuYXZpZ2F0ZS5QUkVWSU9VUzpcbiAgICAgIHJldHVybiBsb2NhbGl6ZXIuYWRkKGRhdGUsIC0xLCAnbW9udGgnKTtcbiAgICBjYXNlIG5hdmlnYXRlLk5FWFQ6XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmFkZChkYXRlLCAxLCAnbW9udGgnKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGRhdGU7XG4gIH1cbn07XG5Nb250aFZpZXcudGl0bGUgPSBmdW5jdGlvbiAoZGF0ZSwgX3JlZjUpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWY1LmxvY2FsaXplcjtcbiAgcmV0dXJuIGxvY2FsaXplci5mb3JtYXQoZGF0ZSwgJ21vbnRoSGVhZGVyRm9ybWF0Jyk7XG59O1xuXG52YXIgZ2V0S2V5ID0gZnVuY3Rpb24gZ2V0S2V5KF9yZWYpIHtcbiAgdmFyIG1pbiA9IF9yZWYubWluLFxuICAgIG1heCA9IF9yZWYubWF4LFxuICAgIHN0ZXAgPSBfcmVmLnN0ZXAsXG4gICAgc2xvdHMgPSBfcmVmLnNsb3RzLFxuICAgIGxvY2FsaXplciA9IF9yZWYubG9jYWxpemVyO1xuICByZXR1cm4gXCJcIi5jb25jYXQoK2xvY2FsaXplci5zdGFydE9mKG1pbiwgJ21pbnV0ZXMnKSkgKyBcIlwiLmNvbmNhdCgrbG9jYWxpemVyLnN0YXJ0T2YobWF4LCAnbWludXRlcycpKSArIFwiXCIuY29uY2F0KHN0ZXAsIFwiLVwiKS5jb25jYXQoc2xvdHMpO1xufTtcbmZ1bmN0aW9uIGdldFNsb3RNZXRyaWNzKF9yZWYyKSB7XG4gIHZhciBzdGFydCA9IF9yZWYyLm1pbixcbiAgICBlbmQgPSBfcmVmMi5tYXgsXG4gICAgc3RlcCA9IF9yZWYyLnN0ZXAsXG4gICAgdGltZXNsb3RzID0gX3JlZjIudGltZXNsb3RzLFxuICAgIGxvY2FsaXplciA9IF9yZWYyLmxvY2FsaXplcjtcbiAgdmFyIGtleSA9IGdldEtleSh7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kLFxuICAgIHN0ZXA6IHN0ZXAsXG4gICAgdGltZXNsb3RzOiB0aW1lc2xvdHMsXG4gICAgbG9jYWxpemVyOiBsb2NhbGl6ZXJcbiAgfSk7XG5cbiAgLy8gRFNUIGRpZmZlcmVuY2VzIGFyZSBoYW5kbGVkIGluc2lkZSB0aGUgbG9jYWxpemVyXG4gIHZhciB0b3RhbE1pbiA9IDEgKyBsb2NhbGl6ZXIuZ2V0VG90YWxNaW4oc3RhcnQsIGVuZCk7XG4gIHZhciBtaW51dGVzRnJvbU1pZG5pZ2h0ID0gbG9jYWxpemVyLmdldE1pbnV0ZXNGcm9tTWlkbmlnaHQoc3RhcnQpO1xuICB2YXIgbnVtR3JvdXBzID0gTWF0aC5jZWlsKCh0b3RhbE1pbiAtIDEpIC8gKHN0ZXAgKiB0aW1lc2xvdHMpKTtcbiAgdmFyIG51bVNsb3RzID0gbnVtR3JvdXBzICogdGltZXNsb3RzO1xuICB2YXIgZ3JvdXBzID0gbmV3IEFycmF5KG51bUdyb3Vwcyk7XG4gIHZhciBzbG90cyA9IG5ldyBBcnJheShudW1TbG90cyk7XG4gIC8vIEVhY2ggc2xvdCBkYXRlIGlzIGNyZWF0ZWQgZnJvbSBcInplcm9cIiwgaW5zdGVhZCBvZiBhZGRpbmcgYHN0ZXBgIHRvXG4gIC8vIHRoZSBwcmV2aW91cyBvbmUsIGluIG9yZGVyIHRvIGF2b2lkIERTVCBvZGRpdGllc1xuICBmb3IgKHZhciBncnAgPSAwOyBncnAgPCBudW1Hcm91cHM7IGdycCsrKSB7XG4gICAgZ3JvdXBzW2dycF0gPSBuZXcgQXJyYXkodGltZXNsb3RzKTtcbiAgICBmb3IgKHZhciBzbG90ID0gMDsgc2xvdCA8IHRpbWVzbG90czsgc2xvdCsrKSB7XG4gICAgICB2YXIgc2xvdElkeCA9IGdycCAqIHRpbWVzbG90cyArIHNsb3Q7XG4gICAgICB2YXIgbWluRnJvbVN0YXJ0ID0gc2xvdElkeCAqIHN0ZXA7XG4gICAgICAvLyBBIGRhdGUgd2l0aCB0b3RhbCBtaW51dGVzIGNhbGN1bGF0ZWQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGRheVxuICAgICAgc2xvdHNbc2xvdElkeF0gPSBncm91cHNbZ3JwXVtzbG90XSA9IGxvY2FsaXplci5nZXRTbG90RGF0ZShzdGFydCwgbWludXRlc0Zyb21NaWRuaWdodCwgbWluRnJvbVN0YXJ0KTtcbiAgICB9XG4gIH1cblxuICAvLyBOZWNlc3NhcnkgdG8gYmUgYWJsZSB0byBzZWxlY3QgdXAgdW50aWwgdGhlIGxhc3QgdGltZXNsb3QgaW4gYSBkYXlcbiAgdmFyIGxhc3RTbG90TWluRnJvbVN0YXJ0ID0gc2xvdHMubGVuZ3RoICogc3RlcDtcbiAgc2xvdHMucHVzaChsb2NhbGl6ZXIuZ2V0U2xvdERhdGUoc3RhcnQsIG1pbnV0ZXNGcm9tTWlkbmlnaHQsIGxhc3RTbG90TWluRnJvbVN0YXJ0KSk7XG4gIGZ1bmN0aW9uIHBvc2l0aW9uRnJvbURhdGUoZGF0ZSkge1xuICAgIHZhciBkaWZmID0gbG9jYWxpemVyLmRpZmYoc3RhcnQsIGRhdGUsICdtaW51dGVzJykgKyBsb2NhbGl6ZXIuZ2V0RHN0T2Zmc2V0KHN0YXJ0LCBkYXRlKTtcbiAgICByZXR1cm4gTWF0aC5taW4oZGlmZiwgdG90YWxNaW4pO1xuICB9XG4gIHJldHVybiB7XG4gICAgZ3JvdXBzOiBncm91cHMsXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoYXJncykge1xuICAgICAgaWYgKGdldEtleShhcmdzKSAhPT0ga2V5KSByZXR1cm4gZ2V0U2xvdE1ldHJpY3MoYXJncyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGRhdGVJc0luR3JvdXA6IGZ1bmN0aW9uIGRhdGVJc0luR3JvdXAoZGF0ZSwgZ3JvdXBJbmRleCkge1xuICAgICAgdmFyIG5leHRHcm91cCA9IGdyb3Vwc1tncm91cEluZGV4ICsgMV07XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmluUmFuZ2UoZGF0ZSwgZ3JvdXBzW2dyb3VwSW5kZXhdWzBdLCBuZXh0R3JvdXAgPyBuZXh0R3JvdXBbMF0gOiBlbmQsICdtaW51dGVzJyk7XG4gICAgfSxcbiAgICBuZXh0U2xvdDogZnVuY3Rpb24gbmV4dFNsb3Qoc2xvdCkge1xuICAgICAgLy8gV2UgY2Fubm90IGd1YXJhbnRlZSB0aGF0IHRoZSBzbG90IG9iamVjdCBtdXN0IGJlIGluIHNsb3RzLFxuICAgICAgLy8gYmVjYXVzZSBhZnRlciBlYWNoIHVwZGF0ZSwgYSBuZXcgc2xvdHMgYXJyYXkgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAgdmFyIG5leHQgPSBzbG90c1tNYXRoLm1pbihzbG90cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMgPT09IHNsb3QgfHwgbG9jYWxpemVyLmVxKHMsIHNsb3QpO1xuICAgICAgfSkgKyAxLCBzbG90cy5sZW5ndGggLSAxKV07XG4gICAgICAvLyBpbiB0aGUgY2FzZSBvZiB0aGUgbGFzdCBzbG90IHdlIHdvbid0IGEgbG9uZyBlbm91Z2ggcmFuZ2Ugc28gbWFudWFsbHkgZ2V0IGl0XG4gICAgICBpZiAobG9jYWxpemVyLmVxKG5leHQsIHNsb3QpKSBuZXh0ID0gbG9jYWxpemVyLmFkZChzbG90LCBzdGVwLCAnbWludXRlcycpO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSxcbiAgICBjbG9zZXN0U2xvdFRvUG9zaXRpb246IGZ1bmN0aW9uIGNsb3Nlc3RTbG90VG9Qb3NpdGlvbihwZXJjZW50KSB7XG4gICAgICB2YXIgc2xvdCA9IE1hdGgubWluKHNsb3RzLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIE1hdGguZmxvb3IocGVyY2VudCAqIG51bVNsb3RzKSkpO1xuICAgICAgcmV0dXJuIHNsb3RzW3Nsb3RdO1xuICAgIH0sXG4gICAgY2xvc2VzdFNsb3RGcm9tUG9pbnQ6IGZ1bmN0aW9uIGNsb3Nlc3RTbG90RnJvbVBvaW50KHBvaW50LCBib3VuZGFyeVJlY3QpIHtcbiAgICAgIHZhciByYW5nZSA9IE1hdGguYWJzKGJvdW5kYXJ5UmVjdC50b3AgLSBib3VuZGFyeVJlY3QuYm90dG9tKTtcbiAgICAgIHJldHVybiB0aGlzLmNsb3Nlc3RTbG90VG9Qb3NpdGlvbigocG9pbnQueSAtIGJvdW5kYXJ5UmVjdC50b3ApIC8gcmFuZ2UpO1xuICAgIH0sXG4gICAgY2xvc2VzdFNsb3RGcm9tRGF0ZTogZnVuY3Rpb24gY2xvc2VzdFNsb3RGcm9tRGF0ZShkYXRlKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgaWYgKGxvY2FsaXplci5sdChkYXRlLCBzdGFydCwgJ21pbnV0ZXMnKSkgcmV0dXJuIHNsb3RzWzBdO1xuICAgICAgaWYgKGxvY2FsaXplci5ndChkYXRlLCBlbmQsICdtaW51dGVzJykpIHJldHVybiBzbG90c1tzbG90cy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBkaWZmTWlucyA9IGxvY2FsaXplci5kaWZmKHN0YXJ0LCBkYXRlLCAnbWludXRlcycpO1xuICAgICAgcmV0dXJuIHNsb3RzWyhkaWZmTWlucyAtIGRpZmZNaW5zICUgc3RlcCkgLyBzdGVwICsgb2Zmc2V0XTtcbiAgICB9LFxuICAgIHN0YXJ0c0JlZm9yZURheTogZnVuY3Rpb24gc3RhcnRzQmVmb3JlRGF5KGRhdGUpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZXIubHQoZGF0ZSwgc3RhcnQsICdkYXknKTtcbiAgICB9LFxuICAgIHN0YXJ0c0FmdGVyRGF5OiBmdW5jdGlvbiBzdGFydHNBZnRlckRheShkYXRlKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmd0KGRhdGUsIGVuZCwgJ2RheScpO1xuICAgIH0sXG4gICAgc3RhcnRzQmVmb3JlOiBmdW5jdGlvbiBzdGFydHNCZWZvcmUoZGF0ZSkge1xuICAgICAgcmV0dXJuIGxvY2FsaXplci5sdChsb2NhbGl6ZXIubWVyZ2Uoc3RhcnQsIGRhdGUpLCBzdGFydCwgJ21pbnV0ZXMnKTtcbiAgICB9LFxuICAgIHN0YXJ0c0FmdGVyOiBmdW5jdGlvbiBzdGFydHNBZnRlcihkYXRlKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmd0KGxvY2FsaXplci5tZXJnZShlbmQsIGRhdGUpLCBlbmQsICdtaW51dGVzJyk7XG4gICAgfSxcbiAgICBnZXRSYW5nZTogZnVuY3Rpb24gZ2V0UmFuZ2UocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIGlnbm9yZU1pbiwgaWdub3JlTWF4KSB7XG4gICAgICBpZiAoIWlnbm9yZU1pbikgcmFuZ2VTdGFydCA9IGxvY2FsaXplci5taW4oZW5kLCBsb2NhbGl6ZXIubWF4KHN0YXJ0LCByYW5nZVN0YXJ0KSk7XG4gICAgICBpZiAoIWlnbm9yZU1heCkgcmFuZ2VFbmQgPSBsb2NhbGl6ZXIubWluKGVuZCwgbG9jYWxpemVyLm1heChzdGFydCwgcmFuZ2VFbmQpKTtcbiAgICAgIHZhciByYW5nZVN0YXJ0TWluID0gcG9zaXRpb25Gcm9tRGF0ZShyYW5nZVN0YXJ0KTtcbiAgICAgIHZhciByYW5nZUVuZE1pbiA9IHBvc2l0aW9uRnJvbURhdGUocmFuZ2VFbmQpO1xuICAgICAgdmFyIHRvcCA9IHJhbmdlRW5kTWluID4gc3RlcCAqIG51bVNsb3RzICYmICFsb2NhbGl6ZXIuZXEoZW5kLCByYW5nZUVuZCkgPyAocmFuZ2VTdGFydE1pbiAtIHN0ZXApIC8gKHN0ZXAgKiBudW1TbG90cykgKiAxMDAgOiByYW5nZVN0YXJ0TWluIC8gKHN0ZXAgKiBudW1TbG90cykgKiAxMDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgaGVpZ2h0OiByYW5nZUVuZE1pbiAvIChzdGVwICogbnVtU2xvdHMpICogMTAwIC0gdG9wLFxuICAgICAgICBzdGFydDogcG9zaXRpb25Gcm9tRGF0ZShyYW5nZVN0YXJ0KSxcbiAgICAgICAgc3RhcnREYXRlOiByYW5nZVN0YXJ0LFxuICAgICAgICBlbmQ6IHBvc2l0aW9uRnJvbURhdGUocmFuZ2VFbmQpLFxuICAgICAgICBlbmREYXRlOiByYW5nZUVuZFxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldEN1cnJlbnRUaW1lUG9zaXRpb246IGZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lUG9zaXRpb24ocmFuZ2VTdGFydCkge1xuICAgICAgdmFyIHJhbmdlU3RhcnRNaW4gPSBwb3NpdGlvbkZyb21EYXRlKHJhbmdlU3RhcnQpO1xuICAgICAgdmFyIHRvcCA9IHJhbmdlU3RhcnRNaW4gLyAoc3RlcCAqIG51bVNsb3RzKSAqIDEwMDtcbiAgICAgIHJldHVybiB0b3A7XG4gICAgfVxuICB9O1xufVxuXG52YXIgRXZlbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudChkYXRhLCBfcmVmKSB7XG4gICAgdmFyIGFjY2Vzc29ycyA9IF9yZWYuYWNjZXNzb3JzLFxuICAgICAgc2xvdE1ldHJpY3MgPSBfcmVmLnNsb3RNZXRyaWNzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudCk7XG4gICAgdmFyIF9zbG90TWV0cmljcyRnZXRSYW5nZSA9IHNsb3RNZXRyaWNzLmdldFJhbmdlKGFjY2Vzc29ycy5zdGFydChkYXRhKSwgYWNjZXNzb3JzLmVuZChkYXRhKSksXG4gICAgICBzdGFydCA9IF9zbG90TWV0cmljcyRnZXRSYW5nZS5zdGFydCxcbiAgICAgIHN0YXJ0RGF0ZSA9IF9zbG90TWV0cmljcyRnZXRSYW5nZS5zdGFydERhdGUsXG4gICAgICBlbmQgPSBfc2xvdE1ldHJpY3MkZ2V0UmFuZ2UuZW5kLFxuICAgICAgZW5kRGF0ZSA9IF9zbG90TWV0cmljcyRnZXRSYW5nZS5lbmREYXRlLFxuICAgICAgdG9wID0gX3Nsb3RNZXRyaWNzJGdldFJhbmdlLnRvcCxcbiAgICAgIGhlaWdodCA9IF9zbG90TWV0cmljcyRnZXRSYW5nZS5oZWlnaHQ7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICAgIHRoaXMuc3RhcnRNcyA9ICtzdGFydERhdGU7XG4gICAgdGhpcy5lbmRNcyA9ICtlbmREYXRlO1xuICAgIHRoaXMudG9wID0gdG9wO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGV2ZW50J3Mgd2lkdGggd2l0aG91dCBhbnkgb3ZlcmxhcC5cbiAgICovXG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRXZlbnQsIFt7XG4gICAga2V5OiBcIl93aWR0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gVGhlIGNvbnRhaW5lciBldmVudCdzIHdpZHRoIGlzIGRldGVybWluZWQgYnkgdGhlIG1heGltdW0gbnVtYmVyIG9mXG4gICAgICAvLyBldmVudHMgaW4gYW55IG9mIGl0cyByb3dzLlxuICAgICAgaWYgKHRoaXMucm93cykge1xuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucm93cy5yZWR1Y2UoZnVuY3Rpb24gKG1heCwgcm93KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1heCwgcm93LmxlYXZlcy5sZW5ndGggKyAxKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYWRkIGl0c2VsZlxuICAgICAgICAwKSArIDE7IC8vIGFkZCB0aGUgY29udGFpbmVyXG5cbiAgICAgICAgcmV0dXJuIDEwMCAvIGNvbHVtbnM7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByb3cgZXZlbnQncyB3aWR0aCBpcyB0aGUgc3BhY2UgbGVmdCBieSB0aGUgY29udGFpbmVyLCBkaXZpZGVkXG4gICAgICAvLyBhbW9uZyBpdHNlbGYgYW5kIGl0cyBsZWF2ZXMuXG4gICAgICBpZiAodGhpcy5sZWF2ZXMpIHtcbiAgICAgICAgdmFyIGF2YWlsYWJsZVdpZHRoID0gMTAwIC0gdGhpcy5jb250YWluZXIuX3dpZHRoO1xuICAgICAgICByZXR1cm4gYXZhaWxhYmxlV2lkdGggLyAodGhpcy5sZWF2ZXMubGVuZ3RoICsgMSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsZWFmIGV2ZW50J3Mgd2lkdGggaXMgZGV0ZXJtaW5lZCBieSBpdHMgcm93J3Mgd2lkdGhcbiAgICAgIHJldHVybiB0aGlzLnJvdy5fd2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50J3MgY2FsY3VsYXRlZCB3aWR0aCwgcG9zc2libHkgd2l0aCBleHRyYSB3aWR0aCBhZGRlZCBmb3JcbiAgICAgKiBvdmVybGFwcGluZyBlZmZlY3QuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwid2lkdGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBub092ZXJsYXAgPSB0aGlzLl93aWR0aDtcbiAgICAgIHZhciBvdmVybGFwID0gTWF0aC5taW4oMTAwLCB0aGlzLl93aWR0aCAqIDEuNyk7XG5cbiAgICAgIC8vIENvbnRhaW5lcnMgY2FuIGFsd2F5cyBncm93LlxuICAgICAgaWYgKHRoaXMucm93cykge1xuICAgICAgICByZXR1cm4gb3ZlcmxhcDtcbiAgICAgIH1cblxuICAgICAgLy8gUm93cyBjYW4gZ3JvdyBpZiB0aGV5IGhhdmUgbGVhdmVzLlxuICAgICAgaWYgKHRoaXMubGVhdmVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlYXZlcy5sZW5ndGggPiAwID8gb3ZlcmxhcCA6IG5vT3ZlcmxhcDtcbiAgICAgIH1cblxuICAgICAgLy8gTGVhdmVzIGNhbiBncm93IHVubGVzcyB0aGV5J3JlIHRoZSBsYXN0IGl0ZW0gaW4gYSByb3cuXG4gICAgICB2YXIgbGVhdmVzID0gdGhpcy5yb3cubGVhdmVzO1xuICAgICAgdmFyIGluZGV4ID0gbGVhdmVzLmluZGV4T2YodGhpcyk7XG4gICAgICByZXR1cm4gaW5kZXggPT09IGxlYXZlcy5sZW5ndGggLSAxID8gbm9PdmVybGFwIDogb3ZlcmxhcDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwieE9mZnNldFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gQ29udGFpbmVycyBoYXZlIG5vIG9mZnNldC5cbiAgICAgIGlmICh0aGlzLnJvd3MpIHJldHVybiAwO1xuXG4gICAgICAvLyBSb3dzIGFsd2F5cyBzdGFydCB3aGVyZSB0aGVpciBjb250YWluZXIgZW5kcy5cbiAgICAgIGlmICh0aGlzLmxlYXZlcykgcmV0dXJuIHRoaXMuY29udGFpbmVyLl93aWR0aDtcblxuICAgICAgLy8gTGVhdmVzIGFyZSBzcHJlYWQgb3V0IGV2ZW5seSBvbiB0aGUgc3BhY2UgbGVmdCBieSBpdHMgcm93LlxuICAgICAgdmFyIF90aGlzJHJvdyA9IHRoaXMucm93LFxuICAgICAgICBsZWF2ZXMgPSBfdGhpcyRyb3cubGVhdmVzLFxuICAgICAgICB4T2Zmc2V0ID0gX3RoaXMkcm93LnhPZmZzZXQsXG4gICAgICAgIF93aWR0aCA9IF90aGlzJHJvdy5fd2lkdGg7XG4gICAgICB2YXIgaW5kZXggPSBsZWF2ZXMuaW5kZXhPZih0aGlzKSArIDE7XG4gICAgICByZXR1cm4geE9mZnNldCArIGluZGV4ICogX3dpZHRoO1xuICAgIH1cbiAgfV0pO1xufSgpO1xuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBldmVudCBhIGFuZCBiIGlzIGNvbnNpZGVyZWQgdG8gYmUgb24gdGhlIHNhbWUgcm93LlxuICovXG5mdW5jdGlvbiBvblNhbWVSb3coYSwgYiwgbWluaW11bVN0YXJ0RGlmZmVyZW5jZSkge1xuICByZXR1cm4gKFxuICAgIC8vIE9jY3VwaWVzIHRoZSBzYW1lIHN0YXJ0IHNsb3QuXG4gICAgTWF0aC5hYnMoYi5zdGFydCAtIGEuc3RhcnQpIDwgbWluaW11bVN0YXJ0RGlmZmVyZW5jZSB8fFxuICAgIC8vIEEncyBzdGFydCBzbG90IG92ZXJsYXBzIHdpdGggYidzIGVuZCBzbG90LlxuICAgIGIuc3RhcnQgPiBhLnN0YXJ0ICYmIGIuc3RhcnQgPCBhLmVuZFxuICApO1xufVxuZnVuY3Rpb24gc29ydEJ5UmVuZGVyKGV2ZW50cykge1xuICB2YXIgc29ydGVkQnlUaW1lID0gc29ydEJ5KGV2ZW50cywgWydzdGFydE1zJywgZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gLWUuZW5kTXM7XG4gIH1dKTtcbiAgdmFyIHNvcnRlZCA9IFtdO1xuICB3aGlsZSAoc29ydGVkQnlUaW1lLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgZXZlbnQgPSBzb3J0ZWRCeVRpbWUuc2hpZnQoKTtcbiAgICBzb3J0ZWQucHVzaChldmVudCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWRCeVRpbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZXN0ID0gc29ydGVkQnlUaW1lW2ldO1xuXG4gICAgICAvLyBTdGlsbCBpbnNpZGUgdGhpcyBldmVudCwgbG9vayBmb3IgbmV4dC5cbiAgICAgIGlmIChldmVudC5lbmRNcyA+IHRlc3Quc3RhcnRNcykgY29udGludWU7XG5cbiAgICAgIC8vIFdlJ3ZlIGZvdW5kIHRoZSBmaXJzdCBldmVudCBvZiB0aGUgbmV4dCBldmVudCBncm91cC5cbiAgICAgIC8vIElmIHRoYXQgZXZlbnQgaXMgbm90IHJpZ2h0IG5leHQgdG8gb3VyIGN1cnJlbnQgZXZlbnQsIHdlIGhhdmUgdG9cbiAgICAgIC8vIG1vdmUgaXQgaGVyZS5cbiAgICAgIGlmIChpID4gMCkge1xuICAgICAgICB2YXIgX2V2ZW50ID0gc29ydGVkQnlUaW1lLnNwbGljZShpLCAxKVswXTtcbiAgICAgICAgc29ydGVkLnB1c2goX2V2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UndmUgYWxyZWFkeSBmb3VuZCB0aGUgbmV4dCBldmVudCBncm91cCwgc28gc3RvcCBsb29raW5nLlxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBzb3J0ZWQ7XG59XG5mdW5jdGlvbiBnZXRTdHlsZWRFdmVudHMkMShfcmVmMikge1xuICB2YXIgZXZlbnRzID0gX3JlZjIuZXZlbnRzLFxuICAgIG1pbmltdW1TdGFydERpZmZlcmVuY2UgPSBfcmVmMi5taW5pbXVtU3RhcnREaWZmZXJlbmNlLFxuICAgIHNsb3RNZXRyaWNzID0gX3JlZjIuc2xvdE1ldHJpY3MsXG4gICAgYWNjZXNzb3JzID0gX3JlZjIuYWNjZXNzb3JzO1xuICAvLyBDcmVhdGUgcHJveHkgZXZlbnRzIGFuZCBvcmRlciB0aGVtIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZVxuICAvLyB0byBmaWRkbGUgd2l0aCB6LWluZGV4ZXMuXG4gIHZhciBwcm94aWVzID0gZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gbmV3IEV2ZW50KGV2ZW50LCB7XG4gICAgICBzbG90TWV0cmljczogc2xvdE1ldHJpY3MsXG4gICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29yc1xuICAgIH0pO1xuICB9KTtcbiAgdmFyIGV2ZW50c0luUmVuZGVyT3JkZXIgPSBzb3J0QnlSZW5kZXIocHJveGllcyk7XG5cbiAgLy8gR3JvdXAgb3ZlcmxhcHBpbmcgZXZlbnRzLCB3aGlsZSBrZWVwaW5nIG9yZGVyLlxuICAvLyBFdmVyeSBldmVudCBpcyBhbHdheXMgb25lIG9mOiBjb250YWluZXIsIHJvdyBvciBsZWFmLlxuICAvLyBDb250YWluZXJzIGNhbiBjb250YWluIHJvd3MsIGFuZCByb3dzIGNhbiBjb250YWluIGxlYXZlcy5cbiAgdmFyIGNvbnRhaW5lckV2ZW50cyA9IFtdO1xuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICB2YXIgZXZlbnQgPSBldmVudHNJblJlbmRlck9yZGVyW2ldO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBjYW4gZ28gaW50byBhIGNvbnRhaW5lciBldmVudC5cbiAgICB2YXIgY29udGFpbmVyID0gY29udGFpbmVyRXZlbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBjLmVuZCA+IGV2ZW50LnN0YXJ0IHx8IE1hdGguYWJzKGV2ZW50LnN0YXJ0IC0gYy5zdGFydCkgPCBtaW5pbXVtU3RhcnREaWZmZXJlbmNlO1xuICAgIH0pO1xuXG4gICAgLy8gQ291bGRuJ3QgZmluZCBhIGNvbnRhaW5lciDigJQgdGhhdCBtZWFucyB0aGlzIGV2ZW50IGlzIGEgY29udGFpbmVyLlxuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBldmVudC5yb3dzID0gW107XG4gICAgICBjb250YWluZXJFdmVudHMucHVzaChldmVudCk7XG4gICAgICByZXR1cm4gMTsgLy8gY29udGludWVcbiAgICB9XG5cbiAgICAvLyBGb3VuZCBhIGNvbnRhaW5lciBmb3IgdGhlIGV2ZW50LlxuICAgIGV2ZW50LmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBjYW4gYmUgcGxhY2VkIGluIGFuIGV4aXN0aW5nIHJvdy5cbiAgICAvLyBTdGFydCBsb29raW5nIGZyb20gYmVoaW5kLlxuICAgIHZhciByb3cgPSBudWxsO1xuICAgIGZvciAodmFyIGogPSBjb250YWluZXIucm93cy5sZW5ndGggLSAxOyAhcm93ICYmIGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAob25TYW1lUm93KGNvbnRhaW5lci5yb3dzW2pdLCBldmVudCwgbWluaW11bVN0YXJ0RGlmZmVyZW5jZSkpIHtcbiAgICAgICAgcm93ID0gY29udGFpbmVyLnJvd3Nbal07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyb3cpIHtcbiAgICAgIC8vIEZvdW5kIGEgcm93LCBzbyBhZGQgaXQuXG4gICAgICByb3cubGVhdmVzLnB1c2goZXZlbnQpO1xuICAgICAgZXZlbnQucm93ID0gcm93O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb3VsZG4ndCBmaW5kIGEgcm93IOKAkyB0aGF0IG1lYW5zIHRoaXMgZXZlbnQgaXMgYSByb3cuXG4gICAgICBldmVudC5sZWF2ZXMgPSBbXTtcbiAgICAgIGNvbnRhaW5lci5yb3dzLnB1c2goZXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHNJblJlbmRlck9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKF9sb29wKCkpIGNvbnRpbnVlO1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBvcmlnaW5hbCBldmVudHMsIGFsb25nIHdpdGggdGhlaXIgc3R5bGVzLlxuICByZXR1cm4gZXZlbnRzSW5SZW5kZXJPcmRlci5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50OiBldmVudC5kYXRhLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgdG9wOiBldmVudC50b3AsXG4gICAgICAgIGhlaWdodDogZXZlbnQuaGVpZ2h0LFxuICAgICAgICB3aWR0aDogZXZlbnQud2lkdGgsXG4gICAgICAgIHhPZmZzZXQ6IE1hdGgubWF4KDAsIGV2ZW50LnhPZmZzZXQpXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE1heElkeERGUyhub2RlLCBtYXhJZHgsIHZpc2l0ZWQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmZyaWVuZHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodmlzaXRlZC5pbmRleE9mKG5vZGUuZnJpZW5kc1tpXSkgPiAtMSkgY29udGludWU7XG4gICAgbWF4SWR4ID0gbWF4SWR4ID4gbm9kZS5mcmllbmRzW2ldLmlkeCA/IG1heElkeCA6IG5vZGUuZnJpZW5kc1tpXS5pZHg7XG4gICAgLy8gVE9ETyA6IHRyYWNlIGl0IGJ5IG5vdCBvYmplY3QgYnV0IGtpbmRhIGluZGV4IG9yIHNvbWV0aGluZyBmb3IgcGVyZm9ybWFuY2VcbiAgICB2aXNpdGVkLnB1c2gobm9kZS5mcmllbmRzW2ldKTtcbiAgICB2YXIgbmV3SWR4ID0gZ2V0TWF4SWR4REZTKG5vZGUuZnJpZW5kc1tpXSwgbWF4SWR4LCB2aXNpdGVkKTtcbiAgICBtYXhJZHggPSBtYXhJZHggPiBuZXdJZHggPyBtYXhJZHggOiBuZXdJZHg7XG4gIH1cbiAgcmV0dXJuIG1heElkeDtcbn1cbmZ1bmN0aW9uIG5vT3ZlcmxhcCAoX3JlZikge1xuICB2YXIgZXZlbnRzID0gX3JlZi5ldmVudHMsXG4gICAgbWluaW11bVN0YXJ0RGlmZmVyZW5jZSA9IF9yZWYubWluaW11bVN0YXJ0RGlmZmVyZW5jZSxcbiAgICBzbG90TWV0cmljcyA9IF9yZWYuc2xvdE1ldHJpY3MsXG4gICAgYWNjZXNzb3JzID0gX3JlZi5hY2Nlc3NvcnM7XG4gIHZhciBzdHlsZWRFdmVudHMgPSBnZXRTdHlsZWRFdmVudHMkMSh7XG4gICAgZXZlbnRzOiBldmVudHMsXG4gICAgbWluaW11bVN0YXJ0RGlmZmVyZW5jZTogbWluaW11bVN0YXJ0RGlmZmVyZW5jZSxcbiAgICBzbG90TWV0cmljczogc2xvdE1ldHJpY3MsXG4gICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnNcbiAgfSk7XG4gIHN0eWxlZEV2ZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgYSA9IGEuc3R5bGU7XG4gICAgYiA9IGIuc3R5bGU7XG4gICAgaWYgKGEudG9wICE9PSBiLnRvcCkgcmV0dXJuIGEudG9wID4gYi50b3AgPyAxIDogLTE7ZWxzZSBpZiAoYS5oZWlnaHQgIT09IGIuaGVpZ2h0KSByZXR1cm4gYS50b3AgKyBhLmhlaWdodCA8IGIudG9wICsgYi5oZWlnaHQgPyAxIDogLTE7ZWxzZSByZXR1cm4gMDtcbiAgfSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVkRXZlbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgc3R5bGVkRXZlbnRzW2ldLmZyaWVuZHMgPSBbXTtcbiAgICBkZWxldGUgc3R5bGVkRXZlbnRzW2ldLnN0eWxlLmxlZnQ7XG4gICAgZGVsZXRlIHN0eWxlZEV2ZW50c1tpXS5zdHlsZS5sZWZ0O1xuICAgIGRlbGV0ZSBzdHlsZWRFdmVudHNbaV0uaWR4O1xuICAgIGRlbGV0ZSBzdHlsZWRFdmVudHNbaV0uc2l6ZTtcbiAgfVxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBzdHlsZWRFdmVudHMubGVuZ3RoIC0gMTsgKytfaTIpIHtcbiAgICB2YXIgc2UxID0gc3R5bGVkRXZlbnRzW19pMl07XG4gICAgdmFyIHkxID0gc2UxLnN0eWxlLnRvcDtcbiAgICB2YXIgeTIgPSBzZTEuc3R5bGUudG9wICsgc2UxLnN0eWxlLmhlaWdodDtcbiAgICBmb3IgKHZhciBqID0gX2kyICsgMTsgaiA8IHN0eWxlZEV2ZW50cy5sZW5ndGg7ICsraikge1xuICAgICAgdmFyIHNlMiA9IHN0eWxlZEV2ZW50c1tqXTtcbiAgICAgIHZhciB5MyA9IHNlMi5zdHlsZS50b3A7XG4gICAgICB2YXIgeTQgPSBzZTIuc3R5bGUudG9wICsgc2UyLnN0eWxlLmhlaWdodDtcbiAgICAgIGlmICh5MyA+PSB5MSAmJiB5NCA8PSB5MiB8fCB5NCA+IHkxICYmIHk0IDw9IHkyIHx8IHkzID49IHkxICYmIHkzIDwgeTIpIHtcbiAgICAgICAgLy8gVE9ETyA6IGhhc2htYXAgd291bGQgYmUgZWZmZWN0aXZlIGZvciBwZXJmb3JtYW5jZVxuICAgICAgICBzZTEuZnJpZW5kcy5wdXNoKHNlMik7XG4gICAgICAgIHNlMi5mcmllbmRzLnB1c2goc2UxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgc3R5bGVkRXZlbnRzLmxlbmd0aDsgKytfaTQpIHtcbiAgICB2YXIgc2UgPSBzdHlsZWRFdmVudHNbX2k0XTtcbiAgICB2YXIgYml0bWFwID0gW107XG4gICAgZm9yICh2YXIgX2oyID0gMDsgX2oyIDwgMTAwOyArK19qMikgYml0bWFwLnB1c2goMSk7IC8vIDEgbWVhbnMgYXZhaWxhYmxlXG5cbiAgICBmb3IgKHZhciBfajQgPSAwOyBfajQgPCBzZS5mcmllbmRzLmxlbmd0aDsgKytfajQpIGlmIChzZS5mcmllbmRzW19qNF0uaWR4ICE9PSB1bmRlZmluZWQpIGJpdG1hcFtzZS5mcmllbmRzW19qNF0uaWR4XSA9IDA7IC8vIDAgbWVhbnMgcmVzZXJ2ZWRcblxuICAgIHNlLmlkeCA9IGJpdG1hcC5pbmRleE9mKDEpO1xuICB9XG4gIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IHN0eWxlZEV2ZW50cy5sZW5ndGg7ICsrX2k2KSB7XG4gICAgdmFyIHNpemUgPSAwO1xuICAgIGlmIChzdHlsZWRFdmVudHNbX2k2XS5zaXplKSBjb250aW51ZTtcbiAgICB2YXIgYWxsRnJpZW5kcyA9IFtdO1xuICAgIHZhciBtYXhJZHggPSBnZXRNYXhJZHhERlMoc3R5bGVkRXZlbnRzW19pNl0sIDAsIGFsbEZyaWVuZHMpO1xuICAgIHNpemUgPSAxMDAgLyAobWF4SWR4ICsgMSk7XG4gICAgc3R5bGVkRXZlbnRzW19pNl0uc2l6ZSA9IHNpemU7XG4gICAgZm9yICh2YXIgX2o2ID0gMDsgX2o2IDwgYWxsRnJpZW5kcy5sZW5ndGg7ICsrX2o2KSBhbGxGcmllbmRzW19qNl0uc2l6ZSA9IHNpemU7XG4gIH1cbiAgZm9yICh2YXIgX2k4ID0gMDsgX2k4IDwgc3R5bGVkRXZlbnRzLmxlbmd0aDsgKytfaTgpIHtcbiAgICB2YXIgZSA9IHN0eWxlZEV2ZW50c1tfaThdO1xuICAgIGUuc3R5bGUubGVmdCA9IGUuaWR4ICogZS5zaXplO1xuXG4gICAgLy8gc3RyZXRjaCB0byBtYXhpbXVtXG4gICAgdmFyIF9tYXhJZHggPSAwO1xuICAgIGZvciAodmFyIF9qOCA9IDA7IF9qOCA8IGUuZnJpZW5kcy5sZW5ndGg7ICsrX2o4KSB7XG4gICAgICB2YXIgaWR4ID0gZS5mcmllbmRzW19qOF0uaWR4O1xuICAgICAgX21heElkeCA9IF9tYXhJZHggPiBpZHggPyBfbWF4SWR4IDogaWR4O1xuICAgIH1cbiAgICBpZiAoX21heElkeCA8PSBlLmlkeCkgZS5zaXplID0gMTAwIC0gZS5pZHggKiBlLnNpemU7XG5cbiAgICAvLyBwYWRkaW5nIGJldHdlZW4gZXZlbnRzXG4gICAgLy8gZm9yIHRoaXMgZmVhdHVyZSwgYHdpZHRoYCBpcyBub3QgcGVyY2VudGFnZSBiYXNlZCB1bml0IGFueW1vcmVcbiAgICAvLyBpdCB3aWxsIGJlIHVzZWQgd2l0aCBjYWxjKClcbiAgICB2YXIgcGFkZGluZyA9IGUuaWR4ID09PSAwID8gMCA6IDM7XG4gICAgZS5zdHlsZS53aWR0aCA9IFwiY2FsYyhcIi5jb25jYXQoZS5zaXplLCBcIiUgLSBcIikuY29uY2F0KHBhZGRpbmcsIFwicHgpXCIpO1xuICAgIGUuc3R5bGUuaGVpZ2h0ID0gXCJjYWxjKFwiLmNvbmNhdChlLnN0eWxlLmhlaWdodCwgXCIlIC0gMnB4KVwiKTtcbiAgICBlLnN0eWxlLnhPZmZzZXQgPSBcImNhbGMoXCIuY29uY2F0KGUuc3R5bGUubGVmdCwgXCIlICsgXCIpLmNvbmNhdChwYWRkaW5nLCBcInB4KVwiKTtcbiAgfVxuICByZXR1cm4gc3R5bGVkRXZlbnRzO1xufVxuXG4vKmVzbGludCBuby11bnVzZWQtdmFyczogXCJvZmZcIiovXG5cbnZhciBEZWZhdWx0QWxnb3JpdGhtcyA9IHtcbiAgb3ZlcmxhcDogZ2V0U3R5bGVkRXZlbnRzJDEsXG4gICduby1vdmVybGFwJzogbm9PdmVybGFwXG59O1xuZnVuY3Rpb24gaXNGdW5jdGlvbihhKSB7XG4gIHJldHVybiAhIShhICYmIGEuY29uc3RydWN0b3IgJiYgYS5jYWxsICYmIGEuYXBwbHkpO1xufVxuXG4vL1xuZnVuY3Rpb24gZ2V0U3R5bGVkRXZlbnRzKF9yZWYpIHtcbiAgX3JlZi5ldmVudHM7XG4gICAgX3JlZi5taW5pbXVtU3RhcnREaWZmZXJlbmNlO1xuICAgIF9yZWYuc2xvdE1ldHJpY3M7XG4gICAgX3JlZi5hY2Nlc3NvcnM7XG4gICAgdmFyIGRheUxheW91dEFsZ29yaXRobSA9IF9yZWYuZGF5TGF5b3V0QWxnb3JpdGhtO1xuICB2YXIgYWxnb3JpdGhtID0gZGF5TGF5b3V0QWxnb3JpdGhtO1xuICBpZiAoZGF5TGF5b3V0QWxnb3JpdGhtIGluIERlZmF1bHRBbGdvcml0aG1zKSBhbGdvcml0aG0gPSBEZWZhdWx0QWxnb3JpdGhtc1tkYXlMYXlvdXRBbGdvcml0aG1dO1xuICBpZiAoIWlzRnVuY3Rpb24oYWxnb3JpdGhtKSkge1xuICAgIC8vIGludmFsaWQgYWxnb3JpdGhtXG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBhbGdvcml0aG0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIFRpbWVTbG90R3JvdXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgZnVuY3Rpb24gVGltZVNsb3RHcm91cCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZVNsb3RHcm91cCk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgVGltZVNsb3RHcm91cCwgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoVGltZVNsb3RHcm91cCwgX0NvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoVGltZVNsb3RHcm91cCwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHJlbmRlclNsb3QgPSBfdGhpcyRwcm9wcy5yZW5kZXJTbG90LFxuICAgICAgICByZXNvdXJjZSA9IF90aGlzJHByb3BzLnJlc291cmNlLFxuICAgICAgICBncm91cCA9IF90aGlzJHByb3BzLmdyb3VwLFxuICAgICAgICBnZXR0ZXJzID0gX3RoaXMkcHJvcHMuZ2V0dGVycyxcbiAgICAgICAgX3RoaXMkcHJvcHMkY29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgX3RoaXMkcHJvcHMkY29tcG9uZW50MiA9IF90aGlzJHByb3BzJGNvbXBvbmVudCA9PT0gdm9pZCAwID8ge30gOiBfdGhpcyRwcm9wcyRjb21wb25lbnQsXG4gICAgICAgIF90aGlzJHByb3BzJGNvbXBvbmVudDMgPSBfdGhpcyRwcm9wcyRjb21wb25lbnQyLnRpbWVTbG90V3JhcHBlcixcbiAgICAgICAgV3JhcHBlciA9IF90aGlzJHByb3BzJGNvbXBvbmVudDMgPT09IHZvaWQgMCA/IE5vb3BXcmFwcGVyIDogX3RoaXMkcHJvcHMkY29tcG9uZW50MztcbiAgICAgIHZhciBncm91cFByb3BzID0gZ2V0dGVycyA/IGdldHRlcnMuc2xvdEdyb3VwUHJvcChncm91cCkgOiB7fTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy10aW1lc2xvdC1ncm91cFwiXG4gICAgICB9LCBncm91cFByb3BzKSwgZ3JvdXAubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaWR4KSB7XG4gICAgICAgIHZhciBzbG90UHJvcHMgPSBnZXR0ZXJzID8gZ2V0dGVycy5zbG90UHJvcCh2YWx1ZSwgcmVzb3VyY2UpIDoge307XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCB7XG4gICAgICAgICAga2V5OiBpZHgsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHt9LCBzbG90UHJvcHMsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy10aW1lLXNsb3QnLCBzbG90UHJvcHMuY2xhc3NOYW1lKVxuICAgICAgICB9KSwgcmVuZGVyU2xvdCAmJiByZW5kZXJTbG90KHZhbHVlLCBpZHgpKSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9XSk7XG59KENvbXBvbmVudCk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVBlcmNlbnQodikge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IHYgKyAnJSc7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmZ1bmN0aW9uIFRpbWVHcmlkRXZlbnQocHJvcHMpIHtcbiAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgIGV2ZW50ID0gcHJvcHMuZXZlbnQsXG4gICAgYWNjZXNzb3JzID0gcHJvcHMuYWNjZXNzb3JzLFxuICAgIHJ0bCA9IHByb3BzLnJ0bCxcbiAgICBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkLFxuICAgIGxhYmVsID0gcHJvcHMubGFiZWwsXG4gICAgY29udGludWVzUHJpb3IgPSBwcm9wcy5jb250aW51ZXNQcmlvcixcbiAgICBjb250aW51ZXNBZnRlciA9IHByb3BzLmNvbnRpbnVlc0FmdGVyLFxuICAgIGdldHRlcnMgPSBwcm9wcy5nZXR0ZXJzLFxuICAgIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLFxuICAgIG9uRG91YmxlQ2xpY2sgPSBwcm9wcy5vbkRvdWJsZUNsaWNrLFxuICAgIGlzQmFja2dyb3VuZEV2ZW50ID0gcHJvcHMuaXNCYWNrZ3JvdW5kRXZlbnQsXG4gICAgb25LZXlQcmVzcyA9IHByb3BzLm9uS2V5UHJlc3MsXG4gICAgX3Byb3BzJGNvbXBvbmVudHMgPSBwcm9wcy5jb21wb25lbnRzLFxuICAgIEV2ZW50ID0gX3Byb3BzJGNvbXBvbmVudHMuZXZlbnQsXG4gICAgRXZlbnRXcmFwcGVyID0gX3Byb3BzJGNvbXBvbmVudHMuZXZlbnRXcmFwcGVyO1xuICB2YXIgdGl0bGUgPSBhY2Nlc3NvcnMudGl0bGUoZXZlbnQpO1xuICB2YXIgdG9vbHRpcCA9IGFjY2Vzc29ycy50b29sdGlwKGV2ZW50KTtcbiAgdmFyIGVuZCA9IGFjY2Vzc29ycy5lbmQoZXZlbnQpO1xuICB2YXIgc3RhcnQgPSBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpO1xuICB2YXIgdXNlclByb3BzID0gZ2V0dGVycy5ldmVudFByb3AoZXZlbnQsIHN0YXJ0LCBlbmQsIHNlbGVjdGVkKTtcbiAgdmFyIGlubmVyID0gWy8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBrZXk6IFwiMVwiLFxuICAgIGNsYXNzTmFtZTogXCJyYmMtZXZlbnQtbGFiZWxcIlxuICB9LCBsYWJlbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBrZXk6IFwiMlwiLFxuICAgIGNsYXNzTmFtZTogXCJyYmMtZXZlbnQtY29udGVudFwiXG4gIH0sIEV2ZW50ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRXZlbnQsIHtcbiAgICBldmVudDogZXZlbnQsXG4gICAgdGl0bGU6IHRpdGxlXG4gIH0pIDogdGl0bGUpXTtcbiAgdmFyIGhlaWdodCA9IHN0eWxlLmhlaWdodCxcbiAgICB0b3AgPSBzdHlsZS50b3AsXG4gICAgd2lkdGggPSBzdHlsZS53aWR0aCxcbiAgICB4T2Zmc2V0ID0gc3R5bGUueE9mZnNldDtcbiAgdmFyIGV2ZW50U3R5bGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVzZXJQcm9wcy5zdHlsZSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe1xuICAgIHRvcDogc3RyaW5naWZ5UGVyY2VudCh0b3ApLFxuICAgIGhlaWdodDogc3RyaW5naWZ5UGVyY2VudChoZWlnaHQpLFxuICAgIHdpZHRoOiBzdHJpbmdpZnlQZXJjZW50KHdpZHRoKVxuICB9LCBydGwgPyAncmlnaHQnIDogJ2xlZnQnLCBzdHJpbmdpZnlQZXJjZW50KHhPZmZzZXQpKSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudFdyYXBwZXIsIE9iamVjdC5hc3NpZ24oe1xuICAgIHR5cGU6IFwidGltZVwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgdGFiSW5kZXg6IDAsXG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbkRvdWJsZUNsaWNrOiBvbkRvdWJsZUNsaWNrLFxuICAgIHN0eWxlOiBldmVudFN0eWxlLFxuICAgIG9uS2V5RG93bjogb25LZXlQcmVzcyxcbiAgICB0aXRsZTogdG9vbHRpcCA/ICh0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gbGFiZWwgKyAnOiAnIDogJycpICsgdG9vbHRpcCA6IHVuZGVmaW5lZCxcbiAgICBjbGFzc05hbWU6IGNsc3goaXNCYWNrZ3JvdW5kRXZlbnQgPyAncmJjLWJhY2tncm91bmQtZXZlbnQnIDogJ3JiYy1ldmVudCcsIGNsYXNzTmFtZSwgdXNlclByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgJ3JiYy1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgJ3JiYy1ldmVudC1jb250aW51ZXMtZWFybGllcic6IGNvbnRpbnVlc1ByaW9yLFxuICAgICAgJ3JiYy1ldmVudC1jb250aW51ZXMtbGF0ZXInOiBjb250aW51ZXNBZnRlclxuICAgIH0pXG4gIH0sIGlubmVyKSk7XG59XG5cbnZhciBEYXlDb2x1bW5XcmFwcGVyID0gZnVuY3Rpb24gRGF5Q29sdW1uV3JhcHBlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgIGlubmVyUmVmID0gX3JlZi5pbm5lclJlZjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgcmVmOiBpbm5lclJlZlxuICB9LCBjaGlsZHJlbik7XG59O1xudmFyIERheUNvbHVtbldyYXBwZXIkMSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEYXlDb2x1bW5XcmFwcGVyLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGlubmVyUmVmOiByZWZcbiAgfSkpO1xufSk7XG5cbnZhciBfZXhjbHVkZWQkNSA9IFtcImRheVByb3BcIl0sXG4gIF9leGNsdWRlZDIkMSA9IFtcImV2ZW50Q29udGFpbmVyV3JhcHBlclwiXTtcbnZhciBEYXlDb2x1bW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRGF5Q29sdW1uKCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF5Q29sdW1uKTtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgX2FyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgX3RoaXMgPSBfY2FsbFN1cGVyKHRoaXMsIERheUNvbHVtbiwgW10uY29uY2F0KF9hcmdzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3Rpbmc6IGZhbHNlLFxuICAgICAgdGltZUluZGljYXRvclBvc2l0aW9uOiBudWxsXG4gICAgfTtcbiAgICBfdGhpcy5pbnRlcnZhbFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIF90aGlzLnJlbmRlckV2ZW50cyA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgZXZlbnRzID0gX3JlZi5ldmVudHMsXG4gICAgICAgIGlzQmFja2dyb3VuZEV2ZW50ID0gX3JlZi5pc0JhY2tncm91bmRFdmVudDtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICBydGwgPSBfdGhpcyRwcm9wcy5ydGwsXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzLmFjY2Vzc29ycyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHMubG9jYWxpemVyLFxuICAgICAgICBnZXR0ZXJzID0gX3RoaXMkcHJvcHMuZ2V0dGVycyxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzLmNvbXBvbmVudHMsXG4gICAgICAgIHN0ZXAgPSBfdGhpcyRwcm9wcy5zdGVwLFxuICAgICAgICB0aW1lc2xvdHMgPSBfdGhpcyRwcm9wcy50aW1lc2xvdHMsXG4gICAgICAgIGRheUxheW91dEFsZ29yaXRobSA9IF90aGlzJHByb3BzLmRheUxheW91dEFsZ29yaXRobSxcbiAgICAgICAgcmVzaXphYmxlID0gX3RoaXMkcHJvcHMucmVzaXphYmxlO1xuICAgICAgdmFyIF90aGlzMiA9IF90aGlzLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzMi5zbG90TWV0cmljcztcbiAgICAgIHZhciBtZXNzYWdlcyA9IGxvY2FsaXplci5tZXNzYWdlcztcbiAgICAgIHZhciBzdHlsZWRFdmVudHMgPSBnZXRTdHlsZWRFdmVudHMoe1xuICAgICAgICBldmVudHM6IGV2ZW50cyxcbiAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgIHNsb3RNZXRyaWNzOiBzbG90TWV0cmljcyxcbiAgICAgICAgbWluaW11bVN0YXJ0RGlmZmVyZW5jZTogTWF0aC5jZWlsKHN0ZXAgKiB0aW1lc2xvdHMgLyAyKSxcbiAgICAgICAgZGF5TGF5b3V0QWxnb3JpdGhtOiBkYXlMYXlvdXRBbGdvcml0aG1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0eWxlZEV2ZW50cy5tYXAoZnVuY3Rpb24gKF9yZWYyLCBpZHgpIHtcbiAgICAgICAgdmFyIF9hY2Nlc3NvcnMkZXZlbnRJZDtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZjIuZXZlbnQsXG4gICAgICAgICAgc3R5bGUgPSBfcmVmMi5zdHlsZTtcbiAgICAgICAgdmFyIGVuZCA9IGFjY2Vzc29ycy5lbmQoZXZlbnQpO1xuICAgICAgICB2YXIgc3RhcnQgPSBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpO1xuICAgICAgICB2YXIga2V5ID0gKF9hY2Nlc3NvcnMkZXZlbnRJZCA9IGFjY2Vzc29ycy5ldmVudElkKGV2ZW50KSkgIT09IG51bGwgJiYgX2FjY2Vzc29ycyRldmVudElkICE9PSB2b2lkIDAgPyBfYWNjZXNzb3JzJGV2ZW50SWQgOiAnZXZ0XycgKyBpZHg7XG4gICAgICAgIHZhciBmb3JtYXQgPSAnZXZlbnRUaW1lUmFuZ2VGb3JtYXQnO1xuICAgICAgICB2YXIgbGFiZWw7XG4gICAgICAgIHZhciBzdGFydHNCZWZvcmVEYXkgPSBzbG90TWV0cmljcy5zdGFydHNCZWZvcmVEYXkoc3RhcnQpO1xuICAgICAgICB2YXIgc3RhcnRzQWZ0ZXJEYXkgPSBzbG90TWV0cmljcy5zdGFydHNBZnRlckRheShlbmQpO1xuICAgICAgICBpZiAoc3RhcnRzQmVmb3JlRGF5KSBmb3JtYXQgPSAnZXZlbnRUaW1lUmFuZ2VFbmRGb3JtYXQnO2Vsc2UgaWYgKHN0YXJ0c0FmdGVyRGF5KSBmb3JtYXQgPSAnZXZlbnRUaW1lUmFuZ2VTdGFydEZvcm1hdCc7XG4gICAgICAgIGlmIChzdGFydHNCZWZvcmVEYXkgJiYgc3RhcnRzQWZ0ZXJEYXkpIGxhYmVsID0gbWVzc2FnZXMuYWxsRGF5O2Vsc2UgbGFiZWwgPSBsb2NhbGl6ZXIuZm9ybWF0KHtcbiAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgZW5kOiBlbmRcbiAgICAgICAgfSwgZm9ybWF0KTtcbiAgICAgICAgdmFyIGNvbnRpbnVlc1ByaW9yID0gc3RhcnRzQmVmb3JlRGF5IHx8IHNsb3RNZXRyaWNzLnN0YXJ0c0JlZm9yZShzdGFydCk7XG4gICAgICAgIHZhciBjb250aW51ZXNBZnRlciA9IHN0YXJ0c0FmdGVyRGF5IHx8IHNsb3RNZXRyaWNzLnN0YXJ0c0FmdGVyKGVuZCk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lR3JpZEV2ZW50LCB7XG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgICAgICBydGw6IHJ0bCxcbiAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICAgIGNvbnRpbnVlc1ByaW9yOiBjb250aW51ZXNQcmlvcixcbiAgICAgICAgICBjb250aW51ZXNBZnRlcjogY29udGludWVzQWZ0ZXIsXG4gICAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgICAgcmVzb3VyY2U6IF90aGlzLnByb3BzLnJlc291cmNlLFxuICAgICAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkKGV2ZW50LCBzZWxlY3RlZCksXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX3NlbGVjdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXZlbnQpLCBfdGhpcy5wcm9wcy5yZXNvdXJjZSAmJiB7XG4gICAgICAgICAgICAgIHNvdXJjZVJlc291cmNlOiBfdGhpcy5wcm9wcy5yZXNvdXJjZVxuICAgICAgICAgICAgfSksIGlzQmFja2dyb3VuZEV2ZW50ICYmIHtcbiAgICAgICAgICAgICAgaXNCYWNrZ3JvdW5kRXZlbnQ6IHRydWVcbiAgICAgICAgICAgIH0pLCBlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9kb3VibGVDbGljayhldmVudCwgZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpc0JhY2tncm91bmRFdmVudDogaXNCYWNrZ3JvdW5kRXZlbnQsXG4gICAgICAgICAgb25LZXlQcmVzczogZnVuY3Rpb24gb25LZXlQcmVzcyhlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2tleVByZXNzKGV2ZW50LCBlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2l6YWJsZTogcmVzaXphYmxlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5fc2VsZWN0YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBub2RlID0gX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZCA9IF90aGlzJHByb3BzMi5sb25nUHJlc3NUaHJlc2hvbGQsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMi5sb2NhbGl6ZXI7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBfdGhpcy5fc2VsZWN0b3IgPSBuZXcgU2VsZWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9LCB7XG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogbG9uZ1ByZXNzVGhyZXNob2xkXG4gICAgICB9KTtcbiAgICAgIHZhciBtYXliZVNlbGVjdCA9IGZ1bmN0aW9uIG1heWJlU2VsZWN0KGJveCkge1xuICAgICAgICB2YXIgb25TZWxlY3RpbmcgPSBfdGhpcy5wcm9wcy5vblNlbGVjdGluZztcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBfdGhpcy5zdGF0ZSB8fCB7fTtcbiAgICAgICAgdmFyIHN0YXRlID0gc2VsZWN0aW9uU3RhdGUoYm94KTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc3RhdGUuc3RhcnREYXRlLFxuICAgICAgICAgIGVuZCA9IHN0YXRlLmVuZERhdGU7XG4gICAgICAgIGlmIChvblNlbGVjdGluZykge1xuICAgICAgICAgIGlmIChsb2NhbGl6ZXIuZXEoY3VycmVudC5zdGFydERhdGUsIHN0YXJ0LCAnbWludXRlcycpICYmIGxvY2FsaXplci5lcShjdXJyZW50LmVuZERhdGUsIGVuZCwgJ21pbnV0ZXMnKSB8fCBvblNlbGVjdGluZyh7XG4gICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgICAgIHJlc291cmNlSWQ6IF90aGlzLnByb3BzLnJlc291cmNlXG4gICAgICAgICAgfSkgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLnN0YXRlLnN0YXJ0ICE9PSBzdGF0ZS5zdGFydCB8fCBfdGhpcy5zdGF0ZS5lbmQgIT09IHN0YXRlLmVuZCB8fCBfdGhpcy5zdGF0ZS5zZWxlY3RpbmcgIT09IHN0YXRlLnNlbGVjdGluZykge1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBzZWxlY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIHNlbGVjdGlvblN0YXRlKHBvaW50KSB7XG4gICAgICAgIHZhciBjdXJyZW50U2xvdCA9IF90aGlzLnNsb3RNZXRyaWNzLmNsb3Nlc3RTbG90RnJvbVBvaW50KHBvaW50LCBnZXRCb3VuZHNGb3JOb2RlKG5vZGUpKTtcbiAgICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5zZWxlY3RpbmcpIHtcbiAgICAgICAgICBfdGhpcy5faW5pdGlhbFNsb3QgPSBjdXJyZW50U2xvdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5pdGlhbFNsb3QgPSBfdGhpcy5faW5pdGlhbFNsb3Q7XG4gICAgICAgIGlmIChsb2NhbGl6ZXIubHRlKGluaXRpYWxTbG90LCBjdXJyZW50U2xvdCkpIHtcbiAgICAgICAgICBjdXJyZW50U2xvdCA9IF90aGlzLnNsb3RNZXRyaWNzLm5leHRTbG90KGN1cnJlbnRTbG90KTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbGl6ZXIuZ3QoaW5pdGlhbFNsb3QsIGN1cnJlbnRTbG90KSkge1xuICAgICAgICAgIGluaXRpYWxTbG90ID0gX3RoaXMuc2xvdE1ldHJpY3MubmV4dFNsb3QoaW5pdGlhbFNsb3QpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3RSYW5nZSA9IF90aGlzLnNsb3RNZXRyaWNzLmdldFJhbmdlKGxvY2FsaXplci5taW4oaW5pdGlhbFNsb3QsIGN1cnJlbnRTbG90KSwgbG9jYWxpemVyLm1heChpbml0aWFsU2xvdCwgY3VycmVudFNsb3QpKTtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2VsZWN0UmFuZ2UpLCB7fSwge1xuICAgICAgICAgIHNlbGVjdGluZzogdHJ1ZSxcbiAgICAgICAgICB0b3A6IFwiXCIuY29uY2F0KHNlbGVjdFJhbmdlLnRvcCwgXCIlXCIpLFxuICAgICAgICAgIGhlaWdodDogXCJcIi5jb25jYXQoc2VsZWN0UmFuZ2UuaGVpZ2h0LCBcIiVcIilcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgdmFyIHNlbGVjdG9yQ2xpY2tzSGFuZGxlciA9IGZ1bmN0aW9uIHNlbGVjdG9yQ2xpY2tzSGFuZGxlcihib3gsIGFjdGlvblR5cGUpIHtcbiAgICAgICAgaWYgKCFpc0V2ZW50KF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50LCBib3gpKSB7XG4gICAgICAgICAgdmFyIF9zZWxlY3Rpb25TdGF0ZSA9IHNlbGVjdGlvblN0YXRlKGJveCksXG4gICAgICAgICAgICBzdGFydERhdGUgPSBfc2VsZWN0aW9uU3RhdGUuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9zZWxlY3Rpb25TdGF0ZS5lbmREYXRlO1xuICAgICAgICAgIF90aGlzLl9zZWxlY3RTbG90KHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uVHlwZSxcbiAgICAgICAgICAgIGJveDogYm94XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlbGVjdGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgc2VsZWN0b3Iub24oJ3NlbGVjdGluZycsIG1heWJlU2VsZWN0KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3RTdGFydCcsIG1heWJlU2VsZWN0KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdiZWZvcmVTZWxlY3QnLCBmdW5jdGlvbiAoYm94KSB7XG4gICAgICAgIGlmIChfdGhpcy5wcm9wcy5zZWxlY3RhYmxlICE9PSAnaWdub3JlRXZlbnRzJykgcmV0dXJuO1xuICAgICAgICByZXR1cm4gIWlzRXZlbnQoX3RoaXMuY29udGFpbmVyUmVmLmN1cnJlbnQsIGJveCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdjbGljaycsIGZ1bmN0aW9uIChib3gpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yQ2xpY2tzSGFuZGxlcihib3gsICdjbGljaycpO1xuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignZG91YmxlQ2xpY2snLCBmdW5jdGlvbiAoYm94KSB7XG4gICAgICAgIHJldHVybiBzZWxlY3RvckNsaWNrc0hhbmRsZXIoYm94LCAnZG91YmxlQ2xpY2snKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ3NlbGVjdCcsIGZ1bmN0aW9uIChib3VuZHMpIHtcbiAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNlbGVjdGluZykge1xuICAgICAgICAgIF90aGlzLl9zZWxlY3RTbG90KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuc3RhdGUpLCB7fSwge1xuICAgICAgICAgICAgYWN0aW9uOiAnc2VsZWN0JyxcbiAgICAgICAgICAgIGJvdW5kczogYm91bmRzXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlbGVjdGluZzogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbigncmVzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5zdGF0ZS5zZWxlY3RpbmcpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzZWxlY3Rpbmc6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXMuX3RlYXJkb3duU2VsZWN0YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuX3NlbGVjdG9yKSByZXR1cm47XG4gICAgICBfdGhpcy5fc2VsZWN0b3IudGVhcmRvd24oKTtcbiAgICAgIF90aGlzLl9zZWxlY3RvciA9IG51bGw7XG4gICAgfTtcbiAgICBfdGhpcy5fc2VsZWN0U2xvdCA9IGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgdmFyIHN0YXJ0RGF0ZSA9IF9yZWYzLnN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSA9IF9yZWYzLmVuZERhdGUsXG4gICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbixcbiAgICAgICAgYm91bmRzID0gX3JlZjMuYm91bmRzLFxuICAgICAgICBib3ggPSBfcmVmMy5ib3g7XG4gICAgICB2YXIgY3VycmVudCA9IHN0YXJ0RGF0ZSxcbiAgICAgICAgc2xvdHMgPSBbXTtcbiAgICAgIHdoaWxlIChfdGhpcy5wcm9wcy5sb2NhbGl6ZXIubHRlKGN1cnJlbnQsIGVuZERhdGUpKSB7XG4gICAgICAgIHNsb3RzLnB1c2goY3VycmVudCk7XG4gICAgICAgIGN1cnJlbnQgPSBuZXcgRGF0ZSgrY3VycmVudCArIF90aGlzLnByb3BzLnN0ZXAgKiA2MCAqIDEwMDApOyAvLyB1c2luZyBEYXRlIGVuc3VyZXMgbm90IHRvIGNyZWF0ZSBhbiBlbmRsZXNzIGxvb3AgdGhlIGRheSBEU1QgYmVnaW5zXG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25TZWxlY3RTbG90LCB7XG4gICAgICAgIHNsb3RzOiBzbG90cyxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kOiBlbmREYXRlLFxuICAgICAgICByZXNvdXJjZUlkOiBfdGhpcy5wcm9wcy5yZXNvdXJjZSxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGJvdW5kczogYm91bmRzLFxuICAgICAgICBib3g6IGJveFxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5fc2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cbiAgICAgIG5vdGlmeShfdGhpcy5wcm9wcy5vblNlbGVjdEV2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLl9kb3VibGVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25Eb3VibGVDbGlja0V2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLl9rZXlQcmVzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25LZXlQcmVzc0V2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLnNsb3RNZXRyaWNzID0gZ2V0U2xvdE1ldHJpY3MoX3RoaXMucHJvcHMpO1xuICAgIF90aGlzLmNvbnRhaW5lclJlZiA9IC8qI19fUFVSRV9fKi9jcmVhdGVSZWYoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKERheUNvbHVtbiwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoRGF5Q29sdW1uLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0YWJsZSAmJiB0aGlzLl9zZWxlY3RhYmxlKCk7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc05vdykge1xuICAgICAgICB0aGlzLnNldFRpbWVJbmRpY2F0b3JQb3NpdGlvblVwZGF0ZUludGVydmFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5fdGVhcmRvd25TZWxlY3RhYmxlKCk7XG4gICAgICB0aGlzLmNsZWFyVGltZUluZGljYXRvckludGVydmFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGFibGUgJiYgIXByZXZQcm9wcy5zZWxlY3RhYmxlKSB0aGlzLl9zZWxlY3RhYmxlKCk7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0YWJsZSAmJiBwcmV2UHJvcHMuc2VsZWN0YWJsZSkgdGhpcy5fdGVhcmRvd25TZWxlY3RhYmxlKCk7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZ2V0Tm93ID0gX3RoaXMkcHJvcHMzLmdldE5vdyxcbiAgICAgICAgaXNOb3cgPSBfdGhpcyRwcm9wczMuaXNOb3csXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMy5sb2NhbGl6ZXIsXG4gICAgICAgIGRhdGUgPSBfdGhpcyRwcm9wczMuZGF0ZSxcbiAgICAgICAgbWluID0gX3RoaXMkcHJvcHMzLm1pbixcbiAgICAgICAgbWF4ID0gX3RoaXMkcHJvcHMzLm1heDtcbiAgICAgIHZhciBnZXROb3dDaGFuZ2VkID0gbG9jYWxpemVyLm5lcShwcmV2UHJvcHMuZ2V0Tm93KCksIGdldE5vdygpLCAnbWludXRlcycpO1xuICAgICAgaWYgKHByZXZQcm9wcy5pc05vdyAhPT0gaXNOb3cgfHwgZ2V0Tm93Q2hhbmdlZCkge1xuICAgICAgICB0aGlzLmNsZWFyVGltZUluZGljYXRvckludGVydmFsKCk7XG4gICAgICAgIGlmIChpc05vdykge1xuICAgICAgICAgIHZhciB0YWlsID0gIWdldE5vd0NoYW5nZWQgJiYgbG9jYWxpemVyLmVxKHByZXZQcm9wcy5kYXRlLCBkYXRlLCAnbWludXRlcycpICYmIHByZXZTdGF0ZS50aW1lSW5kaWNhdG9yUG9zaXRpb24gPT09IHRoaXMuc3RhdGUudGltZUluZGljYXRvclBvc2l0aW9uO1xuICAgICAgICAgIHRoaXMuc2V0VGltZUluZGljYXRvclBvc2l0aW9uVXBkYXRlSW50ZXJ2YWwodGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNOb3cgJiYgKGxvY2FsaXplci5uZXEocHJldlByb3BzLm1pbiwgbWluLCAnbWludXRlcycpIHx8IGxvY2FsaXplci5uZXEocHJldlByb3BzLm1heCwgbWF4LCAnbWludXRlcycpKSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uVGltZUluZGljYXRvcigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB0YWlsIHtCb29sZWFufSAtIHdoZXRoZXIgYHBvc2l0aW9uVGltZUluZGljYXRvcmAgY2FsbCBzaG91bGQgYmVcbiAgICAgKiAgIGRlZmVycmVkIG9yIGNhbGxlZCB1cG9uIHNldHRpbmcgaW50ZXJ2YWwgKGB0cnVlYCAtIGlmIGRlZmVycmVkKTtcbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJzZXRUaW1lSW5kaWNhdG9yUG9zaXRpb25VcGRhdGVJbnRlcnZhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaW1lSW5kaWNhdG9yUG9zaXRpb25VcGRhdGVJbnRlcnZhbCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgdmFyIHRhaWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgICAgaWYgKCF0aGlzLmludGVydmFsVHJpZ2dlcmVkICYmICF0YWlsKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb25UaW1lSW5kaWNhdG9yKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl90aW1lSW5kaWNhdG9yVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLmludGVydmFsVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMzLnBvc2l0aW9uVGltZUluZGljYXRvcigpO1xuICAgICAgICBfdGhpczMuc2V0VGltZUluZGljYXRvclBvc2l0aW9uVXBkYXRlSW50ZXJ2YWwoKTtcbiAgICAgIH0sIDYwMDAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJUaW1lSW5kaWNhdG9ySW50ZXJ2YWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJUaW1lSW5kaWNhdG9ySW50ZXJ2YWwoKSB7XG4gICAgICB0aGlzLmludGVydmFsVHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVJbmRpY2F0b3JUaW1lb3V0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicG9zaXRpb25UaW1lSW5kaWNhdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uVGltZUluZGljYXRvcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wczQubWluLFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wczQubWF4LFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wczQuZ2V0Tm93O1xuICAgICAgdmFyIGN1cnJlbnQgPSBnZXROb3coKTtcbiAgICAgIGlmIChjdXJyZW50ID49IG1pbiAmJiBjdXJyZW50IDw9IG1heCkge1xuICAgICAgICB2YXIgdG9wID0gdGhpcy5zbG90TWV0cmljcy5nZXRDdXJyZW50VGltZVBvc2l0aW9uKGN1cnJlbnQpO1xuICAgICAgICB0aGlzLmludGVydmFsVHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdGltZUluZGljYXRvclBvc2l0aW9uOiB0b3BcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNsZWFyVGltZUluZGljYXRvckludGVydmFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHByb3BzNS5kYXRlLFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wczUubWF4LFxuICAgICAgICBydGwgPSBfdGhpcyRwcm9wczUucnRsLFxuICAgICAgICBpc05vdyA9IF90aGlzJHByb3BzNS5pc05vdyxcbiAgICAgICAgcmVzb3VyY2UgPSBfdGhpcyRwcm9wczUucmVzb3VyY2UsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzNS5hY2Nlc3NvcnMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzNS5sb2NhbGl6ZXIsXG4gICAgICAgIF90aGlzJHByb3BzNSRnZXR0ZXJzID0gX3RoaXMkcHJvcHM1LmdldHRlcnMsXG4gICAgICAgIGRheVByb3AgPSBfdGhpcyRwcm9wczUkZ2V0dGVycy5kYXlQcm9wLFxuICAgICAgICBnZXR0ZXJzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzNSRnZXR0ZXJzLCBfZXhjbHVkZWQkNSksXG4gICAgICAgIF90aGlzJHByb3BzNSRjb21wb25lbiA9IF90aGlzJHByb3BzNS5jb21wb25lbnRzLFxuICAgICAgICBFdmVudENvbnRhaW5lciA9IF90aGlzJHByb3BzNSRjb21wb25lbi5ldmVudENvbnRhaW5lcldyYXBwZXIsXG4gICAgICAgIGNvbXBvbmVudHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHM1JGNvbXBvbmVuLCBfZXhjbHVkZWQyJDEpO1xuICAgICAgdGhpcy5zbG90TWV0cmljcyA9IHRoaXMuc2xvdE1ldHJpY3MudXBkYXRlKHRoaXMucHJvcHMpO1xuICAgICAgdmFyIHNsb3RNZXRyaWNzID0gdGhpcy5zbG90TWV0cmljcztcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIHNlbGVjdGluZyA9IF90aGlzJHN0YXRlLnNlbGVjdGluZyxcbiAgICAgICAgdG9wID0gX3RoaXMkc3RhdGUudG9wLFxuICAgICAgICBoZWlnaHQgPSBfdGhpcyRzdGF0ZS5oZWlnaHQsXG4gICAgICAgIHN0YXJ0RGF0ZSA9IF90aGlzJHN0YXRlLnN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSA9IF90aGlzJHN0YXRlLmVuZERhdGU7XG4gICAgICB2YXIgc2VsZWN0RGF0ZXMgPSB7XG4gICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXG4gICAgICAgIGVuZDogZW5kRGF0ZVxuICAgICAgfTtcbiAgICAgIHZhciBfZGF5UHJvcCA9IGRheVByb3AobWF4LCByZXNvdXJjZSksXG4gICAgICAgIGNsYXNzTmFtZSA9IF9kYXlQcm9wLmNsYXNzTmFtZSxcbiAgICAgICAgc3R5bGUgPSBfZGF5UHJvcC5zdHlsZTtcbiAgICAgIHZhciBEYXlDb2x1bW5XcmFwcGVyQ29tcG9uZW50ID0gY29tcG9uZW50cy5kYXlDb2x1bW5XcmFwcGVyIHx8IERheUNvbHVtbldyYXBwZXIkMTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEYXlDb2x1bW5XcmFwcGVyQ29tcG9uZW50LCB7XG4gICAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWYsXG4gICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzTmFtZSwgJ3JiYy1kYXktc2xvdCcsICdyYmMtdGltZS1jb2x1bW4nLCBpc05vdyAmJiAncmJjLW5vdycsIGlzTm93ICYmICdyYmMtdG9kYXknLFxuICAgICAgICAvLyBXSFlcbiAgICAgICAgc2VsZWN0aW5nICYmICdyYmMtc2xvdC1zZWxlY3RpbmcnKSxcbiAgICAgICAgc2xvdE1ldHJpY3M6IHNsb3RNZXRyaWNzLFxuICAgICAgICByZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgIH0sIHNsb3RNZXRyaWNzLmdyb3Vwcy5tYXAoZnVuY3Rpb24gKGdycCwgaWR4KSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lU2xvdEdyb3VwLCB7XG4gICAgICAgICAga2V5OiBpZHgsXG4gICAgICAgICAgZ3JvdXA6IGdycCxcbiAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG4gICAgICAgIH0pO1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50Q29udGFpbmVyLCB7XG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIGFjY2Vzc29yczogYWNjZXNzb3JzLFxuICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBzbG90TWV0cmljczogc2xvdE1ldHJpY3NcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtZXZlbnRzLWNvbnRhaW5lcicsIHJ0bCAmJiAncnRsJylcbiAgICAgIH0sIHRoaXMucmVuZGVyRXZlbnRzKHtcbiAgICAgICAgZXZlbnRzOiB0aGlzLnByb3BzLmJhY2tncm91bmRFdmVudHMsXG4gICAgICAgIGlzQmFja2dyb3VuZEV2ZW50OiB0cnVlXG4gICAgICB9KSwgdGhpcy5yZW5kZXJFdmVudHMoe1xuICAgICAgICBldmVudHM6IHRoaXMucHJvcHMuZXZlbnRzXG4gICAgICB9KSkpLCBzZWxlY3RpbmcgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXNsb3Qtc2VsZWN0aW9uXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGxvY2FsaXplci5mb3JtYXQoc2VsZWN0RGF0ZXMsICdzZWxlY3RSYW5nZUZvcm1hdCcpKSksIGlzTm93ICYmIHRoaXMuaW50ZXJ2YWxUcmlnZ2VyZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWN1cnJlbnQtdGltZS1pbmRpY2F0b3JcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB0b3A6IFwiXCIuY29uY2F0KHRoaXMuc3RhdGUudGltZUluZGljYXRvclBvc2l0aW9uLCBcIiVcIilcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuRGF5Q29sdW1uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZHJhZ1Rocm91Z2hFdmVudHM6IHRydWUsXG4gIHRpbWVzbG90czogMlxufTtcblxudmFyIFJlc291cmNlSGVhZGVyID0gZnVuY3Rpb24gUmVzb3VyY2VIZWFkZXIoX3JlZikge1xuICB2YXIgbGFiZWwgPSBfcmVmLmxhYmVsO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGxhYmVsKTtcbn07XG5cbnZhciBUaW1lR3JpZEhlYWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBmdW5jdGlvbiBUaW1lR3JpZEhlYWRlcigpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVHcmlkSGVhZGVyKTtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBUaW1lR3JpZEhlYWRlciwgW10uY29uY2F0KGFyZ3MpKTtcbiAgICBfdGhpcy5oYW5kbGVIZWFkZXJDbGljayA9IGZ1bmN0aW9uIChkYXRlLCB2aWV3LCBlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25EcmlsbERvd24sIFtkYXRlLCB2aWV3XSk7XG4gICAgfTtcbiAgICBfdGhpcy5yZW5kZXJSb3cgPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICBldmVudHMgPSBfdGhpcyRwcm9wcy5ldmVudHMsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzLnJ0bCxcbiAgICAgICAgc2VsZWN0YWJsZSA9IF90aGlzJHByb3BzLnNlbGVjdGFibGUsXG4gICAgICAgIGdldE5vdyA9IF90aGlzJHByb3BzLmdldE5vdyxcbiAgICAgICAgcmFuZ2UgPSBfdGhpcyRwcm9wcy5yYW5nZSxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzLmdldHRlcnMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHMuYWNjZXNzb3JzLFxuICAgICAgICBjb21wb25lbnRzID0gX3RoaXMkcHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgcmVzaXphYmxlID0gX3RoaXMkcHJvcHMucmVzaXphYmxlO1xuICAgICAgdmFyIHJlc291cmNlSWQgPSBhY2Nlc3NvcnMucmVzb3VyY2VJZChyZXNvdXJjZSk7XG4gICAgICB2YXIgZXZlbnRzVG9EaXNwbGF5ID0gcmVzb3VyY2UgPyBldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gYWNjZXNzb3JzLnJlc291cmNlKGV2ZW50KSA9PT0gcmVzb3VyY2VJZDtcbiAgICAgIH0pIDogZXZlbnRzO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERhdGVDb250ZW50Um93LCB7XG4gICAgICAgIGlzQWxsRGF5OiB0cnVlLFxuICAgICAgICBydGw6IHJ0bCxcbiAgICAgICAgZ2V0Tm93OiBnZXROb3csXG4gICAgICAgIG1pblJvd3M6IDJcbiAgICAgICAgLy8gQWRkICsxIHRvIGluY2x1ZGUgc2hvd01vcmUgYnV0dG9uIHJvdyBpbiB0aGUgcm93IGxpbWl0XG4gICAgICAgICxcbiAgICAgICAgbWF4Um93czogX3RoaXMucHJvcHMuYWxsRGF5TWF4Um93cyArIDEsXG4gICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgZXZlbnRzOiBldmVudHNUb0Rpc3BsYXksXG4gICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlSWQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYWxsZGF5LWNlbGxcIixcbiAgICAgICAgc2VsZWN0YWJsZTogc2VsZWN0YWJsZSxcbiAgICAgICAgc2VsZWN0ZWQ6IF90aGlzLnByb3BzLnNlbGVjdGVkLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgIG9uU2VsZWN0OiBfdGhpcy5wcm9wcy5vblNlbGVjdEV2ZW50LFxuICAgICAgICBvblNob3dNb3JlOiBfdGhpcy5wcm9wcy5vblNob3dNb3JlLFxuICAgICAgICBvbkRvdWJsZUNsaWNrOiBfdGhpcy5wcm9wcy5vbkRvdWJsZUNsaWNrRXZlbnQsXG4gICAgICAgIG9uS2V5UHJlc3M6IF90aGlzLnByb3BzLm9uS2V5UHJlc3NFdmVudCxcbiAgICAgICAgb25TZWxlY3RTbG90OiBfdGhpcy5wcm9wcy5vblNlbGVjdFNsb3QsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogX3RoaXMucHJvcHMubG9uZ1ByZXNzVGhyZXNob2xkLFxuICAgICAgICByZXNpemFibGU6IHJlc2l6YWJsZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKFRpbWVHcmlkSGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhUaW1lR3JpZEhlYWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVySGVhZGVyQ2VsbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVySGVhZGVyQ2VsbHMocmFuZ2UpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMi5sb2NhbGl6ZXIsXG4gICAgICAgIGdldERyaWxsZG93blZpZXcgPSBfdGhpcyRwcm9wczIuZ2V0RHJpbGxkb3duVmlldyxcbiAgICAgICAgZ2V0Tm93ID0gX3RoaXMkcHJvcHMyLmdldE5vdyxcbiAgICAgICAgZGF5UHJvcCA9IF90aGlzJHByb3BzMi5nZXR0ZXJzLmRheVByb3AsXG4gICAgICAgIF90aGlzJHByb3BzMiRjb21wb25lbiA9IF90aGlzJHByb3BzMi5jb21wb25lbnRzLmhlYWRlcixcbiAgICAgICAgSGVhZGVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMyJGNvbXBvbmVuID09PSB2b2lkIDAgPyBIZWFkZXIgOiBfdGhpcyRwcm9wczIkY29tcG9uZW47XG4gICAgICB2YXIgdG9kYXkgPSBnZXROb3coKTtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGRhdGUsIGkpIHtcbiAgICAgICAgdmFyIGRyaWxsZG93blZpZXcgPSBnZXREcmlsbGRvd25WaWV3KGRhdGUpO1xuICAgICAgICB2YXIgbGFiZWwgPSBsb2NhbGl6ZXIuZm9ybWF0KGRhdGUsICdkYXlGb3JtYXQnKTtcbiAgICAgICAgdmFyIF9kYXlQcm9wID0gZGF5UHJvcChkYXRlKSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfZGF5UHJvcC5jbGFzc05hbWUsXG4gICAgICAgICAgc3R5bGUgPSBfZGF5UHJvcC5zdHlsZTtcbiAgICAgICAgdmFyIGhlYWRlciA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlckNvbXBvbmVudCwge1xuICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtaGVhZGVyJywgY2xhc3NOYW1lLCBsb2NhbGl6ZXIuaXNTYW1lRGF0ZShkYXRlLCB0b2RheSkgJiYgJ3JiYy10b2RheScpXG4gICAgICAgIH0sIGRyaWxsZG93blZpZXcgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmJjLWJ1dHRvbi1saW5rXCIsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUhlYWRlckNsaWNrKGRhdGUsIGRyaWxsZG93blZpZXcsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgaGVhZGVyKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBoZWFkZXIpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczMud2lkdGgsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzMy5ydGwsXG4gICAgICAgIHJlc291cmNlcyA9IF90aGlzJHByb3BzMy5yZXNvdXJjZXMsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHMzLnJhbmdlLFxuICAgICAgICBldmVudHMgPSBfdGhpcyRwcm9wczMuZXZlbnRzLFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wczMuZ2V0Tm93LFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRwcm9wczMuYWNjZXNzb3JzLFxuICAgICAgICBzZWxlY3RhYmxlID0gX3RoaXMkcHJvcHMzLnNlbGVjdGFibGUsXG4gICAgICAgIGNvbXBvbmVudHMgPSBfdGhpcyRwcm9wczMuY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzMy5nZXR0ZXJzLFxuICAgICAgICBzY3JvbGxSZWYgPSBfdGhpcyRwcm9wczMuc2Nyb2xsUmVmLFxuICAgICAgICBsb2NhbGl6ZXIgPSBfdGhpcyRwcm9wczMubG9jYWxpemVyLFxuICAgICAgICBpc092ZXJmbG93aW5nID0gX3RoaXMkcHJvcHMzLmlzT3ZlcmZsb3dpbmcsXG4gICAgICAgIF90aGlzJHByb3BzMyRjb21wb25lbiA9IF90aGlzJHByb3BzMy5jb21wb25lbnRzLFxuICAgICAgICBUaW1lR3V0dGVySGVhZGVyID0gX3RoaXMkcHJvcHMzJGNvbXBvbmVuLnRpbWVHdXR0ZXJIZWFkZXIsXG4gICAgICAgIF90aGlzJHByb3BzMyRjb21wb25lbjIgPSBfdGhpcyRwcm9wczMkY29tcG9uZW4ucmVzb3VyY2VIZWFkZXIsXG4gICAgICAgIFJlc291cmNlSGVhZGVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMzJGNvbXBvbmVuMiA9PT0gdm9pZCAwID8gUmVzb3VyY2VIZWFkZXIgOiBfdGhpcyRwcm9wczMkY29tcG9uZW4yLFxuICAgICAgICByZXNpemFibGUgPSBfdGhpcyRwcm9wczMucmVzaXphYmxlO1xuICAgICAgdmFyIHN0eWxlID0ge307XG4gICAgICBpZiAoaXNPdmVyZmxvd2luZykge1xuICAgICAgICBzdHlsZVtydGwgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnXSA9IFwiXCIuY29uY2F0KHNjcm9sbGJhclNpemUoKSAtIDEsIFwicHhcIik7XG4gICAgICB9XG4gICAgICB2YXIgZ3JvdXBlZEV2ZW50cyA9IHJlc291cmNlcy5ncm91cEV2ZW50cyhldmVudHMpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICByZWY6IHNjcm9sbFJlZixcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtdGltZS1oZWFkZXInLCBpc092ZXJmbG93aW5nICYmICdyYmMtb3ZlcmZsb3dpbmcnKVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWxhYmVsIHJiYy10aW1lLWhlYWRlci1ndXR0ZXJcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgbWluV2lkdGg6IHdpZHRoLFxuICAgICAgICAgIG1heFdpZHRoOiB3aWR0aFxuICAgICAgICB9XG4gICAgICB9LCBUaW1lR3V0dGVySGVhZGVyICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVHdXR0ZXJIZWFkZXIsIG51bGwpKSwgcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoX3JlZiwgaWR4KSB7XG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgIGlkID0gX3JlZjJbMF0sXG4gICAgICAgICAgcmVzb3VyY2UgPSBfcmVmMlsxXTtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmJjLXRpbWUtaGVhZGVyLWNvbnRlbnRcIixcbiAgICAgICAgICBrZXk6IGlkIHx8IGlkeFxuICAgICAgICB9LCByZXNvdXJjZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1yb3cgcmJjLXJvdy1yZXNvdXJjZVwiLFxuICAgICAgICAgIGtleTogXCJyZXNvdXJjZV9cIi5jb25jYXQoaWR4KVxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1oZWFkZXJcIlxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZXNvdXJjZUhlYWRlckNvbXBvbmVudCwge1xuICAgICAgICAgIGluZGV4OiBpZHgsXG4gICAgICAgICAgbGFiZWw6IGFjY2Vzc29ycy5yZXNvdXJjZVRpdGxlKHJlc291cmNlKSxcbiAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2VcbiAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJyYmMtcm93IHJiYy10aW1lLWhlYWRlci1jZWxsXCIuY29uY2F0KHJhbmdlLmxlbmd0aCA8PSAxID8gJyByYmMtdGltZS1oZWFkZXItY2VsbC1zaW5nbGUtZGF5JyA6ICcnKVxuICAgICAgICB9LCBfdGhpczMucmVuZGVySGVhZGVyQ2VsbHMocmFuZ2UpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0ZUNvbnRlbnRSb3csIHtcbiAgICAgICAgICBpc0FsbERheTogdHJ1ZSxcbiAgICAgICAgICBydGw6IHJ0bCxcbiAgICAgICAgICBnZXROb3c6IGdldE5vdyxcbiAgICAgICAgICBtaW5Sb3dzOiAyXG4gICAgICAgICAgLy8gQWRkICsxIHRvIGluY2x1ZGUgc2hvd01vcmUgYnV0dG9uIHJvdyBpbiB0aGUgcm93IGxpbWl0XG4gICAgICAgICAgLFxuICAgICAgICAgIG1heFJvd3M6IF90aGlzMy5wcm9wcy5hbGxEYXlNYXhSb3dzICsgMSxcbiAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgZXZlbnRzOiBncm91cGVkRXZlbnRzLmdldChpZCkgfHwgW10sXG4gICAgICAgICAgcmVzb3VyY2VJZDogcmVzb3VyY2UgJiYgaWQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1hbGxkYXktY2VsbFwiLFxuICAgICAgICAgIHNlbGVjdGFibGU6IHNlbGVjdGFibGUsXG4gICAgICAgICAgc2VsZWN0ZWQ6IF90aGlzMy5wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICAgIGFjY2Vzc29yczogYWNjZXNzb3JzLFxuICAgICAgICAgIGdldHRlcnM6IGdldHRlcnMsXG4gICAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgICAgb25TZWxlY3Q6IF90aGlzMy5wcm9wcy5vblNlbGVjdEV2ZW50LFxuICAgICAgICAgIG9uU2hvd01vcmU6IF90aGlzMy5wcm9wcy5vblNob3dNb3JlLFxuICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IF90aGlzMy5wcm9wcy5vbkRvdWJsZUNsaWNrRXZlbnQsXG4gICAgICAgICAgb25LZXlEb3duOiBfdGhpczMucHJvcHMub25LZXlQcmVzc0V2ZW50LFxuICAgICAgICAgIG9uU2VsZWN0U2xvdDogX3RoaXMzLnByb3BzLm9uU2VsZWN0U2xvdCxcbiAgICAgICAgICBsb25nUHJlc3NUaHJlc2hvbGQ6IF90aGlzMy5wcm9wcy5sb25nUHJlc3NUaHJlc2hvbGQsXG4gICAgICAgICAgcmVzaXphYmxlOiByZXNpemFibGVcbiAgICAgICAgfSkpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgVGltZUdyaWRIZWFkZXJSZXNvdXJjZXMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gVGltZUdyaWRIZWFkZXJSZXNvdXJjZXMoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lR3JpZEhlYWRlclJlc291cmNlcyk7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBfdGhpcyA9IF9jYWxsU3VwZXIodGhpcywgVGltZUdyaWRIZWFkZXJSZXNvdXJjZXMsIFtdLmNvbmNhdChhcmdzKSk7XG4gICAgX3RoaXMuaGFuZGxlSGVhZGVyQ2xpY2sgPSBmdW5jdGlvbiAoZGF0ZSwgdmlldywgZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbm90aWZ5KF90aGlzLnByb3BzLm9uRHJpbGxEb3duLCBbZGF0ZSwgdmlld10pO1xuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9pbmhlcml0cyhUaW1lR3JpZEhlYWRlclJlc291cmNlcywgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoVGltZUdyaWRIZWFkZXJSZXNvdXJjZXMsIFt7XG4gICAga2V5OiBcInJlbmRlckhlYWRlckNlbGxzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckhlYWRlckNlbGxzKHJhbmdlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgZ2V0RHJpbGxkb3duVmlldyA9IF90aGlzJHByb3BzLmdldERyaWxsZG93blZpZXcsXG4gICAgICAgIGdldE5vdyA9IF90aGlzJHByb3BzLmdldE5vdyxcbiAgICAgICAgZGF5UHJvcCA9IF90aGlzJHByb3BzLmdldHRlcnMuZGF5UHJvcCxcbiAgICAgICAgX3RoaXMkcHJvcHMkY29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgX3RoaXMkcHJvcHMkY29tcG9uZW50MiA9IF90aGlzJHByb3BzJGNvbXBvbmVudC5oZWFkZXIsXG4gICAgICAgIEhlYWRlckNvbXBvbmVudCA9IF90aGlzJHByb3BzJGNvbXBvbmVudDIgPT09IHZvaWQgMCA/IEhlYWRlciA6IF90aGlzJHByb3BzJGNvbXBvbmVudDIsXG4gICAgICAgIF90aGlzJHByb3BzJGNvbXBvbmVudDMgPSBfdGhpcyRwcm9wcyRjb21wb25lbnQucmVzb3VyY2VIZWFkZXIsXG4gICAgICAgIFJlc291cmNlSGVhZGVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMkY29tcG9uZW50MyA9PT0gdm9pZCAwID8gUmVzb3VyY2VIZWFkZXIgOiBfdGhpcyRwcm9wcyRjb21wb25lbnQzLFxuICAgICAgICByZXNvdXJjZXMgPSBfdGhpcyRwcm9wcy5yZXNvdXJjZXMsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzLmFjY2Vzc29ycyxcbiAgICAgICAgZXZlbnRzID0gX3RoaXMkcHJvcHMuZXZlbnRzLFxuICAgICAgICBydGwgPSBfdGhpcyRwcm9wcy5ydGwsXG4gICAgICAgIHNlbGVjdGFibGUgPSBfdGhpcyRwcm9wcy5zZWxlY3RhYmxlLFxuICAgICAgICBjb21wb25lbnRzID0gX3RoaXMkcHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzLmdldHRlcnMsXG4gICAgICAgIHJlc2l6YWJsZSA9IF90aGlzJHByb3BzLnJlc2l6YWJsZTtcbiAgICAgIHZhciB0b2RheSA9IGdldE5vdygpO1xuICAgICAgdmFyIGdyb3VwZWRFdmVudHMgPSByZXNvdXJjZXMuZ3JvdXBFdmVudHMoZXZlbnRzKTtcbiAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGRhdGUsIGlkeCkge1xuICAgICAgICB2YXIgZHJpbGxkb3duVmlldyA9IGdldERyaWxsZG93blZpZXcoZGF0ZSk7XG4gICAgICAgIHZhciBsYWJlbCA9IGxvY2FsaXplci5mb3JtYXQoZGF0ZSwgJ2RheUZvcm1hdCcpO1xuICAgICAgICB2YXIgX2RheVByb3AgPSBkYXlQcm9wKGRhdGUpLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9kYXlQcm9wLmNsYXNzTmFtZSxcbiAgICAgICAgICBzdHlsZSA9IF9kYXlQcm9wLnN0eWxlO1xuICAgICAgICB2YXIgaGVhZGVyID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyQ29tcG9uZW50LCB7XG4gICAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAga2V5OiBpZHgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy10aW1lLWhlYWRlci1jb250ZW50IHJiYy1yZXNvdXJjZS1ncm91cGluZ1wiXG4gICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmJjLXJvdyByYmMtdGltZS1oZWFkZXItY2VsbFwiLmNvbmNhdChyYW5nZS5sZW5ndGggPD0gMSA/ICcgcmJjLXRpbWUtaGVhZGVyLWNlbGwtc2luZ2xlLWRheScgOiAnJylcbiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy1oZWFkZXInLCBjbGFzc05hbWUsIGxvY2FsaXplci5pc1NhbWVEYXRlKGRhdGUsIHRvZGF5KSAmJiAncmJjLXRvZGF5JylcbiAgICAgICAgfSwgZHJpbGxkb3duVmlldyA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYnV0dG9uLWxpbmtcIixcbiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuaGFuZGxlSGVhZGVyQ2xpY2soZGF0ZSwgZHJpbGxkb3duVmlldywgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBoZWFkZXIpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGhlYWRlcikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJyYmMtcm93XCJcbiAgICAgICAgfSwgcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoX3JlZiwgaWR4KSB7XG4gICAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICBpZCA9IF9yZWYyWzBdLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBfcmVmMlsxXTtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAga2V5OiBcInJlc291cmNlX1wiLmNvbmNhdChpZCwgXCJfXCIpLmNvbmNhdChpZHgpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtaGVhZGVyJywgY2xhc3NOYW1lLCBsb2NhbGl6ZXIuaXNTYW1lRGF0ZShkYXRlLCB0b2RheSkgJiYgJ3JiYy10b2RheScpXG4gICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVzb3VyY2VIZWFkZXJDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGluZGV4OiBpZHgsXG4gICAgICAgICAgICBsYWJlbDogYWNjZXNzb3JzLnJlc291cmNlVGl0bGUocmVzb3VyY2UpLFxuICAgICAgICAgICAgcmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmJjLXJvdyByYmMtbS1iLW5lZ2F0aXZlLTMgcmJjLWgtZnVsbFwiXG4gICAgICAgIH0sIHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKF9yZWYzLCBpZHgpIHtcbiAgICAgICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXG4gICAgICAgICAgICBpZCA9IF9yZWY0WzBdLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBfcmVmNFsxXTtcbiAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGdyb3VwZWQgZXZlbnRzIGJ5IHRoZSBjdXJyZW50IGRhdGUuXG4gICAgICAgICAgdmFyIGZpbHRlcmVkRXZlbnRzID0gKGdyb3VwZWRFdmVudHMuZ2V0KGlkKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplci5pc1NhbWVEYXRlKGV2ZW50LnN0YXJ0LCBkYXRlKSB8fCBsb2NhbGl6ZXIuaXNTYW1lRGF0ZShldmVudC5lbmQsIGRhdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEYXRlQ29udGVudFJvdywge1xuICAgICAgICAgICAga2V5OiBcInJlc291cmNlX1wiLmNvbmNhdChpZCwgXCJfXCIpLmNvbmNhdChpZHgpLFxuICAgICAgICAgICAgaXNBbGxEYXk6IHRydWUsXG4gICAgICAgICAgICBydGw6IHJ0bCxcbiAgICAgICAgICAgIGdldE5vdzogZ2V0Tm93LFxuICAgICAgICAgICAgbWluUm93czogMixcbiAgICAgICAgICAgIG1heFJvd3M6IF90aGlzMi5wcm9wcy5hbGxEYXlNYXhSb3dzICsgMSxcbiAgICAgICAgICAgIHJhbmdlOiBbZGF0ZV0gLy8gVGhpcyBlbnN1cmVzIHRoYXQgb25seSB0aGUgc2luZ2xlIGRheSBpcyByZW5kZXJlZFxuICAgICAgICAgICAgLFxuICAgICAgICAgICAgZXZlbnRzOiBmaWx0ZXJlZEV2ZW50cyAvLyBPbmx5IHNob3cgZmlsdGVyZWQgZXZlbnRzIGZvciB0aGlzIGRheS5cbiAgICAgICAgICAgICxcbiAgICAgICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlICYmIGlkLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1hbGxkYXktY2VsbFwiLFxuICAgICAgICAgICAgc2VsZWN0YWJsZTogc2VsZWN0YWJsZSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBfdGhpczIucHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICAgICAgYWNjZXNzb3JzOiBhY2Nlc3NvcnMsXG4gICAgICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgICAgICBvblNlbGVjdDogX3RoaXMyLnByb3BzLm9uU2VsZWN0RXZlbnQsXG4gICAgICAgICAgICBvblNob3dNb3JlOiBfdGhpczIucHJvcHMub25TaG93TW9yZSxcbiAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IF90aGlzMi5wcm9wcy5vbkRvdWJsZUNsaWNrRXZlbnQsXG4gICAgICAgICAgICBvbktleURvd246IF90aGlzMi5wcm9wcy5vbktleVByZXNzRXZlbnQsXG4gICAgICAgICAgICBvblNlbGVjdFNsb3Q6IF90aGlzMi5wcm9wcy5vblNlbGVjdFNsb3QsXG4gICAgICAgICAgICBsb25nUHJlc3NUaHJlc2hvbGQ6IF90aGlzMi5wcm9wcy5sb25nUHJlc3NUaHJlc2hvbGQsXG4gICAgICAgICAgICByZXNpemFibGU6IHJlc2l6YWJsZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczIud2lkdGgsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzMi5ydGwsXG4gICAgICAgIHJhbmdlID0gX3RoaXMkcHJvcHMyLnJhbmdlLFxuICAgICAgICBzY3JvbGxSZWYgPSBfdGhpcyRwcm9wczIuc2Nyb2xsUmVmLFxuICAgICAgICBpc092ZXJmbG93aW5nID0gX3RoaXMkcHJvcHMyLmlzT3ZlcmZsb3dpbmcsXG4gICAgICAgIFRpbWVHdXR0ZXJIZWFkZXIgPSBfdGhpcyRwcm9wczIuY29tcG9uZW50cy50aW1lR3V0dGVySGVhZGVyO1xuICAgICAgdmFyIHN0eWxlID0ge307XG4gICAgICBpZiAoaXNPdmVyZmxvd2luZykge1xuICAgICAgICBzdHlsZVtydGwgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnXSA9IFwiXCIuY29uY2F0KHNjcm9sbGJhclNpemUoKSAtIDEsIFwicHhcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHJlZjogc2Nyb2xsUmVmLFxuICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy10aW1lLWhlYWRlcicsIGlzT3ZlcmZsb3dpbmcgJiYgJ3JiYy1vdmVyZmxvd2luZycpXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtbGFiZWwgcmJjLXRpbWUtaGVhZGVyLWd1dHRlclwiLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBtaW5XaWR0aDogd2lkdGgsXG4gICAgICAgICAgbWF4V2lkdGg6IHdpZHRoXG4gICAgICAgIH1cbiAgICAgIH0sIFRpbWVHdXR0ZXJIZWFkZXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZUd1dHRlckhlYWRlciwgbnVsbCkpLCB0aGlzLnJlbmRlckhlYWRlckNlbGxzKHJhbmdlKSk7XG4gICAgfVxuICB9XSk7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbi8qKlxuICogU2luY2UgdGhlIFRpbWVHdXR0ZXIgb25seSBkaXNwbGF5cyB0aGUgJ3RpbWVzJyBvZiBzbG90cyBpbiBhIGRheSwgYW5kIGlzIHNlcGFyYXRlXG4gKiBmcm9tIHRoZSBEYXkgQ29sdW1ucyB0aGVtc2VsdmVzLCB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIHJhbmdlIGNvbnRhaW5zIGFuIG9mZnNldCBkaWZmZXJlbmNlXG4gKiBhbmQsIGlmIHNvLCBjaGFuZ2UgdGhlIGJlZ2lubmluZyBhbmQgZW5kICdkYXRlJyBieSBhIGRheSB0byBwcm9wZXJseSBkaXNwbGF5IHRoZSBzbG90cyB0aW1lc1xuICogdXNlZC5cbiAqL1xuZnVuY3Rpb24gYWRqdXN0Rm9yRFNUKF9yZWYpIHtcbiAgdmFyIG1pbiA9IF9yZWYubWluLFxuICAgIG1heCA9IF9yZWYubWF4LFxuICAgIGxvY2FsaXplciA9IF9yZWYubG9jYWxpemVyO1xuICBpZiAobG9jYWxpemVyLmdldFRpbWV6b25lT2Zmc2V0KG1pbikgIT09IGxvY2FsaXplci5nZXRUaW1lem9uZU9mZnNldChtYXgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBsb2NhbGl6ZXIuYWRkKG1pbiwgLTEsICdkYXknKSxcbiAgICAgIGVuZDogbG9jYWxpemVyLmFkZChtYXgsIC0xLCAnZGF5JylcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IG1pbixcbiAgICBlbmQ6IG1heFxuICB9O1xufVxudmFyIFRpbWVHdXR0ZXIgPSBmdW5jdGlvbiBUaW1lR3V0dGVyKF9yZWYyKSB7XG4gIHZhciBtaW4gPSBfcmVmMi5taW4sXG4gICAgbWF4ID0gX3JlZjIubWF4LFxuICAgIHRpbWVzbG90cyA9IF9yZWYyLnRpbWVzbG90cyxcbiAgICBzdGVwID0gX3JlZjIuc3RlcCxcbiAgICBsb2NhbGl6ZXIgPSBfcmVmMi5sb2NhbGl6ZXIsXG4gICAgZ2V0Tm93ID0gX3JlZjIuZ2V0Tm93LFxuICAgIHJlc291cmNlID0gX3JlZjIucmVzb3VyY2UsXG4gICAgY29tcG9uZW50cyA9IF9yZWYyLmNvbXBvbmVudHMsXG4gICAgZ2V0dGVycyA9IF9yZWYyLmdldHRlcnMsXG4gICAgZ3V0dGVyUmVmID0gX3JlZjIuZ3V0dGVyUmVmO1xuICB2YXIgVGltZUd1dHRlcldyYXBwZXIgPSBjb21wb25lbnRzLnRpbWVHdXR0ZXJXcmFwcGVyO1xuICB2YXIgX3VzZU1lbW8gPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhZGp1c3RGb3JEU1Qoe1xuICAgICAgICBtaW46IG1pbixcbiAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbbWluID09PSBudWxsIHx8IG1pbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWluLnRvSVNPU3RyaW5nKCksIG1heCA9PT0gbnVsbCB8fCBtYXggPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1heC50b0lTT1N0cmluZygpLCBsb2NhbGl6ZXJdKSxcbiAgICBzdGFydCA9IF91c2VNZW1vLnN0YXJ0LFxuICAgIGVuZCA9IF91c2VNZW1vLmVuZDtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGdldFNsb3RNZXRyaWNzKHtcbiAgICAgIG1pbjogc3RhcnQsXG4gICAgICBtYXg6IGVuZCxcbiAgICAgIHRpbWVzbG90czogdGltZXNsb3RzLFxuICAgICAgc3RlcDogc3RlcCxcbiAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgfSkpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHNsb3RNZXRyaWNzID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRTbG90TWV0cmljcyA9IF91c2VTdGF0ZTJbMV07XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHNsb3RNZXRyaWNzKSB7XG4gICAgICBzZXRTbG90TWV0cmljcyhzbG90TWV0cmljcy51cGRhdGUoe1xuICAgICAgICBtaW46IHN0YXJ0LFxuICAgICAgICBtYXg6IGVuZCxcbiAgICAgICAgdGltZXNsb3RzOiB0aW1lc2xvdHMsXG4gICAgICAgIHN0ZXA6IHN0ZXAsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IHdhbnQgdGhpcyB0byBmaXJlIHdoZW4gc2xvdE1ldHJpY3MgaXMgdXBkYXRlZCBhcyBpdCB3b3VsZCByZWN1cnNpdmVseSBib21iXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbc3RhcnQgPT09IG51bGwgfHwgc3RhcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXJ0LnRvSVNPU3RyaW5nKCksIGVuZCA9PT0gbnVsbCB8fCBlbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVuZC50b0lTT1N0cmluZygpLCB0aW1lc2xvdHMsIHN0ZXBdKTtcbiAgdmFyIHJlbmRlclNsb3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUsIGlkeCkge1xuICAgIGlmIChpZHgpIHJldHVybiBudWxsOyAvLyBkb24ndCByZXR1cm4gdGhlIGZpcnN0ICgwKSBpZHhcblxuICAgIHZhciBpc05vdyA9IHNsb3RNZXRyaWNzLmRhdGVJc0luR3JvdXAoZ2V0Tm93KCksIGlkeCk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsc3goJ3JiYy1sYWJlbCcsIGlzTm93ICYmICdyYmMtbm93JylcbiAgICB9LCBsb2NhbGl6ZXIuZm9ybWF0KHZhbHVlLCAndGltZUd1dHRlckZvcm1hdCcpKTtcbiAgfSwgW3Nsb3RNZXRyaWNzLCBsb2NhbGl6ZXIsIGdldE5vd10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZUd1dHRlcldyYXBwZXIsIHtcbiAgICBzbG90TWV0cmljczogc2xvdE1ldHJpY3NcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyYmMtdGltZS1ndXR0ZXIgcmJjLXRpbWUtY29sdW1uXCIsXG4gICAgcmVmOiBndXR0ZXJSZWZcbiAgfSwgc2xvdE1ldHJpY3MuZ3JvdXBzLm1hcChmdW5jdGlvbiAoZ3JwLCBpZHgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZVNsb3RHcm91cCwge1xuICAgICAga2V5OiBpZHgsXG4gICAgICBncm91cDogZ3JwLFxuICAgICAgcmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgIHJlbmRlclNsb3Q6IHJlbmRlclNsb3QsXG4gICAgICBnZXR0ZXJzOiBnZXR0ZXJzXG4gICAgfSk7XG4gIH0pKSk7XG59O1xudmFyIFRpbWVHdXR0ZXIkMSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lR3V0dGVyLCBPYmplY3QuYXNzaWduKHtcbiAgICBndXR0ZXJSZWY6IHJlZlxuICB9LCBwcm9wcykpO1xufSk7XG5cbnZhciBOT05FID0ge307XG5mdW5jdGlvbiBSZXNvdXJjZXMocmVzb3VyY2VzLCBhY2Nlc3NvcnMpIHtcbiAgcmV0dXJuIHtcbiAgICBtYXA6IGZ1bmN0aW9uIG1hcChmbikge1xuICAgICAgaWYgKCFyZXNvdXJjZXMpIHJldHVybiBbZm4oW05PTkUsIG51bGxdLCAwKV07XG4gICAgICByZXR1cm4gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAocmVzb3VyY2UsIGlkeCkge1xuICAgICAgICByZXR1cm4gZm4oW2FjY2Vzc29ycy5yZXNvdXJjZUlkKHJlc291cmNlKSwgcmVzb3VyY2VdLCBpZHgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBncm91cEV2ZW50czogZnVuY3Rpb24gZ3JvdXBFdmVudHMoZXZlbnRzKSB7XG4gICAgICB2YXIgZXZlbnRzQnlSZXNvdXJjZSA9IG5ldyBNYXAoKTtcbiAgICAgIGlmICghcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vIFJldHVybiBhbGwgZXZlbnRzIGlmIHJlc291cmNlcyBhcmUgbm90IHByb3ZpZGVkXG4gICAgICAgIGV2ZW50c0J5UmVzb3VyY2Uuc2V0KE5PTkUsIGV2ZW50cyk7XG4gICAgICAgIHJldHVybiBldmVudHNCeVJlc291cmNlO1xuICAgICAgfVxuICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpZCA9IGFjY2Vzc29ycy5yZXNvdXJjZShldmVudCkgfHwgTk9ORTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaWQpKSB7XG4gICAgICAgICAgaWQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIHJlc291cmNlRXZlbnRzID0gZXZlbnRzQnlSZXNvdXJjZS5nZXQoaXRlbSkgfHwgW107XG4gICAgICAgICAgICByZXNvdXJjZUV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50c0J5UmVzb3VyY2Uuc2V0KGl0ZW0sIHJlc291cmNlRXZlbnRzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVzb3VyY2VFdmVudHMgPSBldmVudHNCeVJlc291cmNlLmdldChpZCkgfHwgW107XG4gICAgICAgICAgcmVzb3VyY2VFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgZXZlbnRzQnlSZXNvdXJjZS5zZXQoaWQsIHJlc291cmNlRXZlbnRzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZXZlbnRzQnlSZXNvdXJjZTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBUaW1lR3JpZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBmdW5jdGlvbiBUaW1lR3JpZChwcm9wcykge1xuICAgIHZhciBfdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZUdyaWQpO1xuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBUaW1lR3JpZCwgW3Byb3BzXSk7XG4gICAgX3RoaXMuaGFuZGxlU2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5zY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgICBfdGhpcy5zY3JvbGxSZWYuY3VycmVudC5zY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZVJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGFuaW1hdGlvbkZyYW1lLmNhbmNlbChfdGhpcy5yYWZIYW5kbGUpO1xuICAgICAgX3RoaXMucmFmSGFuZGxlID0gYW5pbWF0aW9uRnJhbWUucmVxdWVzdChfdGhpcy5jaGVja092ZXJmbG93KTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUtleVByZXNzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25LZXlQcmVzc0V2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZVNlbGVjdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9jYW5jZWwgYW55IHBlbmRpbmcgc2VsZWN0aW9ucyBzbyBvbmx5IHRoZSBldmVudCBjbGljayBnb2VzIHRocm91Z2guXG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cbiAgICAgIG5vdGlmeShfdGhpcy5wcm9wcy5vblNlbGVjdEV2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZURvdWJsZUNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cbiAgICAgIG5vdGlmeShfdGhpcy5wcm9wcy5vbkRvdWJsZUNsaWNrRXZlbnQsIGFyZ3MpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2hvd01vcmUgPSBmdW5jdGlvbiAoZXZlbnRzLCBkYXRlLCBjZWxsLCBzbG90LCB0YXJnZXQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICBwb3B1cCA9IF90aGlzJHByb3BzLnBvcHVwLFxuICAgICAgICBvbkRyaWxsRG93biA9IF90aGlzJHByb3BzLm9uRHJpbGxEb3duLFxuICAgICAgICBvblNob3dNb3JlID0gX3RoaXMkcHJvcHMub25TaG93TW9yZSxcbiAgICAgICAgZ2V0RHJpbGxkb3duVmlldyA9IF90aGlzJHByb3BzLmdldERyaWxsZG93blZpZXcsXG4gICAgICAgIGRvU2hvd01vcmVEcmlsbERvd24gPSBfdGhpcyRwcm9wcy5kb1Nob3dNb3JlRHJpbGxEb3duO1xuICAgICAgX3RoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRQb3NpdGlvbiQxKGNlbGwsIF90aGlzLmNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICBldmVudHM6IGV2ZW50cyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBvc2l0aW9uKSwge30sIHtcbiAgICAgICAgICAgICAgd2lkdGg6ICcyMDBweCdcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkb1Nob3dNb3JlRHJpbGxEb3duKSB7XG4gICAgICAgIG5vdGlmeShvbkRyaWxsRG93biwgW2RhdGUsIGdldERyaWxsZG93blZpZXcoZGF0ZSkgfHwgdmlld3MuREFZXSk7XG4gICAgICB9XG4gICAgICBub3RpZnkob25TaG93TW9yZSwgW2V2ZW50cywgZGF0ZSwgc2xvdF0pO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2VsZWN0QWxsRGF5U2xvdCA9IGZ1bmN0aW9uIChzbG90cywgc2xvdEluZm8pIHtcbiAgICAgIHZhciBvblNlbGVjdFNsb3QgPSBfdGhpcy5wcm9wcy5vblNlbGVjdFNsb3Q7XG4gICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZShzbG90c1swXSk7XG4gICAgICB2YXIgZW5kID0gbmV3IERhdGUoc2xvdHNbc2xvdHMubGVuZ3RoIC0gMV0pO1xuICAgICAgZW5kLnNldERhdGUoc2xvdHNbc2xvdHMubGVuZ3RoIC0gMV0uZ2V0RGF0ZSgpICsgMSk7XG4gICAgICBub3RpZnkob25TZWxlY3RTbG90LCB7XG4gICAgICAgIHNsb3RzOiBzbG90cyxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgYWN0aW9uOiBzbG90SW5mby5hY3Rpb24sXG4gICAgICAgIHJlc291cmNlSWQ6IHNsb3RJbmZvLnJlc291cmNlSWRcbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXMub3ZlcmxheURpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG92ZXJsYXk6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG4gICAgX3RoaXMuY2hlY2tPdmVyZmxvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5fdXBkYXRpbmdPdmVyZmxvdykgcmV0dXJuO1xuICAgICAgdmFyIGNvbnRlbnQgPSBfdGhpcy5jb250ZW50UmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIShjb250ZW50ICE9PSBudWxsICYmIGNvbnRlbnQgIT09IHZvaWQgMCAmJiBjb250ZW50LnNjcm9sbEhlaWdodCkpIHJldHVybjtcbiAgICAgIHZhciBpc092ZXJmbG93aW5nID0gY29udGVudC5zY3JvbGxIZWlnaHQgPiBjb250ZW50LmNsaWVudEhlaWdodDtcbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5pc092ZXJmbG93aW5nICE9PSBpc092ZXJmbG93aW5nKSB7XG4gICAgICAgIF90aGlzLl91cGRhdGluZ092ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzT3ZlcmZsb3dpbmc6IGlzT3ZlcmZsb3dpbmdcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLl91cGRhdGluZ092ZXJmbG93ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMubWVtb2l6ZWRSZXNvdXJjZXMgPSBtZW1vaXplKGZ1bmN0aW9uIChyZXNvdXJjZXMsIGFjY2Vzc29ycykge1xuICAgICAgcmV0dXJuIFJlc291cmNlcyhyZXNvdXJjZXMsIGFjY2Vzc29ycyk7XG4gICAgfSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBndXR0ZXJXaWR0aDogdW5kZWZpbmVkLFxuICAgICAgaXNPdmVyZmxvd2luZzogbnVsbFxuICAgIH07XG4gICAgX3RoaXMuc2Nyb2xsUmVmID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpO1xuICAgIF90aGlzLmNvbnRlbnRSZWYgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgX3RoaXMuY29udGFpbmVyUmVmID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZVJlZigpO1xuICAgIF90aGlzLl9zY3JvbGxSYXRpbyA9IG51bGw7XG4gICAgX3RoaXMuZ3V0dGVyUmVmID0gLyojX19QVVJFX18qL2NyZWF0ZVJlZigpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBfaW5oZXJpdHMoVGltZUdyaWQsIF9Db21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKFRpbWVHcmlkLCBbe1xuICAgIGtleTogXCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuY2hlY2tPdmVyZmxvdygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGggPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1lYXN1cmVHdXR0ZXIoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsY3VsYXRlU2Nyb2xsKCk7XG4gICAgICB0aGlzLmFwcGx5U2Nyb2xsKCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG4gICAgICBhbmltYXRpb25GcmFtZS5jYW5jZWwodGhpcy5yYWZIYW5kbGUpO1xuICAgICAgaWYgKHRoaXMubWVhc3VyZUd1dHRlckFuaW1hdGlvbkZyYW1lUmVxdWVzdCkge1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlR3V0dGVyQW5pbWF0aW9uRnJhbWVSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuYXBwbHlTY3JvbGwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyRGF5Q29sdW1uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckRheUNvbHVtbihkYXRlLCBpZCwgcmVzb3VyY2UsIGdyb3VwZWRFdmVudHMsIGdyb3VwZWRCYWNrZ3JvdW5kRXZlbnRzLCBsb2NhbGl6ZXIsIGFjY2Vzc29ycywgY29tcG9uZW50cywgZGF5TGF5b3V0QWxnb3JpdGhtLCBub3cpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wczIubWluLFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wczIubWF4O1xuICAgICAgdmFyIGRheXNFdmVudHMgPSAoZ3JvdXBlZEV2ZW50cy5nZXQoaWQpIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZXIuaW5SYW5nZShkYXRlLCBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpLCBhY2Nlc3NvcnMuZW5kKGV2ZW50KSwgJ2RheScpO1xuICAgICAgfSk7XG4gICAgICB2YXIgZGF5c0JhY2tncm91bmRFdmVudHMgPSAoZ3JvdXBlZEJhY2tncm91bmRFdmVudHMuZ2V0KGlkKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gbG9jYWxpemVyLmluUmFuZ2UoZGF0ZSwgYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KSwgYWNjZXNzb3JzLmVuZChldmVudCksICdkYXknKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERheUNvbHVtbiwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcywge1xuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgbWluOiBsb2NhbGl6ZXIubWVyZ2UoZGF0ZSwgbWluKSxcbiAgICAgICAgbWF4OiBsb2NhbGl6ZXIubWVyZ2UoZGF0ZSwgbWF4KSxcbiAgICAgICAgcmVzb3VyY2U6IHJlc291cmNlICYmIGlkLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBpc05vdzogbG9jYWxpemVyLmlzU2FtZURhdGUoZGF0ZSwgbm93KSxcbiAgICAgICAga2V5OiBcIlwiLmNvbmNhdChpZCwgXCItXCIpLmNvbmNhdChkYXRlKSxcbiAgICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgICAgZXZlbnRzOiBkYXlzRXZlbnRzLFxuICAgICAgICBiYWNrZ3JvdW5kRXZlbnRzOiBkYXlzQmFja2dyb3VuZEV2ZW50cyxcbiAgICAgICAgZGF5TGF5b3V0QWxnb3JpdGhtOiBkYXlMYXlvdXRBbGdvcml0aG1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUmVzb3VyY2VzRmlyc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUmVzb3VyY2VzRmlyc3QocmFuZ2UsIHJlc291cmNlcywgZ3JvdXBlZEV2ZW50cywgZ3JvdXBlZEJhY2tncm91bmRFdmVudHMsIGxvY2FsaXplciwgYWNjZXNzb3JzLCBub3csIGNvbXBvbmVudHMsIGRheUxheW91dEFsZ29yaXRobSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICBpZCA9IF9yZWYyWzBdLFxuICAgICAgICAgIHJlc291cmNlID0gX3JlZjJbMV07XG4gICAgICAgIHJldHVybiByYW5nZS5tYXAoZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbmRlckRheUNvbHVtbihkYXRlLCBpZCwgcmVzb3VyY2UsIGdyb3VwZWRFdmVudHMsIGdyb3VwZWRCYWNrZ3JvdW5kRXZlbnRzLCBsb2NhbGl6ZXIsIGFjY2Vzc29ycywgY29tcG9uZW50cywgZGF5TGF5b3V0QWxnb3JpdGhtLCBub3cpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJSYW5nZUZpcnN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclJhbmdlRmlyc3QocmFuZ2UsIHJlc291cmNlcywgZ3JvdXBlZEV2ZW50cywgZ3JvdXBlZEJhY2tncm91bmRFdmVudHMsIGxvY2FsaXplciwgYWNjZXNzb3JzLCBub3csIGNvbXBvbmVudHMsIGRheUxheW91dEFsZ29yaXRobSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgICByZXR1cm4gcmFuZ2UubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIG1pbkhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgZmxleDogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5OiBkYXRlXG4gICAgICAgIH0sIHJlc291cmNlcy5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLFxuICAgICAgICAgICAgaWQgPSBfcmVmNFswXSxcbiAgICAgICAgICAgIHJlc291cmNlID0gX3JlZjRbMV07XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGZsZXg6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6IGFjY2Vzc29ycy5yZXNvdXJjZUlkKHJlc291cmNlKVxuICAgICAgICAgIH0sIF90aGlzMy5yZW5kZXJEYXlDb2x1bW4oZGF0ZSwgaWQsIHJlc291cmNlLCBncm91cGVkRXZlbnRzLCBncm91cGVkQmFja2dyb3VuZEV2ZW50cywgbG9jYWxpemVyLCBhY2Nlc3NvcnMsIGNvbXBvbmVudHMsIGRheUxheW91dEFsZ29yaXRobSwgbm93KSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJFdmVudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRXZlbnRzKHJhbmdlLCBldmVudHMsIGJhY2tncm91bmRFdmVudHMsIG5vdykge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzMy5hY2Nlc3NvcnMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMy5sb2NhbGl6ZXIsXG4gICAgICAgIHJlc291cmNlR3JvdXBpbmdMYXlvdXQgPSBfdGhpcyRwcm9wczMucmVzb3VyY2VHcm91cGluZ0xheW91dCxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHByb3BzMy5jb21wb25lbnRzLFxuICAgICAgICBkYXlMYXlvdXRBbGdvcml0aG0gPSBfdGhpcyRwcm9wczMuZGF5TGF5b3V0QWxnb3JpdGhtO1xuICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMubWVtb2l6ZWRSZXNvdXJjZXModGhpcy5wcm9wcy5yZXNvdXJjZXMsIGFjY2Vzc29ycyk7XG4gICAgICB2YXIgZ3JvdXBlZEV2ZW50cyA9IHJlc291cmNlcy5ncm91cEV2ZW50cyhldmVudHMpO1xuICAgICAgdmFyIGdyb3VwZWRCYWNrZ3JvdW5kRXZlbnRzID0gcmVzb3VyY2VzLmdyb3VwRXZlbnRzKGJhY2tncm91bmRFdmVudHMpO1xuICAgICAgaWYgKCFyZXNvdXJjZUdyb3VwaW5nTGF5b3V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJlc291cmNlc0ZpcnN0KHJhbmdlLCByZXNvdXJjZXMsIGdyb3VwZWRFdmVudHMsIGdyb3VwZWRCYWNrZ3JvdW5kRXZlbnRzLCBsb2NhbGl6ZXIsIGFjY2Vzc29ycywgbm93LCBjb21wb25lbnRzLCBkYXlMYXlvdXRBbGdvcml0aG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUmFuZ2VGaXJzdChyYW5nZSwgcmVzb3VyY2VzLCBncm91cGVkRXZlbnRzLCBncm91cGVkQmFja2dyb3VuZEV2ZW50cywgbG9jYWxpemVyLCBhY2Nlc3NvcnMsIG5vdywgY29tcG9uZW50cywgZGF5TGF5b3V0QWxnb3JpdGhtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyRhbGxEYXlNYXg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZXZlbnRzID0gX3RoaXMkcHJvcHM0LmV2ZW50cyxcbiAgICAgICAgYmFja2dyb3VuZEV2ZW50cyA9IF90aGlzJHByb3BzNC5iYWNrZ3JvdW5kRXZlbnRzLFxuICAgICAgICByYW5nZSA9IF90aGlzJHByb3BzNC5yYW5nZSxcbiAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczQud2lkdGgsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzNC5ydGwsXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHM0LnNlbGVjdGVkLFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wczQuZ2V0Tm93LFxuICAgICAgICByZXNvdXJjZXMgPSBfdGhpcyRwcm9wczQucmVzb3VyY2VzLFxuICAgICAgICBjb21wb25lbnRzID0gX3RoaXMkcHJvcHM0LmNvbXBvbmVudHMsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzNC5hY2Nlc3NvcnMsXG4gICAgICAgIGdldHRlcnMgPSBfdGhpcyRwcm9wczQuZ2V0dGVycyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM0LmxvY2FsaXplcixcbiAgICAgICAgbWluID0gX3RoaXMkcHJvcHM0Lm1pbixcbiAgICAgICAgbWF4ID0gX3RoaXMkcHJvcHM0Lm1heCxcbiAgICAgICAgc2hvd011bHRpRGF5VGltZXMgPSBfdGhpcyRwcm9wczQuc2hvd011bHRpRGF5VGltZXMsXG4gICAgICAgIGxvbmdQcmVzc1RocmVzaG9sZCA9IF90aGlzJHByb3BzNC5sb25nUHJlc3NUaHJlc2hvbGQsXG4gICAgICAgIHJlc2l6YWJsZSA9IF90aGlzJHByb3BzNC5yZXNpemFibGUsXG4gICAgICAgIHJlc291cmNlR3JvdXBpbmdMYXlvdXQgPSBfdGhpcyRwcm9wczQucmVzb3VyY2VHcm91cGluZ0xheW91dDtcbiAgICAgIHdpZHRoID0gd2lkdGggfHwgdGhpcy5zdGF0ZS5ndXR0ZXJXaWR0aDtcbiAgICAgIHZhciBzdGFydCA9IHJhbmdlWzBdLFxuICAgICAgICBlbmQgPSByYW5nZVtyYW5nZS5sZW5ndGggLSAxXTtcbiAgICAgIHRoaXMuc2xvdHMgPSByYW5nZS5sZW5ndGg7XG4gICAgICB2YXIgYWxsRGF5RXZlbnRzID0gW10sXG4gICAgICAgIHJhbmdlRXZlbnRzID0gW10sXG4gICAgICAgIHJhbmdlQmFja2dyb3VuZEV2ZW50cyA9IFtdO1xuICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChpblJhbmdlKGV2ZW50LCBzdGFydCwgZW5kLCBhY2Nlc3NvcnMsIGxvY2FsaXplcikpIHtcbiAgICAgICAgICB2YXIgZVN0YXJ0ID0gYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KSxcbiAgICAgICAgICAgIGVFbmQgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgICAgICAgICBpZiAoYWNjZXNzb3JzLmFsbERheShldmVudCkgfHwgbG9jYWxpemVyLnN0YXJ0QW5kRW5kQXJlRGF0ZU9ubHkoZVN0YXJ0LCBlRW5kKSB8fCAhc2hvd011bHRpRGF5VGltZXMgJiYgIWxvY2FsaXplci5pc1NhbWVEYXRlKGVTdGFydCwgZUVuZCkpIHtcbiAgICAgICAgICAgIGFsbERheUV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2VFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJhY2tncm91bmRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGluUmFuZ2UoZXZlbnQsIHN0YXJ0LCBlbmQsIGFjY2Vzc29ycywgbG9jYWxpemVyKSkge1xuICAgICAgICAgIHJhbmdlQmFja2dyb3VuZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhbGxEYXlFdmVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gc29ydEV2ZW50cyhhLCBiLCBhY2Nlc3NvcnMsIGxvY2FsaXplcik7XG4gICAgICB9KTtcbiAgICAgIHZhciBoZWFkZXJQcm9wcyA9IHtcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICBldmVudHM6IGFsbERheUV2ZW50cyxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBydGw6IHJ0bCxcbiAgICAgICAgZ2V0Tm93OiBnZXROb3csXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgIGFsbERheU1heFJvd3M6IHRoaXMucHJvcHMuc2hvd0FsbEV2ZW50cyA/IEluZmluaXR5IDogKF90aGlzJHByb3BzJGFsbERheU1heCA9IHRoaXMucHJvcHMuYWxsRGF5TWF4Um93cykgIT09IG51bGwgJiYgX3RoaXMkcHJvcHMkYWxsRGF5TWF4ICE9PSB2b2lkIDAgPyBfdGhpcyRwcm9wcyRhbGxEYXlNYXggOiBJbmZpbml0eSxcbiAgICAgICAgcmVzb3VyY2VzOiB0aGlzLm1lbW9pemVkUmVzb3VyY2VzKHJlc291cmNlcywgYWNjZXNzb3JzKSxcbiAgICAgICAgc2VsZWN0YWJsZTogdGhpcy5wcm9wcy5zZWxlY3RhYmxlLFxuICAgICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgICAgc2Nyb2xsUmVmOiB0aGlzLnNjcm9sbFJlZixcbiAgICAgICAgaXNPdmVyZmxvd2luZzogdGhpcy5zdGF0ZS5pc092ZXJmbG93aW5nLFxuICAgICAgICBsb25nUHJlc3NUaHJlc2hvbGQ6IGxvbmdQcmVzc1RocmVzaG9sZCxcbiAgICAgICAgb25TZWxlY3RTbG90OiB0aGlzLmhhbmRsZVNlbGVjdEFsbERheVNsb3QsXG4gICAgICAgIG9uU2VsZWN0RXZlbnQ6IHRoaXMuaGFuZGxlU2VsZWN0RXZlbnQsXG4gICAgICAgIG9uU2hvd01vcmU6IHRoaXMuaGFuZGxlU2hvd01vcmUsXG4gICAgICAgIG9uRG91YmxlQ2xpY2tFdmVudDogdGhpcy5wcm9wcy5vbkRvdWJsZUNsaWNrRXZlbnQsXG4gICAgICAgIG9uS2V5UHJlc3NFdmVudDogdGhpcy5wcm9wcy5vbktleVByZXNzRXZlbnQsXG4gICAgICAgIG9uRHJpbGxEb3duOiB0aGlzLnByb3BzLm9uRHJpbGxEb3duLFxuICAgICAgICBnZXREcmlsbGRvd25WaWV3OiB0aGlzLnByb3BzLmdldERyaWxsZG93blZpZXcsXG4gICAgICAgIHJlc2l6YWJsZTogcmVzaXphYmxlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbHN4KCdyYmMtdGltZS12aWV3JywgcmVzb3VyY2VzICYmICdyYmMtdGltZS12aWV3LXJlc291cmNlcycpLFxuICAgICAgICByZWY6IHRoaXMuY29udGFpbmVyUmVmXG4gICAgICB9LCByZXNvdXJjZXMgJiYgcmVzb3VyY2VzLmxlbmd0aCA+IDEgJiYgcmVzb3VyY2VHcm91cGluZ0xheW91dCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVHcmlkSGVhZGVyUmVzb3VyY2VzLCBoZWFkZXJQcm9wcykgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lR3JpZEhlYWRlciwgaGVhZGVyUHJvcHMpLCB0aGlzLnByb3BzLnBvcHVwICYmIHRoaXMucmVuZGVyT3ZlcmxheSgpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIHJlZjogdGhpcy5jb250ZW50UmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXRpbWUtY29udGVudFwiLFxuICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVTY3JvbGxcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVHdXR0ZXIkMSwge1xuICAgICAgICBkYXRlOiBzdGFydCxcbiAgICAgICAgcmVmOiB0aGlzLmd1dHRlclJlZixcbiAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgIG1pbjogbG9jYWxpemVyLm1lcmdlKHN0YXJ0LCBtaW4pLFxuICAgICAgICBtYXg6IGxvY2FsaXplci5tZXJnZShzdGFydCwgbWF4KSxcbiAgICAgICAgc3RlcDogdGhpcy5wcm9wcy5zdGVwLFxuICAgICAgICBnZXROb3c6IHRoaXMucHJvcHMuZ2V0Tm93LFxuICAgICAgICB0aW1lc2xvdHM6IHRoaXMucHJvcHMudGltZXNsb3RzLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBjbGFzc05hbWU6IFwicmJjLXRpbWUtZ3V0dGVyXCIsXG4gICAgICAgIGdldHRlcnM6IGdldHRlcnNcbiAgICAgIH0pLCB0aGlzLnJlbmRlckV2ZW50cyhyYW5nZSwgcmFuZ2VFdmVudHMsIHJhbmdlQmFja2dyb3VuZEV2ZW50cywgZ2V0Tm93KCkpKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlck92ZXJsYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyT3ZlcmxheSgpIHtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSRvdmVybGF5LFxuICAgICAgICBfdGhpcyRzdGF0ZSxcbiAgICAgICAgX3RoaXM0ID0gdGhpcztcbiAgICAgIHZhciBvdmVybGF5ID0gKF90aGlzJHN0YXRlJG92ZXJsYXkgPSAoX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlKSA9PT0gbnVsbCB8fCBfdGhpcyRzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkc3RhdGUub3ZlcmxheSkgIT09IG51bGwgJiYgX3RoaXMkc3RhdGUkb3ZlcmxheSAhPT0gdm9pZCAwID8gX3RoaXMkc3RhdGUkb3ZlcmxheSA6IHt9O1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzNS5hY2Nlc3NvcnMsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzNS5sb2NhbGl6ZXIsXG4gICAgICAgIGNvbXBvbmVudHMgPSBfdGhpcyRwcm9wczUuY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzNS5nZXR0ZXJzLFxuICAgICAgICBzZWxlY3RlZCA9IF90aGlzJHByb3BzNS5zZWxlY3RlZCxcbiAgICAgICAgcG9wdXBPZmZzZXQgPSBfdGhpcyRwcm9wczUucG9wdXBPZmZzZXQsXG4gICAgICAgIGhhbmRsZURyYWdTdGFydCA9IF90aGlzJHByb3BzNS5oYW5kbGVEcmFnU3RhcnQ7XG4gICAgICB2YXIgb25IaWRlID0gZnVuY3Rpb24gb25IaWRlKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM0LnNldFN0YXRlKHtcbiAgICAgICAgICBvdmVybGF5OiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3BPdmVybGF5LCB7XG4gICAgICAgIG92ZXJsYXk6IG92ZXJsYXksXG4gICAgICAgIGFjY2Vzc29yczogYWNjZXNzb3JzLFxuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVyczogZ2V0dGVycyxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBwb3B1cE9mZnNldDogcG9wdXBPZmZzZXQsXG4gICAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWYsXG4gICAgICAgIGhhbmRsZUtleVByZXNzRXZlbnQ6IHRoaXMuaGFuZGxlS2V5UHJlc3NFdmVudCxcbiAgICAgICAgaGFuZGxlU2VsZWN0RXZlbnQ6IHRoaXMuaGFuZGxlU2VsZWN0RXZlbnQsXG4gICAgICAgIGhhbmRsZURvdWJsZUNsaWNrRXZlbnQ6IHRoaXMuaGFuZGxlRG91YmxlQ2xpY2tFdmVudCxcbiAgICAgICAgaGFuZGxlRHJhZ1N0YXJ0OiBoYW5kbGVEcmFnU3RhcnQsXG4gICAgICAgIHNob3c6ICEhb3ZlcmxheS5wb3NpdGlvbixcbiAgICAgICAgb3ZlcmxheURpc3BsYXk6IHRoaXMub3ZlcmxheURpc3BsYXksXG4gICAgICAgIG9uSGlkZTogb25IaWRlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJTZWxlY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2VsZWN0VGltZXIpO1xuICAgICAgdGhpcy5fcGVuZGluZ1NlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtZWFzdXJlR3V0dGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lYXN1cmVHdXR0ZXIoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgIGlmICh0aGlzLm1lYXN1cmVHdXR0ZXJBbmltYXRpb25GcmFtZVJlcXVlc3QpIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubWVhc3VyZUd1dHRlckFuaW1hdGlvbkZyYW1lUmVxdWVzdCk7XG4gICAgICB9XG4gICAgICB0aGlzLm1lYXN1cmVHdXR0ZXJBbmltYXRpb25GcmFtZVJlcXVlc3QgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzNSRndXR0ZXJSZWY7XG4gICAgICAgIHZhciB3aWR0aCA9IChfdGhpczUkZ3V0dGVyUmVmID0gX3RoaXM1Lmd1dHRlclJlZikgIT09IG51bGwgJiYgX3RoaXM1JGd1dHRlclJlZiAhPT0gdm9pZCAwICYmIF90aGlzNSRndXR0ZXJSZWYuY3VycmVudCA/IGdldFdpZHRoKF90aGlzNS5ndXR0ZXJSZWYuY3VycmVudCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh3aWR0aCAmJiBfdGhpczUuc3RhdGUuZ3V0dGVyV2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgX3RoaXM1LnNldFN0YXRlKHtcbiAgICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXBwbHlTY3JvbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlTY3JvbGwoKSB7XG4gICAgICAvLyBJZiBhdXRvLXNjcm9sbCBpcyBkaXNhYmxlZCwgd2UgZG9uJ3QgYWN0dWFsbHkgYXBwbHkgdGhlIHNjcm9sbFxuICAgICAgaWYgKHRoaXMuX3Njcm9sbFJhdGlvICE9IG51bGwgJiYgdGhpcy5wcm9wcy5lbmFibGVBdXRvU2Nyb2xsID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5jb250ZW50UmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnRlbnQuc2Nyb2xsVG9wID0gY29udGVudC5zY3JvbGxIZWlnaHQgKiB0aGlzLl9zY3JvbGxSYXRpbztcbiAgICAgICAgLy8gT25seSBkbyB0aGlzIG9uY2VcbiAgICAgICAgdGhpcy5fc2Nyb2xsUmF0aW8gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYWxjdWxhdGVTY3JvbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlU2Nyb2xsKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIG1pbiA9IHByb3BzLm1pbixcbiAgICAgICAgbWF4ID0gcHJvcHMubWF4LFxuICAgICAgICBzY3JvbGxUb1RpbWUgPSBwcm9wcy5zY3JvbGxUb1RpbWUsXG4gICAgICAgIGxvY2FsaXplciA9IHByb3BzLmxvY2FsaXplcjtcbiAgICAgIHZhciBkaWZmTWlsbGlzID0gbG9jYWxpemVyLmRpZmYobG9jYWxpemVyLm1lcmdlKHNjcm9sbFRvVGltZSwgbWluKSwgc2Nyb2xsVG9UaW1lLCAnbWlsbGlzZWNvbmRzJyk7XG4gICAgICB2YXIgdG90YWxNaWxsaXMgPSBsb2NhbGl6ZXIuZGlmZihtaW4sIG1heCwgJ21pbGxpc2Vjb25kcycpO1xuICAgICAgdGhpcy5fc2Nyb2xsUmF0aW8gPSBkaWZmTWlsbGlzIC8gdG90YWxNaWxsaXM7XG4gICAgfVxuICB9XSk7XG59KENvbXBvbmVudCk7XG5UaW1lR3JpZC5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0ZXA6IDMwLFxuICB0aW1lc2xvdHM6IDIsXG4gIC8vIFRvIGJlIGNvbXBhdGlibGUgd2l0aCBvbGQgdmVyc2lvbnMsIGRlZmF1bHQgYXMgYGZhbHNlYC5cbiAgcmVzb3VyY2VHcm91cGluZ0xheW91dDogZmFsc2Vcbn07XG5cbnZhciBfZXhjbHVkZWQkNCA9IFtcImRhdGVcIiwgXCJsb2NhbGl6ZXJcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJzY3JvbGxUb1RpbWVcIiwgXCJlbmFibGVBdXRvU2Nyb2xsXCJdO1xudmFyIERheSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBmdW5jdGlvbiBEYXkoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERheSk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgRGF5LCBhcmd1bWVudHMpO1xuICB9XG4gIF9pbmhlcml0cyhEYXksIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gX2NyZWF0ZUNsYXNzKERheSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBhbGxvd3MgdXMgdG8gZGVmYXVsdCBtaW4sIG1heCwgYW5kIHNjcm9sbFRvVGltZVxuICAgICAgICogdXNpbmcgb3VyIGxvY2FsaXplci4gVGhpcyBpcyBuZWNlc3NhcnkgdW50aWwgc3VjaCB0aW1lXG4gICAgICAgKiBhcyBUT0RPOiBUaW1lR3JpZCBpcyBjb252ZXJ0ZWQgdG8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC5cbiAgICAgICAqL1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHByb3BzLmRhdGUsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWluID0gX3RoaXMkcHJvcHMubWluLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wcyRtaW4gPT09IHZvaWQgMCA/IGxvY2FsaXplci5zdGFydE9mKG5ldyBEYXRlKCksICdkYXknKSA6IF90aGlzJHByb3BzJG1pbixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWF4ID0gX3RoaXMkcHJvcHMubWF4LFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wcyRtYXggPT09IHZvaWQgMCA/IGxvY2FsaXplci5lbmRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRtYXgsXG4gICAgICAgIF90aGlzJHByb3BzJHNjcm9sbFRvVCA9IF90aGlzJHByb3BzLnNjcm9sbFRvVGltZSxcbiAgICAgICAgc2Nyb2xsVG9UaW1lID0gX3RoaXMkcHJvcHMkc2Nyb2xsVG9UID09PSB2b2lkIDAgPyBsb2NhbGl6ZXIuc3RhcnRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRzY3JvbGxUb1QsXG4gICAgICAgIF90aGlzJHByb3BzJGVuYWJsZUF1dCA9IF90aGlzJHByb3BzLmVuYWJsZUF1dG9TY3JvbGwsXG4gICAgICAgIGVuYWJsZUF1dG9TY3JvbGwgPSBfdGhpcyRwcm9wcyRlbmFibGVBdXQgPT09IHZvaWQgMCA/IHRydWUgOiBfdGhpcyRwcm9wcyRlbmFibGVBdXQsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBfZXhjbHVkZWQkNCk7XG4gICAgICB2YXIgcmFuZ2UgPSBEYXkucmFuZ2UoZGF0ZSwge1xuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZUdyaWQsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgZXZlbnRPZmZzZXQ6IDEwLFxuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICBzY3JvbGxUb1RpbWU6IHNjcm9sbFRvVGltZSxcbiAgICAgICAgZW5hYmxlQXV0b1Njcm9sbDogZW5hYmxlQXV0b1Njcm9sbFxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuRGF5LnJhbmdlID0gZnVuY3Rpb24gKGRhdGUsIF9yZWYpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYubG9jYWxpemVyO1xuICByZXR1cm4gW2xvY2FsaXplci5zdGFydE9mKGRhdGUsICdkYXknKV07XG59O1xuRGF5Lm5hdmlnYXRlID0gZnVuY3Rpb24gKGRhdGUsIGFjdGlvbiwgX3JlZjIpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYyLmxvY2FsaXplcjtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIG5hdmlnYXRlLlBSRVZJT1VTOlxuICAgICAgcmV0dXJuIGxvY2FsaXplci5hZGQoZGF0ZSwgLTEsICdkYXknKTtcbiAgICBjYXNlIG5hdmlnYXRlLk5FWFQ6XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmFkZChkYXRlLCAxLCAnZGF5Jyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBkYXRlO1xuICB9XG59O1xuRGF5LnRpdGxlID0gZnVuY3Rpb24gKGRhdGUsIF9yZWYzKSB7XG4gIHZhciBsb2NhbGl6ZXIgPSBfcmVmMy5sb2NhbGl6ZXI7XG4gIHJldHVybiBsb2NhbGl6ZXIuZm9ybWF0KGRhdGUsICdkYXlIZWFkZXJGb3JtYXQnKTtcbn07XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcImRhdGVcIiwgXCJsb2NhbGl6ZXJcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJzY3JvbGxUb1RpbWVcIiwgXCJlbmFibGVBdXRvU2Nyb2xsXCJdO1xudmFyIFdlZWsgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gV2VlaygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2Vlayk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgV2VlaywgYXJndW1lbnRzKTtcbiAgfVxuICBfaW5oZXJpdHMoV2VlaywgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiBfY3JlYXRlQ2xhc3MoV2VlaywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBhbGxvd3MgdXMgdG8gZGVmYXVsdCBtaW4sIG1heCwgYW5kIHNjcm9sbFRvVGltZVxuICAgICAgICogdXNpbmcgb3VyIGxvY2FsaXplci4gVGhpcyBpcyBuZWNlc3NhcnkgdW50aWwgc3VjaCB0aW1lXG4gICAgICAgKiBhcyBUaW1lR3JpZCBpcyBjb252ZXJ0ZWQgdG8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC5cbiAgICAgICAqL1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHByb3BzLmRhdGUsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWluID0gX3RoaXMkcHJvcHMubWluLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wcyRtaW4gPT09IHZvaWQgMCA/IGxvY2FsaXplci5zdGFydE9mKG5ldyBEYXRlKCksICdkYXknKSA6IF90aGlzJHByb3BzJG1pbixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWF4ID0gX3RoaXMkcHJvcHMubWF4LFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wcyRtYXggPT09IHZvaWQgMCA/IGxvY2FsaXplci5lbmRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRtYXgsXG4gICAgICAgIF90aGlzJHByb3BzJHNjcm9sbFRvVCA9IF90aGlzJHByb3BzLnNjcm9sbFRvVGltZSxcbiAgICAgICAgc2Nyb2xsVG9UaW1lID0gX3RoaXMkcHJvcHMkc2Nyb2xsVG9UID09PSB2b2lkIDAgPyBsb2NhbGl6ZXIuc3RhcnRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRzY3JvbGxUb1QsXG4gICAgICAgIF90aGlzJHByb3BzJGVuYWJsZUF1dCA9IF90aGlzJHByb3BzLmVuYWJsZUF1dG9TY3JvbGwsXG4gICAgICAgIGVuYWJsZUF1dG9TY3JvbGwgPSBfdGhpcyRwcm9wcyRlbmFibGVBdXQgPT09IHZvaWQgMCA/IHRydWUgOiBfdGhpcyRwcm9wcyRlbmFibGVBdXQsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBfZXhjbHVkZWQkMyk7XG4gICAgICB2YXIgcmFuZ2UgPSBXZWVrLnJhbmdlKGRhdGUsIHRoaXMucHJvcHMpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVHcmlkLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgIGV2ZW50T2Zmc2V0OiAxNSxcbiAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgc2Nyb2xsVG9UaW1lOiBzY3JvbGxUb1RpbWUsXG4gICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6IGVuYWJsZUF1dG9TY3JvbGxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcbldlZWsuZGVmYXVsdFByb3BzID0gVGltZUdyaWQuZGVmYXVsdFByb3BzO1xuV2Vlay5uYXZpZ2F0ZSA9IGZ1bmN0aW9uIChkYXRlLCBhY3Rpb24sIF9yZWYpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYubG9jYWxpemVyO1xuICBzd2l0Y2ggKGFjdGlvbikge1xuICAgIGNhc2UgbmF2aWdhdGUuUFJFVklPVVM6XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmFkZChkYXRlLCAtMSwgJ3dlZWsnKTtcbiAgICBjYXNlIG5hdmlnYXRlLk5FWFQ6XG4gICAgICByZXR1cm4gbG9jYWxpemVyLmFkZChkYXRlLCAxLCAnd2VlaycpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcbldlZWsucmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgX3JlZjIpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYyLmxvY2FsaXplcjtcbiAgdmFyIGZpcnN0T2ZXZWVrID0gbG9jYWxpemVyLnN0YXJ0T2ZXZWVrKCk7XG4gIHZhciBzdGFydCA9IGxvY2FsaXplci5zdGFydE9mKGRhdGUsICd3ZWVrJywgZmlyc3RPZldlZWspO1xuICB2YXIgZW5kID0gbG9jYWxpemVyLmVuZE9mKGRhdGUsICd3ZWVrJywgZmlyc3RPZldlZWspO1xuICByZXR1cm4gbG9jYWxpemVyLnJhbmdlKHN0YXJ0LCBlbmQpO1xufTtcbldlZWsudGl0bGUgPSBmdW5jdGlvbiAoZGF0ZSwgX3JlZjMpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYzLmxvY2FsaXplcjtcbiAgdmFyIF9XZWVrJHJhbmdlID0gV2Vlay5yYW5nZShkYXRlLCB7XG4gICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgIH0pLFxuICAgIF9XZWVrJHJhbmdlMiA9IF90b0FycmF5KF9XZWVrJHJhbmdlKSxcbiAgICBzdGFydCA9IF9XZWVrJHJhbmdlMlswXSxcbiAgICByZXN0ID0gX1dlZWskcmFuZ2UyLnNsaWNlKDEpO1xuICByZXR1cm4gbG9jYWxpemVyLmZvcm1hdCh7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogcmVzdC5wb3AoKVxuICB9LCAnZGF5UmFuZ2VIZWFkZXJGb3JtYXQnKTtcbn07XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcImRhdGVcIiwgXCJsb2NhbGl6ZXJcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJzY3JvbGxUb1RpbWVcIiwgXCJlbmFibGVBdXRvU2Nyb2xsXCJdO1xuZnVuY3Rpb24gd29ya1dlZWtSYW5nZShkYXRlLCBvcHRpb25zKSB7XG4gIHJldHVybiBXZWVrLnJhbmdlKGRhdGUsIG9wdGlvbnMpLmZpbHRlcihmdW5jdGlvbiAoZCkge1xuICAgIHJldHVybiBbNiwgMF0uaW5kZXhPZihkLmdldERheSgpKSA9PT0gLTE7XG4gIH0pO1xufVxudmFyIFdvcmtXZWVrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIFdvcmtXZWVrKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXb3JrV2Vlayk7XG4gICAgcmV0dXJuIF9jYWxsU3VwZXIodGhpcywgV29ya1dlZWssIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2luaGVyaXRzKFdvcmtXZWVrLCBfUmVhY3QkQ29tcG9uZW50KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhXb3JrV2VlaywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBhbGxvd3MgdXMgdG8gZGVmYXVsdCBtaW4sIG1heCwgYW5kIHNjcm9sbFRvVGltZVxuICAgICAgICogdXNpbmcgb3VyIGxvY2FsaXplci4gVGhpcyBpcyBuZWNlc3NhcnkgdW50aWwgc3VjaCB0aW1lXG4gICAgICAgKiBhcyBUaW1lR3JpZCBpcyBjb252ZXJ0ZWQgdG8gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC5cbiAgICAgICAqL1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHByb3BzLmRhdGUsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWluID0gX3RoaXMkcHJvcHMubWluLFxuICAgICAgICBtaW4gPSBfdGhpcyRwcm9wcyRtaW4gPT09IHZvaWQgMCA/IGxvY2FsaXplci5zdGFydE9mKG5ldyBEYXRlKCksICdkYXknKSA6IF90aGlzJHByb3BzJG1pbixcbiAgICAgICAgX3RoaXMkcHJvcHMkbWF4ID0gX3RoaXMkcHJvcHMubWF4LFxuICAgICAgICBtYXggPSBfdGhpcyRwcm9wcyRtYXggPT09IHZvaWQgMCA/IGxvY2FsaXplci5lbmRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRtYXgsXG4gICAgICAgIF90aGlzJHByb3BzJHNjcm9sbFRvVCA9IF90aGlzJHByb3BzLnNjcm9sbFRvVGltZSxcbiAgICAgICAgc2Nyb2xsVG9UaW1lID0gX3RoaXMkcHJvcHMkc2Nyb2xsVG9UID09PSB2b2lkIDAgPyBsb2NhbGl6ZXIuc3RhcnRPZihuZXcgRGF0ZSgpLCAnZGF5JykgOiBfdGhpcyRwcm9wcyRzY3JvbGxUb1QsXG4gICAgICAgIF90aGlzJHByb3BzJGVuYWJsZUF1dCA9IF90aGlzJHByb3BzLmVuYWJsZUF1dG9TY3JvbGwsXG4gICAgICAgIGVuYWJsZUF1dG9TY3JvbGwgPSBfdGhpcyRwcm9wcyRlbmFibGVBdXQgPT09IHZvaWQgMCA/IHRydWUgOiBfdGhpcyRwcm9wcyRlbmFibGVBdXQsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBfZXhjbHVkZWQkMik7XG4gICAgICB2YXIgcmFuZ2UgPSB3b3JrV2Vla1JhbmdlKGRhdGUsIHRoaXMucHJvcHMpO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVHcmlkLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgIGV2ZW50T2Zmc2V0OiAxNSxcbiAgICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgc2Nyb2xsVG9UaW1lOiBzY3JvbGxUb1RpbWUsXG4gICAgICAgIGVuYWJsZUF1dG9TY3JvbGw6IGVuYWJsZUF1dG9TY3JvbGxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcbldvcmtXZWVrLmRlZmF1bHRQcm9wcyA9IFRpbWVHcmlkLmRlZmF1bHRQcm9wcztcbldvcmtXZWVrLnJhbmdlID0gd29ya1dlZWtSYW5nZTtcbldvcmtXZWVrLm5hdmlnYXRlID0gV2Vlay5uYXZpZ2F0ZTtcbldvcmtXZWVrLnRpdGxlID0gZnVuY3Rpb24gKGRhdGUsIF9yZWYpIHtcbiAgdmFyIGxvY2FsaXplciA9IF9yZWYubG9jYWxpemVyO1xuICB2YXIgX3dvcmtXZWVrUmFuZ2UgPSB3b3JrV2Vla1JhbmdlKGRhdGUsIHtcbiAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyXG4gICAgfSksXG4gICAgX3dvcmtXZWVrUmFuZ2UyID0gX3RvQXJyYXkoX3dvcmtXZWVrUmFuZ2UpLFxuICAgIHN0YXJ0ID0gX3dvcmtXZWVrUmFuZ2UyWzBdLFxuICAgIHJlc3QgPSBfd29ya1dlZWtSYW5nZTIuc2xpY2UoMSk7XG4gIHJldHVybiBsb2NhbGl6ZXIuZm9ybWF0KHtcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiByZXN0LnBvcCgpXG4gIH0sICdkYXlSYW5nZUhlYWRlckZvcm1hdCcpO1xufTtcblxudmFyIERFRkFVTFRfTEVOR1RIID0gMzA7XG5mdW5jdGlvbiBBZ2VuZGEoX3JlZikge1xuICB2YXIgYWNjZXNzb3JzID0gX3JlZi5hY2Nlc3NvcnMsXG4gICAgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cyxcbiAgICBkYXRlID0gX3JlZi5kYXRlLFxuICAgIGV2ZW50cyA9IF9yZWYuZXZlbnRzLFxuICAgIGdldHRlcnMgPSBfcmVmLmdldHRlcnMsXG4gICAgX3JlZiRsZW5ndGggPSBfcmVmLmxlbmd0aCxcbiAgICBsZW5ndGggPSBfcmVmJGxlbmd0aCA9PT0gdm9pZCAwID8gREVGQVVMVF9MRU5HVEggOiBfcmVmJGxlbmd0aCxcbiAgICBsb2NhbGl6ZXIgPSBfcmVmLmxvY2FsaXplcixcbiAgICBvbkRvdWJsZUNsaWNrRXZlbnQgPSBfcmVmLm9uRG91YmxlQ2xpY2tFdmVudCxcbiAgICBvblNlbGVjdEV2ZW50ID0gX3JlZi5vblNlbGVjdEV2ZW50LFxuICAgIHNlbGVjdGVkID0gX3JlZi5zZWxlY3RlZDtcbiAgdmFyIGhlYWRlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGRhdGVDb2xSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciB0aW1lQ29sUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgY29udGVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHRib2R5UmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIF9hZGp1c3RIZWFkZXIoKTtcbiAgfSk7XG4gIHZhciByZW5kZXJEYXkgPSBmdW5jdGlvbiByZW5kZXJEYXkoZGF5LCBldmVudHMsIGRheUtleSkge1xuICAgIHZhciBFdmVudCA9IGNvbXBvbmVudHMuZXZlbnQsXG4gICAgICBBZ2VuZGFEYXRlID0gY29tcG9uZW50cy5kYXRlO1xuICAgIGV2ZW50cyA9IGV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBpblJhbmdlKGUsIGxvY2FsaXplci5zdGFydE9mKGRheSwgJ2RheScpLCBsb2NhbGl6ZXIuZW5kT2YoZGF5LCAnZGF5JyksIGFjY2Vzc29ycywgbG9jYWxpemVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZXZlbnRzLm1hcChmdW5jdGlvbiAoZXZlbnQsIGlkeCkge1xuICAgICAgdmFyIHRpdGxlID0gYWNjZXNzb3JzLnRpdGxlKGV2ZW50KTtcbiAgICAgIHZhciBlbmQgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgICAgIHZhciBzdGFydCA9IGFjY2Vzc29ycy5zdGFydChldmVudCk7XG4gICAgICB2YXIgdXNlclByb3BzID0gZ2V0dGVycy5ldmVudFByb3AoZXZlbnQsIHN0YXJ0LCBlbmQsIGlzU2VsZWN0ZWQoZXZlbnQsIHNlbGVjdGVkKSk7XG4gICAgICB2YXIgZGF0ZUxhYmVsID0gaWR4ID09PSAwICYmIGxvY2FsaXplci5mb3JtYXQoZGF5LCAnYWdlbmRhRGF0ZUZvcm1hdCcpO1xuICAgICAgdmFyIGZpcnN0ID0gaWR4ID09PSAwID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICAgIHJvd1NwYW46IGV2ZW50cy5sZW5ndGgsXG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYWdlbmRhLWRhdGUtY2VsbFwiXG4gICAgICB9LCBBZ2VuZGFEYXRlID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWdlbmRhRGF0ZSwge1xuICAgICAgICBkYXk6IGRheSxcbiAgICAgICAgbGFiZWw6IGRhdGVMYWJlbFxuICAgICAgfSkgOiBkYXRlTGFiZWwpIDogZmFsc2U7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7XG4gICAgICAgIGtleTogZGF5S2V5ICsgJ18nICsgaWR4LFxuICAgICAgICBjbGFzc05hbWU6IHVzZXJQcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHN0eWxlOiB1c2VyUHJvcHMuc3R5bGVcbiAgICAgIH0sIGZpcnN0LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1hZ2VuZGEtdGltZS1jZWxsXCJcbiAgICAgIH0sIHRpbWVSYW5nZUxhYmVsKGRheSwgZXZlbnQpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYWdlbmRhLWV2ZW50LWNlbGxcIixcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uU2VsZWN0RXZlbnQgJiYgb25TZWxlY3RFdmVudChldmVudCwgZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soZSkge1xuICAgICAgICAgIHJldHVybiBvbkRvdWJsZUNsaWNrRXZlbnQgJiYgb25Eb3VibGVDbGlja0V2ZW50KGV2ZW50LCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwgRXZlbnQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudCwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgfSkgOiB0aXRsZSkpO1xuICAgIH0sIFtdKTtcbiAgfTtcbiAgdmFyIHRpbWVSYW5nZUxhYmVsID0gZnVuY3Rpb24gdGltZVJhbmdlTGFiZWwoZGF5LCBldmVudCkge1xuICAgIHZhciBsYWJlbENsYXNzID0gJycsXG4gICAgICBUaW1lQ29tcG9uZW50ID0gY29tcG9uZW50cy50aW1lLFxuICAgICAgbGFiZWwgPSBsb2NhbGl6ZXIubWVzc2FnZXMuYWxsRGF5O1xuICAgIHZhciBlbmQgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgICB2YXIgc3RhcnQgPSBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpO1xuICAgIGlmICghYWNjZXNzb3JzLmFsbERheShldmVudCkpIHtcbiAgICAgIGlmIChsb2NhbGl6ZXIuZXEoc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgbGFiZWwgPSBsb2NhbGl6ZXIuZm9ybWF0KHN0YXJ0LCAnYWdlbmRhVGltZUZvcm1hdCcpO1xuICAgICAgfSBlbHNlIGlmIChsb2NhbGl6ZXIuaXNTYW1lRGF0ZShzdGFydCwgZW5kKSkge1xuICAgICAgICBsYWJlbCA9IGxvY2FsaXplci5mb3JtYXQoe1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICBlbmQ6IGVuZFxuICAgICAgICB9LCAnYWdlbmRhVGltZVJhbmdlRm9ybWF0Jyk7XG4gICAgICB9IGVsc2UgaWYgKGxvY2FsaXplci5pc1NhbWVEYXRlKGRheSwgc3RhcnQpKSB7XG4gICAgICAgIGxhYmVsID0gbG9jYWxpemVyLmZvcm1hdChzdGFydCwgJ2FnZW5kYVRpbWVGb3JtYXQnKTtcbiAgICAgIH0gZWxzZSBpZiAobG9jYWxpemVyLmlzU2FtZURhdGUoZGF5LCBlbmQpKSB7XG4gICAgICAgIGxhYmVsID0gbG9jYWxpemVyLmZvcm1hdChlbmQsICdhZ2VuZGFUaW1lRm9ybWF0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsb2NhbGl6ZXIuZ3QoZGF5LCBzdGFydCwgJ2RheScpKSBsYWJlbENsYXNzID0gJ3JiYy1jb250aW51ZXMtcHJpb3InO1xuICAgIGlmIChsb2NhbGl6ZXIubHQoZGF5LCBlbmQsICdkYXknKSkgbGFiZWxDbGFzcyArPSAnIHJiYy1jb250aW51ZXMtYWZ0ZXInO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBsYWJlbENsYXNzLnRyaW0oKVxuICAgIH0sIFRpbWVDb21wb25lbnQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaW1lQ29tcG9uZW50LCB7XG4gICAgICBldmVudDogZXZlbnQsXG4gICAgICBkYXk6IGRheSxcbiAgICAgIGxhYmVsOiBsYWJlbFxuICAgIH0pIDogbGFiZWwpO1xuICB9O1xuICB2YXIgX2FkanVzdEhlYWRlciA9IGZ1bmN0aW9uIF9hZGp1c3RIZWFkZXIoKSB7XG4gICAgaWYgKCF0Ym9keVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgdmFyIGhlYWRlciA9IGhlYWRlclJlZi5jdXJyZW50O1xuICAgIHZhciBmaXJzdFJvdyA9IHRib2R5UmVmLmN1cnJlbnQuZmlyc3RDaGlsZDtcbiAgICBpZiAoIWZpcnN0Um93KSByZXR1cm47XG4gICAgdmFyIGlzT3ZlcmZsb3dpbmcgPSBjb250ZW50UmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0ID4gY29udGVudFJlZi5jdXJyZW50LmNsaWVudEhlaWdodDtcbiAgICB2YXIgX3dpZHRocyA9IFtdO1xuICAgIHZhciB3aWR0aHMgPSBfd2lkdGhzO1xuICAgIF93aWR0aHMgPSBbZ2V0V2lkdGgoZmlyc3RSb3cuY2hpbGRyZW5bMF0pLCBnZXRXaWR0aChmaXJzdFJvdy5jaGlsZHJlblsxXSldO1xuICAgIGlmICh3aWR0aHNbMF0gIT09IF93aWR0aHNbMF0gfHwgd2lkdGhzWzFdICE9PSBfd2lkdGhzWzFdKSB7XG4gICAgICBkYXRlQ29sUmVmLmN1cnJlbnQuc3R5bGUud2lkdGggPSBfd2lkdGhzWzBdICsgJ3B4JztcbiAgICAgIHRpbWVDb2xSZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IF93aWR0aHNbMV0gKyAncHgnO1xuICAgIH1cbiAgICBpZiAoaXNPdmVyZmxvd2luZykge1xuICAgICAgYWRkQ2xhc3MoaGVhZGVyLCAncmJjLWhlYWRlci1vdmVyZmxvd2luZycpO1xuICAgICAgaGVhZGVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gc2Nyb2xsYmFyU2l6ZSgpICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlQ2xhc3MoaGVhZGVyLCAncmJjLWhlYWRlci1vdmVyZmxvd2luZycpO1xuICAgIH1cbiAgfTtcbiAgdmFyIG1lc3NhZ2VzID0gbG9jYWxpemVyLm1lc3NhZ2VzO1xuICB2YXIgZW5kID0gbG9jYWxpemVyLmFkZChkYXRlLCBsZW5ndGgsICdkYXknKTtcbiAgdmFyIHJhbmdlID0gbG9jYWxpemVyLnJhbmdlKGRhdGUsIGVuZCwgJ2RheScpO1xuICBldmVudHMgPSBldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBpblJhbmdlKGV2ZW50LCBsb2NhbGl6ZXIuc3RhcnRPZihkYXRlLCAnZGF5JyksIGxvY2FsaXplci5lbmRPZihlbmQsICdkYXknKSwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpO1xuICB9KTtcbiAgZXZlbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gK2FjY2Vzc29ycy5zdGFydChhKSAtICthY2Nlc3NvcnMuc3RhcnQoYik7XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyYmMtYWdlbmRhLXZpZXdcIlxuICB9LCBldmVudHMubGVuZ3RoICE9PSAwID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwge1xuICAgIHJlZjogaGVhZGVyUmVmLFxuICAgIGNsYXNzTmFtZTogXCJyYmMtYWdlbmRhLXRhYmxlXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyYmMtaGVhZGVyXCIsXG4gICAgcmVmOiBkYXRlQ29sUmVmXG4gIH0sIG1lc3NhZ2VzLmRhdGUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmJjLWhlYWRlclwiLFxuICAgIHJlZjogdGltZUNvbFJlZlxuICB9LCBtZXNzYWdlcy50aW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInJiYy1oZWFkZXJcIlxuICB9LCBtZXNzYWdlcy5ldmVudCkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmJjLWFnZW5kYS1jb250ZW50XCIsXG4gICAgcmVmOiBjb250ZW50UmVmXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwge1xuICAgIGNsYXNzTmFtZTogXCJyYmMtYWdlbmRhLXRhYmxlXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiLCB7XG4gICAgcmVmOiB0Ym9keVJlZlxuICB9LCByYW5nZS5tYXAoZnVuY3Rpb24gKGRheSwgaWR4KSB7XG4gICAgcmV0dXJuIHJlbmRlckRheShkYXksIGV2ZW50cywgaWR4KTtcbiAgfSkpKSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwicmJjLWFnZW5kYS1lbXB0eVwiXG4gIH0sIG1lc3NhZ2VzLm5vRXZlbnRzSW5SYW5nZSkpO1xufVxuQWdlbmRhLnJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBfcmVmMikge1xuICB2YXIgX3JlZjIkbGVuZ3RoID0gX3JlZjIubGVuZ3RoLFxuICAgIGxlbmd0aCA9IF9yZWYyJGxlbmd0aCA9PT0gdm9pZCAwID8gREVGQVVMVF9MRU5HVEggOiBfcmVmMiRsZW5ndGgsXG4gICAgbG9jYWxpemVyID0gX3JlZjIubG9jYWxpemVyO1xuICB2YXIgZW5kID0gbG9jYWxpemVyLmFkZChzdGFydCwgbGVuZ3RoLCAnZGF5Jyk7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG59O1xuQWdlbmRhLm5hdmlnYXRlID0gZnVuY3Rpb24gKGRhdGUsIGFjdGlvbiwgX3JlZjMpIHtcbiAgdmFyIF9yZWYzJGxlbmd0aCA9IF9yZWYzLmxlbmd0aCxcbiAgICBsZW5ndGggPSBfcmVmMyRsZW5ndGggPT09IHZvaWQgMCA/IERFRkFVTFRfTEVOR1RIIDogX3JlZjMkbGVuZ3RoLFxuICAgIGxvY2FsaXplciA9IF9yZWYzLmxvY2FsaXplcjtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIG5hdmlnYXRlLlBSRVZJT1VTOlxuICAgICAgcmV0dXJuIGxvY2FsaXplci5hZGQoZGF0ZSwgLWxlbmd0aCwgJ2RheScpO1xuICAgIGNhc2UgbmF2aWdhdGUuTkVYVDpcbiAgICAgIHJldHVybiBsb2NhbGl6ZXIuYWRkKGRhdGUsIGxlbmd0aCwgJ2RheScpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgfVxufTtcbkFnZW5kYS50aXRsZSA9IGZ1bmN0aW9uIChzdGFydCwgX3JlZjQpIHtcbiAgdmFyIF9yZWY0JGxlbmd0aCA9IF9yZWY0Lmxlbmd0aCxcbiAgICBsZW5ndGggPSBfcmVmNCRsZW5ndGggPT09IHZvaWQgMCA/IERFRkFVTFRfTEVOR1RIIDogX3JlZjQkbGVuZ3RoLFxuICAgIGxvY2FsaXplciA9IF9yZWY0LmxvY2FsaXplcjtcbiAgdmFyIGVuZCA9IGxvY2FsaXplci5hZGQoc3RhcnQsIGxlbmd0aCwgJ2RheScpO1xuICByZXR1cm4gbG9jYWxpemVyLmZvcm1hdCh7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH0sICdhZ2VuZGFIZWFkZXJGb3JtYXQnKTtcbn07XG5cbnZhciBWSUVXUyA9IF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoe30sIHZpZXdzLk1PTlRILCBNb250aFZpZXcpLCB2aWV3cy5XRUVLLCBXZWVrKSwgdmlld3MuV09SS19XRUVLLCBXb3JrV2VlayksIHZpZXdzLkRBWSwgRGF5KSwgdmlld3MuQUdFTkRBLCBBZ2VuZGEpO1xuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJhY3Rpb25cIiwgXCJkYXRlXCIsIFwidG9kYXlcIl07XG5mdW5jdGlvbiBtb3ZlRGF0ZShWaWV3LCBfcmVmKSB7XG4gIHZhciBhY3Rpb24gPSBfcmVmLmFjdGlvbixcbiAgICBkYXRlID0gX3JlZi5kYXRlLFxuICAgIHRvZGF5ID0gX3JlZi50b2RheSxcbiAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkMSk7XG4gIFZpZXcgPSB0eXBlb2YgVmlldyA9PT0gJ3N0cmluZycgPyBWSUVXU1tWaWV3XSA6IFZpZXc7XG4gIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgY2FzZSBuYXZpZ2F0ZS5UT0RBWTpcbiAgICAgIGRhdGUgPSB0b2RheSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBuYXZpZ2F0ZS5EQVRFOlxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGludmFyaWFudChWaWV3ICYmIHR5cGVvZiBWaWV3Lm5hdmlnYXRlID09PSAnZnVuY3Rpb24nLCAnQ2FsZW5kYXIgVmlldyBjb21wb25lbnRzIG11c3QgaW1wbGVtZW50IGEgc3RhdGljIGAubmF2aWdhdGUoZGF0ZSwgYWN0aW9uKWAgbWV0aG9kLnMnKTtcbiAgICAgIGRhdGUgPSBWaWV3Lm5hdmlnYXRlKGRhdGUsIGFjdGlvbiwgcHJvcHMpO1xuICB9XG4gIHJldHVybiBkYXRlO1xufVxuXG4vKipcbiAqIFJldHJpZXZlIHZpYSBhbiBhY2Nlc3Nvci1saWtlIHByb3BlcnR5XG4gKlxuICogICAgYWNjZXNzb3Iob2JqLCAnbmFtZScpICAgLy8gPT4gcmV0cmlldmVzIG9ialsnbmFtZSddXG4gKiAgICBhY2Nlc3NvcihkYXRhLCBmdW5jKSAgICAvLyA9PiByZXRyaWV2ZXMgZnVuYyhkYXRhKVxuICogICAgLi4uIG90aGVyd2lzZSBudWxsXG4gKi9cbmZ1bmN0aW9uIGFjY2Vzc29yKGRhdGEsIGZpZWxkKSB7XG4gIHZhciB2YWx1ZSA9IG51bGw7XG4gIGlmICh0eXBlb2YgZmllbGQgPT09ICdmdW5jdGlvbicpIHZhbHVlID0gZmllbGQoZGF0YSk7ZWxzZSBpZiAodHlwZW9mIGZpZWxkID09PSAnc3RyaW5nJyAmJiBfdHlwZW9mKGRhdGEpID09PSAnb2JqZWN0JyAmJiBkYXRhICE9IG51bGwgJiYgZmllbGQgaW4gZGF0YSkgdmFsdWUgPSBkYXRhW2ZpZWxkXTtcbiAgcmV0dXJuIHZhbHVlO1xufVxudmFyIHdyYXBBY2Nlc3NvciA9IGZ1bmN0aW9uIHdyYXBBY2Nlc3NvcihhY2MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIGFjY2Vzc29yKGRhdGEsIGFjYyk7XG4gIH07XG59O1xuXG52YXIgX2V4Y2x1ZGVkID0gW1widmlld1wiLCBcImRhdGVcIiwgXCJnZXROb3dcIiwgXCJvbk5hdmlnYXRlXCJdLFxuICBfZXhjbHVkZWQyID0gW1widmlld1wiLCBcInRvb2xiYXJcIiwgXCJldmVudHNcIiwgXCJiYWNrZ3JvdW5kRXZlbnRzXCIsIFwicmVzb3VyY2VHcm91cGluZ0xheW91dFwiLCBcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwiZWxlbWVudFByb3BzXCIsIFwiZGF0ZVwiLCBcImdldE5vd1wiLCBcImxlbmd0aFwiLCBcInNob3dNdWx0aURheVRpbWVzXCIsIFwib25TaG93TW9yZVwiLCBcImRvU2hvd01vcmVEcmlsbERvd25cIiwgXCJjb21wb25lbnRzXCIsIFwiZm9ybWF0c1wiLCBcIm1lc3NhZ2VzXCIsIFwiY3VsdHVyZVwiXTtcbmZ1bmN0aW9uIHZpZXdOYW1lcyhfdmlld3MpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoX3ZpZXdzKSkge1xuICAgIHJldHVybiBfdmlld3M7XG4gIH1cbiAgdmFyIHZpZXdzID0gW107XG4gIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoX3ZpZXdzKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLFxuICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLFxuICAgICAgdmFsdWUgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2aWV3cy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2aWV3cztcbn1cbmZ1bmN0aW9uIGlzVmFsaWRWaWV3KHZpZXcsIF9yZWYpIHtcbiAgdmFyIF92aWV3cyA9IF9yZWYudmlld3M7XG4gIHZhciBuYW1lcyA9IHZpZXdOYW1lcyhfdmlld3MpO1xuICByZXR1cm4gbmFtZXMuaW5kZXhPZih2aWV3KSAhPT0gLTE7XG59XG52YXIgQ2FsZW5kYXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWxlbmRhcik7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgX2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIF90aGlzID0gX2NhbGxTdXBlcih0aGlzLCBDYWxlbmRhciwgW10uY29uY2F0KF9hcmdzKSk7XG4gICAgX3RoaXMuZ2V0Vmlld3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlld3MgPSBfdGhpcy5wcm9wcy52aWV3cztcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZpZXdzKSkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtKHZpZXdzLCBmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtuYW1lXSA9IFZJRVdTW25hbWVdO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9XG4gICAgICBpZiAoX3R5cGVvZih2aWV3cykgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBtYXBWYWx1ZXModmlld3MsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gVklFV1Nba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBWSUVXUztcbiAgICB9O1xuICAgIF90aGlzLmdldFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmlld3MgPSBfdGhpcy5nZXRWaWV3cygpO1xuICAgICAgcmV0dXJuIHZpZXdzW190aGlzLnByb3BzLnZpZXddO1xuICAgIH07XG4gICAgX3RoaXMuZ2V0RHJpbGxkb3duVmlldyA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgdmlldyA9IF90aGlzJHByb3BzLnZpZXcsXG4gICAgICAgIGRyaWxsZG93blZpZXcgPSBfdGhpcyRwcm9wcy5kcmlsbGRvd25WaWV3LFxuICAgICAgICBnZXREcmlsbGRvd25WaWV3ID0gX3RoaXMkcHJvcHMuZ2V0RHJpbGxkb3duVmlldztcbiAgICAgIGlmICghZ2V0RHJpbGxkb3duVmlldykgcmV0dXJuIGRyaWxsZG93blZpZXc7XG4gICAgICByZXR1cm4gZ2V0RHJpbGxkb3duVmlldyhkYXRlLCB2aWV3LCBPYmplY3Qua2V5cyhfdGhpcy5nZXRWaWV3cygpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRlXG4gICAgICogQHBhcmFtIHZpZXdDb21wb25lbnRcbiAgICAgKiBAcGFyYW0geydtb250aCd8J3dlZWsnfCd3b3JrX3dlZWsnfCdkYXknfCdhZ2VuZGEnfSBbdmlld10gLSBvcHRpb25hbFxuICAgICAqIHBhcmFtZXRlci4gSXQgYXBwZWFycyB3aGVuIHJhbmdlIGNoYW5nZSBvbiB2aWV3IGNoYW5naW5nLiBJdCBjb3VsZCBiZSBoYW5keVxuICAgICAqIHdoZW4geW91IG5lZWQgdG8gaGF2ZSBib3RoOiByYW5nZSBhbmQgdmlldyB0eXBlIGF0IG9uY2UsIGkuZS4gZm9yIG1hbmFnZSByYmNcbiAgICAgKiBzdGF0ZSB2aWEgdXJsXG4gICAgICovXG4gICAgX3RoaXMuaGFuZGxlUmFuZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSwgdmlld0NvbXBvbmVudCwgdmlldykge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICBvblJhbmdlQ2hhbmdlID0gX3RoaXMkcHJvcHMyLm9uUmFuZ2VDaGFuZ2UsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMi5sb2NhbGl6ZXI7XG4gICAgICBpZiAob25SYW5nZUNoYW5nZSkge1xuICAgICAgICBpZiAodmlld0NvbXBvbmVudC5yYW5nZSkge1xuICAgICAgICAgIG9uUmFuZ2VDaGFuZ2Uodmlld0NvbXBvbmVudC5yYW5nZShkYXRlLCB7XG4gICAgICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgICAgICAgIH0pLCB2aWV3KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignb25SYW5nZUNoYW5nZSBwcm9wIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgdmlldycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlTmF2aWdhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBuZXdEYXRlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgIHZpZXcgPSBfdGhpcyRwcm9wczMudmlldyxcbiAgICAgICAgZGF0ZSA9IF90aGlzJHByb3BzMy5kYXRlLFxuICAgICAgICBnZXROb3cgPSBfdGhpcyRwcm9wczMuZ2V0Tm93LFxuICAgICAgICBvbk5hdmlnYXRlID0gX3RoaXMkcHJvcHMzLm9uTmF2aWdhdGUsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzMywgX2V4Y2x1ZGVkKTtcbiAgICAgIHZhciBWaWV3Q29tcG9uZW50ID0gX3RoaXMuZ2V0VmlldygpO1xuICAgICAgdmFyIHRvZGF5ID0gZ2V0Tm93KCk7XG4gICAgICBkYXRlID0gbW92ZURhdGUoVmlld0NvbXBvbmVudCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBkYXRlOiBuZXdEYXRlIHx8IGRhdGUgfHwgdG9kYXksXG4gICAgICAgIHRvZGF5OiB0b2RheVxuICAgICAgfSkpO1xuICAgICAgb25OYXZpZ2F0ZShkYXRlLCB2aWV3LCBhY3Rpb24pO1xuICAgICAgX3RoaXMuaGFuZGxlUmFuZ2VDaGFuZ2UoZGF0ZSwgVmlld0NvbXBvbmVudCk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgIGlmICh2aWV3ICE9PSBfdGhpcy5wcm9wcy52aWV3ICYmIGlzVmFsaWRWaWV3KHZpZXcsIF90aGlzLnByb3BzKSkge1xuICAgICAgICBfdGhpcy5wcm9wcy5vblZpZXcodmlldyk7XG4gICAgICB9XG4gICAgICB2YXIgdmlld3MgPSBfdGhpcy5nZXRWaWV3cygpO1xuICAgICAgX3RoaXMuaGFuZGxlUmFuZ2VDaGFuZ2UoX3RoaXMucHJvcHMuZGF0ZSB8fCBfdGhpcy5wcm9wcy5nZXROb3coKSwgdmlld3Nbdmlld10sIHZpZXcpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlU2VsZWN0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgbm90aWZ5KF90aGlzLnByb3BzLm9uU2VsZWN0RXZlbnQsIGFyZ3MpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlRG91YmxlQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25Eb3VibGVDbGlja0V2ZW50LCBhcmdzKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUtleVByZXNzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuICAgICAgbm90aWZ5KF90aGlzLnByb3BzLm9uS2V5UHJlc3NFdmVudCwgYXJncyk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVTZWxlY3RTbG90ID0gZnVuY3Rpb24gKHNsb3RJbmZvKSB7XG4gICAgICBub3RpZnkoX3RoaXMucHJvcHMub25TZWxlY3RTbG90LCBzbG90SW5mbyk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVEcmlsbERvd24gPSBmdW5jdGlvbiAoZGF0ZSwgdmlldykge1xuICAgICAgdmFyIG9uRHJpbGxEb3duID0gX3RoaXMucHJvcHMub25EcmlsbERvd247XG4gICAgICBpZiAob25EcmlsbERvd24pIHtcbiAgICAgICAgb25EcmlsbERvd24oZGF0ZSwgdmlldywgX3RoaXMuZHJpbGxkb3duVmlldyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh2aWV3KSBfdGhpcy5oYW5kbGVWaWV3Q2hhbmdlKHZpZXcpO1xuICAgICAgX3RoaXMuaGFuZGxlTmF2aWdhdGUobmF2aWdhdGUuREFURSwgZGF0ZSk7XG4gICAgfTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbnRleHQ6IENhbGVuZGFyLmdldENvbnRleHQoX3RoaXMucHJvcHMpXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgX2luaGVyaXRzKENhbGVuZGFyLCBfUmVhY3QkQ29tcG9uZW50KTtcbiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhDYWxlbmRhciwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICB2aWV3ID0gX3RoaXMkcHJvcHM0LnZpZXcsXG4gICAgICAgIHRvb2xiYXIgPSBfdGhpcyRwcm9wczQudG9vbGJhcixcbiAgICAgICAgZXZlbnRzID0gX3RoaXMkcHJvcHM0LmV2ZW50cyxcbiAgICAgICAgYmFja2dyb3VuZEV2ZW50cyA9IF90aGlzJHByb3BzNC5iYWNrZ3JvdW5kRXZlbnRzLFxuICAgICAgICByZXNvdXJjZUdyb3VwaW5nTGF5b3V0ID0gX3RoaXMkcHJvcHM0LnJlc291cmNlR3JvdXBpbmdMYXlvdXQsXG4gICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHM0LnN0eWxlLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczQuY2xhc3NOYW1lLFxuICAgICAgICBlbGVtZW50UHJvcHMgPSBfdGhpcyRwcm9wczQuZWxlbWVudFByb3BzLFxuICAgICAgICBjdXJyZW50ID0gX3RoaXMkcHJvcHM0LmRhdGUsXG4gICAgICAgIGdldE5vdyA9IF90aGlzJHByb3BzNC5nZXROb3csXG4gICAgICAgIGxlbmd0aCA9IF90aGlzJHByb3BzNC5sZW5ndGgsXG4gICAgICAgIHNob3dNdWx0aURheVRpbWVzID0gX3RoaXMkcHJvcHM0LnNob3dNdWx0aURheVRpbWVzLFxuICAgICAgICBvblNob3dNb3JlID0gX3RoaXMkcHJvcHM0Lm9uU2hvd01vcmUsXG4gICAgICAgIGRvU2hvd01vcmVEcmlsbERvd24gPSBfdGhpcyRwcm9wczQuZG9TaG93TW9yZURyaWxsRG93bjtcbiAgICAgICAgX3RoaXMkcHJvcHM0LmNvbXBvbmVudHM7XG4gICAgICAgIF90aGlzJHByb3BzNC5mb3JtYXRzO1xuICAgICAgICBfdGhpcyRwcm9wczQubWVzc2FnZXM7XG4gICAgICAgIF90aGlzJHByb3BzNC5jdWx0dXJlO1xuICAgICAgICB2YXIgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHM0LCBfZXhjbHVkZWQyKTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50IHx8IGdldE5vdygpO1xuICAgICAgdmFyIFZpZXcgPSB0aGlzLmdldFZpZXcoKTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSRjb250ZXh0ID0gdGhpcy5zdGF0ZS5jb250ZXh0LFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRzdGF0ZSRjb250ZXh0LmFjY2Vzc29ycyxcbiAgICAgICAgY29tcG9uZW50cyA9IF90aGlzJHN0YXRlJGNvbnRleHQuY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHN0YXRlJGNvbnRleHQuZ2V0dGVycyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkc3RhdGUkY29udGV4dC5sb2NhbGl6ZXIsXG4gICAgICAgIHZpZXdOYW1lcyA9IF90aGlzJHN0YXRlJGNvbnRleHQudmlld05hbWVzO1xuICAgICAgdmFyIENhbFRvb2xiYXIgPSBjb21wb25lbnRzLnRvb2xiYXIgfHwgVG9vbGJhcjtcbiAgICAgIHZhciBsYWJlbCA9IFZpZXcudGl0bGUoY3VycmVudCwge1xuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplcixcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGhcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnRQcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IGNsc3goY2xhc3NOYW1lLCAncmJjLWNhbGVuZGFyJywgcHJvcHMucnRsICYmICdyYmMtcnRsJyksXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfSksIHRvb2xiYXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FsVG9vbGJhciwge1xuICAgICAgICBkYXRlOiBjdXJyZW50LFxuICAgICAgICB2aWV3OiB2aWV3LFxuICAgICAgICB2aWV3czogdmlld05hbWVzLFxuICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgIG9uVmlldzogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgICBvbk5hdmlnYXRlOiB0aGlzLmhhbmRsZU5hdmlnYXRlLFxuICAgICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFZpZXcsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgIGV2ZW50czogZXZlbnRzLFxuICAgICAgICBiYWNrZ3JvdW5kRXZlbnRzOiBiYWNrZ3JvdW5kRXZlbnRzLFxuICAgICAgICBkYXRlOiBjdXJyZW50LFxuICAgICAgICBnZXROb3c6IGdldE5vdyxcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgICAgc2hvd011bHRpRGF5VGltZXM6IHNob3dNdWx0aURheVRpbWVzLFxuICAgICAgICBnZXREcmlsbGRvd25WaWV3OiB0aGlzLmdldERyaWxsZG93blZpZXcsXG4gICAgICAgIG9uTmF2aWdhdGU6IHRoaXMuaGFuZGxlTmF2aWdhdGUsXG4gICAgICAgIG9uRHJpbGxEb3duOiB0aGlzLmhhbmRsZURyaWxsRG93bixcbiAgICAgICAgb25TZWxlY3RFdmVudDogdGhpcy5oYW5kbGVTZWxlY3RFdmVudCxcbiAgICAgICAgb25Eb3VibGVDbGlja0V2ZW50OiB0aGlzLmhhbmRsZURvdWJsZUNsaWNrRXZlbnQsXG4gICAgICAgIG9uS2V5UHJlc3NFdmVudDogdGhpcy5oYW5kbGVLZXlQcmVzc0V2ZW50LFxuICAgICAgICBvblNlbGVjdFNsb3Q6IHRoaXMuaGFuZGxlU2VsZWN0U2xvdCxcbiAgICAgICAgb25TaG93TW9yZTogb25TaG93TW9yZSxcbiAgICAgICAgZG9TaG93TW9yZURyaWxsRG93bjogZG9TaG93TW9yZURyaWxsRG93bixcbiAgICAgICAgcmVzb3VyY2VHcm91cGluZ0xheW91dDogcmVzb3VyY2VHcm91cGluZ0xheW91dFxuICAgICAgfSkpKTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dDogQ2FsZW5kYXIuZ2V0Q29udGV4dChuZXh0UHJvcHMpXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb250ZXh0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRleHQoX3JlZjIpIHtcbiAgICAgIHZhciBzdGFydEFjY2Vzc29yID0gX3JlZjIuc3RhcnRBY2Nlc3NvcixcbiAgICAgICAgZW5kQWNjZXNzb3IgPSBfcmVmMi5lbmRBY2Nlc3NvcixcbiAgICAgICAgYWxsRGF5QWNjZXNzb3IgPSBfcmVmMi5hbGxEYXlBY2Nlc3NvcixcbiAgICAgICAgdG9vbHRpcEFjY2Vzc29yID0gX3JlZjIudG9vbHRpcEFjY2Vzc29yLFxuICAgICAgICB0aXRsZUFjY2Vzc29yID0gX3JlZjIudGl0bGVBY2Nlc3NvcixcbiAgICAgICAgcmVzb3VyY2VBY2Nlc3NvciA9IF9yZWYyLnJlc291cmNlQWNjZXNzb3IsXG4gICAgICAgIHJlc291cmNlSWRBY2Nlc3NvciA9IF9yZWYyLnJlc291cmNlSWRBY2Nlc3NvcixcbiAgICAgICAgcmVzb3VyY2VUaXRsZUFjY2Vzc29yID0gX3JlZjIucmVzb3VyY2VUaXRsZUFjY2Vzc29yLFxuICAgICAgICBldmVudElkQWNjZXNzb3IgPSBfcmVmMi5ldmVudElkQWNjZXNzb3IsXG4gICAgICAgIGV2ZW50UHJvcEdldHRlciA9IF9yZWYyLmV2ZW50UHJvcEdldHRlcixcbiAgICAgICAgYmFja2dyb3VuZEV2ZW50UHJvcEdldHRlciA9IF9yZWYyLmJhY2tncm91bmRFdmVudFByb3BHZXR0ZXIsXG4gICAgICAgIHNsb3RQcm9wR2V0dGVyID0gX3JlZjIuc2xvdFByb3BHZXR0ZXIsXG4gICAgICAgIHNsb3RHcm91cFByb3BHZXR0ZXIgPSBfcmVmMi5zbG90R3JvdXBQcm9wR2V0dGVyLFxuICAgICAgICBkYXlQcm9wR2V0dGVyID0gX3JlZjIuZGF5UHJvcEdldHRlcixcbiAgICAgICAgdmlldyA9IF9yZWYyLnZpZXcsXG4gICAgICAgIHZpZXdzID0gX3JlZjIudmlld3MsXG4gICAgICAgIGxvY2FsaXplciA9IF9yZWYyLmxvY2FsaXplcixcbiAgICAgICAgY3VsdHVyZSA9IF9yZWYyLmN1bHR1cmUsXG4gICAgICAgIF9yZWYyJG1lc3NhZ2VzID0gX3JlZjIubWVzc2FnZXMsXG4gICAgICAgIG1lc3NhZ2VzJDEgPSBfcmVmMiRtZXNzYWdlcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRtZXNzYWdlcyxcbiAgICAgICAgX3JlZjIkY29tcG9uZW50cyA9IF9yZWYyLmNvbXBvbmVudHMsXG4gICAgICAgIGNvbXBvbmVudHMgPSBfcmVmMiRjb21wb25lbnRzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYyJGNvbXBvbmVudHMsXG4gICAgICAgIF9yZWYyJGZvcm1hdHMgPSBfcmVmMi5mb3JtYXRzLFxuICAgICAgICBmb3JtYXRzID0gX3JlZjIkZm9ybWF0cyA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRmb3JtYXRzO1xuICAgICAgdmFyIG5hbWVzID0gdmlld05hbWVzKHZpZXdzKTtcbiAgICAgIHZhciBtc2dzID0gbWVzc2FnZXMobWVzc2FnZXMkMSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2aWV3TmFtZXM6IG5hbWVzLFxuICAgICAgICBsb2NhbGl6ZXI6IG1lcmdlV2l0aERlZmF1bHRzKGxvY2FsaXplciwgY3VsdHVyZSwgZm9ybWF0cywgbXNncyksXG4gICAgICAgIGdldHRlcnM6IHtcbiAgICAgICAgICBldmVudFByb3A6IGZ1bmN0aW9uIGV2ZW50UHJvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudFByb3BHZXR0ZXIgJiYgZXZlbnRQcm9wR2V0dGVyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSB8fCB7fTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhY2tncm91bmRFdmVudFByb3A6IGZ1bmN0aW9uIGJhY2tncm91bmRFdmVudFByb3AoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFja2dyb3VuZEV2ZW50UHJvcEdldHRlciAmJiBiYWNrZ3JvdW5kRXZlbnRQcm9wR2V0dGVyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSB8fCB7fTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNsb3RQcm9wOiBmdW5jdGlvbiBzbG90UHJvcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzbG90UHJvcEdldHRlciAmJiBzbG90UHJvcEdldHRlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykgfHwge307XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzbG90R3JvdXBQcm9wOiBmdW5jdGlvbiBzbG90R3JvdXBQcm9wKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNsb3RHcm91cFByb3BHZXR0ZXIgJiYgc2xvdEdyb3VwUHJvcEdldHRlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykgfHwge307XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXlQcm9wOiBmdW5jdGlvbiBkYXlQcm9wKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRheVByb3BHZXR0ZXIgJiYgZGF5UHJvcEdldHRlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wb25lbnRzOiBkZWZhdWx0cyhjb21wb25lbnRzW3ZpZXddIHx8IHt9LCBvbWl0KGNvbXBvbmVudHMsIG5hbWVzKSwge1xuICAgICAgICAgIGV2ZW50V3JhcHBlcjogTm9vcFdyYXBwZXIsXG4gICAgICAgICAgYmFja2dyb3VuZEV2ZW50V3JhcHBlcjogTm9vcFdyYXBwZXIsXG4gICAgICAgICAgZXZlbnRDb250YWluZXJXcmFwcGVyOiBOb29wV3JhcHBlcixcbiAgICAgICAgICBkYXRlQ2VsbFdyYXBwZXI6IE5vb3BXcmFwcGVyLFxuICAgICAgICAgIHdlZWtXcmFwcGVyOiBOb29wV3JhcHBlcixcbiAgICAgICAgICB0aW1lU2xvdFdyYXBwZXI6IE5vb3BXcmFwcGVyLFxuICAgICAgICAgIHRpbWVHdXR0ZXJXcmFwcGVyOiBOb29wV3JhcHBlclxuICAgICAgICB9KSxcbiAgICAgICAgYWNjZXNzb3JzOiB7XG4gICAgICAgICAgc3RhcnQ6IHdyYXBBY2Nlc3NvcihzdGFydEFjY2Vzc29yKSxcbiAgICAgICAgICBlbmQ6IHdyYXBBY2Nlc3NvcihlbmRBY2Nlc3NvciksXG4gICAgICAgICAgYWxsRGF5OiB3cmFwQWNjZXNzb3IoYWxsRGF5QWNjZXNzb3IpLFxuICAgICAgICAgIHRvb2x0aXA6IHdyYXBBY2Nlc3Nvcih0b29sdGlwQWNjZXNzb3IpLFxuICAgICAgICAgIHRpdGxlOiB3cmFwQWNjZXNzb3IodGl0bGVBY2Nlc3NvciksXG4gICAgICAgICAgcmVzb3VyY2U6IHdyYXBBY2Nlc3NvcihyZXNvdXJjZUFjY2Vzc29yKSxcbiAgICAgICAgICByZXNvdXJjZUlkOiB3cmFwQWNjZXNzb3IocmVzb3VyY2VJZEFjY2Vzc29yKSxcbiAgICAgICAgICByZXNvdXJjZVRpdGxlOiB3cmFwQWNjZXNzb3IocmVzb3VyY2VUaXRsZUFjY2Vzc29yKSxcbiAgICAgICAgICBldmVudElkOiB3cmFwQWNjZXNzb3IoZXZlbnRJZEFjY2Vzc29yKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xufShSZWFjdC5Db21wb25lbnQpO1xuQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICBldmVudHM6IFtdLFxuICBiYWNrZ3JvdW5kRXZlbnRzOiBbXSxcbiAgZWxlbWVudFByb3BzOiB7fSxcbiAgcG9wdXA6IGZhbHNlLFxuICB0b29sYmFyOiB0cnVlLFxuICB2aWV3OiB2aWV3cy5NT05USCxcbiAgdmlld3M6IFt2aWV3cy5NT05USCwgdmlld3MuV0VFSywgdmlld3MuREFZLCB2aWV3cy5BR0VOREFdLFxuICBzdGVwOiAzMCxcbiAgbGVuZ3RoOiAzMCxcbiAgYWxsRGF5TWF4Um93czogSW5maW5pdHksXG4gIGRvU2hvd01vcmVEcmlsbERvd246IHRydWUsXG4gIGRyaWxsZG93blZpZXc6IHZpZXdzLkRBWSxcbiAgdGl0bGVBY2Nlc3NvcjogJ3RpdGxlJyxcbiAgdG9vbHRpcEFjY2Vzc29yOiAndGl0bGUnLFxuICBhbGxEYXlBY2Nlc3NvcjogJ2FsbERheScsXG4gIHN0YXJ0QWNjZXNzb3I6ICdzdGFydCcsXG4gIGVuZEFjY2Vzc29yOiAnZW5kJyxcbiAgcmVzb3VyY2VBY2Nlc3NvcjogJ3Jlc291cmNlSWQnLFxuICByZXNvdXJjZUlkQWNjZXNzb3I6ICdpZCcsXG4gIHJlc291cmNlVGl0bGVBY2Nlc3NvcjogJ3RpdGxlJyxcbiAgZXZlbnRJZEFjY2Vzc29yOiAnaWQnLFxuICBsb25nUHJlc3NUaHJlc2hvbGQ6IDI1MCxcbiAgZ2V0Tm93OiBmdW5jdGlvbiBnZXROb3coKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH0sXG4gIGRheUxheW91dEFsZ29yaXRobTogJ292ZXJsYXAnXG59O1xudmFyIENhbGVuZGFyJDEgPSB1bmNvbnRyb2xsYWJsZShDYWxlbmRhciwge1xuICB2aWV3OiAnb25WaWV3JyxcbiAgZGF0ZTogJ29uTmF2aWdhdGUnLFxuICBzZWxlY3RlZDogJ29uU2VsZWN0RXZlbnQnXG59KTtcblxudmFyIHdlZWtSYW5nZUZvcm1hdCQ1ID0gZnVuY3Rpb24gd2Vla1JhbmdlRm9ybWF0KF9yZWYsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYuc3RhcnQsXG4gICAgZW5kID0gX3JlZi5lbmQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsICdNTU1NIEREJywgY3VsdHVyZSkgKyAnIOKAkyAnICtcbiAgLy8gdXBkYXRlZCB0byB1c2UgdGhpcyBsb2NhbGl6ZXIgJ2VxKCknIG1ldGhvZFxuICBsb2NhbC5mb3JtYXQoZW5kLCBsb2NhbC5lcShzdGFydCwgZW5kLCAnbW9udGgnKSA/ICdERCcgOiAnTU1NTSBERCcsIGN1bHR1cmUpO1xufTtcbnZhciBkYXRlUmFuZ2VGb3JtYXQkNSA9IGZ1bmN0aW9uIGRhdGVSYW5nZUZvcm1hdChfcmVmMiwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjIuc3RhcnQsXG4gICAgZW5kID0gX3JlZjIuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTCcsIGN1bHR1cmUpICsgJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsICdMJywgY3VsdHVyZSk7XG59O1xudmFyIHRpbWVSYW5nZUZvcm1hdCQ1ID0gZnVuY3Rpb24gdGltZVJhbmdlRm9ybWF0KF9yZWYzLCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgc3RhcnQgPSBfcmVmMy5zdGFydCxcbiAgICBlbmQgPSBfcmVmMy5lbmQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsICdMVCcsIGN1bHR1cmUpICsgJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsICdMVCcsIGN1bHR1cmUpO1xufTtcbnZhciB0aW1lUmFuZ2VTdGFydEZvcm1hdCQ1ID0gZnVuY3Rpb24gdGltZVJhbmdlU3RhcnRGb3JtYXQoX3JlZjQsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWY0LnN0YXJ0O1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTFQnLCBjdWx0dXJlKSArICcg4oCTICc7XG59O1xudmFyIHRpbWVSYW5nZUVuZEZvcm1hdCQ1ID0gZnVuY3Rpb24gdGltZVJhbmdlRW5kRm9ybWF0KF9yZWY1LCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgZW5kID0gX3JlZjUuZW5kO1xuICByZXR1cm4gJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsICdMVCcsIGN1bHR1cmUpO1xufTtcbnZhciBmb3JtYXRzJDUgPSB7XG4gIGRhdGVGb3JtYXQ6ICdERCcsXG4gIGRheUZvcm1hdDogJ0REIGRkZCcsXG4gIHdlZWtkYXlGb3JtYXQ6ICdkZGQnLFxuICBzZWxlY3RSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDUsXG4gIGV2ZW50VGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkNSxcbiAgZXZlbnRUaW1lUmFuZ2VTdGFydEZvcm1hdDogdGltZVJhbmdlU3RhcnRGb3JtYXQkNSxcbiAgZXZlbnRUaW1lUmFuZ2VFbmRGb3JtYXQ6IHRpbWVSYW5nZUVuZEZvcm1hdCQ1LFxuICB0aW1lR3V0dGVyRm9ybWF0OiAnTFQnLFxuICBtb250aEhlYWRlckZvcm1hdDogJ01NTU0gWVlZWScsXG4gIGRheUhlYWRlckZvcm1hdDogJ2RkZGQgTU1NIEREJyxcbiAgZGF5UmFuZ2VIZWFkZXJGb3JtYXQ6IHdlZWtSYW5nZUZvcm1hdCQ1LFxuICBhZ2VuZGFIZWFkZXJGb3JtYXQ6IGRhdGVSYW5nZUZvcm1hdCQ1LFxuICBhZ2VuZGFEYXRlRm9ybWF0OiAnZGRkIE1NTSBERCcsXG4gIGFnZW5kYVRpbWVGb3JtYXQ6ICdMVCcsXG4gIGFnZW5kYVRpbWVSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDVcbn07XG5mdW5jdGlvbiBmaXhVbml0JDIodW5pdCkge1xuICB2YXIgZGF0ZVBhcnQgPSB1bml0ID8gdW5pdC50b0xvd2VyQ2FzZSgpIDogdW5pdDtcbiAgaWYgKGRhdGVQYXJ0ID09PSAnRnVsbFllYXInKSB7XG4gICAgZGF0ZVBhcnQgPSAneWVhcic7XG4gIH0gZWxzZSBpZiAoIWRhdGVQYXJ0KSB7XG4gICAgZGF0ZVBhcnQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGRhdGVQYXJ0O1xufVxuZnVuY3Rpb24gbW9tZW50IChtb21lbnQpIHtcbiAgdmFyIGxvY2FsZSA9IGZ1bmN0aW9uIGxvY2FsZShtLCBjKSB7XG4gICAgcmV0dXJuIGMgPyBtLmxvY2FsZShjKSA6IG07XG4gIH07XG4gIGZ1bmN0aW9uIGdldFRpbWV6b25lT2Zmc2V0KGRhdGUpIHtcbiAgICAvLyBlbnN1cmVzIHRoaXMgZ2V0cyBjYXN0IHRvIHRpbWV6b25lXG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB9XG4gIGZ1bmN0aW9uIGdldERzdE9mZnNldChzdGFydCwgZW5kKSB7XG4gICAgdmFyIF9zdCRfeiRuYW1lLCBfc3QkX3o7XG4gICAgLy8gY29udmVydCB0byBtb21lbnQsIGluIGNhc2VcbiAgICAvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCBpbiB0aGUgdGltZXpvbmUgb2YgdGhlIEV2ZW50cyAobG9jYWwpXG4gICAgLy8gbm90IGluIHRoZSB0aW1lem9uZSBvZiB0aGUgY2FsZW5kYXIgKG1vbWVudC50eilcbiAgICB2YXIgc3QgPSBtb21lbnQoc3RhcnQpLmxvY2FsKCk7XG4gICAgdmFyIGVkID0gbW9tZW50KGVuZCkubG9jYWwoKTtcbiAgICAvLyBpZiBub3QgdXNpbmcgbW9tZW50IHRpbWV6b25lXG4gICAgaWYgKCFtb21lbnQudHopIHtcbiAgICAgIHJldHVybiBzdC50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpIC0gZWQudG9EYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdXNpbmcgbW9tZW50LXRpbWV6b25lLCBhbmQgYSB0aW1lem9uZSBoYXMgYmVlbiBhcHBsaWVkLCB0aGVuXG4gICAgICogdXNlIHRoaXMgdG8gZ2V0IHRoZSBwcm9wZXIgdGltZXpvbmUgb2Zmc2V0LCBvdGhlcndpc2UgZGVmYXVsdFxuICAgICAqIHRoZSB0aW1lem9uZSB0byB0aGUgYnJvd3NlciBsb2NhbFxuICAgICAqL1xuICAgIHZhciB0ek5hbWUgPSAoX3N0JF96JG5hbWUgPSBzdCA9PT0gbnVsbCB8fCBzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zdCRfeiA9IHN0Ll96KSA9PT0gbnVsbCB8fCBfc3QkX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdCRfei5uYW1lKSAhPT0gbnVsbCAmJiBfc3QkX3okbmFtZSAhPT0gdm9pZCAwID8gX3N0JF96JG5hbWUgOiBtb21lbnQudHouZ3Vlc3MoKTtcbiAgICB2YXIgc3RhcnRPZmZzZXQgPSBtb21lbnQudHouem9uZSh0ek5hbWUpLnV0Y09mZnNldCgrc3QpO1xuICAgIHZhciBlbmRPZmZzZXQgPSBtb21lbnQudHouem9uZSh0ek5hbWUpLnV0Y09mZnNldCgrZWQpO1xuICAgIHJldHVybiBzdGFydE9mZnNldCAtIGVuZE9mZnNldDtcbiAgfVxuICBmdW5jdGlvbiBnZXREYXlTdGFydERzdE9mZnNldChzdGFydCkge1xuICAgIHZhciBkYXlTdGFydCA9IG1vbWVudChzdGFydCkuc3RhcnRPZignZGF5Jyk7XG4gICAgcmV0dXJuIGdldERzdE9mZnNldChkYXlTdGFydCwgc3RhcnQpO1xuICB9XG5cbiAgLyoqKiBCRUdJTiBsb2NhbGl6ZWQgZGF0ZSBhcml0aG1ldGljIG1ldGhvZHMgd2l0aCBtb21lbnQgKioqL1xuICBmdW5jdGlvbiBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSB7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCQyKHVuaXQpO1xuICAgIHZhciBkdEEgPSBkYXRlUGFydCA/IG1vbWVudChhKS5zdGFydE9mKGRhdGVQYXJ0KSA6IG1vbWVudChhKTtcbiAgICB2YXIgZHRCID0gZGF0ZVBhcnQgPyBtb21lbnQoYikuc3RhcnRPZihkYXRlUGFydCkgOiBtb21lbnQoYik7XG4gICAgcmV0dXJuIFtkdEEsIGR0QiwgZGF0ZVBhcnRdO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0T2YoKSB7XG4gICAgdmFyIGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG4gICAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDIodW5pdCk7XG4gICAgaWYgKGRhdGVQYXJ0KSB7XG4gICAgICByZXR1cm4gbW9tZW50KGRhdGUpLnN0YXJ0T2YoZGF0ZVBhcnQpLnRvRGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLnRvRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIGVuZE9mKCkge1xuICAgIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCQyKHVuaXQpO1xuICAgIGlmIChkYXRlUGFydCkge1xuICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5lbmRPZihkYXRlUGFydCkudG9EYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBtb21lbnQoZGF0ZSkudG9EYXRlKCk7XG4gIH1cblxuICAvLyBtb21lbnQgY29tcGFyaXNvbiBvcGVyYXRpb25zICphbHdheXMqIGNvbnZlcnQgYm90aCBzaWRlcyB0byBtb21lbnQgb2JqZWN0c1xuICAvLyBwcmlvciB0byBydW5uaW5nIHRoZSBjb21wYXJpc29uc1xuICBmdW5jdGlvbiBlcShhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9ycyA9IGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpLFxuICAgICAgX2RlZmluZUNvbXBhcmF0b3JzMiA9IF9zbGljZWRUb0FycmF5KF9kZWZpbmVDb21wYXJhdG9ycywgMyksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnMyWzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzMlsxXSxcbiAgICAgIGRhdGVQYXJ0ID0gX2RlZmluZUNvbXBhcmF0b3JzMlsyXTtcbiAgICByZXR1cm4gZHRBLmlzU2FtZShkdEIsIGRhdGVQYXJ0KTtcbiAgfVxuICBmdW5jdGlvbiBuZXEoYSwgYiwgdW5pdCkge1xuICAgIHJldHVybiAhZXEoYSwgYiwgdW5pdCk7XG4gIH1cbiAgZnVuY3Rpb24gZ3QoYSwgYiwgdW5pdCkge1xuICAgIHZhciBfZGVmaW5lQ29tcGFyYXRvcnMzID0gZGVmaW5lQ29tcGFyYXRvcnMoYSwgYiwgdW5pdCksXG4gICAgICBfZGVmaW5lQ29tcGFyYXRvcnM0ID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzMywgMyksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnM0WzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzNFsxXSxcbiAgICAgIGRhdGVQYXJ0ID0gX2RlZmluZUNvbXBhcmF0b3JzNFsyXTtcbiAgICByZXR1cm4gZHRBLmlzQWZ0ZXIoZHRCLCBkYXRlUGFydCk7XG4gIH1cbiAgZnVuY3Rpb24gbHQoYSwgYiwgdW5pdCkge1xuICAgIHZhciBfZGVmaW5lQ29tcGFyYXRvcnM1ID0gZGVmaW5lQ29tcGFyYXRvcnMoYSwgYiwgdW5pdCksXG4gICAgICBfZGVmaW5lQ29tcGFyYXRvcnM2ID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzNSwgMyksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnM2WzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzNlsxXSxcbiAgICAgIGRhdGVQYXJ0ID0gX2RlZmluZUNvbXBhcmF0b3JzNlsyXTtcbiAgICByZXR1cm4gZHRBLmlzQmVmb3JlKGR0QiwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGd0ZShhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9yczcgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczggPSBfc2xpY2VkVG9BcnJheShfZGVmaW5lQ29tcGFyYXRvcnM3LCAzKSxcbiAgICAgIGR0QSA9IF9kZWZpbmVDb21wYXJhdG9yczhbMF0sXG4gICAgICBkdEIgPSBfZGVmaW5lQ29tcGFyYXRvcnM4WzFdLFxuICAgICAgZGF0ZVBhcnQgPSBfZGVmaW5lQ29tcGFyYXRvcnM4WzJdO1xuICAgIHJldHVybiBkdEEuaXNTYW1lT3JCZWZvcmUoZHRCLCBkYXRlUGFydCk7XG4gIH1cbiAgZnVuY3Rpb24gbHRlKGEsIGIsIHVuaXQpIHtcbiAgICB2YXIgX2RlZmluZUNvbXBhcmF0b3JzOSA9IGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpLFxuICAgICAgX2RlZmluZUNvbXBhcmF0b3JzMTAgPSBfc2xpY2VkVG9BcnJheShfZGVmaW5lQ29tcGFyYXRvcnM5LCAzKSxcbiAgICAgIGR0QSA9IF9kZWZpbmVDb21wYXJhdG9yczEwWzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzMTBbMV0sXG4gICAgICBkYXRlUGFydCA9IF9kZWZpbmVDb21wYXJhdG9yczEwWzJdO1xuICAgIHJldHVybiBkdEEuaXNTYW1lT3JCZWZvcmUoZHRCLCBkYXRlUGFydCk7XG4gIH1cbiAgZnVuY3Rpb24gaW5SYW5nZShkYXksIG1pbiwgbWF4KSB7XG4gICAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdkYXknO1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQkMih1bml0KTtcbiAgICB2YXIgbURheSA9IG1vbWVudChkYXkpO1xuICAgIHZhciBtTWluID0gbW9tZW50KG1pbik7XG4gICAgdmFyIG1NYXggPSBtb21lbnQobWF4KTtcbiAgICByZXR1cm4gbURheS5pc0JldHdlZW4obU1pbiwgbU1heCwgZGF0ZVBhcnQsICdbXScpO1xuICB9XG4gIGZ1bmN0aW9uIG1pbihkYXRlQSwgZGF0ZUIpIHtcbiAgICB2YXIgZHRBID0gbW9tZW50KGRhdGVBKTtcbiAgICB2YXIgZHRCID0gbW9tZW50KGRhdGVCKTtcbiAgICB2YXIgbWluRHQgPSBtb21lbnQubWluKGR0QSwgZHRCKTtcbiAgICByZXR1cm4gbWluRHQudG9EYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gbWF4KGRhdGVBLCBkYXRlQikge1xuICAgIHZhciBkdEEgPSBtb21lbnQoZGF0ZUEpO1xuICAgIHZhciBkdEIgPSBtb21lbnQoZGF0ZUIpO1xuICAgIHZhciBtYXhEdCA9IG1vbWVudC5tYXgoZHRBLCBkdEIpO1xuICAgIHJldHVybiBtYXhEdC50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBtZXJnZShkYXRlLCB0aW1lKSB7XG4gICAgaWYgKCFkYXRlICYmICF0aW1lKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgdG0gPSBtb21lbnQodGltZSkuZm9ybWF0KCdISDptbTpzcycpO1xuICAgIHZhciBkdCA9IG1vbWVudChkYXRlKS5zdGFydE9mKCdkYXknKS5mb3JtYXQoJ01NL0REL1lZWVknKTtcbiAgICAvLyBXZSBkbyBpdCB0aGlzIHdheSB0byBhdm9pZCBpc3N1ZXMgd2hlbiB0aW1lem9uZSBzd2l0Y2hpbmdcbiAgICByZXR1cm4gbW9tZW50KFwiXCIuY29uY2F0KGR0LCBcIiBcIikuY29uY2F0KHRtKSwgJ01NL0REL1lZWVkgSEg6bW06c3MnKS50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBhZGQoZGF0ZSwgYWRkZXIsIHVuaXQpIHtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDIodW5pdCk7XG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS5hZGQoYWRkZXIsIGRhdGVQYXJ0KS50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiByYW5nZShzdGFydCwgZW5kKSB7XG4gICAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdkYXknO1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQkMih1bml0KTtcbiAgICAvLyBiZWNhdXNlIHRoZSBhZGQgbWV0aG9kIHdpbGwgcHV0IHRoZXNlIGluIHR6LCB3ZSBoYXZlIHRvIHN0YXJ0IHRoYXQgd2F5XG4gICAgdmFyIGN1cnJlbnQgPSBtb21lbnQoc3RhcnQpLnRvRGF0ZSgpO1xuICAgIHZhciBkYXlzID0gW107XG4gICAgd2hpbGUgKGx0ZShjdXJyZW50LCBlbmQpKSB7XG4gICAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gYWRkKGN1cnJlbnQsIDEsIGRhdGVQYXJ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXM7XG4gIH1cbiAgZnVuY3Rpb24gY2VpbChkYXRlLCB1bml0KSB7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCQyKHVuaXQpO1xuICAgIHZhciBmbG9vciA9IHN0YXJ0T2YoZGF0ZSwgZGF0ZVBhcnQpO1xuICAgIHJldHVybiBlcShmbG9vciwgZGF0ZSkgPyBmbG9vciA6IGFkZChmbG9vciwgMSwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmYoYSwgYikge1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZGF5JztcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDIodW5pdCk7XG4gICAgLy8gZG9uJ3QgdXNlICdkZWZpbmVDb21wYXJhdG9ycycgaGVyZSwgYXMgd2UgZG9uJ3Qgd2FudCB0byBtdXRhdGUgdGhlIHZhbHVlc1xuICAgIHZhciBkdEEgPSBtb21lbnQoYSk7XG4gICAgdmFyIGR0QiA9IG1vbWVudChiKTtcbiAgICByZXR1cm4gZHRCLmRpZmYoZHRBLCBkYXRlUGFydCk7XG4gIH1cbiAgZnVuY3Rpb24gbWludXRlcyhkYXRlKSB7XG4gICAgdmFyIGR0ID0gbW9tZW50KGRhdGUpO1xuICAgIHJldHVybiBkdC5taW51dGVzKCk7XG4gIH1cbiAgZnVuY3Rpb24gZmlyc3RPZldlZWsoY3VsdHVyZSkge1xuICAgIHZhciBkYXRhID0gY3VsdHVyZSA/IG1vbWVudC5sb2NhbGVEYXRhKGN1bHR1cmUpIDogbW9tZW50LmxvY2FsZURhdGEoKTtcbiAgICByZXR1cm4gZGF0YSA/IGRhdGEuZmlyc3REYXlPZldlZWsoKSA6IDA7XG4gIH1cbiAgZnVuY3Rpb24gZmlyc3RWaXNpYmxlRGF5KGRhdGUpIHtcbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLnN0YXJ0T2YoJ21vbnRoJykuc3RhcnRPZignd2VlaycpLnRvRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIGxhc3RWaXNpYmxlRGF5KGRhdGUpIHtcbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLmVuZE9mKCdtb250aCcpLmVuZE9mKCd3ZWVrJykudG9EYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gdmlzaWJsZURheXMoZGF0ZSkge1xuICAgIHZhciBjdXJyZW50ID0gZmlyc3RWaXNpYmxlRGF5KGRhdGUpO1xuICAgIHZhciBsYXN0ID0gbGFzdFZpc2libGVEYXkoZGF0ZSk7XG4gICAgdmFyIGRheXMgPSBbXTtcbiAgICB3aGlsZSAobHRlKGN1cnJlbnQsIGxhc3QpKSB7XG4gICAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gYWRkKGN1cnJlbnQsIDEsICdkJyk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9XG4gIC8qKiogRU5EIGxvY2FsaXplZCBkYXRlIGFyaXRobWV0aWMgbWV0aG9kcyB3aXRoIG1vbWVudCAqKiovXG5cbiAgLyoqXG4gICAqIE1vdmVkIGZyb20gVGltZVNsb3RzLmpzLCB0aGlzIG1ldGhvZCBvdmVycmlkZXMgdGhlIG1ldGhvZCBvZiB0aGUgc2FtZSBuYW1lXG4gICAqIGluIHRoZSBsb2NhbGl6ZXIuanMsIHVzaW5nIG1vbWVudCB0byBjb25zdHJ1Y3QgdGhlIGpzIERhdGVcbiAgICogQHBhcmFtIHtEYXRlfSBkdCAtIGRhdGUgdG8gc3RhcnQgd2l0aFxuICAgKiBAcGFyYW0ge051bWJlcn0gbWludXRlc0Zyb21NaWRuaWdodFxuICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG4gICAqIEByZXR1cm5zIHtEYXRlfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U2xvdERhdGUoZHQsIG1pbnV0ZXNGcm9tTWlkbmlnaHQsIG9mZnNldCkge1xuICAgIHJldHVybiBtb21lbnQoZHQpLnN0YXJ0T2YoJ2RheScpLm1pbnV0ZShtaW51dGVzRnJvbU1pZG5pZ2h0ICsgb2Zmc2V0KS50b0RhdGUoKTtcbiAgfVxuXG4gIC8vIG1vbWVudCB3aWxsIGF1dG9tYXRpY2FsbHkgaGFuZGxlIERTVCBkaWZmZXJlbmNlcyBpbiBpdCdzIGNhbGN1bGF0aW9uc1xuICBmdW5jdGlvbiBnZXRUb3RhbE1pbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGRpZmYoc3RhcnQsIGVuZCwgJ21pbnV0ZXMnKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbU1pZG5pZ2h0KHN0YXJ0KSB7XG4gICAgdmFyIGRheVN0YXJ0ID0gbW9tZW50KHN0YXJ0KS5zdGFydE9mKCdkYXknKTtcbiAgICB2YXIgZGF5ID0gbW9tZW50KHN0YXJ0KTtcbiAgICByZXR1cm4gZGF5LmRpZmYoZGF5U3RhcnQsICdtaW51dGVzJykgKyBnZXREYXlTdGFydERzdE9mZnNldChzdGFydCk7XG4gIH1cblxuICAvLyBUaGVzZSB0d28gYXJlIHVzZWQgYnkgRGF0ZVNsb3RNZXRyaWNzXG4gIGZ1bmN0aW9uIGNvbnRpbnVlc1ByaW9yKHN0YXJ0LCBmaXJzdCkge1xuICAgIHZhciBtU3RhcnQgPSBtb21lbnQoc3RhcnQpO1xuICAgIHZhciBtRmlyc3QgPSBtb21lbnQoZmlyc3QpO1xuICAgIHJldHVybiBtU3RhcnQuaXNCZWZvcmUobUZpcnN0LCAnZGF5Jyk7XG4gIH1cbiAgZnVuY3Rpb24gY29udGludWVzQWZ0ZXIoc3RhcnQsIGVuZCwgbGFzdCkge1xuICAgIHZhciBtRW5kID0gbW9tZW50KGVuZCk7XG4gICAgdmFyIG1MYXN0ID0gbW9tZW50KGxhc3QpO1xuICAgIHJldHVybiBtRW5kLmlzU2FtZU9yQWZ0ZXIobUxhc3QsICdtaW51dGVzJyk7XG4gIH1cbiAgZnVuY3Rpb24gZGF5U3BhbihzdGFydCwgZW5kKSB7XG4gICAgdmFyIG1TdGFydCA9IG1vbWVudChzdGFydCk7XG4gICAgdmFyIG1FbmQgPSBtb21lbnQoZW5kKTtcbiAgICB2YXIgZHVyID0gbW9tZW50LmR1cmF0aW9uKG1FbmQuZGlmZihtU3RhcnQpKTtcbiAgICByZXR1cm4gZHVyLmRheXMoKTtcbiAgfVxuXG4gIC8vIFRoZXNlIHR3byBhcmUgdXNlZCBieSBldmVudExldmVsc1xuICBmdW5jdGlvbiBzb3J0RXZlbnRzKF9yZWY2KSB7XG4gICAgdmFyIF9yZWY2JGV2dEEgPSBfcmVmNi5ldnRBLFxuICAgICAgYVN0YXJ0ID0gX3JlZjYkZXZ0QS5zdGFydCxcbiAgICAgIGFFbmQgPSBfcmVmNiRldnRBLmVuZCxcbiAgICAgIGFBbGxEYXkgPSBfcmVmNiRldnRBLmFsbERheSxcbiAgICAgIF9yZWY2JGV2dEIgPSBfcmVmNi5ldnRCLFxuICAgICAgYlN0YXJ0ID0gX3JlZjYkZXZ0Qi5zdGFydCxcbiAgICAgIGJFbmQgPSBfcmVmNiRldnRCLmVuZCxcbiAgICAgIGJBbGxEYXkgPSBfcmVmNiRldnRCLmFsbERheTtcbiAgICB2YXIgc3RhcnRTb3J0ID0gK3N0YXJ0T2YoYVN0YXJ0LCAnZGF5JykgLSArc3RhcnRPZihiU3RhcnQsICdkYXknKTtcbiAgICB2YXIgZHVyQSA9IGRheVNwYW4oYVN0YXJ0LCBhRW5kKTtcbiAgICB2YXIgZHVyQiA9IGRheVNwYW4oYlN0YXJ0LCBiRW5kKTtcbiAgICByZXR1cm4gc3RhcnRTb3J0IHx8XG4gICAgLy8gc29ydCBieSBzdGFydCBEYXkgZmlyc3RcbiAgICBkdXJCIC0gZHVyQSB8fFxuICAgIC8vIGV2ZW50cyBzcGFubmluZyBtdWx0aXBsZSBkYXlzIGdvIGZpcnN0XG4gICAgISFiQWxsRGF5IC0gISFhQWxsRGF5IHx8XG4gICAgLy8gdGhlbiBhbGxEYXkgc2luZ2xlIGRheSBldmVudHNcbiAgICArYVN0YXJ0IC0gK2JTdGFydCB8fFxuICAgIC8vIHRoZW4gc29ydCBieSBzdGFydCB0aW1lICpkb24ndCBuZWVkIG1vbWVudCBjb252ZXJzaW9uIGhlcmVcbiAgICArYUVuZCAtICtiRW5kIC8vIHRoZW4gc29ydCBieSBlbmQgdGltZSAqZG9uJ3QgbmVlZCBtb21lbnQgY29udmVyc2lvbiBoZXJlIGVpdGhlclxuICAgIDtcbiAgfVxuICBmdW5jdGlvbiBpbkV2ZW50UmFuZ2UoX3JlZjcpIHtcbiAgICB2YXIgX3JlZjckZXZlbnQgPSBfcmVmNy5ldmVudCxcbiAgICAgIHN0YXJ0ID0gX3JlZjckZXZlbnQuc3RhcnQsXG4gICAgICBlbmQgPSBfcmVmNyRldmVudC5lbmQsXG4gICAgICBfcmVmNyRyYW5nZSA9IF9yZWY3LnJhbmdlLFxuICAgICAgcmFuZ2VTdGFydCA9IF9yZWY3JHJhbmdlLnN0YXJ0LFxuICAgICAgcmFuZ2VFbmQgPSBfcmVmNyRyYW5nZS5lbmQ7XG4gICAgdmFyIHN0YXJ0T2ZEYXkgPSBtb21lbnQoc3RhcnQpLnN0YXJ0T2YoJ2RheScpO1xuICAgIHZhciBlRW5kID0gbW9tZW50KGVuZCk7XG4gICAgdmFyIHJTdGFydCA9IG1vbWVudChyYW5nZVN0YXJ0KTtcbiAgICB2YXIgckVuZCA9IG1vbWVudChyYW5nZUVuZCk7XG4gICAgdmFyIHN0YXJ0c0JlZm9yZUVuZCA9IHN0YXJ0T2ZEYXkuaXNTYW1lT3JCZWZvcmUockVuZCwgJ2RheScpO1xuICAgIC8vIHdoZW4gdGhlIGV2ZW50IGlzIHplcm8gZHVyYXRpb24gd2UgbmVlZCB0byBoYW5kbGUgYSBiaXQgZGlmZmVyZW50bHlcbiAgICB2YXIgc2FtZU1pbiA9ICFzdGFydE9mRGF5LmlzU2FtZShlRW5kLCAnbWludXRlcycpO1xuICAgIHZhciBlbmRzQWZ0ZXJTdGFydCA9IHNhbWVNaW4gPyBlRW5kLmlzQWZ0ZXIoclN0YXJ0LCAnbWludXRlcycpIDogZUVuZC5pc1NhbWVPckFmdGVyKHJTdGFydCwgJ21pbnV0ZXMnKTtcbiAgICByZXR1cm4gc3RhcnRzQmVmb3JlRW5kICYmIGVuZHNBZnRlclN0YXJ0O1xuICB9XG4gIGZ1bmN0aW9uIGlzU2FtZURhdGUoZGF0ZTEsIGRhdGUyKSB7XG4gICAgdmFyIGR0ID0gbW9tZW50KGRhdGUxKTtcbiAgICB2YXIgZHQyID0gbW9tZW50KGRhdGUyKTtcbiAgICByZXR1cm4gZHQuaXNTYW1lKGR0MiwgJ2RheScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kLCBjYWxsZWQgb25jZSBpbiB0aGUgbG9jYWxpemVyIGNvbnN0cnVjdG9yLCBpcyB1c2VkIGJ5IGV2ZW50TGV2ZWxzXG4gICAqICdldmVudFNlZ21lbnRzKCknIHRvIGFzc2lzdCBpbiBkZXRlcm1pbmluZyB0aGUgJ3NwYW4nIG9mIHRoZSBldmVudCBpbiB0aGUgZGlzcGxheSxcbiAgICogc3BlY2lmaWNhbGx5IHdoZW4gdXNpbmcgYSB0aW1lem9uZSB0aGF0IGlzIGdyZWF0ZXIgdGhhbiB0aGUgYnJvd3NlciBuYXRpdmUgdGltZXpvbmUuXG4gICAqIEByZXR1cm5zIG51bWJlclxuICAgKi9cbiAgZnVuY3Rpb24gYnJvd3NlclRaT2Zmc2V0KCkge1xuICAgIC8qKlxuICAgICAqIERhdGUucHJvdG90eXBlLmdldFRpbWV6b25lT2Zmc2V0IGhvcnJpZmljYWxseSBmbGlwcyB0aGUgcG9zaXRpdmUvbmVnYXRpdmUgZnJvbVxuICAgICAqIHdoYXQgeW91IHNlZSBpbiBpdCdzIHN0cmluZywgc28gd2UgaGF2ZSB0byBqdW1wIHRocm91Z2ggc29tZSBob29wcyB0byBnZXQgYSB2YWx1ZVxuICAgICAqIHdlIGNhbiBhY3R1YWxseSBjb21wYXJlLlxuICAgICAqL1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIG5lZyA9IC8tLy50ZXN0KGR0LnRvU3RyaW5nKCkpID8gJy0nIDogJyc7XG4gICAgdmFyIGR0T2Zmc2V0ID0gZHQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICB2YXIgY29tcGFyYXRvciA9IE51bWJlcihcIlwiLmNvbmNhdChuZWcpLmNvbmNhdChNYXRoLmFicyhkdE9mZnNldCkpKTtcbiAgICAvLyBtb21lbnQgY29ycmVjdGx5IHByb3ZpZGVzIHBvc2l0aXZlL25lZ2F0aXZlIG9mZnNldCwgYXMgZXhwZWN0ZWRcbiAgICB2YXIgbXRPZmZzZXQgPSBtb21lbnQoKS51dGNPZmZzZXQoKTtcbiAgICByZXR1cm4gbXRPZmZzZXQgPiBjb21wYXJhdG9yID8gMSA6IDA7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlTG9jYWxpemVyKHtcbiAgICBmb3JtYXRzOiBmb3JtYXRzJDUsXG4gICAgZmlyc3RPZldlZWs6IGZpcnN0T2ZXZWVrLFxuICAgIGZpcnN0VmlzaWJsZURheTogZmlyc3RWaXNpYmxlRGF5LFxuICAgIGxhc3RWaXNpYmxlRGF5OiBsYXN0VmlzaWJsZURheSxcbiAgICB2aXNpYmxlRGF5czogdmlzaWJsZURheXMsXG4gICAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIF9mb3JtYXQsIGN1bHR1cmUpIHtcbiAgICAgIHJldHVybiBsb2NhbGUobW9tZW50KHZhbHVlKSwgY3VsdHVyZSkuZm9ybWF0KF9mb3JtYXQpO1xuICAgIH0sXG4gICAgbHQ6IGx0LFxuICAgIGx0ZTogbHRlLFxuICAgIGd0OiBndCxcbiAgICBndGU6IGd0ZSxcbiAgICBlcTogZXEsXG4gICAgbmVxOiBuZXEsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGluUmFuZ2U6IGluUmFuZ2UsXG4gICAgc3RhcnRPZjogc3RhcnRPZixcbiAgICBlbmRPZjogZW5kT2YsXG4gICAgcmFuZ2U6IHJhbmdlLFxuICAgIGFkZDogYWRkLFxuICAgIGRpZmY6IGRpZmYsXG4gICAgY2VpbDogY2VpbCxcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heCxcbiAgICBtaW51dGVzOiBtaW51dGVzLFxuICAgIGdldFNsb3REYXRlOiBnZXRTbG90RGF0ZSxcbiAgICBnZXRUaW1lem9uZU9mZnNldDogZ2V0VGltZXpvbmVPZmZzZXQsXG4gICAgZ2V0RHN0T2Zmc2V0OiBnZXREc3RPZmZzZXQsXG4gICAgZ2V0VG90YWxNaW46IGdldFRvdGFsTWluLFxuICAgIGdldE1pbnV0ZXNGcm9tTWlkbmlnaHQ6IGdldE1pbnV0ZXNGcm9tTWlkbmlnaHQsXG4gICAgY29udGludWVzUHJpb3I6IGNvbnRpbnVlc1ByaW9yLFxuICAgIGNvbnRpbnVlc0FmdGVyOiBjb250aW51ZXNBZnRlcixcbiAgICBzb3J0RXZlbnRzOiBzb3J0RXZlbnRzLFxuICAgIGluRXZlbnRSYW5nZTogaW5FdmVudFJhbmdlLFxuICAgIGlzU2FtZURhdGU6IGlzU2FtZURhdGUsXG4gICAgZGF5U3BhbjogZGF5U3BhbixcbiAgICBicm93c2VyVFpPZmZzZXQ6IGJyb3dzZXJUWk9mZnNldFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcGx1cmFsaXplVW5pdCh1bml0KSB7XG4gIHJldHVybiAvcyQvLnRlc3QodW5pdCkgPyB1bml0IDogdW5pdCArICdzJztcbn1cbnZhciB3ZWVrUmFuZ2VGb3JtYXQkNCA9IGZ1bmN0aW9uIHdlZWtSYW5nZUZvcm1hdChfcmVmLCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgc3RhcnQgPSBfcmVmLnN0YXJ0LFxuICAgIGVuZCA9IF9yZWYuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTU1NTSBkZCcsIGN1bHR1cmUpICsgJyDigJMgJyArXG4gIC8vIHVwZGF0ZWQgdG8gdXNlIHRoaXMgbG9jYWxpemVyICdlcSgpJyBtZXRob2RcbiAgbG9jYWwuZm9ybWF0KGVuZCwgbG9jYWwuZXEoc3RhcnQsIGVuZCwgJ21vbnRoJykgPyAnZGQnIDogJ01NTU0gZGQnLCBjdWx0dXJlKTtcbn07XG52YXIgZGF0ZVJhbmdlRm9ybWF0JDQgPSBmdW5jdGlvbiBkYXRlUmFuZ2VGb3JtYXQoX3JlZjIsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYyLnN0YXJ0LFxuICAgIGVuZCA9IF9yZWYyLmVuZDtcbiAgcmV0dXJuIGxvY2FsLmZvcm1hdChzdGFydCwgJ0QnLCBjdWx0dXJlKSArICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAnRCcsIGN1bHR1cmUpO1xufTtcbnZhciB0aW1lUmFuZ2VGb3JtYXQkNCA9IGZ1bmN0aW9uIHRpbWVSYW5nZUZvcm1hdChfcmVmMywgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjMuc3RhcnQsXG4gICAgZW5kID0gX3JlZjMuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAndCcsIGN1bHR1cmUpICsgJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsICd0JywgY3VsdHVyZSk7XG59O1xudmFyIHRpbWVSYW5nZVN0YXJ0Rm9ybWF0JDQgPSBmdW5jdGlvbiB0aW1lUmFuZ2VTdGFydEZvcm1hdChfcmVmNCwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjQuc3RhcnQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsICd0JywgY3VsdHVyZSkgKyAnIOKAkyAnO1xufTtcbnZhciB0aW1lUmFuZ2VFbmRGb3JtYXQkNCA9IGZ1bmN0aW9uIHRpbWVSYW5nZUVuZEZvcm1hdChfcmVmNSwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIGVuZCA9IF9yZWY1LmVuZDtcbiAgcmV0dXJuICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAndCcsIGN1bHR1cmUpO1xufTtcbnZhciBmb3JtYXRzJDQgPSB7XG4gIGRhdGVGb3JtYXQ6ICdkZCcsXG4gIGRheUZvcm1hdDogJ2RkIEVFRScsXG4gIHdlZWtkYXlGb3JtYXQ6ICdFRUUnLFxuICBzZWxlY3RSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDQsXG4gIGV2ZW50VGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkNCxcbiAgZXZlbnRUaW1lUmFuZ2VTdGFydEZvcm1hdDogdGltZVJhbmdlU3RhcnRGb3JtYXQkNCxcbiAgZXZlbnRUaW1lUmFuZ2VFbmRGb3JtYXQ6IHRpbWVSYW5nZUVuZEZvcm1hdCQ0LFxuICB0aW1lR3V0dGVyRm9ybWF0OiAndCcsXG4gIG1vbnRoSGVhZGVyRm9ybWF0OiAnTU1NTSB5eXl5JyxcbiAgZGF5SGVhZGVyRm9ybWF0OiAnRUVFRSBNTU0gZGQnLFxuICBkYXlSYW5nZUhlYWRlckZvcm1hdDogd2Vla1JhbmdlRm9ybWF0JDQsXG4gIGFnZW5kYUhlYWRlckZvcm1hdDogZGF0ZVJhbmdlRm9ybWF0JDQsXG4gIGFnZW5kYURhdGVGb3JtYXQ6ICdFRUUgTU1NIGRkJyxcbiAgYWdlbmRhVGltZUZvcm1hdDogJ3QnLFxuICBhZ2VuZGFUaW1lUmFuZ2VGb3JtYXQ6IHRpbWVSYW5nZUZvcm1hdCQ0XG59O1xuZnVuY3Rpb24gZml4VW5pdCQxKHVuaXQpIHtcbiAgdmFyIGRhdGVQYXJ0ID0gdW5pdCA/IHBsdXJhbGl6ZVVuaXQodW5pdC50b0xvd2VyQ2FzZSgpKSA6IHVuaXQ7XG4gIGlmIChkYXRlUGFydCA9PT0gJ0Z1bGxZZWFyJykge1xuICAgIGRhdGVQYXJ0ID0gJ3llYXInO1xuICB9IGVsc2UgaWYgKCFkYXRlUGFydCkge1xuICAgIGRhdGVQYXJ0ID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBkYXRlUGFydDtcbn1cblxuLy8gTHV4b24gZG9lcyBub3QgY3VycmVudGx5IGhhdmUgd2Vla0luZm8gYnkgY3VsdHVyZVxuLy8gTHV4b24gdXNlcyAxIGJhc2VkIHZhbHVlcyBmb3IgbW9udGggYW5kIHdlZWtkYXlcbi8vIFNvIHdlIGRlZmF1bHQgdG8gU3VuZGF5ICg3KVxuZnVuY3Rpb24gbHV4b24gKERhdGVUaW1lKSB7XG4gIHZhciBfcmVmNiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgX3JlZjYkZmlyc3REYXlPZldlZWsgPSBfcmVmNi5maXJzdERheU9mV2VlayxcbiAgICBmaXJzdERheU9mV2VlayA9IF9yZWY2JGZpcnN0RGF5T2ZXZWVrID09PSB2b2lkIDAgPyA3IDogX3JlZjYkZmlyc3REYXlPZldlZWs7XG4gIGZ1bmN0aW9uIGZvcm1hdERhdGUodmFsdWUsIGZvcm1hdCkge1xuICAgIHJldHVybiBEYXRlVGltZS5mcm9tSlNEYXRlKHZhbHVlKS50b0Zvcm1hdChmb3JtYXQpO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdERhdGVXaXRoQ3VsdHVyZSh2YWx1ZSwgY3VsdHVyZSwgZm9ybWF0KSB7XG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21KU0RhdGUodmFsdWUpLnNldExvY2FsZShjdWx0dXJlKS50b0Zvcm1hdChmb3JtYXQpO1xuICB9XG5cbiAgLyoqKiBCRUdJTiBsb2NhbGl6ZWQgZGF0ZSBhcml0aG1ldGljIG1ldGhvZHMgd2l0aCBMdXhvbiAqKiovXG4gIGZ1bmN0aW9uIGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpIHtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDEodW5pdCk7XG4gICAgdmFyIGR0QSA9IGRhdGVQYXJ0ID8gRGF0ZVRpbWUuZnJvbUpTRGF0ZShhKS5zdGFydE9mKGRhdGVQYXJ0KSA6IERhdGVUaW1lLmZyb21KU0RhdGUoYSk7XG4gICAgdmFyIGR0QiA9IGRhdGVQYXJ0ID8gRGF0ZVRpbWUuZnJvbUpTRGF0ZShiKS5zdGFydE9mKGRhdGVQYXJ0KSA6IERhdGVUaW1lLmZyb21KU0RhdGUoYik7XG4gICAgcmV0dXJuIFtkdEEsIGR0QiwgZGF0ZVBhcnRdO1xuICB9XG5cbiAgLy8gU2luY2UgTHV4b24gKGFuZCBjdXJyZW50IEludGwgQVBJKSBoYXMgbm8gc3VwcG9ydFxuICAvLyBmb3IgY3VsdHVyZSBiYXNlZCB3ZWVrSW5mbywgd2UgbmVlZCB0byBoYW5kbGVcbiAgLy8gdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGRpZmZlcmVudGx5XG4gIC8vIGRlcGVuZGluZyBvbiBsb2NhbGUsIHRoZSBmaXJzdERheU9mV2VlayBjb3VsZCBhbHNvIGJlIFNhdHVyZGF5LCBTdW5kYXkgb3IgTW9uZGF5XG4gIGZ1bmN0aW9uIHN0YXJ0T2ZEVFdlZWsoZHRPYmopIHtcbiAgICB2YXIgd2Vla2RheSA9IGR0T2JqLndlZWtkYXk7XG4gICAgaWYgKHdlZWtkYXkgPT09IGZpcnN0RGF5T2ZXZWVrKSB7XG4gICAgICByZXR1cm4gZHRPYmouc3RhcnRPZignZGF5Jyk7IC8vIGFscmVhZHkgYmVnaW5uaW5nIG9mIHdlZWtcbiAgICB9IGVsc2UgaWYgKGZpcnN0RGF5T2ZXZWVrID09PSAxKSB7XG4gICAgICByZXR1cm4gZHRPYmouc3RhcnRPZignd2VlaycpOyAvLyBmb3cgaXMgTW9uZGF5LCB3aGljaCBpcyBMdXhvbiBkZWZhdWx0XG4gICAgfVxuICAgIHZhciBkaWZmID0gZmlyc3REYXlPZldlZWsgPT09IDcgPyB3ZWVrZGF5IDogd2Vla2RheSArICg3IC0gZmlyc3REYXlPZldlZWspO1xuICAgIHJldHVybiBkdE9iai5taW51cyh7XG4gICAgICBkYXk6IGRpZmZcbiAgICB9KS5zdGFydE9mKCdkYXknKTtcbiAgfVxuICBmdW5jdGlvbiBlbmRPZkRUV2VlayhkdE9iaikge1xuICAgIHZhciB3ZWVrZGF5ID0gZHRPYmoud2Vla2RheTtcbiAgICB2YXIgZW93ID0gZmlyc3REYXlPZldlZWsgPT09IDEgPyA3IDogZmlyc3REYXlPZldlZWsgLSAxO1xuICAgIGlmICh3ZWVrZGF5ID09PSBlb3cpIHtcbiAgICAgIHJldHVybiBkdE9iai5lbmRPZignZGF5Jyk7IC8vIGFscmVhZHkgbGFzdCBkYXkgb2YgdGhlIHdlZWtcbiAgICB9IGVsc2UgaWYgKGZpcnN0RGF5T2ZXZWVrID09PSAxKSB7XG4gICAgICByZXR1cm4gZHRPYmouZW5kT2YoJ3dlZWsnKTsgLy8gdXNlIEx1eG9uIGRlZmF1bHQgKFN1bmRheSlcbiAgICB9XG4gICAgdmFyIGZyb21EYXRlID0gZmlyc3REYXlPZldlZWsgPiBlb3cgPyBkdE9iai5wbHVzKHtcbiAgICAgIGRheTogZmlyc3REYXlPZldlZWsgLSBlb3dcbiAgICB9KSA6IGR0T2JqO1xuICAgIHJldHVybiBmcm9tRGF0ZS5zZXQoe1xuICAgICAgd2Vla2RheTogZW93XG4gICAgfSkuZW5kT2YoJ2RheScpO1xuICB9XG5cbiAgLy8gVGhpcyByZXR1cm5zIGEgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgZnVuY3Rpb24gc3RhcnRPZkRUKCkge1xuICAgIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBuZXcgRGF0ZSgpO1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCQxKHVuaXQpO1xuICAgIGlmIChkYXRlUGFydCkge1xuICAgICAgdmFyIGR0ID0gRGF0ZVRpbWUuZnJvbUpTRGF0ZShkYXRlKTtcbiAgICAgIHJldHVybiBkYXRlUGFydC5pbmNsdWRlcygnd2VlaycpID8gc3RhcnRPZkRUV2VlayhkdCkgOiBkdC5zdGFydE9mKGRhdGVQYXJ0KTtcbiAgICB9XG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21KU0RhdGUoZGF0ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZmlyc3RPZldlZWsoKSB7XG4gICAgcmV0dXJuIGZpcnN0RGF5T2ZXZWVrO1xuICB9XG5cbiAgLy8gVGhpcyByZXR1cm5zIGEgSlMgRGF0ZSBmcm9tIGEgRGF0ZVRpbWUgaW5zdGFuY2VcbiAgZnVuY3Rpb24gc3RhcnRPZigpIHtcbiAgICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbmV3IERhdGUoKTtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGFydE9mRFQoZGF0ZSwgdW5pdCkudG9KU0RhdGUoKTtcbiAgfVxuXG4gIC8vIFRoaXMgcmV0dXJucyBhIERhdGVUaW1lIGluc3RhbmNlXG4gIGZ1bmN0aW9uIGVuZE9mRFQoKSB7XG4gICAgdmFyIGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBEYXRlKCk7XG4gICAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDEodW5pdCk7XG4gICAgaWYgKGRhdGVQYXJ0KSB7XG4gICAgICB2YXIgZHQgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGUpO1xuICAgICAgcmV0dXJuIGRhdGVQYXJ0LmluY2x1ZGVzKCd3ZWVrJykgPyBlbmRPZkRUV2VlayhkdCkgOiBkdC5lbmRPZihkYXRlUGFydCk7XG4gICAgfVxuICAgIHJldHVybiBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGVuZE9mKCkge1xuICAgIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBuZXcgRGF0ZSgpO1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGVuZE9mRFQoZGF0ZSwgdW5pdCkudG9KU0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBlcShhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9ycyA9IGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpLFxuICAgICAgX2RlZmluZUNvbXBhcmF0b3JzMiA9IF9zbGljZWRUb0FycmF5KF9kZWZpbmVDb21wYXJhdG9ycywgMiksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnMyWzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzMlsxXTtcbiAgICByZXR1cm4gK2R0QSA9PSArZHRCO1xuICB9XG4gIGZ1bmN0aW9uIG5lcShhLCBiLCB1bml0KSB7XG4gICAgcmV0dXJuICFlcShhLCBiLCB1bml0KTtcbiAgfVxuICBmdW5jdGlvbiBndChhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9yczMgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczQgPSBfc2xpY2VkVG9BcnJheShfZGVmaW5lQ29tcGFyYXRvcnMzLCAyKSxcbiAgICAgIGR0QSA9IF9kZWZpbmVDb21wYXJhdG9yczRbMF0sXG4gICAgICBkdEIgPSBfZGVmaW5lQ29tcGFyYXRvcnM0WzFdO1xuICAgIHJldHVybiArZHRBID4gK2R0QjtcbiAgfVxuICBmdW5jdGlvbiBsdChhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9yczUgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczYgPSBfc2xpY2VkVG9BcnJheShfZGVmaW5lQ29tcGFyYXRvcnM1LCAyKSxcbiAgICAgIGR0QSA9IF9kZWZpbmVDb21wYXJhdG9yczZbMF0sXG4gICAgICBkdEIgPSBfZGVmaW5lQ29tcGFyYXRvcnM2WzFdO1xuICAgIHJldHVybiArZHRBIDwgK2R0QjtcbiAgfVxuICBmdW5jdGlvbiBndGUoYSwgYiwgdW5pdCkge1xuICAgIHZhciBfZGVmaW5lQ29tcGFyYXRvcnM3ID0gZGVmaW5lQ29tcGFyYXRvcnMoYSwgYiwgdW5pdCksXG4gICAgICBfZGVmaW5lQ29tcGFyYXRvcnM4ID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzNywgMiksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnM4WzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzOFsxXTtcbiAgICByZXR1cm4gK2R0QSA+PSArZHRCO1xuICB9XG4gIGZ1bmN0aW9uIGx0ZShhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9yczkgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczEwID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzOSwgMiksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnMxMFswXSxcbiAgICAgIGR0QiA9IF9kZWZpbmVDb21wYXJhdG9yczEwWzFdO1xuICAgIHJldHVybiArZHRBIDw9ICtkdEI7XG4gIH1cbiAgZnVuY3Rpb24gaW5SYW5nZShkYXksIG1pbiwgbWF4KSB7XG4gICAgdmFyIHVuaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdkYXknO1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQkMSh1bml0KTtcbiAgICB2YXIgbURheSA9IHN0YXJ0T2ZEVChkYXksIGRhdGVQYXJ0KTtcbiAgICB2YXIgbU1pbiA9IHN0YXJ0T2ZEVChtaW4sIGRhdGVQYXJ0KTtcbiAgICB2YXIgbU1heCA9IHN0YXJ0T2ZEVChtYXgsIGRhdGVQYXJ0KTtcbiAgICByZXR1cm4gK21EYXkgPj0gK21NaW4gJiYgK21EYXkgPD0gK21NYXg7XG4gIH1cbiAgZnVuY3Rpb24gbWluKGRhdGVBLCBkYXRlQikge1xuICAgIHZhciBkdEEgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGVBKTtcbiAgICB2YXIgZHRCID0gRGF0ZVRpbWUuZnJvbUpTRGF0ZShkYXRlQik7XG4gICAgdmFyIG1pbkR0ID0gRGF0ZVRpbWUubWluKGR0QSwgZHRCKTtcbiAgICByZXR1cm4gbWluRHQudG9KU0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBtYXgoZGF0ZUEsIGRhdGVCKSB7XG4gICAgdmFyIGR0QSA9IERhdGVUaW1lLmZyb21KU0RhdGUoZGF0ZUEpO1xuICAgIHZhciBkdEIgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGVCKTtcbiAgICB2YXIgbWF4RHQgPSBEYXRlVGltZS5tYXgoZHRBLCBkdEIpO1xuICAgIHJldHVybiBtYXhEdC50b0pTRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIG1lcmdlKGRhdGUsIHRpbWUpIHtcbiAgICBpZiAoIWRhdGUgJiYgIXRpbWUpIHJldHVybiBudWxsO1xuICAgIHZhciB0bSA9IERhdGVUaW1lLmZyb21KU0RhdGUodGltZSk7XG4gICAgdmFyIGR0ID0gc3RhcnRPZkRUKGRhdGUsICdkYXknKTtcbiAgICByZXR1cm4gZHQuc2V0KHtcbiAgICAgIGhvdXI6IHRtLmhvdXIsXG4gICAgICBtaW51dGU6IHRtLm1pbnV0ZSxcbiAgICAgIHNlY29uZDogdG0uc2Vjb25kLFxuICAgICAgbWlsbGlzZWNvbmQ6IHRtLm1pbGxpc2Vjb25kXG4gICAgfSkudG9KU0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBhZGQoZGF0ZSwgYWRkZXIsIHVuaXQpIHtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDEodW5pdCk7XG4gICAgcmV0dXJuIERhdGVUaW1lLmZyb21KU0RhdGUoZGF0ZSkucGx1cyhfZGVmaW5lUHJvcGVydHkoe30sIGRhdGVQYXJ0LCBhZGRlcikpLnRvSlNEYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZGF5JztcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDEodW5pdCk7XG4gICAgdmFyIGN1cnJlbnQgPSBEYXRlVGltZS5mcm9tSlNEYXRlKHN0YXJ0KS50b0pTRGF0ZSgpOyAvLyB0aGlzIGlzIHRvIGdldCBpdCB0byB0elxuICAgIHZhciBkYXlzID0gW107XG4gICAgd2hpbGUgKGx0ZShjdXJyZW50LCBlbmQpKSB7XG4gICAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gYWRkKGN1cnJlbnQsIDEsIGRhdGVQYXJ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXM7XG4gIH1cbiAgZnVuY3Rpb24gY2VpbChkYXRlLCB1bml0KSB7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCQxKHVuaXQpO1xuICAgIHZhciBmbG9vciA9IHN0YXJ0T2YoZGF0ZSwgZGF0ZVBhcnQpO1xuICAgIHJldHVybiBlcShmbG9vciwgZGF0ZSkgPyBmbG9vciA6IGFkZChmbG9vciwgMSwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmYoYSwgYikge1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZGF5JztcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0JDEodW5pdCk7XG4gICAgLy8gZG9uJ3QgdXNlICdkZWZpbmVDb21wYXJhdG9ycycgaGVyZSwgYXMgd2UgZG9uJ3Qgd2FudCB0byBtdXRhdGUgdGhlIHZhbHVlc1xuICAgIHZhciBkdEEgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGEpO1xuICAgIHZhciBkdEIgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGIpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKGR0Qi5kaWZmKGR0QSwgZGF0ZVBhcnQsIHtcbiAgICAgIGNvbnZlcnNpb25BY2N1cmFjeTogJ2xvbmd0ZXJtJ1xuICAgIH0pLnRvT2JqZWN0KClbZGF0ZVBhcnRdKTtcbiAgfVxuICBmdW5jdGlvbiBmaXJzdFZpc2libGVEYXkoZGF0ZSkge1xuICAgIHZhciBzdGFydE9mTW9udGggPSBzdGFydE9mRFQoZGF0ZSwgJ21vbnRoJyk7XG4gICAgcmV0dXJuIHN0YXJ0T2ZEVFdlZWsoc3RhcnRPZk1vbnRoKS50b0pTRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIGxhc3RWaXNpYmxlRGF5KGRhdGUpIHtcbiAgICB2YXIgZW5kT2ZNb250aCA9IGVuZE9mRFQoZGF0ZSwgJ21vbnRoJyk7XG4gICAgcmV0dXJuIGVuZE9mRFRXZWVrKGVuZE9mTW9udGgpLnRvSlNEYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gdmlzaWJsZURheXMoZGF0ZSkge1xuICAgIHZhciBjdXJyZW50ID0gZmlyc3RWaXNpYmxlRGF5KGRhdGUpO1xuICAgIHZhciBsYXN0ID0gbGFzdFZpc2libGVEYXkoZGF0ZSk7XG4gICAgdmFyIGRheXMgPSBbXTtcbiAgICB3aGlsZSAobHRlKGN1cnJlbnQsIGxhc3QpKSB7XG4gICAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gYWRkKGN1cnJlbnQsIDEsICdkYXknKTtcbiAgICB9XG4gICAgcmV0dXJuIGRheXM7XG4gIH1cbiAgLyoqKiBFTkQgbG9jYWxpemVkIGRhdGUgYXJpdGhtZXRpYyBtZXRob2RzIHdpdGggbW9tZW50ICoqKi9cblxuICAvKipcbiAgICogTW92ZWQgZnJvbSBUaW1lU2xvdHMuanMsIHRoaXMgbWV0aG9kIG92ZXJyaWRlcyB0aGUgbWV0aG9kIG9mIHRoZSBzYW1lIG5hbWVcbiAgICogaW4gdGhlIGxvY2FsaXplci5qcywgdXNpbmcgbW9tZW50IHRvIGNvbnN0cnVjdCB0aGUganMgRGF0ZVxuICAgKiBAcGFyYW0ge0RhdGV9IGR0IC0gZGF0ZSB0byBzdGFydCB3aXRoXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtaW51dGVzRnJvbU1pZG5pZ2h0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRcbiAgICogQHJldHVybnMge0RhdGV9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRTbG90RGF0ZShkdCwgbWludXRlc0Zyb21NaWRuaWdodCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIHN0YXJ0T2ZEVChkdCwgJ2RheScpLnNldCh7XG4gICAgICBtaW51dGVzOiBtaW51dGVzRnJvbU1pZG5pZ2h0ICsgb2Zmc2V0XG4gICAgfSkudG9KU0RhdGUoKTtcbiAgfVxuXG4gIC8vIEx1eG9uIHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgRFNUIGRpZmZlcmVuY2VzIGluIGl0J3MgY2FsY3VsYXRpb25zXG4gIGZ1bmN0aW9uIGdldFRvdGFsTWluKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZGlmZihzdGFydCwgZW5kLCAnbWludXRlcycpO1xuICB9XG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tTWlkbmlnaHQoc3RhcnQpIHtcbiAgICB2YXIgZGF5U3RhcnQgPSBzdGFydE9mRFQoc3RhcnQsICdkYXknKTtcbiAgICB2YXIgZGF5ID0gRGF0ZVRpbWUuZnJvbUpTRGF0ZShzdGFydCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoZGF5LmRpZmYoZGF5U3RhcnQsICdtaW51dGVzJywge1xuICAgICAgY29udmVyc2lvbkFjY3VyYWN5OiAnbG9uZ3Rlcm0nXG4gICAgfSkudG9PYmplY3QoKS5taW51dGVzKTtcbiAgfVxuXG4gIC8vIFRoZXNlIHR3byBhcmUgdXNlZCBieSBEYXRlU2xvdE1ldHJpY3NcbiAgZnVuY3Rpb24gY29udGludWVzUHJpb3Ioc3RhcnQsIGZpcnN0KSB7XG4gICAgcmV0dXJuIGx0KHN0YXJ0LCBmaXJzdCk7XG4gIH1cbiAgZnVuY3Rpb24gY29udGludWVzQWZ0ZXIoc3RhcnQsIGVuZCwgbGFzdCkge1xuICAgIHJldHVybiBndGUoZW5kLCBsYXN0KTtcbiAgfVxuICBmdW5jdGlvbiBkYXlTcGFuKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgZHRTdGFydCA9IERhdGVUaW1lLmZyb21KU0RhdGUoc3RhcnQpO1xuICAgIHZhciBkdEVuZCA9IERhdGVUaW1lLmZyb21KU0RhdGUoZW5kKTtcbiAgICByZXR1cm4gZHRFbmQuZGlmZihkdFN0YXJ0KS5hcygnZGF5cycpO1xuICB9XG5cbiAgLy8gVGhlc2UgdHdvIGFyZSB1c2VkIGJ5IGV2ZW50TGV2ZWxzXG4gIGZ1bmN0aW9uIHNvcnRFdmVudHMoX3JlZjcpIHtcbiAgICB2YXIgX3JlZjckZXZ0QSA9IF9yZWY3LmV2dEEsXG4gICAgICBhU3RhcnQgPSBfcmVmNyRldnRBLnN0YXJ0LFxuICAgICAgYUVuZCA9IF9yZWY3JGV2dEEuZW5kLFxuICAgICAgYUFsbERheSA9IF9yZWY3JGV2dEEuYWxsRGF5LFxuICAgICAgX3JlZjckZXZ0QiA9IF9yZWY3LmV2dEIsXG4gICAgICBiU3RhcnQgPSBfcmVmNyRldnRCLnN0YXJ0LFxuICAgICAgYkVuZCA9IF9yZWY3JGV2dEIuZW5kLFxuICAgICAgYkFsbERheSA9IF9yZWY3JGV2dEIuYWxsRGF5O1xuICAgIHZhciBzdGFydFNvcnQgPSArc3RhcnRPZihhU3RhcnQsICdkYXknKSAtICtzdGFydE9mKGJTdGFydCwgJ2RheScpO1xuICAgIHZhciBkdXJBID0gZGF5U3BhbihhU3RhcnQsIGFFbmQpO1xuICAgIHZhciBkdXJCID0gZGF5U3BhbihiU3RhcnQsIGJFbmQpO1xuICAgIHJldHVybiBzdGFydFNvcnQgfHxcbiAgICAvLyBzb3J0IGJ5IHN0YXJ0IERheSBmaXJzdFxuICAgIGR1ckIgLSBkdXJBIHx8XG4gICAgLy8gZXZlbnRzIHNwYW5uaW5nIG11bHRpcGxlIGRheXMgZ28gZmlyc3RcbiAgICAhIWJBbGxEYXkgLSAhIWFBbGxEYXkgfHxcbiAgICAvLyB0aGVuIGFsbERheSBzaW5nbGUgZGF5IGV2ZW50c1xuICAgICthU3RhcnQgLSArYlN0YXJ0IHx8XG4gICAgLy8gdGhlbiBzb3J0IGJ5IHN0YXJ0IHRpbWUgKmRvbid0IG5lZWQgbW9tZW50IGNvbnZlcnNpb24gaGVyZVxuICAgICthRW5kIC0gK2JFbmQgLy8gdGhlbiBzb3J0IGJ5IGVuZCB0aW1lICpkb24ndCBuZWVkIG1vbWVudCBjb252ZXJzaW9uIGhlcmUgZWl0aGVyXG4gICAgO1xuICB9XG4gIGZ1bmN0aW9uIGluRXZlbnRSYW5nZShfcmVmOCkge1xuICAgIHZhciBfcmVmOCRldmVudCA9IF9yZWY4LmV2ZW50LFxuICAgICAgc3RhcnQgPSBfcmVmOCRldmVudC5zdGFydCxcbiAgICAgIGVuZCA9IF9yZWY4JGV2ZW50LmVuZCxcbiAgICAgIF9yZWY4JHJhbmdlID0gX3JlZjgucmFuZ2UsXG4gICAgICByYW5nZVN0YXJ0ID0gX3JlZjgkcmFuZ2Uuc3RhcnQsXG4gICAgICByYW5nZUVuZCA9IF9yZWY4JHJhbmdlLmVuZDtcbiAgICB2YXIgZVN0YXJ0ID0gc3RhcnRPZihzdGFydCwgJ2RheScpO1xuICAgIHZhciBzdGFydHNCZWZvcmVFbmQgPSBsdGUoZVN0YXJ0LCByYW5nZUVuZCwgJ2RheScpO1xuICAgIC8vIHdoZW4gdGhlIGV2ZW50IGlzIHplcm8gZHVyYXRpb24gd2UgbmVlZCB0byBoYW5kbGUgYSBiaXQgZGlmZmVyZW50bHlcbiAgICB2YXIgc2FtZU1pbiA9IG5lcShlU3RhcnQsIGVuZCwgJ21pbnV0ZXMnKTtcbiAgICB2YXIgZW5kc0FmdGVyU3RhcnQgPSBzYW1lTWluID8gZ3QoZW5kLCByYW5nZVN0YXJ0LCAnbWludXRlcycpIDogZ3RlKGVuZCwgcmFuZ2VTdGFydCwgJ21pbnV0ZXMnKTtcbiAgICByZXR1cm4gc3RhcnRzQmVmb3JlRW5kICYmIGVuZHNBZnRlclN0YXJ0O1xuICB9XG5cbiAgLy8gbW9tZW50IHRyZWF0cyAnZGF5JyBhbmQgJ2RhdGUnIGVxdWFsaXR5IHZlcnkgZGlmZmVyZW50XG4gIC8vIG1vbWVudChkYXRlMSkuaXNTYW1lKGRhdGUyLCAnZGF5Jykgd291bGQgdGVzdCB0aGF0IHRoZXkgd2VyZSBib3RoIHRoZSBzYW1lIGRheSBvZiB0aGUgd2Vla1xuICAvLyBtb21lbnQoZGF0ZTEpLmlzU2FtZShkYXRlMiwgJ2RhdGUnKSB3b3VsZCB0ZXN0IHRoYXQgdGhleSB3ZXJlIGJvdGggdGhlIHNhbWUgZGF0ZSBvZiB0aGUgbW9udGggb2YgdGhlIHllYXJcbiAgZnVuY3Rpb24gaXNTYW1lRGF0ZShkYXRlMSwgZGF0ZTIpIHtcbiAgICB2YXIgZHQgPSBEYXRlVGltZS5mcm9tSlNEYXRlKGRhdGUxKTtcbiAgICB2YXIgZHQyID0gRGF0ZVRpbWUuZnJvbUpTRGF0ZShkYXRlMik7XG4gICAgcmV0dXJuIGR0Lmhhc1NhbWUoZHQyLCAnZGF5Jyk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QsIGNhbGxlZCBvbmNlIGluIHRoZSBsb2NhbGl6ZXIgY29uc3RydWN0b3IsIGlzIHVzZWQgYnkgZXZlbnRMZXZlbHNcbiAgICogJ2V2ZW50U2VnbWVudHMoKScgdG8gYXNzaXN0IGluIGRldGVybWluaW5nIHRoZSAnc3Bhbicgb2YgdGhlIGV2ZW50IGluIHRoZSBkaXNwbGF5LFxuICAgKiBzcGVjaWZpY2FsbHkgd2hlbiB1c2luZyBhIHRpbWV6b25lIHRoYXQgaXMgZ3JlYXRlciB0aGFuIHRoZSBicm93c2VyIG5hdGl2ZSB0aW1lem9uZS5cbiAgICogQHJldHVybnMgbnVtYmVyXG4gICAqL1xuICBmdW5jdGlvbiBicm93c2VyVFpPZmZzZXQoKSB7XG4gICAgLyoqXG4gICAgICogRGF0ZS5wcm90b3R5cGUuZ2V0VGltZXpvbmVPZmZzZXQgaG9ycmlmaWNhbGx5IGZsaXBzIHRoZSBwb3NpdGl2ZS9uZWdhdGl2ZSBmcm9tXG4gICAgICogd2hhdCB5b3Ugc2VlIGluIGl0J3Mgc3RyaW5nLCBzbyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBzb21lIGhvb3BzIHRvIGdldCBhIHZhbHVlXG4gICAgICogd2UgY2FuIGFjdHVhbGx5IGNvbXBhcmUuXG4gICAgICovXG4gICAgdmFyIGR0ID0gbmV3IERhdGUoKTtcbiAgICB2YXIgbmVnID0gLy0vLnRlc3QoZHQudG9TdHJpbmcoKSkgPyAnLScgOiAnJztcbiAgICB2YXIgZHRPZmZzZXQgPSBkdC5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIHZhciBjb21wYXJhdG9yID0gTnVtYmVyKFwiXCIuY29uY2F0KG5lZykuY29uY2F0KE1hdGguYWJzKGR0T2Zmc2V0KSkpO1xuICAgIC8vIG1vbWVudCBjb3JyZWN0bHkgcHJvdmlkZXMgcG9zaXRpdmUvbmVnYXRpdmUgb2Zmc2V0LCBhcyBleHBlY3RlZFxuICAgIHZhciBtdE9mZnNldCA9IERhdGVUaW1lLmxvY2FsKCkub2Zmc2V0O1xuICAgIHJldHVybiBtdE9mZnNldCA+IGNvbXBhcmF0b3IgPyAxIDogMDtcbiAgfVxuICByZXR1cm4gbmV3IERhdGVMb2NhbGl6ZXIoe1xuICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBfZm9ybWF0LCBjdWx0dXJlKSB7XG4gICAgICBpZiAoY3VsdHVyZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZVdpdGhDdWx0dXJlKHZhbHVlLCBjdWx0dXJlLCBfZm9ybWF0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmb3JtYXREYXRlKHZhbHVlLCBfZm9ybWF0KTtcbiAgICB9LFxuICAgIGZvcm1hdHM6IGZvcm1hdHMkNCxcbiAgICBmaXJzdE9mV2VlazogZmlyc3RPZldlZWssXG4gICAgZmlyc3RWaXNpYmxlRGF5OiBmaXJzdFZpc2libGVEYXksXG4gICAgbGFzdFZpc2libGVEYXk6IGxhc3RWaXNpYmxlRGF5LFxuICAgIHZpc2libGVEYXlzOiB2aXNpYmxlRGF5cyxcbiAgICBsdDogbHQsXG4gICAgbHRlOiBsdGUsXG4gICAgZ3Q6IGd0LFxuICAgIGd0ZTogZ3RlLFxuICAgIGVxOiBlcSxcbiAgICBuZXE6IG5lcSxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgaW5SYW5nZTogaW5SYW5nZSxcbiAgICBzdGFydE9mOiBzdGFydE9mLFxuICAgIGVuZE9mOiBlbmRPZixcbiAgICByYW5nZTogcmFuZ2UsXG4gICAgYWRkOiBhZGQsXG4gICAgZGlmZjogZGlmZixcbiAgICBjZWlsOiBjZWlsLFxuICAgIG1pbjogbWluLFxuICAgIG1heDogbWF4LFxuICAgIGdldFNsb3REYXRlOiBnZXRTbG90RGF0ZSxcbiAgICBnZXRUb3RhbE1pbjogZ2V0VG90YWxNaW4sXG4gICAgZ2V0TWludXRlc0Zyb21NaWRuaWdodDogZ2V0TWludXRlc0Zyb21NaWRuaWdodCxcbiAgICBjb250aW51ZXNQcmlvcjogY29udGludWVzUHJpb3IsXG4gICAgY29udGludWVzQWZ0ZXI6IGNvbnRpbnVlc0FmdGVyLFxuICAgIHNvcnRFdmVudHM6IHNvcnRFdmVudHMsXG4gICAgaW5FdmVudFJhbmdlOiBpbkV2ZW50UmFuZ2UsXG4gICAgaXNTYW1lRGF0ZTogaXNTYW1lRGF0ZSxcbiAgICBkYXlTcGFuOiBkYXlTcGFuLFxuICAgIGJyb3dzZXJUWk9mZnNldDogYnJvd3NlclRaT2Zmc2V0XG4gIH0pO1xufVxuXG52YXIgZGF0ZVJhbmdlRm9ybWF0JDMgPSBmdW5jdGlvbiBkYXRlUmFuZ2VGb3JtYXQoX3JlZiwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZi5zdGFydCxcbiAgICBlbmQgPSBfcmVmLmVuZDtcbiAgcmV0dXJuIGxvY2FsLmZvcm1hdChzdGFydCwgJ2QnLCBjdWx0dXJlKSArICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAnZCcsIGN1bHR1cmUpO1xufTtcbnZhciB0aW1lUmFuZ2VGb3JtYXQkMyA9IGZ1bmN0aW9uIHRpbWVSYW5nZUZvcm1hdChfcmVmMiwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjIuc3RhcnQsXG4gICAgZW5kID0gX3JlZjIuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAndCcsIGN1bHR1cmUpICsgJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsICd0JywgY3VsdHVyZSk7XG59O1xudmFyIHRpbWVSYW5nZVN0YXJ0Rm9ybWF0JDMgPSBmdW5jdGlvbiB0aW1lUmFuZ2VTdGFydEZvcm1hdChfcmVmMywgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjMuc3RhcnQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsICd0JywgY3VsdHVyZSkgKyAnIOKAkyAnO1xufTtcbnZhciB0aW1lUmFuZ2VFbmRGb3JtYXQkMyA9IGZ1bmN0aW9uIHRpbWVSYW5nZUVuZEZvcm1hdChfcmVmNCwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIGVuZCA9IF9yZWY0LmVuZDtcbiAgcmV0dXJuICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAndCcsIGN1bHR1cmUpO1xufTtcbnZhciB3ZWVrUmFuZ2VGb3JtYXQkMyA9IGZ1bmN0aW9uIHdlZWtSYW5nZUZvcm1hdChfcmVmNSwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjUuc3RhcnQsXG4gICAgZW5kID0gX3JlZjUuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTU1NIGRkJywgY3VsdHVyZSkgKyAnIOKAkyAnICsgbG9jYWwuZm9ybWF0KGVuZCwgZXEoc3RhcnQsIGVuZCwgJ21vbnRoJykgPyAnZGQnIDogJ01NTSBkZCcsIGN1bHR1cmUpO1xufTtcbnZhciBmb3JtYXRzJDMgPSB7XG4gIGRhdGVGb3JtYXQ6ICdkZCcsXG4gIGRheUZvcm1hdDogJ2RkZCBkZC9NTScsXG4gIHdlZWtkYXlGb3JtYXQ6ICdkZGQnLFxuICBzZWxlY3RSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDMsXG4gIGV2ZW50VGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkMyxcbiAgZXZlbnRUaW1lUmFuZ2VTdGFydEZvcm1hdDogdGltZVJhbmdlU3RhcnRGb3JtYXQkMyxcbiAgZXZlbnRUaW1lUmFuZ2VFbmRGb3JtYXQ6IHRpbWVSYW5nZUVuZEZvcm1hdCQzLFxuICB0aW1lR3V0dGVyRm9ybWF0OiAndCcsXG4gIG1vbnRoSGVhZGVyRm9ybWF0OiAnWScsXG4gIGRheUhlYWRlckZvcm1hdDogJ2RkZGQgTU1NIGRkJyxcbiAgZGF5UmFuZ2VIZWFkZXJGb3JtYXQ6IHdlZWtSYW5nZUZvcm1hdCQzLFxuICBhZ2VuZGFIZWFkZXJGb3JtYXQ6IGRhdGVSYW5nZUZvcm1hdCQzLFxuICBhZ2VuZGFEYXRlRm9ybWF0OiAnZGRkIE1NTSBkZCcsXG4gIGFnZW5kYVRpbWVGb3JtYXQ6ICd0JyxcbiAgYWdlbmRhVGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkM1xufTtcbmZ1bmN0aW9uIG9sZEdsb2JhbGl6ZSAoZ2xvYmFsaXplKSB7XG4gIGZ1bmN0aW9uIGdldEN1bHR1cmUoY3VsdHVyZSkge1xuICAgIHJldHVybiBjdWx0dXJlID8gZ2xvYmFsaXplLmZpbmRDbG9zZXN0Q3VsdHVyZShjdWx0dXJlKSA6IGdsb2JhbGl6ZS5jdWx0dXJlKCk7XG4gIH1cbiAgZnVuY3Rpb24gZmlyc3RPZldlZWsoY3VsdHVyZSkge1xuICAgIGN1bHR1cmUgPSBnZXRDdWx0dXJlKGN1bHR1cmUpO1xuICAgIHJldHVybiBjdWx0dXJlICYmIGN1bHR1cmUuY2FsZW5kYXIuZmlyc3REYXkgfHwgMDtcbiAgfVxuICByZXR1cm4gbmV3IERhdGVMb2NhbGl6ZXIoe1xuICAgIGZpcnN0T2ZXZWVrOiBmaXJzdE9mV2VlayxcbiAgICBmb3JtYXRzOiBmb3JtYXRzJDMsXG4gICAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIF9mb3JtYXQsIGN1bHR1cmUpIHtcbiAgICAgIHJldHVybiBnbG9iYWxpemUuZm9ybWF0KHZhbHVlLCBfZm9ybWF0LCBjdWx0dXJlKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBUT0RPOiBmaXggdGhlIGdsb2JhbGl6ZUxvY2FsaXplciB0byB3b3JrIHdpdGggZ2xvYmFsaXplIDEueFxuXG52YXIgZGF0ZVJhbmdlRm9ybWF0JDIgPSBmdW5jdGlvbiBkYXRlUmFuZ2VGb3JtYXQoX3JlZiwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZi5zdGFydCxcbiAgICBlbmQgPSBfcmVmLmVuZDtcbiAgcmV0dXJuIGxvY2FsLmZvcm1hdChzdGFydCwge1xuICAgIGRhdGU6ICdzaG9ydCdcbiAgfSwgY3VsdHVyZSkgKyAnIOKAkyAnICsgbG9jYWwuZm9ybWF0KGVuZCwge1xuICAgIGRhdGU6ICdzaG9ydCdcbiAgfSwgY3VsdHVyZSk7XG59O1xudmFyIHRpbWVSYW5nZUZvcm1hdCQyID0gZnVuY3Rpb24gdGltZVJhbmdlRm9ybWF0KF9yZWYyLCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgc3RhcnQgPSBfcmVmMi5zdGFydCxcbiAgICBlbmQgPSBfcmVmMi5lbmQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsIHtcbiAgICB0aW1lOiAnc2hvcnQnXG4gIH0sIGN1bHR1cmUpICsgJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsIHtcbiAgICB0aW1lOiAnc2hvcnQnXG4gIH0sIGN1bHR1cmUpO1xufTtcbnZhciB0aW1lUmFuZ2VTdGFydEZvcm1hdCQyID0gZnVuY3Rpb24gdGltZVJhbmdlU3RhcnRGb3JtYXQoX3JlZjMsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYzLnN0YXJ0O1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCB7XG4gICAgdGltZTogJ3Nob3J0J1xuICB9LCBjdWx0dXJlKSArICcg4oCTICc7XG59O1xudmFyIHRpbWVSYW5nZUVuZEZvcm1hdCQyID0gZnVuY3Rpb24gdGltZVJhbmdlRW5kRm9ybWF0KF9yZWY0LCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgZW5kID0gX3JlZjQuZW5kO1xuICByZXR1cm4gJyDigJMgJyArIGxvY2FsLmZvcm1hdChlbmQsIHtcbiAgICB0aW1lOiAnc2hvcnQnXG4gIH0sIGN1bHR1cmUpO1xufTtcbnZhciB3ZWVrUmFuZ2VGb3JtYXQkMiA9IGZ1bmN0aW9uIHdlZWtSYW5nZUZvcm1hdChfcmVmNSwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjUuc3RhcnQsXG4gICAgZW5kID0gX3JlZjUuZW5kO1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTU1NIGRkJywgY3VsdHVyZSkgKyAnIOKAkyAnICsgbG9jYWwuZm9ybWF0KGVuZCwgZXEoc3RhcnQsIGVuZCwgJ21vbnRoJykgPyAnZGQnIDogJ01NTSBkZCcsIGN1bHR1cmUpO1xufTtcbnZhciBmb3JtYXRzJDIgPSB7XG4gIGRhdGVGb3JtYXQ6ICdkZCcsXG4gIGRheUZvcm1hdDogJ2VlZSBkZC9NTScsXG4gIHdlZWtkYXlGb3JtYXQ6ICdlZWUnLFxuICBzZWxlY3RSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDIsXG4gIGV2ZW50VGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkMixcbiAgZXZlbnRUaW1lUmFuZ2VTdGFydEZvcm1hdDogdGltZVJhbmdlU3RhcnRGb3JtYXQkMixcbiAgZXZlbnRUaW1lUmFuZ2VFbmRGb3JtYXQ6IHRpbWVSYW5nZUVuZEZvcm1hdCQyLFxuICB0aW1lR3V0dGVyRm9ybWF0OiB7XG4gICAgdGltZTogJ3Nob3J0J1xuICB9LFxuICBtb250aEhlYWRlckZvcm1hdDogJ01NTU0geXl5eScsXG4gIGRheUhlYWRlckZvcm1hdDogJ2VlZWUgTU1NIGRkJyxcbiAgZGF5UmFuZ2VIZWFkZXJGb3JtYXQ6IHdlZWtSYW5nZUZvcm1hdCQyLFxuICBhZ2VuZGFIZWFkZXJGb3JtYXQ6IGRhdGVSYW5nZUZvcm1hdCQyLFxuICBhZ2VuZGFEYXRlRm9ybWF0OiAnZWVlIE1NTSBkZCcsXG4gIGFnZW5kYVRpbWVGb3JtYXQ6IHtcbiAgICB0aW1lOiAnc2hvcnQnXG4gIH0sXG4gIGFnZW5kYVRpbWVSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDJcbn07XG5mdW5jdGlvbiBnbG9iYWxpemUgKGdsb2JhbGl6ZSkge1xuICB2YXIgbG9jYWxlID0gZnVuY3Rpb24gbG9jYWxlKGN1bHR1cmUpIHtcbiAgICByZXR1cm4gY3VsdHVyZSA/IGdsb2JhbGl6ZShjdWx0dXJlKSA6IGdsb2JhbGl6ZTtcbiAgfTtcblxuICAvLyByZXR1cm4gdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayBmcm9tIHRoZSBsb2NhbGUgZGF0YS4gRGVmYXVsdHMgdG8gJ3dvcmxkJ1xuICAvLyB0ZXJyaXRvcnkgaWYgbm8gdGVycml0b3J5IGlzIGRlcml2YWJsZSBmcm9tIENMRFIuXG4gIC8vIEZhaWxpbmcgdG8gdXNlIENMRFIgc3VwcGxlbWVudGFsIChub3QgbG9hZGVkPyksIHJldmVydCB0byB0aGUgb3JpZ2luYWxcbiAgLy8gbWV0aG9kIG9mIGdldHRpbmcgZmlyc3QgZGF5IG9mIHdlZWsuXG4gIGZ1bmN0aW9uIGZpcnN0T2ZXZWVrKGN1bHR1cmUpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGRheXMgPSBbJ3N1bicsICdtb24nLCAndHVlJywgJ3dlZCcsICd0aHUnLCAnZnJpJywgJ3NhdCddO1xuICAgICAgdmFyIGNsZHIgPSBsb2NhbGUoY3VsdHVyZSkuY2xkcjtcbiAgICAgIHZhciB0ZXJyaXRvcnkgPSBjbGRyLmF0dHJpYnV0ZXMudGVycml0b3J5O1xuICAgICAgdmFyIHdlZWtEYXRhID0gY2xkci5nZXQoJ3N1cHBsZW1lbnRhbCcpLndlZWtEYXRhO1xuICAgICAgdmFyIGZpcnN0RGF5ID0gd2Vla0RhdGEuZmlyc3REYXlbdGVycml0b3J5IHx8ICcwMDEnXTtcbiAgICAgIHJldHVybiBkYXlzLmluZGV4T2YoZmlyc3REYXkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhY2N1cmF0ZWx5IGRldGVybWluZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuJyArICcgSXMgc3VwcGxlbWVudGFsIGRhdGEgbG9hZGVkIGludG8gQ0xEUj8nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1heWJlIGNsZHIgc3VwcGxlbWVudGFsIGlzIG5vdCBsb2FkZWQ/IHJldmVydCB0byBvcmlnaW5hbCBtZXRob2RcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIC8vY2xkci1kYXRhIGRvZXNuJ3Qgc2VlbSB0byBiZSB6ZXJvIGJhc2VkXG4gICAgICB2YXIgbG9jYWxlRGF5ID0gTWF0aC5tYXgocGFyc2VJbnQobG9jYWxlKGN1bHR1cmUpLmZvcm1hdERhdGUoZGF0ZSwge1xuICAgICAgICByYXc6ICdlJ1xuICAgICAgfSksIDEwKSAtIDEsIDApO1xuICAgICAgcmV0dXJuIE1hdGguYWJzKGRhdGUuZ2V0RGF5KCkgLSBsb2NhbGVEYXkpO1xuICAgIH1cbiAgfVxuICBpZiAoIWdsb2JhbGl6ZS5sb2FkKSByZXR1cm4gb2xkR2xvYmFsaXplKGdsb2JhbGl6ZSk7XG4gIHJldHVybiBuZXcgRGF0ZUxvY2FsaXplcih7XG4gICAgZmlyc3RPZldlZWs6IGZpcnN0T2ZXZWVrLFxuICAgIGZvcm1hdHM6IGZvcm1hdHMkMixcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgX2Zvcm1hdCwgY3VsdHVyZSkge1xuICAgICAgX2Zvcm1hdCA9IHR5cGVvZiBfZm9ybWF0ID09PSAnc3RyaW5nJyA/IHtcbiAgICAgICAgcmF3OiBfZm9ybWF0XG4gICAgICB9IDogX2Zvcm1hdDtcbiAgICAgIHJldHVybiBsb2NhbGUoY3VsdHVyZSkuZm9ybWF0RGF0ZSh2YWx1ZSwgX2Zvcm1hdCk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGRhdGVSYW5nZUZvcm1hdCQxID0gZnVuY3Rpb24gZGF0ZVJhbmdlRm9ybWF0KF9yZWYsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYuc3RhcnQsXG4gICAgZW5kID0gX3JlZi5lbmQ7XG4gIHJldHVybiBcIlwiLmNvbmNhdChsb2NhbC5mb3JtYXQoc3RhcnQsICdQJywgY3VsdHVyZSksIFwiIFxcdTIwMTMgXCIpLmNvbmNhdChsb2NhbC5mb3JtYXQoZW5kLCAnUCcsIGN1bHR1cmUpKTtcbn07XG52YXIgdGltZVJhbmdlRm9ybWF0JDEgPSBmdW5jdGlvbiB0aW1lUmFuZ2VGb3JtYXQoX3JlZjIsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYyLnN0YXJ0LFxuICAgIGVuZCA9IF9yZWYyLmVuZDtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KGxvY2FsLmZvcm1hdChzdGFydCwgJ3AnLCBjdWx0dXJlKSwgXCIgXFx1MjAxMyBcIikuY29uY2F0KGxvY2FsLmZvcm1hdChlbmQsICdwJywgY3VsdHVyZSkpO1xufTtcbnZhciB0aW1lUmFuZ2VTdGFydEZvcm1hdCQxID0gZnVuY3Rpb24gdGltZVJhbmdlU3RhcnRGb3JtYXQoX3JlZjMsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYzLnN0YXJ0O1xuICByZXR1cm4gXCJcIi5jb25jYXQobG9jYWwuZm9ybWF0KHN0YXJ0LCAnaDptbWEnLCBjdWx0dXJlKSwgXCIgXFx1MjAxMyBcIik7XG59O1xudmFyIHRpbWVSYW5nZUVuZEZvcm1hdCQxID0gZnVuY3Rpb24gdGltZVJhbmdlRW5kRm9ybWF0KF9yZWY0LCBjdWx0dXJlLCBsb2NhbCkge1xuICB2YXIgZW5kID0gX3JlZjQuZW5kO1xuICByZXR1cm4gXCIgXFx1MjAxMyBcIi5jb25jYXQobG9jYWwuZm9ybWF0KGVuZCwgJ2g6bW1hJywgY3VsdHVyZSkpO1xufTtcbnZhciB3ZWVrUmFuZ2VGb3JtYXQkMSA9IGZ1bmN0aW9uIHdlZWtSYW5nZUZvcm1hdChfcmVmNSwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIHN0YXJ0ID0gX3JlZjUuc3RhcnQsXG4gICAgZW5kID0gX3JlZjUuZW5kO1xuICByZXR1cm4gXCJcIi5jb25jYXQobG9jYWwuZm9ybWF0KHN0YXJ0LCAnTU1NTSBkZCcsIGN1bHR1cmUpLCBcIiBcXHUyMDEzIFwiKS5jb25jYXQobG9jYWwuZm9ybWF0KGVuZCwgZXEoc3RhcnQsIGVuZCwgJ21vbnRoJykgPyAnZGQnIDogJ01NTU0gZGQnLCBjdWx0dXJlKSk7XG59O1xudmFyIGZvcm1hdHMkMSA9IHtcbiAgZGF0ZUZvcm1hdDogJ2RkJyxcbiAgZGF5Rm9ybWF0OiAnZGQgZWVlJyxcbiAgd2Vla2RheUZvcm1hdDogJ2NjYycsXG4gIHNlbGVjdFJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQkMSxcbiAgZXZlbnRUaW1lUmFuZ2VGb3JtYXQ6IHRpbWVSYW5nZUZvcm1hdCQxLFxuICBldmVudFRpbWVSYW5nZVN0YXJ0Rm9ybWF0OiB0aW1lUmFuZ2VTdGFydEZvcm1hdCQxLFxuICBldmVudFRpbWVSYW5nZUVuZEZvcm1hdDogdGltZVJhbmdlRW5kRm9ybWF0JDEsXG4gIHRpbWVHdXR0ZXJGb3JtYXQ6ICdwJyxcbiAgbW9udGhIZWFkZXJGb3JtYXQ6ICdNTU1NIHl5eXknLFxuICBkYXlIZWFkZXJGb3JtYXQ6ICdjY2NjIE1NTSBkZCcsXG4gIGRheVJhbmdlSGVhZGVyRm9ybWF0OiB3ZWVrUmFuZ2VGb3JtYXQkMSxcbiAgYWdlbmRhSGVhZGVyRm9ybWF0OiBkYXRlUmFuZ2VGb3JtYXQkMSxcbiAgYWdlbmRhRGF0ZUZvcm1hdDogJ2NjYyBNTU0gZGQnLFxuICBhZ2VuZGFUaW1lRm9ybWF0OiAncCcsXG4gIGFnZW5kYVRpbWVSYW5nZUZvcm1hdDogdGltZVJhbmdlRm9ybWF0JDFcbn07XG52YXIgZGF0ZUZuc0xvY2FsaXplciA9IGZ1bmN0aW9uIGRhdGVGbnNMb2NhbGl6ZXIoX3JlZjYpIHtcbiAgdmFyIHN0YXJ0T2ZXZWVrID0gX3JlZjYuc3RhcnRPZldlZWssXG4gICAgZ2V0RGF5ID0gX3JlZjYuZ2V0RGF5LFxuICAgIF9mb3JtYXQgPSBfcmVmNi5mb3JtYXQsXG4gICAgbG9jYWxlcyA9IF9yZWY2LmxvY2FsZXM7XG4gIHJldHVybiBuZXcgRGF0ZUxvY2FsaXplcih7XG4gICAgZm9ybWF0czogZm9ybWF0cyQxLFxuICAgIGZpcnN0T2ZXZWVrOiBmdW5jdGlvbiBmaXJzdE9mV2VlayhjdWx0dXJlKSB7XG4gICAgICByZXR1cm4gZ2V0RGF5KHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKCksIHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGVzW2N1bHR1cmVdXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSwgZm9ybWF0U3RyaW5nLCBjdWx0dXJlKSB7XG4gICAgICByZXR1cm4gX2Zvcm1hdChuZXcgRGF0ZSh2YWx1ZSksIGZvcm1hdFN0cmluZywge1xuICAgICAgICBsb2NhbGU6IGxvY2FsZXNbY3VsdHVyZV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgd2Vla1JhbmdlRm9ybWF0ID0gZnVuY3Rpb24gd2Vla1JhbmdlRm9ybWF0KF9yZWYsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYuc3RhcnQsXG4gICAgZW5kID0gX3JlZi5lbmQ7XG4gIHJldHVybiBsb2NhbC5mb3JtYXQoc3RhcnQsICdNTU1NIEREJywgY3VsdHVyZSkgKyAnIOKAkyAnICtcbiAgLy8gdXBkYXRlZCB0byB1c2UgdGhpcyBsb2NhbGl6ZXIgJ2VxKCknIG1ldGhvZFxuICBsb2NhbC5mb3JtYXQoZW5kLCBsb2NhbC5lcShzdGFydCwgZW5kLCAnbW9udGgnKSA/ICdERCcgOiAnTU1NTSBERCcsIGN1bHR1cmUpO1xufTtcbnZhciBkYXRlUmFuZ2VGb3JtYXQgPSBmdW5jdGlvbiBkYXRlUmFuZ2VGb3JtYXQoX3JlZjIsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYyLnN0YXJ0LFxuICAgIGVuZCA9IF9yZWYyLmVuZDtcbiAgcmV0dXJuIGxvY2FsLmZvcm1hdChzdGFydCwgJ0wnLCBjdWx0dXJlKSArICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAnTCcsIGN1bHR1cmUpO1xufTtcbnZhciB0aW1lUmFuZ2VGb3JtYXQgPSBmdW5jdGlvbiB0aW1lUmFuZ2VGb3JtYXQoX3JlZjMsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWYzLnN0YXJ0LFxuICAgIGVuZCA9IF9yZWYzLmVuZDtcbiAgcmV0dXJuIGxvY2FsLmZvcm1hdChzdGFydCwgJ0xUJywgY3VsdHVyZSkgKyAnIOKAkyAnICsgbG9jYWwuZm9ybWF0KGVuZCwgJ0xUJywgY3VsdHVyZSk7XG59O1xudmFyIHRpbWVSYW5nZVN0YXJ0Rm9ybWF0ID0gZnVuY3Rpb24gdGltZVJhbmdlU3RhcnRGb3JtYXQoX3JlZjQsIGN1bHR1cmUsIGxvY2FsKSB7XG4gIHZhciBzdGFydCA9IF9yZWY0LnN0YXJ0O1xuICByZXR1cm4gbG9jYWwuZm9ybWF0KHN0YXJ0LCAnTFQnLCBjdWx0dXJlKSArICcg4oCTICc7XG59O1xudmFyIHRpbWVSYW5nZUVuZEZvcm1hdCA9IGZ1bmN0aW9uIHRpbWVSYW5nZUVuZEZvcm1hdChfcmVmNSwgY3VsdHVyZSwgbG9jYWwpIHtcbiAgdmFyIGVuZCA9IF9yZWY1LmVuZDtcbiAgcmV0dXJuICcg4oCTICcgKyBsb2NhbC5mb3JtYXQoZW5kLCAnTFQnLCBjdWx0dXJlKTtcbn07XG52YXIgZm9ybWF0cyA9IHtcbiAgZGF0ZUZvcm1hdDogJ0REJyxcbiAgZGF5Rm9ybWF0OiAnREQgZGRkJyxcbiAgd2Vla2RheUZvcm1hdDogJ2RkZCcsXG4gIHNlbGVjdFJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQsXG4gIGV2ZW50VGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXQsXG4gIGV2ZW50VGltZVJhbmdlU3RhcnRGb3JtYXQ6IHRpbWVSYW5nZVN0YXJ0Rm9ybWF0LFxuICBldmVudFRpbWVSYW5nZUVuZEZvcm1hdDogdGltZVJhbmdlRW5kRm9ybWF0LFxuICB0aW1lR3V0dGVyRm9ybWF0OiAnTFQnLFxuICBtb250aEhlYWRlckZvcm1hdDogJ01NTU0gWVlZWScsXG4gIGRheUhlYWRlckZvcm1hdDogJ2RkZGQgTU1NIEREJyxcbiAgZGF5UmFuZ2VIZWFkZXJGb3JtYXQ6IHdlZWtSYW5nZUZvcm1hdCxcbiAgYWdlbmRhSGVhZGVyRm9ybWF0OiBkYXRlUmFuZ2VGb3JtYXQsXG4gIGFnZW5kYURhdGVGb3JtYXQ6ICdkZGQgTU1NIEREJyxcbiAgYWdlbmRhVGltZUZvcm1hdDogJ0xUJyxcbiAgYWdlbmRhVGltZVJhbmdlRm9ybWF0OiB0aW1lUmFuZ2VGb3JtYXRcbn07XG5mdW5jdGlvbiBmaXhVbml0KHVuaXQpIHtcbiAgdmFyIGRhdGVQYXJ0ID0gdW5pdCA/IHVuaXQudG9Mb3dlckNhc2UoKSA6IHVuaXQ7XG4gIGlmIChkYXRlUGFydCA9PT0gJ0Z1bGxZZWFyJykge1xuICAgIGRhdGVQYXJ0ID0gJ3llYXInO1xuICB9IGVsc2UgaWYgKCFkYXRlUGFydCkge1xuICAgIGRhdGVQYXJ0ID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBkYXRlUGFydDtcbn1cbmZ1bmN0aW9uIGRheWpzIChkYXlqc0xpYikge1xuICAvLyBsb2FkIGRheWpzIHBsdWdpbnNcbiAgZGF5anNMaWIuZXh0ZW5kKGlzQmV0d2Vlbik7XG4gIGRheWpzTGliLmV4dGVuZChpc1NhbWVPckFmdGVyKTtcbiAgZGF5anNMaWIuZXh0ZW5kKGlzU2FtZU9yQmVmb3JlKTtcbiAgZGF5anNMaWIuZXh0ZW5kKGxvY2FsZURhdGEpO1xuICBkYXlqc0xpYi5leHRlbmQobG9jYWxpemVkRm9ybWF0KTtcbiAgZGF5anNMaWIuZXh0ZW5kKG1pbk1heCk7XG4gIGRheWpzTGliLmV4dGVuZCh1dGMpO1xuICB2YXIgbG9jYWxlID0gZnVuY3Rpb24gbG9jYWxlKGRqLCBjKSB7XG4gICAgcmV0dXJuIGMgPyBkai5sb2NhbGUoYykgOiBkajtcbiAgfTtcblxuICAvLyBpZiB0aGUgdGltZXpvbmUgcGx1Z2luIGlzIGxvYWRlZCxcbiAgLy8gdGhlbiB1c2UgdGhlIHRpbWV6b25lIGF3YXJlIHZlcnNpb25cbiAgdmFyIGRheWpzID0gZGF5anNMaWIudHogPyBkYXlqc0xpYi50eiA6IGRheWpzTGliO1xuICBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldChkYXRlKSB7XG4gICAgLy8gZW5zdXJlcyB0aGlzIGdldHMgY2FzdCB0byB0aW1lem9uZVxuICAgIHJldHVybiBkYXlqcyhkYXRlKS50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB9XG4gIGZ1bmN0aW9uIGdldERzdE9mZnNldChzdGFydCwgZW5kKSB7XG4gICAgdmFyIF9zdCR0eiQkeCQkdGltZXpvbmU7XG4gICAgLy8gY29udmVydCB0byBkYXlqcywgaW4gY2FzZVxuICAgIHZhciBzdCA9IGRheWpzKHN0YXJ0KTtcbiAgICB2YXIgZWQgPSBkYXlqcyhlbmQpO1xuICAgIC8vIGlmIG5vdCB1c2luZyB0aGUgZGF5anMgdGltZXpvbmUgcGx1Z2luXG4gICAgaWYgKCFkYXlqcy50eikge1xuICAgICAgcmV0dXJuIHN0LnRvRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBlZC50b0RhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBhIGRlZmF1bHQgdGltZXpvbmUgaGFzIGJlZW4gYXBwbGllZCwgdGhlblxuICAgICAqIHVzZSB0aGlzIHRvIGdldCB0aGUgcHJvcGVyIHRpbWV6b25lIG9mZnNldCwgb3RoZXJ3aXNlIGRlZmF1bHRcbiAgICAgKiB0aGUgdGltZXpvbmUgdG8gdGhlIGJyb3dzZXIgbG9jYWxcbiAgICAgKi9cbiAgICB2YXIgdHpOYW1lID0gKF9zdCR0eiQkeCQkdGltZXpvbmUgPSBzdC50eigpLiR4LiR0aW1lem9uZSkgIT09IG51bGwgJiYgX3N0JHR6JCR4JCR0aW1lem9uZSAhPT0gdm9pZCAwID8gX3N0JHR6JCR4JCR0aW1lem9uZSA6IGRheWpzTGliLnR6Lmd1ZXNzKCk7XG4gICAgLy8gaW52ZXJ0IG9mZnNldHMgdG8gYmUgaW5saW5lIHdpdGggbW9tZW50LmpzXG4gICAgdmFyIHN0YXJ0T2Zmc2V0ID0gLWRheWpzLnR6KCtzdCwgdHpOYW1lKS51dGNPZmZzZXQoKTtcbiAgICB2YXIgZW5kT2Zmc2V0ID0gLWRheWpzLnR6KCtlZCwgdHpOYW1lKS51dGNPZmZzZXQoKTtcbiAgICByZXR1cm4gc3RhcnRPZmZzZXQgLSBlbmRPZmZzZXQ7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RGF5U3RhcnREc3RPZmZzZXQoc3RhcnQpIHtcbiAgICB2YXIgZGF5U3RhcnQgPSBkYXlqcyhzdGFydCkuc3RhcnRPZignZGF5Jyk7XG4gICAgcmV0dXJuIGdldERzdE9mZnNldChkYXlTdGFydCwgc3RhcnQpO1xuICB9XG5cbiAgLyoqKiBCRUdJTiBsb2NhbGl6ZWQgZGF0ZSBhcml0aG1ldGljIG1ldGhvZHMgd2l0aCBkYXlqcyAqKiovXG4gIGZ1bmN0aW9uIGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpIHtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0KHVuaXQpO1xuICAgIHZhciBkdEEgPSBkYXRlUGFydCA/IGRheWpzKGEpLnN0YXJ0T2YoZGF0ZVBhcnQpIDogZGF5anMoYSk7XG4gICAgdmFyIGR0QiA9IGRhdGVQYXJ0ID8gZGF5anMoYikuc3RhcnRPZihkYXRlUGFydCkgOiBkYXlqcyhiKTtcbiAgICByZXR1cm4gW2R0QSwgZHRCLCBkYXRlUGFydF07XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnRPZigpIHtcbiAgICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQodW5pdCk7XG4gICAgaWYgKGRhdGVQYXJ0KSB7XG4gICAgICByZXR1cm4gZGF5anMoZGF0ZSkuc3RhcnRPZihkYXRlUGFydCkudG9EYXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBkYXlqcyhkYXRlKS50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBlbmRPZigpIHtcbiAgICB2YXIgZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQodW5pdCk7XG4gICAgaWYgKGRhdGVQYXJ0KSB7XG4gICAgICByZXR1cm4gZGF5anMoZGF0ZSkuZW5kT2YoZGF0ZVBhcnQpLnRvRGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZGF5anMoZGF0ZSkudG9EYXRlKCk7XG4gIH1cblxuICAvLyBkYXlqcyBjb21wYXJpc29uIG9wZXJhdGlvbnMgKmFsd2F5cyogY29udmVydCBib3RoIHNpZGVzIHRvIGRheWpzIG9iamVjdHNcbiAgLy8gcHJpb3IgdG8gcnVubmluZyB0aGUgY29tcGFyaXNvbnNcbiAgZnVuY3Rpb24gZXEoYSwgYiwgdW5pdCkge1xuICAgIHZhciBfZGVmaW5lQ29tcGFyYXRvcnMgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczIgPSBfc2xpY2VkVG9BcnJheShfZGVmaW5lQ29tcGFyYXRvcnMsIDMpLFxuICAgICAgZHRBID0gX2RlZmluZUNvbXBhcmF0b3JzMlswXSxcbiAgICAgIGR0QiA9IF9kZWZpbmVDb21wYXJhdG9yczJbMV0sXG4gICAgICBkYXRlUGFydCA9IF9kZWZpbmVDb21wYXJhdG9yczJbMl07XG4gICAgcmV0dXJuIGR0QS5pc1NhbWUoZHRCLCBkYXRlUGFydCk7XG4gIH1cbiAgZnVuY3Rpb24gbmVxKGEsIGIsIHVuaXQpIHtcbiAgICByZXR1cm4gIWVxKGEsIGIsIHVuaXQpO1xuICB9XG4gIGZ1bmN0aW9uIGd0KGEsIGIsIHVuaXQpIHtcbiAgICB2YXIgX2RlZmluZUNvbXBhcmF0b3JzMyA9IGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpLFxuICAgICAgX2RlZmluZUNvbXBhcmF0b3JzNCA9IF9zbGljZWRUb0FycmF5KF9kZWZpbmVDb21wYXJhdG9yczMsIDMpLFxuICAgICAgZHRBID0gX2RlZmluZUNvbXBhcmF0b3JzNFswXSxcbiAgICAgIGR0QiA9IF9kZWZpbmVDb21wYXJhdG9yczRbMV0sXG4gICAgICBkYXRlUGFydCA9IF9kZWZpbmVDb21wYXJhdG9yczRbMl07XG4gICAgcmV0dXJuIGR0QS5pc0FmdGVyKGR0QiwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGx0KGEsIGIsIHVuaXQpIHtcbiAgICB2YXIgX2RlZmluZUNvbXBhcmF0b3JzNSA9IGRlZmluZUNvbXBhcmF0b3JzKGEsIGIsIHVuaXQpLFxuICAgICAgX2RlZmluZUNvbXBhcmF0b3JzNiA9IF9zbGljZWRUb0FycmF5KF9kZWZpbmVDb21wYXJhdG9yczUsIDMpLFxuICAgICAgZHRBID0gX2RlZmluZUNvbXBhcmF0b3JzNlswXSxcbiAgICAgIGR0QiA9IF9kZWZpbmVDb21wYXJhdG9yczZbMV0sXG4gICAgICBkYXRlUGFydCA9IF9kZWZpbmVDb21wYXJhdG9yczZbMl07XG4gICAgcmV0dXJuIGR0QS5pc0JlZm9yZShkdEIsIGRhdGVQYXJ0KTtcbiAgfVxuICBmdW5jdGlvbiBndGUoYSwgYiwgdW5pdCkge1xuICAgIHZhciBfZGVmaW5lQ29tcGFyYXRvcnM3ID0gZGVmaW5lQ29tcGFyYXRvcnMoYSwgYiwgdW5pdCksXG4gICAgICBfZGVmaW5lQ29tcGFyYXRvcnM4ID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzNywgMyksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnM4WzBdLFxuICAgICAgZHRCID0gX2RlZmluZUNvbXBhcmF0b3JzOFsxXSxcbiAgICAgIGRhdGVQYXJ0ID0gX2RlZmluZUNvbXBhcmF0b3JzOFsyXTtcbiAgICByZXR1cm4gZHRBLmlzU2FtZU9yQmVmb3JlKGR0QiwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGx0ZShhLCBiLCB1bml0KSB7XG4gICAgdmFyIF9kZWZpbmVDb21wYXJhdG9yczkgPSBkZWZpbmVDb21wYXJhdG9ycyhhLCBiLCB1bml0KSxcbiAgICAgIF9kZWZpbmVDb21wYXJhdG9yczEwID0gX3NsaWNlZFRvQXJyYXkoX2RlZmluZUNvbXBhcmF0b3JzOSwgMyksXG4gICAgICBkdEEgPSBfZGVmaW5lQ29tcGFyYXRvcnMxMFswXSxcbiAgICAgIGR0QiA9IF9kZWZpbmVDb21wYXJhdG9yczEwWzFdLFxuICAgICAgZGF0ZVBhcnQgPSBfZGVmaW5lQ29tcGFyYXRvcnMxMFsyXTtcbiAgICByZXR1cm4gZHRBLmlzU2FtZU9yQmVmb3JlKGR0QiwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGluUmFuZ2UoZGF5LCBtaW4sIG1heCkge1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnZGF5JztcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0KHVuaXQpO1xuICAgIHZhciBkakRheSA9IGRheWpzKGRheSk7XG4gICAgdmFyIGRqTWluID0gZGF5anMobWluKTtcbiAgICB2YXIgZGpNYXggPSBkYXlqcyhtYXgpO1xuICAgIHJldHVybiBkakRheS5pc0JldHdlZW4oZGpNaW4sIGRqTWF4LCBkYXRlUGFydCwgJ1tdJyk7XG4gIH1cbiAgZnVuY3Rpb24gbWluKGRhdGVBLCBkYXRlQikge1xuICAgIHZhciBkdEEgPSBkYXlqcyhkYXRlQSk7XG4gICAgdmFyIGR0QiA9IGRheWpzKGRhdGVCKTtcbiAgICB2YXIgbWluRHQgPSBkYXlqc0xpYi5taW4oZHRBLCBkdEIpO1xuICAgIHJldHVybiBtaW5EdC50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBtYXgoZGF0ZUEsIGRhdGVCKSB7XG4gICAgdmFyIGR0QSA9IGRheWpzKGRhdGVBKTtcbiAgICB2YXIgZHRCID0gZGF5anMoZGF0ZUIpO1xuICAgIHZhciBtYXhEdCA9IGRheWpzTGliLm1heChkdEEsIGR0Qik7XG4gICAgcmV0dXJuIG1heER0LnRvRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIG1lcmdlKGRhdGUsIHRpbWUpIHtcbiAgICBpZiAoIWRhdGUgJiYgIXRpbWUpIHJldHVybiBudWxsO1xuICAgIHZhciB0bSA9IGRheWpzKHRpbWUpLmZvcm1hdCgnSEg6bW06c3MnKTtcbiAgICB2YXIgZHQgPSBkYXlqcyhkYXRlKS5zdGFydE9mKCdkYXknKS5mb3JtYXQoJ01NL0REL1lZWVknKTtcbiAgICAvLyBXZSBkbyBpdCB0aGlzIHdheSB0byBhdm9pZCBpc3N1ZXMgd2hlbiB0aW1lem9uZSBzd2l0Y2hpbmdcbiAgICByZXR1cm4gZGF5anNMaWIoXCJcIi5jb25jYXQoZHQsIFwiIFwiKS5jb25jYXQodG0pLCAnTU0vREQvWVlZWSBISDptbTpzcycpLnRvRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIGFkZChkYXRlLCBhZGRlciwgdW5pdCkge1xuICAgIHZhciBkYXRlUGFydCA9IGZpeFVuaXQodW5pdCk7XG4gICAgcmV0dXJuIGRheWpzKGRhdGUpLmFkZChhZGRlciwgZGF0ZVBhcnQpLnRvRGF0ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgdW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2RheSc7XG4gICAgdmFyIGRhdGVQYXJ0ID0gZml4VW5pdCh1bml0KTtcbiAgICAvLyBiZWNhdXNlIHRoZSBhZGQgbWV0aG9kIHdpbGwgcHV0IHRoZXNlIGluIHR6LCB3ZSBoYXZlIHRvIHN0YXJ0IHRoYXQgd2F5XG4gICAgdmFyIGN1cnJlbnQgPSBkYXlqcyhzdGFydCkudG9EYXRlKCk7XG4gICAgdmFyIGRheXMgPSBbXTtcbiAgICB3aGlsZSAobHRlKGN1cnJlbnQsIGVuZCkpIHtcbiAgICAgIGRheXMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSBhZGQoY3VycmVudCwgMSwgZGF0ZVBhcnQpO1xuICAgIH1cbiAgICByZXR1cm4gZGF5cztcbiAgfVxuICBmdW5jdGlvbiBjZWlsKGRhdGUsIHVuaXQpIHtcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0KHVuaXQpO1xuICAgIHZhciBmbG9vciA9IHN0YXJ0T2YoZGF0ZSwgZGF0ZVBhcnQpO1xuICAgIHJldHVybiBlcShmbG9vciwgZGF0ZSkgPyBmbG9vciA6IGFkZChmbG9vciwgMSwgZGF0ZVBhcnQpO1xuICB9XG4gIGZ1bmN0aW9uIGRpZmYoYSwgYikge1xuICAgIHZhciB1bml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZGF5JztcbiAgICB2YXIgZGF0ZVBhcnQgPSBmaXhVbml0KHVuaXQpO1xuICAgIC8vIGRvbid0IHVzZSAnZGVmaW5lQ29tcGFyYXRvcnMnIGhlcmUsIGFzIHdlIGRvbid0IHdhbnQgdG8gbXV0YXRlIHRoZSB2YWx1ZXNcbiAgICB2YXIgZHRBID0gZGF5anMoYSk7XG4gICAgdmFyIGR0QiA9IGRheWpzKGIpO1xuICAgIHJldHVybiBkdEIuZGlmZihkdEEsIGRhdGVQYXJ0KTtcbiAgfVxuICBmdW5jdGlvbiBtaW51dGVzKGRhdGUpIHtcbiAgICB2YXIgZHQgPSBkYXlqcyhkYXRlKTtcbiAgICByZXR1cm4gZHQubWludXRlcygpO1xuICB9XG4gIGZ1bmN0aW9uIGZpcnN0T2ZXZWVrKGN1bHR1cmUpIHtcbiAgICB2YXIgZGF0YSA9IGN1bHR1cmUgPyBkYXlqc0xpYi5sb2NhbGVEYXRhKGN1bHR1cmUpIDogZGF5anNMaWIubG9jYWxlRGF0YSgpO1xuICAgIHJldHVybiBkYXRhID8gZGF0YS5maXJzdERheU9mV2VlaygpIDogMDtcbiAgfVxuICBmdW5jdGlvbiBmaXJzdFZpc2libGVEYXkoZGF0ZSkge1xuICAgIHJldHVybiBkYXlqcyhkYXRlKS5zdGFydE9mKCdtb250aCcpLnN0YXJ0T2YoJ3dlZWsnKS50b0RhdGUoKTtcbiAgfVxuICBmdW5jdGlvbiBsYXN0VmlzaWJsZURheShkYXRlKSB7XG4gICAgcmV0dXJuIGRheWpzKGRhdGUpLmVuZE9mKCdtb250aCcpLmVuZE9mKCd3ZWVrJykudG9EYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gdmlzaWJsZURheXMoZGF0ZSkge1xuICAgIHZhciBjdXJyZW50ID0gZmlyc3RWaXNpYmxlRGF5KGRhdGUpO1xuICAgIHZhciBsYXN0ID0gbGFzdFZpc2libGVEYXkoZGF0ZSk7XG4gICAgdmFyIGRheXMgPSBbXTtcbiAgICB3aGlsZSAobHRlKGN1cnJlbnQsIGxhc3QpKSB7XG4gICAgICBkYXlzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gYWRkKGN1cnJlbnQsIDEsICdkJyk7XG4gICAgfVxuICAgIHJldHVybiBkYXlzO1xuICB9XG4gIC8qKiogRU5EIGxvY2FsaXplZCBkYXRlIGFyaXRobWV0aWMgbWV0aG9kcyB3aXRoIGRheWpzICoqKi9cblxuICAvKipcbiAgICogTW92ZWQgZnJvbSBUaW1lU2xvdHMuanMsIHRoaXMgbWV0aG9kIG92ZXJyaWRlcyB0aGUgbWV0aG9kIG9mIHRoZSBzYW1lIG5hbWVcbiAgICogaW4gdGhlIGxvY2FsaXplci5qcywgdXNpbmcgZGF5anMgdG8gY29uc3RydWN0IHRoZSBqcyBEYXRlXG4gICAqIEBwYXJhbSB7RGF0ZX0gZHQgLSBkYXRlIHRvIHN0YXJ0IHdpdGhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbnV0ZXNGcm9tTWlkbmlnaHRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgKiBAcmV0dXJucyB7RGF0ZX1cbiAgICovXG4gIGZ1bmN0aW9uIGdldFNsb3REYXRlKGR0LCBtaW51dGVzRnJvbU1pZG5pZ2h0LCBvZmZzZXQpIHtcbiAgICByZXR1cm4gZGF5anMoZHQpLnN0YXJ0T2YoJ2RheScpLm1pbnV0ZShtaW51dGVzRnJvbU1pZG5pZ2h0ICsgb2Zmc2V0KS50b0RhdGUoKTtcbiAgfVxuXG4gIC8vIGRheWpzIHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgRFNUIGRpZmZlcmVuY2VzIGluIGl0J3MgY2FsY3VsYXRpb25zXG4gIGZ1bmN0aW9uIGdldFRvdGFsTWluKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZGlmZihzdGFydCwgZW5kLCAnbWludXRlcycpO1xuICB9XG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tTWlkbmlnaHQoc3RhcnQpIHtcbiAgICB2YXIgZGF5U3RhcnQgPSBkYXlqcyhzdGFydCkuc3RhcnRPZignZGF5Jyk7XG4gICAgdmFyIGRheSA9IGRheWpzKHN0YXJ0KTtcbiAgICByZXR1cm4gZGF5LmRpZmYoZGF5U3RhcnQsICdtaW51dGVzJykgKyBnZXREYXlTdGFydERzdE9mZnNldChzdGFydCk7XG4gIH1cblxuICAvLyBUaGVzZSB0d28gYXJlIHVzZWQgYnkgRGF0ZVNsb3RNZXRyaWNzXG4gIGZ1bmN0aW9uIGNvbnRpbnVlc1ByaW9yKHN0YXJ0LCBmaXJzdCkge1xuICAgIHZhciBkalN0YXJ0ID0gZGF5anMoc3RhcnQpO1xuICAgIHZhciBkakZpcnN0ID0gZGF5anMoZmlyc3QpO1xuICAgIHJldHVybiBkalN0YXJ0LmlzQmVmb3JlKGRqRmlyc3QsICdkYXknKTtcbiAgfVxuICBmdW5jdGlvbiBjb250aW51ZXNBZnRlcihzdGFydCwgZW5kLCBsYXN0KSB7XG4gICAgdmFyIGRqRW5kID0gZGF5anMoZW5kKTtcbiAgICB2YXIgZGpMYXN0ID0gZGF5anMobGFzdCk7XG4gICAgcmV0dXJuIGRqRW5kLmlzU2FtZU9yQWZ0ZXIoZGpMYXN0LCAnbWludXRlcycpO1xuICB9XG4gIGZ1bmN0aW9uIGRheVNwYW4oc3RhcnQsIGVuZCkge1xuICAgIHZhciBzdGFydERheSA9IGRheWpzKHN0YXJ0KTtcbiAgICB2YXIgZW5kRGF5ID0gZGF5anMoZW5kKTtcbiAgICByZXR1cm4gZW5kRGF5LmRpZmYoc3RhcnREYXksICdkYXknKTtcbiAgfVxuXG4gIC8vIFRoZXNlIHR3byBhcmUgdXNlZCBieSBldmVudExldmVsc1xuICBmdW5jdGlvbiBzb3J0RXZlbnRzKF9yZWY2KSB7XG4gICAgdmFyIF9yZWY2JGV2dEEgPSBfcmVmNi5ldnRBLFxuICAgICAgYVN0YXJ0ID0gX3JlZjYkZXZ0QS5zdGFydCxcbiAgICAgIGFFbmQgPSBfcmVmNiRldnRBLmVuZCxcbiAgICAgIGFBbGxEYXkgPSBfcmVmNiRldnRBLmFsbERheSxcbiAgICAgIF9yZWY2JGV2dEIgPSBfcmVmNi5ldnRCLFxuICAgICAgYlN0YXJ0ID0gX3JlZjYkZXZ0Qi5zdGFydCxcbiAgICAgIGJFbmQgPSBfcmVmNiRldnRCLmVuZCxcbiAgICAgIGJBbGxEYXkgPSBfcmVmNiRldnRCLmFsbERheTtcbiAgICB2YXIgc3RhcnRTb3J0ID0gK3N0YXJ0T2YoYVN0YXJ0LCAnZGF5JykgLSArc3RhcnRPZihiU3RhcnQsICdkYXknKTtcbiAgICB2YXIgZHVyQSA9IGRheVNwYW4oYVN0YXJ0LCBhRW5kKTtcbiAgICB2YXIgZHVyQiA9IGRheVNwYW4oYlN0YXJ0LCBiRW5kKTtcbiAgICByZXR1cm4gc3RhcnRTb3J0IHx8XG4gICAgLy8gc29ydCBieSBzdGFydCBEYXkgZmlyc3RcbiAgICBkdXJCIC0gZHVyQSB8fFxuICAgIC8vIGV2ZW50cyBzcGFubmluZyBtdWx0aXBsZSBkYXlzIGdvIGZpcnN0XG4gICAgISFiQWxsRGF5IC0gISFhQWxsRGF5IHx8XG4gICAgLy8gdGhlbiBhbGxEYXkgc2luZ2xlIGRheSBldmVudHNcbiAgICArYVN0YXJ0IC0gK2JTdGFydCB8fFxuICAgIC8vIHRoZW4gc29ydCBieSBzdGFydCB0aW1lICpkb24ndCBuZWVkIGRheWpzIGNvbnZlcnNpb24gaGVyZVxuICAgICthRW5kIC0gK2JFbmQgLy8gdGhlbiBzb3J0IGJ5IGVuZCB0aW1lICpkb24ndCBuZWVkIGRheWpzIGNvbnZlcnNpb24gaGVyZSBlaXRoZXJcbiAgICA7XG4gIH1cbiAgZnVuY3Rpb24gaW5FdmVudFJhbmdlKF9yZWY3KSB7XG4gICAgdmFyIF9yZWY3JGV2ZW50ID0gX3JlZjcuZXZlbnQsXG4gICAgICBzdGFydCA9IF9yZWY3JGV2ZW50LnN0YXJ0LFxuICAgICAgZW5kID0gX3JlZjckZXZlbnQuZW5kLFxuICAgICAgX3JlZjckcmFuZ2UgPSBfcmVmNy5yYW5nZSxcbiAgICAgIHJhbmdlU3RhcnQgPSBfcmVmNyRyYW5nZS5zdGFydCxcbiAgICAgIHJhbmdlRW5kID0gX3JlZjckcmFuZ2UuZW5kO1xuICAgIHZhciBzdGFydE9mRGF5ID0gZGF5anMoc3RhcnQpLnN0YXJ0T2YoJ2RheScpO1xuICAgIHZhciBlRW5kID0gZGF5anMoZW5kKTtcbiAgICB2YXIgclN0YXJ0ID0gZGF5anMocmFuZ2VTdGFydCk7XG4gICAgdmFyIHJFbmQgPSBkYXlqcyhyYW5nZUVuZCk7XG4gICAgdmFyIHN0YXJ0c0JlZm9yZUVuZCA9IHN0YXJ0T2ZEYXkuaXNTYW1lT3JCZWZvcmUockVuZCwgJ2RheScpO1xuICAgIC8vIHdoZW4gdGhlIGV2ZW50IGlzIHplcm8gZHVyYXRpb24gd2UgbmVlZCB0byBoYW5kbGUgYSBiaXQgZGlmZmVyZW50bHlcbiAgICB2YXIgc2FtZU1pbiA9ICFzdGFydE9mRGF5LmlzU2FtZShlRW5kLCAnbWludXRlcycpO1xuICAgIHZhciBlbmRzQWZ0ZXJTdGFydCA9IHNhbWVNaW4gPyBlRW5kLmlzQWZ0ZXIoclN0YXJ0LCAnbWludXRlcycpIDogZUVuZC5pc1NhbWVPckFmdGVyKHJTdGFydCwgJ21pbnV0ZXMnKTtcbiAgICByZXR1cm4gc3RhcnRzQmVmb3JlRW5kICYmIGVuZHNBZnRlclN0YXJ0O1xuICB9XG4gIGZ1bmN0aW9uIGlzU2FtZURhdGUoZGF0ZTEsIGRhdGUyKSB7XG4gICAgdmFyIGR0ID0gZGF5anMoZGF0ZTEpO1xuICAgIHZhciBkdDIgPSBkYXlqcyhkYXRlMik7XG4gICAgcmV0dXJuIGR0LmlzU2FtZShkdDIsICdkYXknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCwgY2FsbGVkIG9uY2UgaW4gdGhlIGxvY2FsaXplciBjb25zdHJ1Y3RvciwgaXMgdXNlZCBieSBldmVudExldmVsc1xuICAgKiAnZXZlbnRTZWdtZW50cygpJyB0byBhc3Npc3QgaW4gZGV0ZXJtaW5pbmcgdGhlICdzcGFuJyBvZiB0aGUgZXZlbnQgaW4gdGhlIGRpc3BsYXksXG4gICAqIHNwZWNpZmljYWxseSB3aGVuIHVzaW5nIGEgdGltZXpvbmUgdGhhdCBpcyBncmVhdGVyIHRoYW4gdGhlIGJyb3dzZXIgbmF0aXZlIHRpbWV6b25lLlxuICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICovXG4gIGZ1bmN0aW9uIGJyb3dzZXJUWk9mZnNldCgpIHtcbiAgICAvKipcbiAgICAgKiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lem9uZU9mZnNldCBob3JyaWZpY2FsbHkgZmxpcHMgdGhlIHBvc2l0aXZlL25lZ2F0aXZlIGZyb21cbiAgICAgKiB3aGF0IHlvdSBzZWUgaW4gaXQncyBzdHJpbmcsIHNvIHdlIGhhdmUgdG8ganVtcCB0aHJvdWdoIHNvbWUgaG9vcHMgdG8gZ2V0IGEgdmFsdWVcbiAgICAgKiB3ZSBjYW4gYWN0dWFsbHkgY29tcGFyZS5cbiAgICAgKi9cbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBuZWcgPSAvLS8udGVzdChkdC50b1N0cmluZygpKSA/ICctJyA6ICcnO1xuICAgIHZhciBkdE9mZnNldCA9IGR0LmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgdmFyIGNvbXBhcmF0b3IgPSBOdW1iZXIoXCJcIi5jb25jYXQobmVnKS5jb25jYXQoTWF0aC5hYnMoZHRPZmZzZXQpKSk7XG4gICAgLy8gZGF5anMgY29ycmVjdGx5IHByb3ZpZGVzIHBvc2l0aXZlL25lZ2F0aXZlIG9mZnNldCwgYXMgZXhwZWN0ZWRcbiAgICB2YXIgbXRPZmZzZXQgPSBkYXlqcygpLnV0Y09mZnNldCgpO1xuICAgIHJldHVybiBtdE9mZnNldCA+IGNvbXBhcmF0b3IgPyAxIDogMDtcbiAgfVxuICByZXR1cm4gbmV3IERhdGVMb2NhbGl6ZXIoe1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgZmlyc3RPZldlZWs6IGZpcnN0T2ZXZWVrLFxuICAgIGZpcnN0VmlzaWJsZURheTogZmlyc3RWaXNpYmxlRGF5LFxuICAgIGxhc3RWaXNpYmxlRGF5OiBsYXN0VmlzaWJsZURheSxcbiAgICB2aXNpYmxlRGF5czogdmlzaWJsZURheXMsXG4gICAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIF9mb3JtYXQsIGN1bHR1cmUpIHtcbiAgICAgIHJldHVybiBsb2NhbGUoZGF5anModmFsdWUpLCBjdWx0dXJlKS5mb3JtYXQoX2Zvcm1hdCk7XG4gICAgfSxcbiAgICBsdDogbHQsXG4gICAgbHRlOiBsdGUsXG4gICAgZ3Q6IGd0LFxuICAgIGd0ZTogZ3RlLFxuICAgIGVxOiBlcSxcbiAgICBuZXE6IG5lcSxcbiAgICBtZXJnZTogbWVyZ2UsXG4gICAgaW5SYW5nZTogaW5SYW5nZSxcbiAgICBzdGFydE9mOiBzdGFydE9mLFxuICAgIGVuZE9mOiBlbmRPZixcbiAgICByYW5nZTogcmFuZ2UsXG4gICAgYWRkOiBhZGQsXG4gICAgZGlmZjogZGlmZixcbiAgICBjZWlsOiBjZWlsLFxuICAgIG1pbjogbWluLFxuICAgIG1heDogbWF4LFxuICAgIG1pbnV0ZXM6IG1pbnV0ZXMsXG4gICAgZ2V0U2xvdERhdGU6IGdldFNsb3REYXRlLFxuICAgIGdldFRpbWV6b25lT2Zmc2V0OiBnZXRUaW1lem9uZU9mZnNldCxcbiAgICBnZXREc3RPZmZzZXQ6IGdldERzdE9mZnNldCxcbiAgICBnZXRUb3RhbE1pbjogZ2V0VG90YWxNaW4sXG4gICAgZ2V0TWludXRlc0Zyb21NaWRuaWdodDogZ2V0TWludXRlc0Zyb21NaWRuaWdodCxcbiAgICBjb250aW51ZXNQcmlvcjogY29udGludWVzUHJpb3IsXG4gICAgY29udGludWVzQWZ0ZXI6IGNvbnRpbnVlc0FmdGVyLFxuICAgIHNvcnRFdmVudHM6IHNvcnRFdmVudHMsXG4gICAgaW5FdmVudFJhbmdlOiBpbkV2ZW50UmFuZ2UsXG4gICAgaXNTYW1lRGF0ZTogaXNTYW1lRGF0ZSxcbiAgICBicm93c2VyVFpPZmZzZXQ6IGJyb3dzZXJUWk9mZnNldFxuICB9KTtcbn1cblxudmFyIGNvbXBvbmVudHMgPSB7XG4gIGV2ZW50V3JhcHBlcjogTm9vcFdyYXBwZXIsXG4gIHRpbWVTbG90V3JhcHBlcjogTm9vcFdyYXBwZXIsXG4gIGRhdGVDZWxsV3JhcHBlcjogTm9vcFdyYXBwZXJcbn07XG5cbmV4cG9ydCB7IENhbGVuZGFyJDEgYXMgQ2FsZW5kYXIsIERhdGVMb2NhbGl6ZXIsIG5hdmlnYXRlIGFzIE5hdmlnYXRlLCB2aWV3cyBhcyBWaWV3cywgY29tcG9uZW50cywgZGF0ZUZuc0xvY2FsaXplciwgZGF5anMgYXMgZGF5anNMb2NhbGl6ZXIsIGdsb2JhbGl6ZSBhcyBnbG9iYWxpemVMb2NhbGl6ZXIsIGx1eG9uIGFzIGx1eG9uTG9jYWxpemVyLCBtb21lbnQgYXMgbW9tZW50TG9jYWxpemVyLCBtb3ZlRGF0ZSBhcyBtb3ZlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/dist/react-big-calendar.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventCell.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventCell.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectWithoutProperties.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _clsx = _interopRequireDefault(__webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\"));\nvar _excluded = [\"style\", \"className\", \"event\", \"selected\", \"isAllDay\", \"onSelect\", \"onDoubleClick\", \"onKeyPress\", \"localizer\", \"continuesPrior\", \"continuesAfter\", \"accessors\", \"getters\", \"children\", \"components\", \"slotStart\", \"slotEnd\"];\nvar EventCell = /*#__PURE__*/function (_React$Component) {\n  function EventCell() {\n    (0, _classCallCheck2.default)(this, EventCell);\n    return (0, _callSuper2.default)(this, EventCell, arguments);\n  }\n  (0, _inherits2.default)(EventCell, _React$Component);\n  return (0, _createClass2.default)(EventCell, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        style = _this$props.style,\n        className = _this$props.className,\n        event = _this$props.event,\n        selected = _this$props.selected,\n        isAllDay = _this$props.isAllDay,\n        onSelect = _this$props.onSelect,\n        _onDoubleClick = _this$props.onDoubleClick,\n        onKeyPress = _this$props.onKeyPress,\n        localizer = _this$props.localizer,\n        continuesPrior = _this$props.continuesPrior,\n        continuesAfter = _this$props.continuesAfter,\n        accessors = _this$props.accessors,\n        getters = _this$props.getters,\n        children = _this$props.children,\n        _this$props$component = _this$props.components,\n        Event = _this$props$component.event,\n        EventWrapper = _this$props$component.eventWrapper,\n        slotStart = _this$props.slotStart,\n        slotEnd = _this$props.slotEnd,\n        props = (0, _objectWithoutProperties2.default)(_this$props, _excluded);\n      delete props.resizable;\n      var title = accessors.title(event);\n      var tooltip = accessors.tooltip(event);\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n      var allDay = accessors.allDay(event);\n      var showAsAllDay = isAllDay || allDay || localizer.diff(start, localizer.ceil(end, 'day'), 'day') > 1;\n      var userProps = getters.eventProp(event, start, end, selected);\n      var content = /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"rbc-event-content\",\n        title: tooltip || undefined\n      }, Event ? /*#__PURE__*/_react.default.createElement(Event, {\n        event: event,\n        continuesPrior: continuesPrior,\n        continuesAfter: continuesAfter,\n        title: title,\n        isAllDay: allDay,\n        localizer: localizer,\n        slotStart: slotStart,\n        slotEnd: slotEnd\n      }) : title);\n      return /*#__PURE__*/_react.default.createElement(EventWrapper, Object.assign({}, this.props, {\n        type: \"date\"\n      }), /*#__PURE__*/_react.default.createElement(\"div\", Object.assign({}, props, {\n        style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, userProps.style), style),\n        className: (0, _clsx.default)('rbc-event', className, userProps.className, {\n          'rbc-selected': selected,\n          'rbc-event-allday': showAsAllDay,\n          'rbc-event-continues-prior': continuesPrior,\n          'rbc-event-continues-after': continuesAfter\n        }),\n        onClick: function onClick(e) {\n          return onSelect && onSelect(event, e);\n        },\n        onDoubleClick: function onDoubleClick(e) {\n          return _onDoubleClick && _onDoubleClick(event, e);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return onKeyPress && onKeyPress(event, e);\n        }\n      }), typeof children === 'function' ? children(content) : content));\n    }\n  }]);\n}(_react.default.Component);\nvar _default = exports[\"default\"] = EventCell;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL0V2ZW50Q2VsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2YsNENBQTRDLG1CQUFPLENBQUMsbUpBQXNDO0FBQzFGLHVEQUF1RCxtQkFBTyxDQUFDLHVLQUFnRDtBQUMvRyw4Q0FBOEMsbUJBQU8sQ0FBQyxxSkFBdUM7QUFDN0YsMkNBQTJDLG1CQUFPLENBQUMsK0lBQW9DO0FBQ3ZGLHlDQUF5QyxtQkFBTyxDQUFDLDJJQUFrQztBQUNuRix3Q0FBd0MsbUJBQU8sQ0FBQyx5SUFBaUM7QUFDakYsb0NBQW9DLG1CQUFPLENBQUMsc01BQU87QUFDbkQsbUNBQW1DLG1CQUFPLENBQUMsb0ZBQU07QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AscUZBQXFGO0FBQ3JGO0FBQ0EsT0FBTyxvRUFBb0U7QUFDM0UseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsZUFBZSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWJpZy1jYWxlbmRhckAxLjE3LjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtYmlnLWNhbGVuZGFyL2xpYi9FdmVudENlbGwuanM/YzA2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIikpO1xudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCIpKTtcbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKSk7XG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIikpO1xudmFyIF9jYWxsU3VwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jYWxsU3VwZXJcIikpO1xudmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpKTtcbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgX2Nsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbHN4XCIpKTtcbnZhciBfZXhjbHVkZWQgPSBbXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcImV2ZW50XCIsIFwic2VsZWN0ZWRcIiwgXCJpc0FsbERheVwiLCBcIm9uU2VsZWN0XCIsIFwib25Eb3VibGVDbGlja1wiLCBcIm9uS2V5UHJlc3NcIiwgXCJsb2NhbGl6ZXJcIiwgXCJjb250aW51ZXNQcmlvclwiLCBcImNvbnRpbnVlc0FmdGVyXCIsIFwiYWNjZXNzb3JzXCIsIFwiZ2V0dGVyc1wiLCBcImNoaWxkcmVuXCIsIFwiY29tcG9uZW50c1wiLCBcInNsb3RTdGFydFwiLCBcInNsb3RFbmRcIl07XG52YXIgRXZlbnRDZWxsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIEV2ZW50Q2VsbCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBFdmVudENlbGwpO1xuICAgIHJldHVybiAoMCwgX2NhbGxTdXBlcjIuZGVmYXVsdCkodGhpcywgRXZlbnRDZWxsLCBhcmd1bWVudHMpO1xuICB9XG4gICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKEV2ZW50Q2VsbCwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShFdmVudENlbGwsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzLnN0eWxlLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIGV2ZW50ID0gX3RoaXMkcHJvcHMuZXZlbnQsXG4gICAgICAgIHNlbGVjdGVkID0gX3RoaXMkcHJvcHMuc2VsZWN0ZWQsXG4gICAgICAgIGlzQWxsRGF5ID0gX3RoaXMkcHJvcHMuaXNBbGxEYXksXG4gICAgICAgIG9uU2VsZWN0ID0gX3RoaXMkcHJvcHMub25TZWxlY3QsXG4gICAgICAgIF9vbkRvdWJsZUNsaWNrID0gX3RoaXMkcHJvcHMub25Eb3VibGVDbGljayxcbiAgICAgICAgb25LZXlQcmVzcyA9IF90aGlzJHByb3BzLm9uS2V5UHJlc3MsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcixcbiAgICAgICAgY29udGludWVzUHJpb3IgPSBfdGhpcyRwcm9wcy5jb250aW51ZXNQcmlvcixcbiAgICAgICAgY29udGludWVzQWZ0ZXIgPSBfdGhpcyRwcm9wcy5jb250aW51ZXNBZnRlcixcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHMuYWNjZXNzb3JzLFxuICAgICAgICBnZXR0ZXJzID0gX3RoaXMkcHJvcHMuZ2V0dGVycyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgX3RoaXMkcHJvcHMkY29tcG9uZW50ID0gX3RoaXMkcHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgRXZlbnQgPSBfdGhpcyRwcm9wcyRjb21wb25lbnQuZXZlbnQsXG4gICAgICAgIEV2ZW50V3JhcHBlciA9IF90aGlzJHByb3BzJGNvbXBvbmVudC5ldmVudFdyYXBwZXIsXG4gICAgICAgIHNsb3RTdGFydCA9IF90aGlzJHByb3BzLnNsb3RTdGFydCxcbiAgICAgICAgc2xvdEVuZCA9IF90aGlzJHByb3BzLnNsb3RFbmQsXG4gICAgICAgIHByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIuZGVmYXVsdCkoX3RoaXMkcHJvcHMsIF9leGNsdWRlZCk7XG4gICAgICBkZWxldGUgcHJvcHMucmVzaXphYmxlO1xuICAgICAgdmFyIHRpdGxlID0gYWNjZXNzb3JzLnRpdGxlKGV2ZW50KTtcbiAgICAgIHZhciB0b29sdGlwID0gYWNjZXNzb3JzLnRvb2x0aXAoZXZlbnQpO1xuICAgICAgdmFyIGVuZCA9IGFjY2Vzc29ycy5lbmQoZXZlbnQpO1xuICAgICAgdmFyIHN0YXJ0ID0gYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KTtcbiAgICAgIHZhciBhbGxEYXkgPSBhY2Nlc3NvcnMuYWxsRGF5KGV2ZW50KTtcbiAgICAgIHZhciBzaG93QXNBbGxEYXkgPSBpc0FsbERheSB8fCBhbGxEYXkgfHwgbG9jYWxpemVyLmRpZmYoc3RhcnQsIGxvY2FsaXplci5jZWlsKGVuZCwgJ2RheScpLCAnZGF5JykgPiAxO1xuICAgICAgdmFyIHVzZXJQcm9wcyA9IGdldHRlcnMuZXZlbnRQcm9wKGV2ZW50LCBzdGFydCwgZW5kLCBzZWxlY3RlZCk7XG4gICAgICB2YXIgY29udGVudCA9IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1ldmVudC1jb250ZW50XCIsXG4gICAgICAgIHRpdGxlOiB0b29sdGlwIHx8IHVuZGVmaW5lZFxuICAgICAgfSwgRXZlbnQgPyAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChFdmVudCwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGNvbnRpbnVlc1ByaW9yOiBjb250aW51ZXNQcmlvcixcbiAgICAgICAgY29udGludWVzQWZ0ZXI6IGNvbnRpbnVlc0FmdGVyLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGlzQWxsRGF5OiBhbGxEYXksXG4gICAgICAgIGxvY2FsaXplcjogbG9jYWxpemVyLFxuICAgICAgICBzbG90U3RhcnQ6IHNsb3RTdGFydCxcbiAgICAgICAgc2xvdEVuZDogc2xvdEVuZFxuICAgICAgfSkgOiB0aXRsZSk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRXZlbnRXcmFwcGVyLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICB9KSwgLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgc3R5bGU6ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHVzZXJQcm9wcy5zdHlsZSksIHN0eWxlKSxcbiAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2Nsc3guZGVmYXVsdCkoJ3JiYy1ldmVudCcsIGNsYXNzTmFtZSwgdXNlclByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAgICdyYmMtc2VsZWN0ZWQnOiBzZWxlY3RlZCxcbiAgICAgICAgICAncmJjLWV2ZW50LWFsbGRheSc6IHNob3dBc0FsbERheSxcbiAgICAgICAgICAncmJjLWV2ZW50LWNvbnRpbnVlcy1wcmlvcic6IGNvbnRpbnVlc1ByaW9yLFxuICAgICAgICAgICdyYmMtZXZlbnQtY29udGludWVzLWFmdGVyJzogY29udGludWVzQWZ0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgIHJldHVybiBvblNlbGVjdCAmJiBvblNlbGVjdChldmVudCwgZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soZSkge1xuICAgICAgICAgIHJldHVybiBfb25Eb3VibGVDbGljayAmJiBfb25Eb3VibGVDbGljayhldmVudCwgZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25LZXlQcmVzcyAmJiBvbktleVByZXNzKGV2ZW50LCBlKTtcbiAgICAgICAgfVxuICAgICAgfSksIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKGNvbnRlbnQpIDogY29udGVudCkpO1xuICAgIH1cbiAgfV0pO1xufShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRDZWxsOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventCell.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRow.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRow.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _clsx = _interopRequireDefault(__webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _EventRowMixin = _interopRequireDefault(__webpack_require__(/*! ./EventRowMixin */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRowMixin.js\"));\nvar EventRow = /*#__PURE__*/function (_React$Component) {\n  function EventRow() {\n    (0, _classCallCheck2.default)(this, EventRow);\n    return (0, _callSuper2.default)(this, EventRow, arguments);\n  }\n  (0, _inherits2.default)(EventRow, _React$Component);\n  return (0, _createClass2.default)(EventRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props = this.props,\n        segments = _this$props.segments,\n        slots = _this$props.slotMetrics.slots,\n        className = _this$props.className;\n      var lastEnd = 1;\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: (0, _clsx.default)(className, 'rbc-row')\n      }, segments.reduce(function (row, _ref, li) {\n        var event = _ref.event,\n          left = _ref.left,\n          right = _ref.right,\n          span = _ref.span;\n        var key = '_lvl_' + li;\n        var gap = left - lastEnd;\n        var content = _EventRowMixin.default.renderEvent(_this.props, event);\n        if (gap) row.push(_EventRowMixin.default.renderSpan(slots, gap, \"\".concat(key, \"_gap\")));\n        row.push(_EventRowMixin.default.renderSpan(slots, span, key, content));\n        lastEnd = right + 1;\n        return row;\n      }, []));\n    }\n  }]);\n}(_react.default.Component);\nEventRow.defaultProps = (0, _objectSpread2.default)({}, _EventRowMixin.default.defaultProps);\nvar _default = exports[\"default\"] = EventRow;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL0V2ZW50Um93LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDZCQUE2QixxTUFBK0Q7QUFDNUYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWU7QUFDZiw0Q0FBNEMsbUJBQU8sQ0FBQyxtSkFBc0M7QUFDMUYsOENBQThDLG1CQUFPLENBQUMscUpBQXVDO0FBQzdGLDJDQUEyQyxtQkFBTyxDQUFDLCtJQUFvQztBQUN2Rix5Q0FBeUMsbUJBQU8sQ0FBQywySUFBa0M7QUFDbkYsd0NBQXdDLG1CQUFPLENBQUMseUlBQWlDO0FBQ2pGLG1DQUFtQyxtQkFBTyxDQUFDLG9GQUFNO0FBQ2pELG9DQUFvQyxtQkFBTyxDQUFDLHNNQUFPO0FBQ25ELDRDQUE0QyxtQkFBTyxDQUFDLDhLQUFpQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELHNEQUFzRDtBQUN0RCxlQUFlLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL0V2ZW50Um93LmpzPzhiYmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyXCIpKTtcbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKSk7XG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIikpO1xudmFyIF9jYWxsU3VwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jYWxsU3VwZXJcIikpO1xudmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpKTtcbnZhciBfY2xzeCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImNsc3hcIikpO1xudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfRXZlbnRSb3dNaXhpbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vRXZlbnRSb3dNaXhpblwiKSk7XG52YXIgRXZlbnRSb3cgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRXZlbnRSb3coKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgRXZlbnRSb3cpO1xuICAgIHJldHVybiAoMCwgX2NhbGxTdXBlcjIuZGVmYXVsdCkodGhpcywgRXZlbnRSb3csIGFyZ3VtZW50cyk7XG4gIH1cbiAgKDAsIF9pbmhlcml0czIuZGVmYXVsdCkoRXZlbnRSb3csIF9SZWFjdCRDb21wb25lbnQpO1xuICByZXR1cm4gKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoRXZlbnRSb3csIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc2VnbWVudHMgPSBfdGhpcyRwcm9wcy5zZWdtZW50cyxcbiAgICAgICAgc2xvdHMgPSBfdGhpcyRwcm9wcy5zbG90TWV0cmljcy5zbG90cyxcbiAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMuY2xhc3NOYW1lO1xuICAgICAgdmFyIGxhc3RFbmQgPSAxO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2Nsc3guZGVmYXVsdCkoY2xhc3NOYW1lLCAncmJjLXJvdycpXG4gICAgICB9LCBzZWdtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKHJvdywgX3JlZiwgbGkpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX3JlZi5ldmVudCxcbiAgICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0LFxuICAgICAgICAgIHJpZ2h0ID0gX3JlZi5yaWdodCxcbiAgICAgICAgICBzcGFuID0gX3JlZi5zcGFuO1xuICAgICAgICB2YXIga2V5ID0gJ19sdmxfJyArIGxpO1xuICAgICAgICB2YXIgZ2FwID0gbGVmdCAtIGxhc3RFbmQ7XG4gICAgICAgIHZhciBjb250ZW50ID0gX0V2ZW50Um93TWl4aW4uZGVmYXVsdC5yZW5kZXJFdmVudChfdGhpcy5wcm9wcywgZXZlbnQpO1xuICAgICAgICBpZiAoZ2FwKSByb3cucHVzaChfRXZlbnRSb3dNaXhpbi5kZWZhdWx0LnJlbmRlclNwYW4oc2xvdHMsIGdhcCwgXCJcIi5jb25jYXQoa2V5LCBcIl9nYXBcIikpKTtcbiAgICAgICAgcm93LnB1c2goX0V2ZW50Um93TWl4aW4uZGVmYXVsdC5yZW5kZXJTcGFuKHNsb3RzLCBzcGFuLCBrZXksIGNvbnRlbnQpKTtcbiAgICAgICAgbGFzdEVuZCA9IHJpZ2h0ICsgMTtcbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgIH0sIFtdKSk7XG4gICAgfVxuICB9XSk7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5FdmVudFJvdy5kZWZhdWx0UHJvcHMgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIF9FdmVudFJvd01peGluLmRlZmF1bHQuZGVmYXVsdFByb3BzKTtcbnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50Um93OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRowMixin.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRowMixin.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _EventCell = _interopRequireDefault(__webpack_require__(/*! ./EventCell */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventCell.js\"));\nvar _selection = __webpack_require__(/*! ./utils/selection */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/selection.js\");\n/* eslint-disable react/prop-types */\nvar _default = exports[\"default\"] = {\n  propTypes: {\n    slotMetrics: _propTypes.default.object.isRequired,\n    selected: _propTypes.default.object,\n    isAllDay: _propTypes.default.bool,\n    accessors: _propTypes.default.object.isRequired,\n    localizer: _propTypes.default.object.isRequired,\n    components: _propTypes.default.object.isRequired,\n    getters: _propTypes.default.object.isRequired,\n    onSelect: _propTypes.default.func,\n    onDoubleClick: _propTypes.default.func,\n    onKeyPress: _propTypes.default.func\n  },\n  defaultProps: {\n    segments: [],\n    selected: {}\n  },\n  renderEvent: function renderEvent(props, event) {\n    var selected = props.selected,\n      _ = props.isAllDay,\n      accessors = props.accessors,\n      getters = props.getters,\n      onSelect = props.onSelect,\n      onDoubleClick = props.onDoubleClick,\n      onKeyPress = props.onKeyPress,\n      localizer = props.localizer,\n      slotMetrics = props.slotMetrics,\n      components = props.components,\n      resizable = props.resizable;\n    var continuesPrior = slotMetrics.continuesPrior(event);\n    var continuesAfter = slotMetrics.continuesAfter(event);\n    return /*#__PURE__*/_react.default.createElement(_EventCell.default, {\n      event: event,\n      getters: getters,\n      localizer: localizer,\n      accessors: accessors,\n      components: components,\n      onSelect: onSelect,\n      onDoubleClick: onDoubleClick,\n      onKeyPress: onKeyPress,\n      continuesPrior: continuesPrior,\n      continuesAfter: continuesAfter,\n      slotStart: slotMetrics.first,\n      slotEnd: slotMetrics.last,\n      selected: (0, _selection.isSelected)(event, selected),\n      resizable: resizable\n    });\n  },\n  renderSpan: function renderSpan(slots, len, key) {\n    var content = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ' ';\n    var per = Math.abs(len) / slots * 100 + '%';\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      key: key,\n      className: \"rbc-row-segment\"\n      // IE10/11 need max-width. flex-basis doesn't respect box-sizing\n      ,\n      style: {\n        WebkitFlexBasis: per,\n        flexBasis: per,\n        maxWidth: per\n      }\n    }, content);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL0V2ZW50Um93TWl4aW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLHFNQUErRDtBQUM1Riw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTtBQUNmLHdDQUF3QyxtQkFBTyxDQUFDLGlHQUFZO0FBQzVELG9DQUFvQyxtQkFBTyxDQUFDLHNNQUFPO0FBQ25ELHdDQUF3QyxtQkFBTyxDQUFDLHNLQUFhO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLGtMQUFtQjtBQUM1QztBQUNBLGVBQWUsa0JBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWJpZy1jYWxlbmRhckAxLjE3LjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtYmlnLWNhbGVuZGFyL2xpYi9FdmVudFJvd01peGluLmpzP2U1NjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgX0V2ZW50Q2VsbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vRXZlbnRDZWxsXCIpKTtcbnZhciBfc2VsZWN0aW9uID0gcmVxdWlyZShcIi4vdXRpbHMvc2VsZWN0aW9uXCIpO1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBwcm9wVHlwZXM6IHtcbiAgICBzbG90TWV0cmljczogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LFxuICAgIGlzQWxsRGF5OiBfcHJvcFR5cGVzLmRlZmF1bHQuYm9vbCxcbiAgICBhY2Nlc3NvcnM6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBsb2NhbGl6ZXI6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb21wb25lbnRzOiBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZ2V0dGVyczogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIG9uU2VsZWN0OiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgICBvbkRvdWJsZUNsaWNrOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYyxcbiAgICBvbktleVByZXNzOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY1xuICB9LFxuICBkZWZhdWx0UHJvcHM6IHtcbiAgICBzZWdtZW50czogW10sXG4gICAgc2VsZWN0ZWQ6IHt9XG4gIH0sXG4gIHJlbmRlckV2ZW50OiBmdW5jdGlvbiByZW5kZXJFdmVudChwcm9wcywgZXZlbnQpIHtcbiAgICB2YXIgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZCxcbiAgICAgIF8gPSBwcm9wcy5pc0FsbERheSxcbiAgICAgIGFjY2Vzc29ycyA9IHByb3BzLmFjY2Vzc29ycyxcbiAgICAgIGdldHRlcnMgPSBwcm9wcy5nZXR0ZXJzLFxuICAgICAgb25TZWxlY3QgPSBwcm9wcy5vblNlbGVjdCxcbiAgICAgIG9uRG91YmxlQ2xpY2sgPSBwcm9wcy5vbkRvdWJsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzcyA9IHByb3BzLm9uS2V5UHJlc3MsXG4gICAgICBsb2NhbGl6ZXIgPSBwcm9wcy5sb2NhbGl6ZXIsXG4gICAgICBzbG90TWV0cmljcyA9IHByb3BzLnNsb3RNZXRyaWNzLFxuICAgICAgY29tcG9uZW50cyA9IHByb3BzLmNvbXBvbmVudHMsXG4gICAgICByZXNpemFibGUgPSBwcm9wcy5yZXNpemFibGU7XG4gICAgdmFyIGNvbnRpbnVlc1ByaW9yID0gc2xvdE1ldHJpY3MuY29udGludWVzUHJpb3IoZXZlbnQpO1xuICAgIHZhciBjb250aW51ZXNBZnRlciA9IHNsb3RNZXRyaWNzLmNvbnRpbnVlc0FmdGVyKGV2ZW50KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V2ZW50Q2VsbC5kZWZhdWx0LCB7XG4gICAgICBldmVudDogZXZlbnQsXG4gICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgbG9jYWxpemVyOiBsb2NhbGl6ZXIsXG4gICAgICBhY2Nlc3NvcnM6IGFjY2Vzc29ycyxcbiAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICBvblNlbGVjdDogb25TZWxlY3QsXG4gICAgICBvbkRvdWJsZUNsaWNrOiBvbkRvdWJsZUNsaWNrLFxuICAgICAgb25LZXlQcmVzczogb25LZXlQcmVzcyxcbiAgICAgIGNvbnRpbnVlc1ByaW9yOiBjb250aW51ZXNQcmlvcixcbiAgICAgIGNvbnRpbnVlc0FmdGVyOiBjb250aW51ZXNBZnRlcixcbiAgICAgIHNsb3RTdGFydDogc2xvdE1ldHJpY3MuZmlyc3QsXG4gICAgICBzbG90RW5kOiBzbG90TWV0cmljcy5sYXN0LFxuICAgICAgc2VsZWN0ZWQ6ICgwLCBfc2VsZWN0aW9uLmlzU2VsZWN0ZWQpKGV2ZW50LCBzZWxlY3RlZCksXG4gICAgICByZXNpemFibGU6IHJlc2l6YWJsZVxuICAgIH0pO1xuICB9LFxuICByZW5kZXJTcGFuOiBmdW5jdGlvbiByZW5kZXJTcGFuKHNsb3RzLCBsZW4sIGtleSkge1xuICAgIHZhciBjb250ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnICc7XG4gICAgdmFyIHBlciA9IE1hdGguYWJzKGxlbikgLyBzbG90cyAqIDEwMCArICclJztcbiAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAga2V5OiBrZXksXG4gICAgICBjbGFzc05hbWU6IFwicmJjLXJvdy1zZWdtZW50XCJcbiAgICAgIC8vIElFMTAvMTEgbmVlZCBtYXgtd2lkdGguIGZsZXgtYmFzaXMgZG9lc24ndCByZXNwZWN0IGJveC1zaXppbmdcbiAgICAgICxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIFdlYmtpdEZsZXhCYXNpczogcGVyLFxuICAgICAgICBmbGV4QmFzaXM6IHBlcixcbiAgICAgICAgbWF4V2lkdGg6IHBlclxuICAgICAgfVxuICAgIH0sIGNvbnRlbnQpO1xuICB9XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRowMixin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/Selection.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/Selection.js ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nexports.getBoundsForNode = getBoundsForNode;\nexports.getEventNodeFromPoint = getEventNodeFromPoint;\nexports.getShowMoreNodeFromPoint = getShowMoreNodeFromPoint;\nexports.isEvent = isEvent;\nexports.isShowMore = isShowMore;\nexports.objectsCollide = objectsCollide;\nvar _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/typeof.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _contains = _interopRequireDefault(__webpack_require__(/*! dom-helpers/contains */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/contains.js\"));\nvar _closest = _interopRequireDefault(__webpack_require__(/*! dom-helpers/closest */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/closest.js\"));\nvar _listen = _interopRequireDefault(__webpack_require__(/*! dom-helpers/listen */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/listen.js\"));\nfunction addEventListener(type, handler) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document;\n  return (0, _listen.default)(target, type, handler, {\n    passive: false\n  });\n}\nfunction isOverContainer(container, x, y) {\n  return !container || (0, _contains.default)(container, document.elementFromPoint(x, y));\n}\nfunction getEventNodeFromPoint(node, _ref) {\n  var clientX = _ref.clientX,\n    clientY = _ref.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-event', node);\n}\nfunction getShowMoreNodeFromPoint(node, _ref2) {\n  var clientX = _ref2.clientX,\n    clientY = _ref2.clientY;\n  var target = document.elementFromPoint(clientX, clientY);\n  return (0, _closest.default)(target, '.rbc-show-more', node);\n}\nfunction isEvent(node, bounds) {\n  return !!getEventNodeFromPoint(node, bounds);\n}\nfunction isShowMore(node, bounds) {\n  return !!getShowMoreNodeFromPoint(node, bounds);\n}\nfunction getEventCoordinates(e) {\n  var target = e;\n  if (e.touches && e.touches.length) {\n    target = e.touches[0];\n  }\n  return {\n    clientX: target.clientX,\n    clientY: target.clientY,\n    pageX: target.pageX,\n    pageY: target.pageY\n  };\n}\nvar clickTolerance = 5;\nvar clickInterval = 250;\nvar Selection = /*#__PURE__*/function () {\n  function Selection(node) {\n    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$global = _ref3.global,\n      global = _ref3$global === void 0 ? false : _ref3$global,\n      _ref3$longPressThresh = _ref3.longPressThreshold,\n      longPressThreshold = _ref3$longPressThresh === void 0 ? 250 : _ref3$longPressThresh,\n      _ref3$validContainers = _ref3.validContainers,\n      validContainers = _ref3$validContainers === void 0 ? [] : _ref3$validContainers;\n    (0, _classCallCheck2.default)(this, Selection);\n    this._initialEvent = null;\n    this.selecting = false;\n    this.isDetached = false;\n    this.container = node;\n    this.globalMouse = !node || global;\n    this.longPressThreshold = longPressThreshold;\n    this.validContainers = validContainers;\n    this._listeners = Object.create(null);\n    this._handleInitialEvent = this._handleInitialEvent.bind(this);\n    this._handleMoveEvent = this._handleMoveEvent.bind(this);\n    this._handleTerminatingEvent = this._handleTerminatingEvent.bind(this);\n    this._keyListener = this._keyListener.bind(this);\n    this._dropFromOutsideListener = this._dropFromOutsideListener.bind(this);\n    this._dragOverFromOutsideListener = this._dragOverFromOutsideListener.bind(this);\n\n    // Fixes an iOS 10 bug where scrolling could not be prevented on the window.\n    // https://github.com/metafizzy/flickity/issues/457#issuecomment-254501356\n    this._removeTouchMoveWindowListener = addEventListener('touchmove', function () {}, window);\n    this._removeKeyDownListener = addEventListener('keydown', this._keyListener);\n    this._removeKeyUpListener = addEventListener('keyup', this._keyListener);\n    this._removeDropFromOutsideListener = addEventListener('drop', this._dropFromOutsideListener);\n    this._removeDragOverFromOutsideListener = addEventListener('dragover', this._dragOverFromOutsideListener);\n    this._addInitialEventListener();\n  }\n  return (0, _createClass2.default)(Selection, [{\n    key: \"on\",\n    value: function on(type, handler) {\n      var handlers = this._listeners[type] || (this._listeners[type] = []);\n      handlers.push(handler);\n      return {\n        remove: function remove() {\n          var idx = handlers.indexOf(handler);\n          if (idx !== -1) handlers.splice(idx, 1);\n        }\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(type) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      var result;\n      var handlers = this._listeners[type] || [];\n      handlers.forEach(function (fn) {\n        if (result === undefined) result = fn.apply(void 0, args);\n      });\n      return result;\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      this._initialEvent = null;\n      this._initialEventData = null;\n      this._selectRect = null;\n      this.selecting = false;\n      this._lastClickData = null;\n      this.isDetached = true;\n      this._listeners = Object.create(null);\n      this._removeTouchMoveWindowListener && this._removeTouchMoveWindowListener();\n      this._removeInitialEventListener && this._removeInitialEventListener();\n      this._removeEndListener && this._removeEndListener();\n      this._onEscListener && this._onEscListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._removeKeyUpListener && this._removeKeyUpListener();\n      this._removeKeyDownListener && this._removeKeyDownListener();\n      this._removeDropFromOutsideListener && this._removeDropFromOutsideListener();\n      this._removeDragOverFromOutsideListener && this._removeDragOverFromOutsideListener();\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(node) {\n      var box = this._selectRect;\n      if (!box || !this.selecting) return false;\n      return objectsCollide(box, getBoundsForNode(node));\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(items) {\n      var box = this._selectRect;\n\n      //not selecting\n      if (!box || !this.selecting) return [];\n      return items.filter(this.isSelected, this);\n    }\n\n    // Adds a listener that will call the handler only after the user has pressed on the screen\n    // without moving their finger for 250ms.\n  }, {\n    key: \"_addLongPressListener\",\n    value: function _addLongPressListener(handler, initialEvent) {\n      var _this = this;\n      var timer = null;\n      var removeTouchMoveListener = null;\n      var removeTouchEndListener = null;\n      var handleTouchStart = function handleTouchStart(initialEvent) {\n        timer = setTimeout(function () {\n          cleanup();\n          handler(initialEvent);\n        }, _this.longPressThreshold);\n        removeTouchMoveListener = addEventListener('touchmove', function () {\n          return cleanup();\n        });\n        removeTouchEndListener = addEventListener('touchend', function () {\n          return cleanup();\n        });\n      };\n      var removeTouchStartListener = addEventListener('touchstart', handleTouchStart);\n      var cleanup = function cleanup() {\n        if (timer) {\n          clearTimeout(timer);\n        }\n        if (removeTouchMoveListener) {\n          removeTouchMoveListener();\n        }\n        if (removeTouchEndListener) {\n          removeTouchEndListener();\n        }\n        timer = null;\n        removeTouchMoveListener = null;\n        removeTouchEndListener = null;\n      };\n      if (initialEvent) {\n        handleTouchStart(initialEvent);\n      }\n      return function () {\n        cleanup();\n        removeTouchStartListener();\n      };\n    }\n\n    // Listen for mousedown and touchstart events. When one is received, disable the other and setup\n    // future event handling based on the type of event.\n  }, {\n    key: \"_addInitialEventListener\",\n    value: function _addInitialEventListener() {\n      var _this2 = this;\n      var removeMouseDownListener = addEventListener('mousedown', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._handleInitialEvent(e);\n        _this2._removeInitialEventListener = addEventListener('mousedown', _this2._handleInitialEvent);\n      });\n      var removeTouchStartListener = addEventListener('touchstart', function (e) {\n        _this2._removeInitialEventListener();\n        _this2._removeInitialEventListener = _this2._addLongPressListener(_this2._handleInitialEvent, e);\n      });\n      this._removeInitialEventListener = function () {\n        removeMouseDownListener();\n        removeTouchStartListener();\n      };\n    }\n  }, {\n    key: \"_dropFromOutsideListener\",\n    value: function _dropFromOutsideListener(e) {\n      var _getEventCoordinates = getEventCoordinates(e),\n        pageX = _getEventCoordinates.pageX,\n        pageY = _getEventCoordinates.pageY,\n        clientX = _getEventCoordinates.clientX,\n        clientY = _getEventCoordinates.clientY;\n      this.emit('dropFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_dragOverFromOutsideListener\",\n    value: function _dragOverFromOutsideListener(e) {\n      var _getEventCoordinates2 = getEventCoordinates(e),\n        pageX = _getEventCoordinates2.pageX,\n        pageY = _getEventCoordinates2.pageY,\n        clientX = _getEventCoordinates2.clientX,\n        clientY = _getEventCoordinates2.clientY;\n      this.emit('dragOverFromOutside', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      e.preventDefault();\n    }\n  }, {\n    key: \"_handleInitialEvent\",\n    value: function _handleInitialEvent(e) {\n      this._initialEvent = e;\n      if (this.isDetached) {\n        return;\n      }\n      var _getEventCoordinates3 = getEventCoordinates(e),\n        clientX = _getEventCoordinates3.clientX,\n        clientY = _getEventCoordinates3.clientY,\n        pageX = _getEventCoordinates3.pageX,\n        pageY = _getEventCoordinates3.pageY;\n      var node = this.container(),\n        collides,\n        offsetData;\n\n      // Right clicks\n      if (e.which === 3 || e.button === 2 || !isOverContainer(node, clientX, clientY)) return;\n      if (!this.globalMouse && node && !(0, _contains.default)(node, e.target)) {\n        var _normalizeDistance = normalizeDistance(0),\n          top = _normalizeDistance.top,\n          left = _normalizeDistance.left,\n          bottom = _normalizeDistance.bottom,\n          right = _normalizeDistance.right;\n        offsetData = getBoundsForNode(node);\n        collides = objectsCollide({\n          top: offsetData.top - top,\n          left: offsetData.left - left,\n          bottom: offsetData.bottom + bottom,\n          right: offsetData.right + right\n        }, {\n          top: pageY,\n          left: pageX\n        });\n        if (!collides) return;\n      }\n      var result = this.emit('beforeSelect', this._initialEventData = {\n        isTouch: /^touch/.test(e.type),\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n      if (result === false) return;\n      switch (e.type) {\n        case 'mousedown':\n          this._removeEndListener = addEventListener('mouseup', this._handleTerminatingEvent);\n          this._onEscListener = addEventListener('keydown', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('mousemove', this._handleMoveEvent);\n          break;\n        case 'touchstart':\n          this._handleMoveEvent(e);\n          this._removeEndListener = addEventListener('touchend', this._handleTerminatingEvent);\n          this._removeMoveListener = addEventListener('touchmove', this._handleMoveEvent);\n          break;\n        default:\n          break;\n      }\n    }\n\n    // Check whether provided event target element\n    // - is contained within a valid container\n  }, {\n    key: \"_isWithinValidContainer\",\n    value: function _isWithinValidContainer(e) {\n      var eventTarget = e.target;\n      var containers = this.validContainers;\n      if (!containers || !containers.length || !eventTarget) {\n        return true;\n      }\n      return containers.some(function (target) {\n        return !!eventTarget.closest(target);\n      });\n    }\n  }, {\n    key: \"_handleTerminatingEvent\",\n    value: function _handleTerminatingEvent(e) {\n      var selecting = this.selecting;\n      var bounds = this._selectRect;\n      // If it's not in selecting state, it's a click event\n      if (!selecting && e.type.includes('key')) {\n        e = this._initialEvent;\n      }\n      this.selecting = false;\n      this._removeEndListener && this._removeEndListener();\n      this._removeMoveListener && this._removeMoveListener();\n      this._selectRect = null;\n      this._initialEvent = null;\n      this._initialEventData = null;\n      if (!e) return;\n      var inRoot = !this.container || (0, _contains.default)(this.container(), e.target);\n      var isWithinValidContainer = this._isWithinValidContainer(e);\n      if (e.key === 'Escape' || !isWithinValidContainer) {\n        return this.emit('reset');\n      }\n      if (!selecting && inRoot) {\n        return this._handleClickEvent(e);\n      }\n\n      // User drag-clicked in the Selectable area\n      if (selecting) return this.emit('select', bounds);\n      return this.emit('reset');\n    }\n  }, {\n    key: \"_handleClickEvent\",\n    value: function _handleClickEvent(e) {\n      var _getEventCoordinates4 = getEventCoordinates(e),\n        pageX = _getEventCoordinates4.pageX,\n        pageY = _getEventCoordinates4.pageY,\n        clientX = _getEventCoordinates4.clientX,\n        clientY = _getEventCoordinates4.clientY;\n      var now = new Date().getTime();\n      if (this._lastClickData && now - this._lastClickData.timestamp < clickInterval) {\n        // Double click event\n        this._lastClickData = null;\n        return this.emit('doubleClick', {\n          x: pageX,\n          y: pageY,\n          clientX: clientX,\n          clientY: clientY\n        });\n      }\n\n      // Click event\n      this._lastClickData = {\n        timestamp: now\n      };\n      return this.emit('click', {\n        x: pageX,\n        y: pageY,\n        clientX: clientX,\n        clientY: clientY\n      });\n    }\n  }, {\n    key: \"_handleMoveEvent\",\n    value: function _handleMoveEvent(e) {\n      if (this._initialEventData === null || this.isDetached) {\n        return;\n      }\n      var _this$_initialEventDa = this._initialEventData,\n        x = _this$_initialEventDa.x,\n        y = _this$_initialEventDa.y;\n      var _getEventCoordinates5 = getEventCoordinates(e),\n        pageX = _getEventCoordinates5.pageX,\n        pageY = _getEventCoordinates5.pageY;\n      var w = Math.abs(x - pageX);\n      var h = Math.abs(y - pageY);\n      var left = Math.min(pageX, x),\n        top = Math.min(pageY, y),\n        old = this.selecting;\n      var click = this.isClick(pageX, pageY);\n      // Prevent emitting selectStart event until mouse is moved.\n      // in Chrome on Windows, mouseMove event may be fired just after mouseDown event.\n      if (click && !old && !(w || h)) {\n        return;\n      }\n      if (!old && !click) {\n        this.emit('selectStart', this._initialEventData);\n      }\n      if (!click) {\n        this.selecting = true;\n        this._selectRect = {\n          top: top,\n          left: left,\n          x: pageX,\n          y: pageY,\n          right: left + w,\n          bottom: top + h\n        };\n        this.emit('selecting', this._selectRect);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"_keyListener\",\n    value: function _keyListener(e) {\n      this.ctrl = e.metaKey || e.ctrlKey;\n    }\n  }, {\n    key: \"isClick\",\n    value: function isClick(pageX, pageY) {\n      var _this$_initialEventDa2 = this._initialEventData,\n        x = _this$_initialEventDa2.x,\n        y = _this$_initialEventDa2.y,\n        isTouch = _this$_initialEventDa2.isTouch;\n      return !isTouch && Math.abs(pageX - x) <= clickTolerance && Math.abs(pageY - y) <= clickTolerance;\n    }\n  }]);\n}();\n/**\n * Resolve the disance prop from either an Int or an Object\n * @return {Object}\n */\nfunction normalizeDistance() {\n  var distance = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if ((0, _typeof2.default)(distance) !== 'object') distance = {\n    top: distance,\n    left: distance,\n    right: distance,\n    bottom: distance\n  };\n  return distance;\n}\n\n/**\n * Given two objects containing \"top\", \"left\", \"offsetWidth\" and \"offsetHeight\"\n * properties, determine if they collide.\n * @param  {Object|HTMLElement} a\n * @param  {Object|HTMLElement} b\n * @return {bool}\n */\nfunction objectsCollide(nodeA, nodeB) {\n  var tolerance = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _getBoundsForNode = getBoundsForNode(nodeA),\n    aTop = _getBoundsForNode.top,\n    aLeft = _getBoundsForNode.left,\n    _getBoundsForNode$rig = _getBoundsForNode.right,\n    aRight = _getBoundsForNode$rig === void 0 ? aLeft : _getBoundsForNode$rig,\n    _getBoundsForNode$bot = _getBoundsForNode.bottom,\n    aBottom = _getBoundsForNode$bot === void 0 ? aTop : _getBoundsForNode$bot;\n  var _getBoundsForNode2 = getBoundsForNode(nodeB),\n    bTop = _getBoundsForNode2.top,\n    bLeft = _getBoundsForNode2.left,\n    _getBoundsForNode2$ri = _getBoundsForNode2.right,\n    bRight = _getBoundsForNode2$ri === void 0 ? bLeft : _getBoundsForNode2$ri,\n    _getBoundsForNode2$bo = _getBoundsForNode2.bottom,\n    bBottom = _getBoundsForNode2$bo === void 0 ? bTop : _getBoundsForNode2$bo;\n  return !(\n  // 'a' bottom doesn't touch 'b' top\n\n  aBottom - tolerance < bTop ||\n  // 'a' top doesn't touch 'b' bottom\n  aTop + tolerance > bBottom ||\n  // 'a' right doesn't touch 'b' left\n  aRight - tolerance < bLeft ||\n  // 'a' left doesn't touch 'b' right\n  aLeft + tolerance > bRight);\n}\n\n/**\n * Given a node, get everything needed to calculate its boundaries\n * @param  {HTMLElement} node\n * @return {Object}\n */\nfunction getBoundsForNode(node) {\n  if (!node.getBoundingClientRect) return node;\n  var rect = node.getBoundingClientRect(),\n    left = rect.left + pageOffset('left'),\n    top = rect.top + pageOffset('top');\n  return {\n    top: top,\n    left: left,\n    right: (node.offsetWidth || 0) + left,\n    bottom: (node.offsetHeight || 0) + top\n  };\n}\nfunction pageOffset(dir) {\n  if (dir === 'left') return window.pageXOffset || document.body.scrollLeft || 0;\n  if (dir === 'top') return window.pageYOffset || document.body.scrollTop || 0;\n}\nvar _default = exports[\"default\"] = Selection;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL1NlbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2Ysd0JBQXdCO0FBQ3hCLDZCQUE2QjtBQUM3QixnQ0FBZ0M7QUFDaEMsZUFBZTtBQUNmLGtCQUFrQjtBQUNsQixzQkFBc0I7QUFDdEIsc0NBQXNDLG1CQUFPLENBQUMscUlBQStCO0FBQzdFLDhDQUE4QyxtQkFBTyxDQUFDLHFKQUF1QztBQUM3RiwyQ0FBMkMsbUJBQU8sQ0FBQywrSUFBb0M7QUFDdkYsdUNBQXVDLG1CQUFPLENBQUMsbUhBQXNCO0FBQ3JFLHNDQUFzQyxtQkFBTyxDQUFDLGlIQUFxQjtBQUNuRSxxQ0FBcUMsbUJBQU8sQ0FBQywrR0FBb0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDZGQUE2RixhQUFhO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDLFlBQVksb0JBQW9CO0FBQ2hDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL1NlbGVjdGlvbi5qcz8xOTBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKS5kZWZhdWx0O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbmV4cG9ydHMuZ2V0Qm91bmRzRm9yTm9kZSA9IGdldEJvdW5kc0Zvck5vZGU7XG5leHBvcnRzLmdldEV2ZW50Tm9kZUZyb21Qb2ludCA9IGdldEV2ZW50Tm9kZUZyb21Qb2ludDtcbmV4cG9ydHMuZ2V0U2hvd01vcmVOb2RlRnJvbVBvaW50ID0gZ2V0U2hvd01vcmVOb2RlRnJvbVBvaW50O1xuZXhwb3J0cy5pc0V2ZW50ID0gaXNFdmVudDtcbmV4cG9ydHMuaXNTaG93TW9yZSA9IGlzU2hvd01vcmU7XG5leHBvcnRzLm9iamVjdHNDb2xsaWRlID0gb2JqZWN0c0NvbGxpZGU7XG52YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZlwiKSk7XG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIikpO1xudmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCIpKTtcbnZhciBfY29udGFpbnMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jb250YWluc1wiKSk7XG52YXIgX2Nsb3Nlc3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9jbG9zZXN0XCIpKTtcbnZhciBfbGlzdGVuID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZG9tLWhlbHBlcnMvbGlzdGVuXCIpKTtcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcikge1xuICB2YXIgdGFyZ2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkb2N1bWVudDtcbiAgcmV0dXJuICgwLCBfbGlzdGVuLmRlZmF1bHQpKHRhcmdldCwgdHlwZSwgaGFuZGxlciwge1xuICAgIHBhc3NpdmU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gaXNPdmVyQ29udGFpbmVyKGNvbnRhaW5lciwgeCwgeSkge1xuICByZXR1cm4gIWNvbnRhaW5lciB8fCAoMCwgX2NvbnRhaW5zLmRlZmF1bHQpKGNvbnRhaW5lciwgZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSk7XG59XG5mdW5jdGlvbiBnZXRFdmVudE5vZGVGcm9tUG9pbnQobm9kZSwgX3JlZikge1xuICB2YXIgY2xpZW50WCA9IF9yZWYuY2xpZW50WCxcbiAgICBjbGllbnRZID0gX3JlZi5jbGllbnRZO1xuICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuICgwLCBfY2xvc2VzdC5kZWZhdWx0KSh0YXJnZXQsICcucmJjLWV2ZW50Jywgbm9kZSk7XG59XG5mdW5jdGlvbiBnZXRTaG93TW9yZU5vZGVGcm9tUG9pbnQobm9kZSwgX3JlZjIpIHtcbiAgdmFyIGNsaWVudFggPSBfcmVmMi5jbGllbnRYLFxuICAgIGNsaWVudFkgPSBfcmVmMi5jbGllbnRZO1xuICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuICgwLCBfY2xvc2VzdC5kZWZhdWx0KSh0YXJnZXQsICcucmJjLXNob3ctbW9yZScsIG5vZGUpO1xufVxuZnVuY3Rpb24gaXNFdmVudChub2RlLCBib3VuZHMpIHtcbiAgcmV0dXJuICEhZ2V0RXZlbnROb2RlRnJvbVBvaW50KG5vZGUsIGJvdW5kcyk7XG59XG5mdW5jdGlvbiBpc1Nob3dNb3JlKG5vZGUsIGJvdW5kcykge1xuICByZXR1cm4gISFnZXRTaG93TW9yZU5vZGVGcm9tUG9pbnQobm9kZSwgYm91bmRzKTtcbn1cbmZ1bmN0aW9uIGdldEV2ZW50Q29vcmRpbmF0ZXMoZSkge1xuICB2YXIgdGFyZ2V0ID0gZTtcbiAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoKSB7XG4gICAgdGFyZ2V0ID0gZS50b3VjaGVzWzBdO1xuICB9XG4gIHJldHVybiB7XG4gICAgY2xpZW50WDogdGFyZ2V0LmNsaWVudFgsXG4gICAgY2xpZW50WTogdGFyZ2V0LmNsaWVudFksXG4gICAgcGFnZVg6IHRhcmdldC5wYWdlWCxcbiAgICBwYWdlWTogdGFyZ2V0LnBhZ2VZXG4gIH07XG59XG52YXIgY2xpY2tUb2xlcmFuY2UgPSA1O1xudmFyIGNsaWNrSW50ZXJ2YWwgPSAyNTA7XG52YXIgU2VsZWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VsZWN0aW9uKG5vZGUpIHtcbiAgICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZjMkZ2xvYmFsID0gX3JlZjMuZ2xvYmFsLFxuICAgICAgZ2xvYmFsID0gX3JlZjMkZ2xvYmFsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYzJGdsb2JhbCxcbiAgICAgIF9yZWYzJGxvbmdQcmVzc1RocmVzaCA9IF9yZWYzLmxvbmdQcmVzc1RocmVzaG9sZCxcbiAgICAgIGxvbmdQcmVzc1RocmVzaG9sZCA9IF9yZWYzJGxvbmdQcmVzc1RocmVzaCA9PT0gdm9pZCAwID8gMjUwIDogX3JlZjMkbG9uZ1ByZXNzVGhyZXNoLFxuICAgICAgX3JlZjMkdmFsaWRDb250YWluZXJzID0gX3JlZjMudmFsaWRDb250YWluZXJzLFxuICAgICAgdmFsaWRDb250YWluZXJzID0gX3JlZjMkdmFsaWRDb250YWluZXJzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYzJHZhbGlkQ29udGFpbmVycztcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBTZWxlY3Rpb24pO1xuICAgIHRoaXMuX2luaXRpYWxFdmVudCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGV0YWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IG5vZGU7XG4gICAgdGhpcy5nbG9iYWxNb3VzZSA9ICFub2RlIHx8IGdsb2JhbDtcbiAgICB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCA9IGxvbmdQcmVzc1RocmVzaG9sZDtcbiAgICB0aGlzLnZhbGlkQ29udGFpbmVycyA9IHZhbGlkQ29udGFpbmVycztcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2hhbmRsZUluaXRpYWxFdmVudCA9IHRoaXMuX2hhbmRsZUluaXRpYWxFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZU1vdmVFdmVudCA9IHRoaXMuX2hhbmRsZU1vdmVFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnQgPSB0aGlzLl9oYW5kbGVUZXJtaW5hdGluZ0V2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fa2V5TGlzdGVuZXIgPSB0aGlzLl9rZXlMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Ryb3BGcm9tT3V0c2lkZUxpc3RlbmVyID0gdGhpcy5fZHJvcEZyb21PdXRzaWRlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9kcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIgPSB0aGlzLl9kcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgIC8vIEZpeGVzIGFuIGlPUyAxMCBidWcgd2hlcmUgc2Nyb2xsaW5nIGNvdWxkIG5vdCBiZSBwcmV2ZW50ZWQgb24gdGhlIHdpbmRvdy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWV0YWZpenp5L2ZsaWNraXR5L2lzc3Vlcy80NTcjaXNzdWVjb21tZW50LTI1NDUwMTM1NlxuICAgIHRoaXMuX3JlbW92ZVRvdWNoTW92ZVdpbmRvd0xpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKCkge30sIHdpbmRvdyk7XG4gICAgdGhpcy5fcmVtb3ZlS2V5RG93bkxpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2tleUxpc3RlbmVyKTtcbiAgICB0aGlzLl9yZW1vdmVLZXlVcExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9rZXlMaXN0ZW5lcik7XG4gICAgdGhpcy5fcmVtb3ZlRHJvcEZyb21PdXRzaWRlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5fZHJvcEZyb21PdXRzaWRlTGlzdGVuZXIpO1xuICAgIHRoaXMuX3JlbW92ZURyYWdPdmVyRnJvbU91dHNpZGVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5fZHJhZ092ZXJGcm9tT3V0c2lkZUxpc3RlbmVyKTtcbiAgICB0aGlzLl9hZGRJbml0aWFsRXZlbnRMaXN0ZW5lcigpO1xuICB9XG4gIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShTZWxlY3Rpb24sIFt7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2xpc3RlbmVyc1t0eXBlXSB8fCAodGhpcy5fbGlzdGVuZXJzW3R5cGVdID0gW10pO1xuICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICAgIHZhciBpZHggPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICAgIGlmIChpZHggIT09IC0xKSBoYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fbGlzdGVuZXJzW3R5cGVdIHx8IFtdO1xuICAgICAgaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSByZXN1bHQgPSBmbi5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZWFyZG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZWFyZG93bigpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxFdmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbml0aWFsRXZlbnREYXRhID0gbnVsbDtcbiAgICAgIHRoaXMuX3NlbGVjdFJlY3QgPSBudWxsO1xuICAgICAgdGhpcy5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2xhc3RDbGlja0RhdGEgPSBudWxsO1xuICAgICAgdGhpcy5pc0RldGFjaGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB0aGlzLl9yZW1vdmVUb3VjaE1vdmVXaW5kb3dMaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVUb3VjaE1vdmVXaW5kb3dMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyICYmIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9vbkVzY0xpc3RlbmVyICYmIHRoaXMuX29uRXNjTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZU1vdmVMaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZUtleVVwTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlS2V5VXBMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5fcmVtb3ZlS2V5RG93bkxpc3RlbmVyICYmIHRoaXMuX3JlbW92ZUtleURvd25MaXN0ZW5lcigpO1xuICAgICAgdGhpcy5fcmVtb3ZlRHJvcEZyb21PdXRzaWRlTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlRHJvcEZyb21PdXRzaWRlTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuX3JlbW92ZURyYWdPdmVyRnJvbU91dHNpZGVMaXN0ZW5lciAmJiB0aGlzLl9yZW1vdmVEcmFnT3ZlckZyb21PdXRzaWRlTGlzdGVuZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNTZWxlY3RlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1NlbGVjdGVkKG5vZGUpIHtcbiAgICAgIHZhciBib3ggPSB0aGlzLl9zZWxlY3RSZWN0O1xuICAgICAgaWYgKCFib3ggfHwgIXRoaXMuc2VsZWN0aW5nKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gb2JqZWN0c0NvbGxpZGUoYm94LCBnZXRCb3VuZHNGb3JOb2RlKG5vZGUpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmlsdGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihpdGVtcykge1xuICAgICAgdmFyIGJveCA9IHRoaXMuX3NlbGVjdFJlY3Q7XG5cbiAgICAgIC8vbm90IHNlbGVjdGluZ1xuICAgICAgaWYgKCFib3ggfHwgIXRoaXMuc2VsZWN0aW5nKSByZXR1cm4gW107XG4gICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKHRoaXMuaXNTZWxlY3RlZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBjYWxsIHRoZSBoYW5kbGVyIG9ubHkgYWZ0ZXIgdGhlIHVzZXIgaGFzIHByZXNzZWQgb24gdGhlIHNjcmVlblxuICAgIC8vIHdpdGhvdXQgbW92aW5nIHRoZWlyIGZpbmdlciBmb3IgMjUwbXMuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZExvbmdQcmVzc0xpc3RlbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRMb25nUHJlc3NMaXN0ZW5lcihoYW5kbGVyLCBpbml0aWFsRXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgdGltZXIgPSBudWxsO1xuICAgICAgdmFyIHJlbW92ZVRvdWNoTW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgIHZhciByZW1vdmVUb3VjaEVuZExpc3RlbmVyID0gbnVsbDtcbiAgICAgIHZhciBoYW5kbGVUb3VjaFN0YXJ0ID0gZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChpbml0aWFsRXZlbnQpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgaGFuZGxlcihpbml0aWFsRXZlbnQpO1xuICAgICAgICB9LCBfdGhpcy5sb25nUHJlc3NUaHJlc2hvbGQpO1xuICAgICAgICByZW1vdmVUb3VjaE1vdmVMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2xlYW51cCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVtb3ZlVG91Y2hFbmRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjbGVhbnVwKCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHZhciByZW1vdmVUb3VjaFN0YXJ0TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCk7XG4gICAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmICh0aW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZVRvdWNoTW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgcmVtb3ZlVG91Y2hNb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlVG91Y2hFbmRMaXN0ZW5lcikge1xuICAgICAgICAgIHJlbW92ZVRvdWNoRW5kTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIHJlbW92ZVRvdWNoTW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgcmVtb3ZlVG91Y2hFbmRMaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgICAgaWYgKGluaXRpYWxFdmVudCkge1xuICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0KGluaXRpYWxFdmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIHJlbW92ZVRvdWNoU3RhcnRMaXN0ZW5lcigpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBMaXN0ZW4gZm9yIG1vdXNlZG93biBhbmQgdG91Y2hzdGFydCBldmVudHMuIFdoZW4gb25lIGlzIHJlY2VpdmVkLCBkaXNhYmxlIHRoZSBvdGhlciBhbmQgc2V0dXBcbiAgICAvLyBmdXR1cmUgZXZlbnQgaGFuZGxpbmcgYmFzZWQgb24gdGhlIHR5cGUgb2YgZXZlbnQuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZEluaXRpYWxFdmVudExpc3RlbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRJbml0aWFsRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgdmFyIHJlbW92ZU1vdXNlRG93bkxpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXMyLl9yZW1vdmVJbml0aWFsRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICBfdGhpczIuX2hhbmRsZUluaXRpYWxFdmVudChlKTtcbiAgICAgICAgX3RoaXMyLl9yZW1vdmVJbml0aWFsRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIF90aGlzMi5faGFuZGxlSW5pdGlhbEV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlbW92ZVRvdWNoU3RhcnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfdGhpczIuX3JlbW92ZUluaXRpYWxFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIF90aGlzMi5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIgPSBfdGhpczIuX2FkZExvbmdQcmVzc0xpc3RlbmVyKF90aGlzMi5faGFuZGxlSW5pdGlhbEV2ZW50LCBlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fcmVtb3ZlSW5pdGlhbEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZU1vdXNlRG93bkxpc3RlbmVyKCk7XG4gICAgICAgIHJlbW92ZVRvdWNoU3RhcnRMaXN0ZW5lcigpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2Ryb3BGcm9tT3V0c2lkZUxpc3RlbmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kcm9wRnJvbU91dHNpZGVMaXN0ZW5lcihlKSB7XG4gICAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXMgPSBnZXRFdmVudENvb3JkaW5hdGVzKGUpLFxuICAgICAgICBwYWdlWCA9IF9nZXRFdmVudENvb3JkaW5hdGVzLnBhZ2VYLFxuICAgICAgICBwYWdlWSA9IF9nZXRFdmVudENvb3JkaW5hdGVzLnBhZ2VZLFxuICAgICAgICBjbGllbnRYID0gX2dldEV2ZW50Q29vcmRpbmF0ZXMuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF9nZXRFdmVudENvb3JkaW5hdGVzLmNsaWVudFk7XG4gICAgICB0aGlzLmVtaXQoJ2Ryb3BGcm9tT3V0c2lkZScsIHtcbiAgICAgICAgeDogcGFnZVgsXG4gICAgICAgIHk6IHBhZ2VZLFxuICAgICAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICB9KTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2RyYWdPdmVyRnJvbU91dHNpZGVMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZHJhZ092ZXJGcm9tT3V0c2lkZUxpc3RlbmVyKGUpIHtcbiAgICAgIHZhciBfZ2V0RXZlbnRDb29yZGluYXRlczIgPSBnZXRFdmVudENvb3JkaW5hdGVzKGUpLFxuICAgICAgICBwYWdlWCA9IF9nZXRFdmVudENvb3JkaW5hdGVzMi5wYWdlWCxcbiAgICAgICAgcGFnZVkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczIucGFnZVksXG4gICAgICAgIGNsaWVudFggPSBfZ2V0RXZlbnRDb29yZGluYXRlczIuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF9nZXRFdmVudENvb3JkaW5hdGVzMi5jbGllbnRZO1xuICAgICAgdGhpcy5lbWl0KCdkcmFnT3ZlckZyb21PdXRzaWRlJywge1xuICAgICAgICB4OiBwYWdlWCxcbiAgICAgICAgeTogcGFnZVksXG4gICAgICAgIGNsaWVudFg6IGNsaWVudFgsXG4gICAgICAgIGNsaWVudFk6IGNsaWVudFlcbiAgICAgIH0pO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlSW5pdGlhbEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJbml0aWFsRXZlbnQoZSkge1xuICAgICAgdGhpcy5faW5pdGlhbEV2ZW50ID0gZTtcbiAgICAgIGlmICh0aGlzLmlzRGV0YWNoZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIF9nZXRFdmVudENvb3JkaW5hdGVzMyA9IGdldEV2ZW50Q29vcmRpbmF0ZXMoZSksXG4gICAgICAgIGNsaWVudFggPSBfZ2V0RXZlbnRDb29yZGluYXRlczMuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF9nZXRFdmVudENvb3JkaW5hdGVzMy5jbGllbnRZLFxuICAgICAgICBwYWdlWCA9IF9nZXRFdmVudENvb3JkaW5hdGVzMy5wYWdlWCxcbiAgICAgICAgcGFnZVkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczMucGFnZVk7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuY29udGFpbmVyKCksXG4gICAgICAgIGNvbGxpZGVzLFxuICAgICAgICBvZmZzZXREYXRhO1xuXG4gICAgICAvLyBSaWdodCBjbGlja3NcbiAgICAgIGlmIChlLndoaWNoID09PSAzIHx8IGUuYnV0dG9uID09PSAyIHx8ICFpc092ZXJDb250YWluZXIobm9kZSwgY2xpZW50WCwgY2xpZW50WSkpIHJldHVybjtcbiAgICAgIGlmICghdGhpcy5nbG9iYWxNb3VzZSAmJiBub2RlICYmICEoMCwgX2NvbnRhaW5zLmRlZmF1bHQpKG5vZGUsIGUudGFyZ2V0KSkge1xuICAgICAgICB2YXIgX25vcm1hbGl6ZURpc3RhbmNlID0gbm9ybWFsaXplRGlzdGFuY2UoMCksXG4gICAgICAgICAgdG9wID0gX25vcm1hbGl6ZURpc3RhbmNlLnRvcCxcbiAgICAgICAgICBsZWZ0ID0gX25vcm1hbGl6ZURpc3RhbmNlLmxlZnQsXG4gICAgICAgICAgYm90dG9tID0gX25vcm1hbGl6ZURpc3RhbmNlLmJvdHRvbSxcbiAgICAgICAgICByaWdodCA9IF9ub3JtYWxpemVEaXN0YW5jZS5yaWdodDtcbiAgICAgICAgb2Zmc2V0RGF0YSA9IGdldEJvdW5kc0Zvck5vZGUobm9kZSk7XG4gICAgICAgIGNvbGxpZGVzID0gb2JqZWN0c0NvbGxpZGUoe1xuICAgICAgICAgIHRvcDogb2Zmc2V0RGF0YS50b3AgLSB0b3AsXG4gICAgICAgICAgbGVmdDogb2Zmc2V0RGF0YS5sZWZ0IC0gbGVmdCxcbiAgICAgICAgICBib3R0b206IG9mZnNldERhdGEuYm90dG9tICsgYm90dG9tLFxuICAgICAgICAgIHJpZ2h0OiBvZmZzZXREYXRhLnJpZ2h0ICsgcmlnaHRcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRvcDogcGFnZVksXG4gICAgICAgICAgbGVmdDogcGFnZVhcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY29sbGlkZXMpIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmVtaXQoJ2JlZm9yZVNlbGVjdCcsIHRoaXMuX2luaXRpYWxFdmVudERhdGEgPSB7XG4gICAgICAgIGlzVG91Y2g6IC9edG91Y2gvLnRlc3QoZS50eXBlKSxcbiAgICAgICAgeDogcGFnZVgsXG4gICAgICAgIHk6IHBhZ2VZLFxuICAgICAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxuICAgICAgICAgIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnQpO1xuICAgICAgICAgIHRoaXMuX29uRXNjTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlVGVybWluYXRpbmdFdmVudCk7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlTW92ZUxpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlTW92ZUV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndG91Y2hzdGFydCc6XG4gICAgICAgICAgdGhpcy5faGFuZGxlTW92ZUV2ZW50KGUpO1xuICAgICAgICAgIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl9oYW5kbGVUZXJtaW5hdGluZ0V2ZW50KTtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9oYW5kbGVNb3ZlRXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIHdoZXRoZXIgcHJvdmlkZWQgZXZlbnQgdGFyZ2V0IGVsZW1lbnRcbiAgICAvLyAtIGlzIGNvbnRhaW5lZCB3aXRoaW4gYSB2YWxpZCBjb250YWluZXJcbiAgfSwge1xuICAgIGtleTogXCJfaXNXaXRoaW5WYWxpZENvbnRhaW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNXaXRoaW5WYWxpZENvbnRhaW5lcihlKSB7XG4gICAgICB2YXIgZXZlbnRUYXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIHZhciBjb250YWluZXJzID0gdGhpcy52YWxpZENvbnRhaW5lcnM7XG4gICAgICBpZiAoIWNvbnRhaW5lcnMgfHwgIWNvbnRhaW5lcnMubGVuZ3RoIHx8ICFldmVudFRhcmdldCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250YWluZXJzLnNvbWUoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gISFldmVudFRhcmdldC5jbG9zZXN0KHRhcmdldCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVRlcm1pbmF0aW5nRXZlbnQoZSkge1xuICAgICAgdmFyIHNlbGVjdGluZyA9IHRoaXMuc2VsZWN0aW5nO1xuICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuX3NlbGVjdFJlY3Q7XG4gICAgICAvLyBJZiBpdCdzIG5vdCBpbiBzZWxlY3Rpbmcgc3RhdGUsIGl0J3MgYSBjbGljayBldmVudFxuICAgICAgaWYgKCFzZWxlY3RpbmcgJiYgZS50eXBlLmluY2x1ZGVzKCdrZXknKSkge1xuICAgICAgICBlID0gdGhpcy5faW5pdGlhbEV2ZW50O1xuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyICYmIHRoaXMuX3JlbW92ZUVuZExpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9yZW1vdmVNb3ZlTGlzdGVuZXIgJiYgdGhpcy5fcmVtb3ZlTW92ZUxpc3RlbmVyKCk7XG4gICAgICB0aGlzLl9zZWxlY3RSZWN0ID0gbnVsbDtcbiAgICAgIHRoaXMuX2luaXRpYWxFdmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbml0aWFsRXZlbnREYXRhID0gbnVsbDtcbiAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgdmFyIGluUm9vdCA9ICF0aGlzLmNvbnRhaW5lciB8fCAoMCwgX2NvbnRhaW5zLmRlZmF1bHQpKHRoaXMuY29udGFpbmVyKCksIGUudGFyZ2V0KTtcbiAgICAgIHZhciBpc1dpdGhpblZhbGlkQ29udGFpbmVyID0gdGhpcy5faXNXaXRoaW5WYWxpZENvbnRhaW5lcihlKTtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgfHwgIWlzV2l0aGluVmFsaWRDb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgncmVzZXQnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc2VsZWN0aW5nICYmIGluUm9vdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlQ2xpY2tFdmVudChlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlciBkcmFnLWNsaWNrZWQgaW4gdGhlIFNlbGVjdGFibGUgYXJlYVxuICAgICAgaWYgKHNlbGVjdGluZykgcmV0dXJuIHRoaXMuZW1pdCgnc2VsZWN0JywgYm91bmRzKTtcbiAgICAgIHJldHVybiB0aGlzLmVtaXQoJ3Jlc2V0Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9oYW5kbGVDbGlja0V2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDbGlja0V2ZW50KGUpIHtcbiAgICAgIHZhciBfZ2V0RXZlbnRDb29yZGluYXRlczQgPSBnZXRFdmVudENvb3JkaW5hdGVzKGUpLFxuICAgICAgICBwYWdlWCA9IF9nZXRFdmVudENvb3JkaW5hdGVzNC5wYWdlWCxcbiAgICAgICAgcGFnZVkgPSBfZ2V0RXZlbnRDb29yZGluYXRlczQucGFnZVksXG4gICAgICAgIGNsaWVudFggPSBfZ2V0RXZlbnRDb29yZGluYXRlczQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IF9nZXRFdmVudENvb3JkaW5hdGVzNC5jbGllbnRZO1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgaWYgKHRoaXMuX2xhc3RDbGlja0RhdGEgJiYgbm93IC0gdGhpcy5fbGFzdENsaWNrRGF0YS50aW1lc3RhbXAgPCBjbGlja0ludGVydmFsKSB7XG4gICAgICAgIC8vIERvdWJsZSBjbGljayBldmVudFxuICAgICAgICB0aGlzLl9sYXN0Q2xpY2tEYXRhID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnZG91YmxlQ2xpY2snLCB7XG4gICAgICAgICAgeDogcGFnZVgsXG4gICAgICAgICAgeTogcGFnZVksXG4gICAgICAgICAgY2xpZW50WDogY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGljayBldmVudFxuICAgICAgdGhpcy5fbGFzdENsaWNrRGF0YSA9IHtcbiAgICAgICAgdGltZXN0YW1wOiBub3dcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5lbWl0KCdjbGljaycsIHtcbiAgICAgICAgeDogcGFnZVgsXG4gICAgICAgIHk6IHBhZ2VZLFxuICAgICAgICBjbGllbnRYOiBjbGllbnRYLFxuICAgICAgICBjbGllbnRZOiBjbGllbnRZXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2hhbmRsZU1vdmVFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTW92ZUV2ZW50KGUpIHtcbiAgICAgIGlmICh0aGlzLl9pbml0aWFsRXZlbnREYXRhID09PSBudWxsIHx8IHRoaXMuaXNEZXRhY2hlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgX3RoaXMkX2luaXRpYWxFdmVudERhID0gdGhpcy5faW5pdGlhbEV2ZW50RGF0YSxcbiAgICAgICAgeCA9IF90aGlzJF9pbml0aWFsRXZlbnREYS54LFxuICAgICAgICB5ID0gX3RoaXMkX2luaXRpYWxFdmVudERhLnk7XG4gICAgICB2YXIgX2dldEV2ZW50Q29vcmRpbmF0ZXM1ID0gZ2V0RXZlbnRDb29yZGluYXRlcyhlKSxcbiAgICAgICAgcGFnZVggPSBfZ2V0RXZlbnRDb29yZGluYXRlczUucGFnZVgsXG4gICAgICAgIHBhZ2VZID0gX2dldEV2ZW50Q29vcmRpbmF0ZXM1LnBhZ2VZO1xuICAgICAgdmFyIHcgPSBNYXRoLmFicyh4IC0gcGFnZVgpO1xuICAgICAgdmFyIGggPSBNYXRoLmFicyh5IC0gcGFnZVkpO1xuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihwYWdlWCwgeCksXG4gICAgICAgIHRvcCA9IE1hdGgubWluKHBhZ2VZLCB5KSxcbiAgICAgICAgb2xkID0gdGhpcy5zZWxlY3Rpbmc7XG4gICAgICB2YXIgY2xpY2sgPSB0aGlzLmlzQ2xpY2socGFnZVgsIHBhZ2VZKTtcbiAgICAgIC8vIFByZXZlbnQgZW1pdHRpbmcgc2VsZWN0U3RhcnQgZXZlbnQgdW50aWwgbW91c2UgaXMgbW92ZWQuXG4gICAgICAvLyBpbiBDaHJvbWUgb24gV2luZG93cywgbW91c2VNb3ZlIGV2ZW50IG1heSBiZSBmaXJlZCBqdXN0IGFmdGVyIG1vdXNlRG93biBldmVudC5cbiAgICAgIGlmIChjbGljayAmJiAhb2xkICYmICEodyB8fCBoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIW9sZCAmJiAhY2xpY2spIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzZWxlY3RTdGFydCcsIHRoaXMuX2luaXRpYWxFdmVudERhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKCFjbGljaykge1xuICAgICAgICB0aGlzLnNlbGVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NlbGVjdFJlY3QgPSB7XG4gICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICB4OiBwYWdlWCxcbiAgICAgICAgICB5OiBwYWdlWSxcbiAgICAgICAgICByaWdodDogbGVmdCArIHcsXG4gICAgICAgICAgYm90dG9tOiB0b3AgKyBoXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW1pdCgnc2VsZWN0aW5nJywgdGhpcy5fc2VsZWN0UmVjdCk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9rZXlMaXN0ZW5lclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfa2V5TGlzdGVuZXIoZSkge1xuICAgICAgdGhpcy5jdHJsID0gZS5tZXRhS2V5IHx8IGUuY3RybEtleTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNDbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0NsaWNrKHBhZ2VYLCBwYWdlWSkge1xuICAgICAgdmFyIF90aGlzJF9pbml0aWFsRXZlbnREYTIgPSB0aGlzLl9pbml0aWFsRXZlbnREYXRhLFxuICAgICAgICB4ID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi54LFxuICAgICAgICB5ID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi55LFxuICAgICAgICBpc1RvdWNoID0gX3RoaXMkX2luaXRpYWxFdmVudERhMi5pc1RvdWNoO1xuICAgICAgcmV0dXJuICFpc1RvdWNoICYmIE1hdGguYWJzKHBhZ2VYIC0geCkgPD0gY2xpY2tUb2xlcmFuY2UgJiYgTWF0aC5hYnMocGFnZVkgLSB5KSA8PSBjbGlja1RvbGVyYW5jZTtcbiAgICB9XG4gIH1dKTtcbn0oKTtcbi8qKlxuICogUmVzb2x2ZSB0aGUgZGlzYW5jZSBwcm9wIGZyb20gZWl0aGVyIGFuIEludCBvciBhbiBPYmplY3RcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGlzdGFuY2UoKSB7XG4gIHZhciBkaXN0YW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgaWYgKCgwLCBfdHlwZW9mMi5kZWZhdWx0KShkaXN0YW5jZSkgIT09ICdvYmplY3QnKSBkaXN0YW5jZSA9IHtcbiAgICB0b3A6IGRpc3RhbmNlLFxuICAgIGxlZnQ6IGRpc3RhbmNlLFxuICAgIHJpZ2h0OiBkaXN0YW5jZSxcbiAgICBib3R0b206IGRpc3RhbmNlXG4gIH07XG4gIHJldHVybiBkaXN0YW5jZTtcbn1cblxuLyoqXG4gKiBHaXZlbiB0d28gb2JqZWN0cyBjb250YWluaW5nIFwidG9wXCIsIFwibGVmdFwiLCBcIm9mZnNldFdpZHRoXCIgYW5kIFwib2Zmc2V0SGVpZ2h0XCJcbiAqIHByb3BlcnRpZXMsIGRldGVybWluZSBpZiB0aGV5IGNvbGxpZGUuXG4gKiBAcGFyYW0gIHtPYmplY3R8SFRNTEVsZW1lbnR9IGFcbiAqIEBwYXJhbSAge09iamVjdHxIVE1MRWxlbWVudH0gYlxuICogQHJldHVybiB7Ym9vbH1cbiAqL1xuZnVuY3Rpb24gb2JqZWN0c0NvbGxpZGUobm9kZUEsIG5vZGVCKSB7XG4gIHZhciB0b2xlcmFuY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gIHZhciBfZ2V0Qm91bmRzRm9yTm9kZSA9IGdldEJvdW5kc0Zvck5vZGUobm9kZUEpLFxuICAgIGFUb3AgPSBfZ2V0Qm91bmRzRm9yTm9kZS50b3AsXG4gICAgYUxlZnQgPSBfZ2V0Qm91bmRzRm9yTm9kZS5sZWZ0LFxuICAgIF9nZXRCb3VuZHNGb3JOb2RlJHJpZyA9IF9nZXRCb3VuZHNGb3JOb2RlLnJpZ2h0LFxuICAgIGFSaWdodCA9IF9nZXRCb3VuZHNGb3JOb2RlJHJpZyA9PT0gdm9pZCAwID8gYUxlZnQgOiBfZ2V0Qm91bmRzRm9yTm9kZSRyaWcsXG4gICAgX2dldEJvdW5kc0Zvck5vZGUkYm90ID0gX2dldEJvdW5kc0Zvck5vZGUuYm90dG9tLFxuICAgIGFCb3R0b20gPSBfZ2V0Qm91bmRzRm9yTm9kZSRib3QgPT09IHZvaWQgMCA/IGFUb3AgOiBfZ2V0Qm91bmRzRm9yTm9kZSRib3Q7XG4gIHZhciBfZ2V0Qm91bmRzRm9yTm9kZTIgPSBnZXRCb3VuZHNGb3JOb2RlKG5vZGVCKSxcbiAgICBiVG9wID0gX2dldEJvdW5kc0Zvck5vZGUyLnRvcCxcbiAgICBiTGVmdCA9IF9nZXRCb3VuZHNGb3JOb2RlMi5sZWZ0LFxuICAgIF9nZXRCb3VuZHNGb3JOb2RlMiRyaSA9IF9nZXRCb3VuZHNGb3JOb2RlMi5yaWdodCxcbiAgICBiUmlnaHQgPSBfZ2V0Qm91bmRzRm9yTm9kZTIkcmkgPT09IHZvaWQgMCA/IGJMZWZ0IDogX2dldEJvdW5kc0Zvck5vZGUyJHJpLFxuICAgIF9nZXRCb3VuZHNGb3JOb2RlMiRibyA9IF9nZXRCb3VuZHNGb3JOb2RlMi5ib3R0b20sXG4gICAgYkJvdHRvbSA9IF9nZXRCb3VuZHNGb3JOb2RlMiRibyA9PT0gdm9pZCAwID8gYlRvcCA6IF9nZXRCb3VuZHNGb3JOb2RlMiRibztcbiAgcmV0dXJuICEoXG4gIC8vICdhJyBib3R0b20gZG9lc24ndCB0b3VjaCAnYicgdG9wXG5cbiAgYUJvdHRvbSAtIHRvbGVyYW5jZSA8IGJUb3AgfHxcbiAgLy8gJ2EnIHRvcCBkb2Vzbid0IHRvdWNoICdiJyBib3R0b21cbiAgYVRvcCArIHRvbGVyYW5jZSA+IGJCb3R0b20gfHxcbiAgLy8gJ2EnIHJpZ2h0IGRvZXNuJ3QgdG91Y2ggJ2InIGxlZnRcbiAgYVJpZ2h0IC0gdG9sZXJhbmNlIDwgYkxlZnQgfHxcbiAgLy8gJ2EnIGxlZnQgZG9lc24ndCB0b3VjaCAnYicgcmlnaHRcbiAgYUxlZnQgKyB0b2xlcmFuY2UgPiBiUmlnaHQpO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgbm9kZSwgZ2V0IGV2ZXJ5dGhpbmcgbmVlZGVkIHRvIGNhbGN1bGF0ZSBpdHMgYm91bmRhcmllc1xuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRzRm9yTm9kZShub2RlKSB7XG4gIGlmICghbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHJldHVybiBub2RlO1xuICB2YXIgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgbGVmdCA9IHJlY3QubGVmdCArIHBhZ2VPZmZzZXQoJ2xlZnQnKSxcbiAgICB0b3AgPSByZWN0LnRvcCArIHBhZ2VPZmZzZXQoJ3RvcCcpO1xuICByZXR1cm4ge1xuICAgIHRvcDogdG9wLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgcmlnaHQ6IChub2RlLm9mZnNldFdpZHRoIHx8IDApICsgbGVmdCxcbiAgICBib3R0b206IChub2RlLm9mZnNldEhlaWdodCB8fCAwKSArIHRvcFxuICB9O1xufVxuZnVuY3Rpb24gcGFnZU9mZnNldChkaXIpIHtcbiAgaWYgKGRpciA9PT0gJ2xlZnQnKSByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xuICBpZiAoZGlyID09PSAndG9wJykgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xufVxudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gU2VsZWN0aW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/Selection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/TimeGridEvent.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/TimeGridEvent.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/defineProperty.js\"));\nvar _objectSpread3 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _clsx = _interopRequireDefault(__webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nfunction stringifyPercent(v) {\n  return typeof v === 'string' ? v : v + '%';\n}\n\n/* eslint-disable react/prop-types */\nfunction TimeGridEvent(props) {\n  var style = props.style,\n    className = props.className,\n    event = props.event,\n    accessors = props.accessors,\n    rtl = props.rtl,\n    selected = props.selected,\n    label = props.label,\n    continuesPrior = props.continuesPrior,\n    continuesAfter = props.continuesAfter,\n    getters = props.getters,\n    onClick = props.onClick,\n    onDoubleClick = props.onDoubleClick,\n    isBackgroundEvent = props.isBackgroundEvent,\n    onKeyPress = props.onKeyPress,\n    _props$components = props.components,\n    Event = _props$components.event,\n    EventWrapper = _props$components.eventWrapper;\n  var title = accessors.title(event);\n  var tooltip = accessors.tooltip(event);\n  var end = accessors.end(event);\n  var start = accessors.start(event);\n  var userProps = getters.eventProp(event, start, end, selected);\n  var inner = [/*#__PURE__*/_react.default.createElement(\"div\", {\n    key: \"1\",\n    className: \"rbc-event-label\"\n  }, label), /*#__PURE__*/_react.default.createElement(\"div\", {\n    key: \"2\",\n    className: \"rbc-event-content\"\n  }, Event ? /*#__PURE__*/_react.default.createElement(Event, {\n    event: event,\n    title: title\n  }) : title)];\n  var height = style.height,\n    top = style.top,\n    width = style.width,\n    xOffset = style.xOffset;\n  var eventStyle = (0, _objectSpread3.default)((0, _objectSpread3.default)({}, userProps.style), {}, (0, _defineProperty2.default)({\n    top: stringifyPercent(top),\n    height: stringifyPercent(height),\n    width: stringifyPercent(width)\n  }, rtl ? 'right' : 'left', stringifyPercent(xOffset)));\n  return /*#__PURE__*/_react.default.createElement(EventWrapper, Object.assign({\n    type: \"time\"\n  }, props), /*#__PURE__*/_react.default.createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    onClick: onClick,\n    onDoubleClick: onDoubleClick,\n    style: eventStyle,\n    onKeyDown: onKeyPress,\n    title: tooltip ? (typeof label === 'string' ? label + ': ' : '') + tooltip : undefined,\n    className: (0, _clsx.default)(isBackgroundEvent ? 'rbc-background-event' : 'rbc-event', className, userProps.className, {\n      'rbc-selected': selected,\n      'rbc-event-continues-earlier': continuesPrior,\n      'rbc-event-continues-later': continuesAfter\n    })\n  }, inner));\n}\nvar _default = exports[\"default\"] = TimeGridEvent;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL1RpbWVHcmlkRXZlbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLHFNQUErRDtBQUM1Riw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTtBQUNmLDhDQUE4QyxtQkFBTyxDQUFDLHFKQUF1QztBQUM3Riw0Q0FBNEMsbUJBQU8sQ0FBQyxtSkFBc0M7QUFDMUYsbUNBQW1DLG1CQUFPLENBQUMsb0ZBQU07QUFDakQsb0NBQW9DLG1CQUFPLENBQUMsc01BQU87QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsc0JBQXNCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsZUFBZSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWJpZy1jYWxlbmRhckAxLjE3LjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtYmlnLWNhbGVuZGFyL2xpYi9UaW1lR3JpZEV2ZW50LmpzP2UzMDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCIpKTtcbnZhciBfb2JqZWN0U3ByZWFkMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMlwiKSk7XG52YXIgX2Nsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbHN4XCIpKTtcbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5mdW5jdGlvbiBzdHJpbmdpZnlQZXJjZW50KHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiB2ICsgJyUnO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5mdW5jdGlvbiBUaW1lR3JpZEV2ZW50KHByb3BzKSB7XG4gIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlLFxuICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICBldmVudCA9IHByb3BzLmV2ZW50LFxuICAgIGFjY2Vzc29ycyA9IHByb3BzLmFjY2Vzc29ycyxcbiAgICBydGwgPSBwcm9wcy5ydGwsXG4gICAgc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZCxcbiAgICBsYWJlbCA9IHByb3BzLmxhYmVsLFxuICAgIGNvbnRpbnVlc1ByaW9yID0gcHJvcHMuY29udGludWVzUHJpb3IsXG4gICAgY29udGludWVzQWZ0ZXIgPSBwcm9wcy5jb250aW51ZXNBZnRlcixcbiAgICBnZXR0ZXJzID0gcHJvcHMuZ2V0dGVycyxcbiAgICBvbkNsaWNrID0gcHJvcHMub25DbGljayxcbiAgICBvbkRvdWJsZUNsaWNrID0gcHJvcHMub25Eb3VibGVDbGljayxcbiAgICBpc0JhY2tncm91bmRFdmVudCA9IHByb3BzLmlzQmFja2dyb3VuZEV2ZW50LFxuICAgIG9uS2V5UHJlc3MgPSBwcm9wcy5vbktleVByZXNzLFxuICAgIF9wcm9wcyRjb21wb25lbnRzID0gcHJvcHMuY29tcG9uZW50cyxcbiAgICBFdmVudCA9IF9wcm9wcyRjb21wb25lbnRzLmV2ZW50LFxuICAgIEV2ZW50V3JhcHBlciA9IF9wcm9wcyRjb21wb25lbnRzLmV2ZW50V3JhcHBlcjtcbiAgdmFyIHRpdGxlID0gYWNjZXNzb3JzLnRpdGxlKGV2ZW50KTtcbiAgdmFyIHRvb2x0aXAgPSBhY2Nlc3NvcnMudG9vbHRpcChldmVudCk7XG4gIHZhciBlbmQgPSBhY2Nlc3NvcnMuZW5kKGV2ZW50KTtcbiAgdmFyIHN0YXJ0ID0gYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KTtcbiAgdmFyIHVzZXJQcm9wcyA9IGdldHRlcnMuZXZlbnRQcm9wKGV2ZW50LCBzdGFydCwgZW5kLCBzZWxlY3RlZCk7XG4gIHZhciBpbm5lciA9IFsvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcIjFcIixcbiAgICBjbGFzc05hbWU6IFwicmJjLWV2ZW50LWxhYmVsXCJcbiAgfSwgbGFiZWwpLCAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcIjJcIixcbiAgICBjbGFzc05hbWU6IFwicmJjLWV2ZW50LWNvbnRlbnRcIlxuICB9LCBFdmVudCA/IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KEV2ZW50LCB7XG4gICAgZXZlbnQ6IGV2ZW50LFxuICAgIHRpdGxlOiB0aXRsZVxuICB9KSA6IHRpdGxlKV07XG4gIHZhciBoZWlnaHQgPSBzdHlsZS5oZWlnaHQsXG4gICAgdG9wID0gc3R5bGUudG9wLFxuICAgIHdpZHRoID0gc3R5bGUud2lkdGgsXG4gICAgeE9mZnNldCA9IHN0eWxlLnhPZmZzZXQ7XG4gIHZhciBldmVudFN0eWxlID0gKDAsIF9vYmplY3RTcHJlYWQzLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMy5kZWZhdWx0KSh7fSwgdXNlclByb3BzLnN0eWxlKSwge30sICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHtcbiAgICB0b3A6IHN0cmluZ2lmeVBlcmNlbnQodG9wKSxcbiAgICBoZWlnaHQ6IHN0cmluZ2lmeVBlcmNlbnQoaGVpZ2h0KSxcbiAgICB3aWR0aDogc3RyaW5naWZ5UGVyY2VudCh3aWR0aClcbiAgfSwgcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0Jywgc3RyaW5naWZ5UGVyY2VudCh4T2Zmc2V0KSkpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRXZlbnRXcmFwcGVyLCBPYmplY3QuYXNzaWduKHtcbiAgICB0eXBlOiBcInRpbWVcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgIHRhYkluZGV4OiAwLFxuICAgIG9uQ2xpY2s6IG9uQ2xpY2ssXG4gICAgb25Eb3VibGVDbGljazogb25Eb3VibGVDbGljayxcbiAgICBzdHlsZTogZXZlbnRTdHlsZSxcbiAgICBvbktleURvd246IG9uS2V5UHJlc3MsXG4gICAgdGl0bGU6IHRvb2x0aXAgPyAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyA/IGxhYmVsICsgJzogJyA6ICcnKSArIHRvb2x0aXAgOiB1bmRlZmluZWQsXG4gICAgY2xhc3NOYW1lOiAoMCwgX2Nsc3guZGVmYXVsdCkoaXNCYWNrZ3JvdW5kRXZlbnQgPyAncmJjLWJhY2tncm91bmQtZXZlbnQnIDogJ3JiYy1ldmVudCcsIGNsYXNzTmFtZSwgdXNlclByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgJ3JiYy1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgJ3JiYy1ldmVudC1jb250aW51ZXMtZWFybGllcic6IGNvbnRpbnVlc1ByaW9yLFxuICAgICAgJ3JiYy1ldmVudC1jb250aW51ZXMtbGF0ZXInOiBjb250aW51ZXNBZnRlclxuICAgIH0pXG4gIH0sIGlubmVyKSk7XG59XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBUaW1lR3JpZEV2ZW50OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/TimeGridEvent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DnDContext = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar DnDContext = exports.DnDContext = /*#__PURE__*/_react.default.createContext();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9EbkRDb250ZXh0LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDZCQUE2QixxTUFBK0Q7QUFDNUYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWtCO0FBQ2xCLG9DQUFvQyxtQkFBTyxDQUFDLHNNQUFPO0FBQ25ELGlCQUFpQixrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9saWIvYWRkb25zL2RyYWdBbmREcm9wL0RuRENvbnRleHQuanM/MjQ4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkRuRENvbnRleHQgPSB2b2lkIDA7XG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xudmFyIERuRENvbnRleHQgPSBleHBvcnRzLkRuRENvbnRleHQgPSAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlQ29udGV4dCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventContainerWrapper.js":
/*!**********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventContainerWrapper.js ***!
  \**********************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireWildcard = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\")[\"default\"]);\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _DnDContext = __webpack_require__(/*! ./DnDContext */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js\");\nvar _domHelpers = __webpack_require__(/*! dom-helpers */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/esm/index.js\");\nvar _querySelectorAll = _interopRequireDefault(__webpack_require__(/*! dom-helpers/cjs/querySelectorAll */ \"(ssr)/./node_modules/.pnpm/dom-helpers@5.2.1/node_modules/dom-helpers/cjs/querySelectorAll.js\"));\nvar _Selection = _interopRequireWildcard(__webpack_require__(/*! ../../Selection */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/Selection.js\"));\nvar _TimeGridEvent = _interopRequireDefault(__webpack_require__(/*! ../../TimeGridEvent */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/TimeGridEvent.js\"));\nvar _common = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js\");\nvar EventContainerWrapper = /*#__PURE__*/function (_React$Component) {\n  function EventContainerWrapper() {\n    var _this;\n    (0, _classCallCheck2.default)(this, EventContainerWrapper);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0, _callSuper2.default)(this, EventContainerWrapper, [].concat(args));\n    _this.handleMove = function (point, bounds) {\n      if (!(0, _common.pointInColumn)(bounds, point)) return _this.reset();\n      var event = _this.context.draggable.dragAndDropAction.event;\n      var _this$props = _this.props,\n        accessors = _this$props.accessors,\n        slotMetrics = _this$props.slotMetrics;\n      var newSlot = slotMetrics.closestSlotFromPoint({\n        y: point.y - _this.eventOffsetTop,\n        x: point.x\n      }, bounds);\n      var _eventTimes = (0, _common.eventTimes)(event, accessors, _this.props.localizer),\n        duration = _eventTimes.duration;\n      var newEnd = _this.props.localizer.add(newSlot, duration, 'milliseconds');\n      _this.update(event, slotMetrics.getRange(newSlot, newEnd, false, true));\n    };\n    _this.handleDropFromOutside = function (point, boundaryBox) {\n      var _this$props2 = _this.props,\n        slotMetrics = _this$props2.slotMetrics,\n        resource = _this$props2.resource;\n      var start = slotMetrics.closestSlotFromPoint({\n        y: point.y,\n        x: point.x\n      }, boundaryBox);\n      var end = _this._calculateDnDEnd(start);\n      _this.context.draggable.onDropFromOutside({\n        start: start,\n        end: end,\n        allDay: false,\n        resource: resource\n      });\n    };\n    _this.handleDragOverFromOutside = function (point, bounds) {\n      var slotMetrics = _this.props.slotMetrics;\n      var start = slotMetrics.closestSlotFromPoint({\n        y: point.y,\n        x: point.x\n      }, bounds);\n      var end = _this._calculateDnDEnd(start);\n      var event = _this.context.draggable.dragFromOutsideItem();\n      _this.update(event, slotMetrics.getRange(start, end, false, true));\n    };\n    _this._calculateDnDEnd = function (start) {\n      var _this$props3 = _this.props,\n        accessors = _this$props3.accessors,\n        slotMetrics = _this$props3.slotMetrics,\n        localizer = _this$props3.localizer;\n      var event = _this.context.draggable.dragFromOutsideItem();\n      var _eventTimes2 = (0, _common.eventTimes)(event, accessors, localizer),\n        eventDuration = _eventTimes2.duration;\n      var end = slotMetrics.nextSlot(start);\n      var eventHasDuration = !isNaN(eventDuration);\n      if (eventHasDuration) {\n        var eventEndSlot = localizer.add(start, eventDuration, 'milliseconds');\n        end = new Date(Math.max(eventEndSlot, end));\n      }\n      return end;\n    };\n    _this.updateParentScroll = function (parent, node) {\n      setTimeout(function () {\n        var draggedEl = (0, _querySelectorAll.default)(node, '.rbc-addons-dnd-drag-preview')[0];\n        if (draggedEl) {\n          if (draggedEl.offsetTop < parent.scrollTop) {\n            (0, _domHelpers.scrollTop)(parent, Math.max(draggedEl.offsetTop, 0));\n          } else if (draggedEl.offsetTop + draggedEl.offsetHeight > parent.scrollTop + parent.clientHeight) {\n            (0, _domHelpers.scrollTop)(parent, Math.min(draggedEl.offsetTop - parent.offsetHeight + draggedEl.offsetHeight, parent.scrollHeight));\n          }\n        }\n      });\n    };\n    _this._selectable = function () {\n      var wrapper = _this.ref.current;\n      var node = wrapper.children[0];\n      var isBeingDragged = false;\n      var selector = _this._selector = new _Selection.default(function () {\n        return wrapper.closest('.rbc-time-view');\n      });\n      var parent = (0, _domHelpers.scrollParent)(wrapper);\n      selector.on('beforeSelect', function (point) {\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (!dragAndDropAction.action) return false;\n        if (dragAndDropAction.action === 'resize') {\n          return (0, _common.pointInColumn)((0, _Selection.getBoundsForNode)(node), point);\n        }\n        var eventNode = (0, _Selection.getEventNodeFromPoint)(node, point);\n        if (!eventNode) return false;\n\n        // eventOffsetTop is distance from the top of the event to the initial\n        // mouseDown position. We need this later to compute the new top of the\n        // event during move operations, since the final location is really a\n        // delta from this point. note: if we want to DRY this with WeekWrapper,\n        // probably better just to capture the mouseDown point here and do the\n        // placement computation in handleMove()...\n        _this.eventOffsetTop = point.y - (0, _Selection.getBoundsForNode)(eventNode).top;\n      });\n      selector.on('selecting', function (box) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (dragAndDropAction.action === 'move') {\n          _this.updateParentScroll(parent, node);\n          _this.handleMove(box, bounds);\n        }\n        if (dragAndDropAction.action === 'resize') {\n          _this.updateParentScroll(parent, node);\n          _this.handleResize(box, bounds);\n        }\n      });\n      selector.on('dropFromOutside', function (point) {\n        if (!_this.context.draggable.onDropFromOutside) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!(0, _common.pointInColumn)(bounds, point)) return;\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('dragOverFromOutside', function (point) {\n        var item = _this.context.draggable.dragFromOutsideItem ? _this.context.draggable.dragFromOutsideItem() : null;\n        if (!item) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!(0, _common.pointInColumn)(bounds, point)) return _this.reset();\n        _this.handleDragOverFromOutside(point, bounds);\n      });\n      selector.on('selectStart', function () {\n        isBeingDragged = true;\n        _this.context.draggable.onStart();\n      });\n      selector.on('select', function (point) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        isBeingDragged = false;\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (dragAndDropAction.action === 'resize') {\n          _this.handleInteractionEnd();\n        } else if (!_this.state.event || !(0, _common.pointInColumn)(bounds, point)) {\n          return;\n        } else {\n          _this.handleInteractionEnd();\n        }\n      });\n      selector.on('click', function () {\n        if (isBeingDragged) _this.reset();\n        _this.context.draggable.onEnd(null);\n      });\n      selector.on('reset', function () {\n        _this.reset();\n        _this.context.draggable.onEnd(null);\n      });\n    };\n    _this.handleInteractionEnd = function () {\n      var resource = _this.props.resource;\n      var event = _this.state.event;\n      _this.reset();\n      _this.context.draggable.onEnd({\n        start: event.start,\n        end: event.end,\n        resourceId: resource\n      });\n    };\n    _this._teardownSelectable = function () {\n      if (!_this._selector) return;\n      _this._selector.teardown();\n      _this._selector = null;\n    };\n    _this.state = {};\n    _this.ref = /*#__PURE__*/_react.default.createRef();\n    return _this;\n  }\n  (0, _inherits2.default)(EventContainerWrapper, _React$Component);\n  return (0, _createClass2.default)(EventContainerWrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._selectable();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._teardownSelectable();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.state.event) this.setState({\n        event: null,\n        top: null,\n        height: null\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(event, _ref) {\n      var startDate = _ref.startDate,\n        endDate = _ref.endDate,\n        top = _ref.top,\n        height = _ref.height;\n      var lastEvent = this.state.event;\n      if (lastEvent && startDate === lastEvent.start && endDate === lastEvent.end) {\n        return;\n      }\n      this.setState({\n        top: top,\n        height: height,\n        event: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, event), {}, {\n          start: startDate,\n          end: endDate\n        })\n      });\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize(point, bounds) {\n      var _this$props4 = this.props,\n        accessors = _this$props4.accessors,\n        slotMetrics = _this$props4.slotMetrics,\n        localizer = _this$props4.localizer;\n      var _this$context$draggab = this.context.draggable.dragAndDropAction,\n        event = _this$context$draggab.event,\n        direction = _this$context$draggab.direction;\n      var newTime = slotMetrics.closestSlotFromPoint(point, bounds);\n      var _eventTimes3 = (0, _common.eventTimes)(event, accessors, localizer),\n        start = _eventTimes3.start,\n        end = _eventTimes3.end;\n      var newRange;\n      if (direction === 'UP') {\n        var newStart = localizer.min(newTime, slotMetrics.closestSlotFromDate(end, -1));\n        // Get the new range based on the new start\n        // but don't overwrite the end date as it could be outside this day boundary.\n        newRange = slotMetrics.getRange(newStart, end);\n        newRange = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, newRange), {}, {\n          endDate: end\n        });\n      } else if (direction === 'DOWN') {\n        // Get the new range based on the new end\n        // but don't overwrite the start date as it could be outside this day boundary.\n        var newEnd = localizer.max(newTime, slotMetrics.closestSlotFromDate(start));\n        newRange = slotMetrics.getRange(start, newEnd);\n        newRange = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, newRange), {}, {\n          startDate: start\n        });\n      }\n      this.update(event, newRange);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this$props5 = this.props,\n        children = _this$props5.children,\n        accessors = _this$props5.accessors,\n        components = _this$props5.components,\n        getters = _this$props5.getters,\n        slotMetrics = _this$props5.slotMetrics,\n        localizer = _this$props5.localizer;\n      var _this$state = this.state,\n        event = _this$state.event,\n        top = _this$state.top,\n        height = _this$state.height;\n      if (!event) return children;\n      var events = children.props.children;\n      var start = event.start,\n        end = event.end;\n      var label;\n      var format = 'eventTimeRangeFormat';\n      var startsBeforeDay = slotMetrics.startsBeforeDay(start);\n      var startsAfterDay = slotMetrics.startsAfterDay(end);\n      if (startsBeforeDay) format = 'eventTimeRangeEndFormat';else if (startsAfterDay) format = 'eventTimeRangeStartFormat';\n      if (startsBeforeDay && startsAfterDay) label = localizer.messages.allDay;else label = localizer.format({\n        start: start,\n        end: end\n      }, format);\n      return /*#__PURE__*/_react.default.cloneElement(children, {\n        children: /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, events, event && /*#__PURE__*/_react.default.createElement(_TimeGridEvent.default, {\n          event: event,\n          label: label,\n          className: \"rbc-addons-dnd-drag-preview\",\n          style: {\n            top: top,\n            height: height,\n            width: 100\n          },\n          getters: getters,\n          components: components,\n          accessors: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, accessors), _common.dragAccessors),\n          continuesPrior: startsBeforeDay,\n          continuesAfter: startsAfterDay\n        }))\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: this.ref\n      }, this.renderContent());\n    }\n  }]);\n}(_react.default.Component);\nEventContainerWrapper.contextType = _DnDContext.DnDContext;\nvar _default = exports[\"default\"] = EventContainerWrapper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9FdmVudENvbnRhaW5lcldyYXBwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOEJBQThCLHVNQUFnRTtBQUM5Riw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2YsNENBQTRDLG1CQUFPLENBQUMsbUpBQXNDO0FBQzFGLDhDQUE4QyxtQkFBTyxDQUFDLHFKQUF1QztBQUM3RiwyQ0FBMkMsbUJBQU8sQ0FBQywrSUFBb0M7QUFDdkYseUNBQXlDLG1CQUFPLENBQUMsMklBQWtDO0FBQ25GLHdDQUF3QyxtQkFBTyxDQUFDLHlJQUFpQztBQUNqRixvQ0FBb0MsbUJBQU8sQ0FBQyxzTUFBTztBQUNuRCxrQkFBa0IsbUJBQU8sQ0FBQywyTEFBYztBQUN4QyxrQkFBa0IsbUJBQU8sQ0FBQyx1R0FBYTtBQUN2QywrQ0FBK0MsbUJBQU8sQ0FBQyx1SUFBa0M7QUFDekYseUNBQXlDLG1CQUFPLENBQUMsMEtBQWlCO0FBQ2xFLDRDQUE0QyxtQkFBTyxDQUFDLGtMQUFxQjtBQUN6RSxjQUFjLG1CQUFPLENBQUMsbUxBQVU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxZQUFZO0FBQ3JGO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLGVBQWU7QUFDNUY7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLGVBQWU7QUFDNUY7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RCwrRUFBK0U7QUFDL0U7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLCtFQUErRTtBQUMvRTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQSxlQUFlLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9FdmVudENvbnRhaW5lcldyYXBwZXIuanM/ZjRjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKS5kZWZhdWx0O1xudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIikpO1xudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIpKTtcbnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiKSk7XG52YXIgX2NhbGxTdXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NhbGxTdXBlclwiKSk7XG52YXIgX2luaGVyaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIikpO1xudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfRG5EQ29udGV4dCA9IHJlcXVpcmUoXCIuL0RuRENvbnRleHRcIik7XG52YXIgX2RvbUhlbHBlcnMgPSByZXF1aXJlKFwiZG9tLWhlbHBlcnNcIik7XG52YXIgX3F1ZXJ5U2VsZWN0b3JBbGwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJkb20taGVscGVycy9janMvcXVlcnlTZWxlY3RvckFsbFwiKSk7XG52YXIgX1NlbGVjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuLi8uLi9TZWxlY3Rpb25cIikpO1xudmFyIF9UaW1lR3JpZEV2ZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vVGltZUdyaWRFdmVudFwiKSk7XG52YXIgX2NvbW1vbiA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbnZhciBFdmVudENvbnRhaW5lcldyYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRXZlbnRDb250YWluZXJXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcztcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBFdmVudENvbnRhaW5lcldyYXBwZXIpO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgX3RoaXMgPSAoMCwgX2NhbGxTdXBlcjIuZGVmYXVsdCkodGhpcywgRXZlbnRDb250YWluZXJXcmFwcGVyLCBbXS5jb25jYXQoYXJncykpO1xuICAgIF90aGlzLmhhbmRsZU1vdmUgPSBmdW5jdGlvbiAocG9pbnQsIGJvdW5kcykge1xuICAgICAgaWYgKCEoMCwgX2NvbW1vbi5wb2ludEluQ29sdW1uKShib3VuZHMsIHBvaW50KSkgcmV0dXJuIF90aGlzLnJlc2V0KCk7XG4gICAgICB2YXIgZXZlbnQgPSBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnQW5kRHJvcEFjdGlvbi5ldmVudDtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRwcm9wcy5hY2Nlc3NvcnMsXG4gICAgICAgIHNsb3RNZXRyaWNzID0gX3RoaXMkcHJvcHMuc2xvdE1ldHJpY3M7XG4gICAgICB2YXIgbmV3U2xvdCA9IHNsb3RNZXRyaWNzLmNsb3Nlc3RTbG90RnJvbVBvaW50KHtcbiAgICAgICAgeTogcG9pbnQueSAtIF90aGlzLmV2ZW50T2Zmc2V0VG9wLFxuICAgICAgICB4OiBwb2ludC54XG4gICAgICB9LCBib3VuZHMpO1xuICAgICAgdmFyIF9ldmVudFRpbWVzID0gKDAsIF9jb21tb24uZXZlbnRUaW1lcykoZXZlbnQsIGFjY2Vzc29ycywgX3RoaXMucHJvcHMubG9jYWxpemVyKSxcbiAgICAgICAgZHVyYXRpb24gPSBfZXZlbnRUaW1lcy5kdXJhdGlvbjtcbiAgICAgIHZhciBuZXdFbmQgPSBfdGhpcy5wcm9wcy5sb2NhbGl6ZXIuYWRkKG5ld1Nsb3QsIGR1cmF0aW9uLCAnbWlsbGlzZWNvbmRzJyk7XG4gICAgICBfdGhpcy51cGRhdGUoZXZlbnQsIHNsb3RNZXRyaWNzLmdldFJhbmdlKG5ld1Nsb3QsIG5ld0VuZCwgZmFsc2UsIHRydWUpKTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZURyb3BGcm9tT3V0c2lkZSA9IGZ1bmN0aW9uIChwb2ludCwgYm91bmRhcnlCb3gpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgc2xvdE1ldHJpY3MgPSBfdGhpcyRwcm9wczIuc2xvdE1ldHJpY3MsXG4gICAgICAgIHJlc291cmNlID0gX3RoaXMkcHJvcHMyLnJlc291cmNlO1xuICAgICAgdmFyIHN0YXJ0ID0gc2xvdE1ldHJpY3MuY2xvc2VzdFNsb3RGcm9tUG9pbnQoe1xuICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICB4OiBwb2ludC54XG4gICAgICB9LCBib3VuZGFyeUJveCk7XG4gICAgICB2YXIgZW5kID0gX3RoaXMuX2NhbGN1bGF0ZURuREVuZChzdGFydCk7XG4gICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vbkRyb3BGcm9tT3V0c2lkZSh7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgIGFsbERheTogZmFsc2UsXG4gICAgICAgIHJlc291cmNlOiByZXNvdXJjZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVEcmFnT3ZlckZyb21PdXRzaWRlID0gZnVuY3Rpb24gKHBvaW50LCBib3VuZHMpIHtcbiAgICAgIHZhciBzbG90TWV0cmljcyA9IF90aGlzLnByb3BzLnNsb3RNZXRyaWNzO1xuICAgICAgdmFyIHN0YXJ0ID0gc2xvdE1ldHJpY3MuY2xvc2VzdFNsb3RGcm9tUG9pbnQoe1xuICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICB4OiBwb2ludC54XG4gICAgICB9LCBib3VuZHMpO1xuICAgICAgdmFyIGVuZCA9IF90aGlzLl9jYWxjdWxhdGVEbkRFbmQoc3RhcnQpO1xuICAgICAgdmFyIGV2ZW50ID0gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0Zyb21PdXRzaWRlSXRlbSgpO1xuICAgICAgX3RoaXMudXBkYXRlKGV2ZW50LCBzbG90TWV0cmljcy5nZXRSYW5nZShzdGFydCwgZW5kLCBmYWxzZSwgdHJ1ZSkpO1xuICAgIH07XG4gICAgX3RoaXMuX2NhbGN1bGF0ZURuREVuZCA9IGZ1bmN0aW9uIChzdGFydCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRwcm9wczMuYWNjZXNzb3JzLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzJHByb3BzMy5zbG90TWV0cmljcyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHMzLmxvY2FsaXplcjtcbiAgICAgIHZhciBldmVudCA9IF90aGlzLmNvbnRleHQuZHJhZ2dhYmxlLmRyYWdGcm9tT3V0c2lkZUl0ZW0oKTtcbiAgICAgIHZhciBfZXZlbnRUaW1lczIgPSAoMCwgX2NvbW1vbi5ldmVudFRpbWVzKShldmVudCwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpLFxuICAgICAgICBldmVudER1cmF0aW9uID0gX2V2ZW50VGltZXMyLmR1cmF0aW9uO1xuICAgICAgdmFyIGVuZCA9IHNsb3RNZXRyaWNzLm5leHRTbG90KHN0YXJ0KTtcbiAgICAgIHZhciBldmVudEhhc0R1cmF0aW9uID0gIWlzTmFOKGV2ZW50RHVyYXRpb24pO1xuICAgICAgaWYgKGV2ZW50SGFzRHVyYXRpb24pIHtcbiAgICAgICAgdmFyIGV2ZW50RW5kU2xvdCA9IGxvY2FsaXplci5hZGQoc3RhcnQsIGV2ZW50RHVyYXRpb24sICdtaWxsaXNlY29uZHMnKTtcbiAgICAgICAgZW5kID0gbmV3IERhdGUoTWF0aC5tYXgoZXZlbnRFbmRTbG90LCBlbmQpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICBfdGhpcy51cGRhdGVQYXJlbnRTY3JvbGwgPSBmdW5jdGlvbiAocGFyZW50LCBub2RlKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRyYWdnZWRFbCA9ICgwLCBfcXVlcnlTZWxlY3RvckFsbC5kZWZhdWx0KShub2RlLCAnLnJiYy1hZGRvbnMtZG5kLWRyYWctcHJldmlldycpWzBdO1xuICAgICAgICBpZiAoZHJhZ2dlZEVsKSB7XG4gICAgICAgICAgaWYgKGRyYWdnZWRFbC5vZmZzZXRUb3AgPCBwYXJlbnQuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAoMCwgX2RvbUhlbHBlcnMuc2Nyb2xsVG9wKShwYXJlbnQsIE1hdGgubWF4KGRyYWdnZWRFbC5vZmZzZXRUb3AsIDApKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRyYWdnZWRFbC5vZmZzZXRUb3AgKyBkcmFnZ2VkRWwub2Zmc2V0SGVpZ2h0ID4gcGFyZW50LnNjcm9sbFRvcCArIHBhcmVudC5jbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgICgwLCBfZG9tSGVscGVycy5zY3JvbGxUb3ApKHBhcmVudCwgTWF0aC5taW4oZHJhZ2dlZEVsLm9mZnNldFRvcCAtIHBhcmVudC5vZmZzZXRIZWlnaHQgKyBkcmFnZ2VkRWwub2Zmc2V0SGVpZ2h0LCBwYXJlbnQuc2Nyb2xsSGVpZ2h0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLl9zZWxlY3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHdyYXBwZXIgPSBfdGhpcy5yZWYuY3VycmVudDtcbiAgICAgIHZhciBub2RlID0gd3JhcHBlci5jaGlsZHJlblswXTtcbiAgICAgIHZhciBpc0JlaW5nRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdmFyIHNlbGVjdG9yID0gX3RoaXMuX3NlbGVjdG9yID0gbmV3IF9TZWxlY3Rpb24uZGVmYXVsdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb3Nlc3QoJy5yYmMtdGltZS12aWV3Jyk7XG4gICAgICB9KTtcbiAgICAgIHZhciBwYXJlbnQgPSAoMCwgX2RvbUhlbHBlcnMuc2Nyb2xsUGFyZW50KSh3cmFwcGVyKTtcbiAgICAgIHNlbGVjdG9yLm9uKCdiZWZvcmVTZWxlY3QnLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGRyYWdBbmREcm9wQWN0aW9uID0gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0FuZERyb3BBY3Rpb247XG4gICAgICAgIGlmICghZHJhZ0FuZERyb3BBY3Rpb24uYWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChkcmFnQW5kRHJvcEFjdGlvbi5hY3Rpb24gPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfY29tbW9uLnBvaW50SW5Db2x1bW4pKCgwLCBfU2VsZWN0aW9uLmdldEJvdW5kc0Zvck5vZGUpKG5vZGUpLCBwb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50Tm9kZSA9ICgwLCBfU2VsZWN0aW9uLmdldEV2ZW50Tm9kZUZyb21Qb2ludCkobm9kZSwgcG9pbnQpO1xuICAgICAgICBpZiAoIWV2ZW50Tm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIGV2ZW50T2Zmc2V0VG9wIGlzIGRpc3RhbmNlIGZyb20gdGhlIHRvcCBvZiB0aGUgZXZlbnQgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgLy8gbW91c2VEb3duIHBvc2l0aW9uLiBXZSBuZWVkIHRoaXMgbGF0ZXIgdG8gY29tcHV0ZSB0aGUgbmV3IHRvcCBvZiB0aGVcbiAgICAgICAgLy8gZXZlbnQgZHVyaW5nIG1vdmUgb3BlcmF0aW9ucywgc2luY2UgdGhlIGZpbmFsIGxvY2F0aW9uIGlzIHJlYWxseSBhXG4gICAgICAgIC8vIGRlbHRhIGZyb20gdGhpcyBwb2ludC4gbm90ZTogaWYgd2Ugd2FudCB0byBEUlkgdGhpcyB3aXRoIFdlZWtXcmFwcGVyLFxuICAgICAgICAvLyBwcm9iYWJseSBiZXR0ZXIganVzdCB0byBjYXB0dXJlIHRoZSBtb3VzZURvd24gcG9pbnQgaGVyZSBhbmQgZG8gdGhlXG4gICAgICAgIC8vIHBsYWNlbWVudCBjb21wdXRhdGlvbiBpbiBoYW5kbGVNb3ZlKCkuLi5cbiAgICAgICAgX3RoaXMuZXZlbnRPZmZzZXRUb3AgPSBwb2ludC55IC0gKDAsIF9TZWxlY3Rpb24uZ2V0Qm91bmRzRm9yTm9kZSkoZXZlbnROb2RlKS50b3A7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3RpbmcnLCBmdW5jdGlvbiAoYm94KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSAoMCwgX1NlbGVjdGlvbi5nZXRCb3VuZHNGb3JOb2RlKShub2RlKTtcbiAgICAgICAgdmFyIGRyYWdBbmREcm9wQWN0aW9uID0gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0FuZERyb3BBY3Rpb247XG4gICAgICAgIGlmIChkcmFnQW5kRHJvcEFjdGlvbi5hY3Rpb24gPT09ICdtb3ZlJykge1xuICAgICAgICAgIF90aGlzLnVwZGF0ZVBhcmVudFNjcm9sbChwYXJlbnQsIG5vZGUpO1xuICAgICAgICAgIF90aGlzLmhhbmRsZU1vdmUoYm94LCBib3VuZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkcmFnQW5kRHJvcEFjdGlvbi5hY3Rpb24gPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgX3RoaXMudXBkYXRlUGFyZW50U2Nyb2xsKHBhcmVudCwgbm9kZSk7XG4gICAgICAgICAgX3RoaXMuaGFuZGxlUmVzaXplKGJveCwgYm91bmRzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignZHJvcEZyb21PdXRzaWRlJywgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIGlmICghX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25Ecm9wRnJvbU91dHNpZGUpIHJldHVybjtcbiAgICAgICAgdmFyIGJvdW5kcyA9ICgwLCBfU2VsZWN0aW9uLmdldEJvdW5kc0Zvck5vZGUpKG5vZGUpO1xuICAgICAgICBpZiAoISgwLCBfY29tbW9uLnBvaW50SW5Db2x1bW4pKGJvdW5kcywgcG9pbnQpKSByZXR1cm47XG4gICAgICAgIF90aGlzLmhhbmRsZURyb3BGcm9tT3V0c2lkZShwb2ludCwgYm91bmRzKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ2RyYWdPdmVyRnJvbU91dHNpZGUnLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnRnJvbU91dHNpZGVJdGVtID8gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0Zyb21PdXRzaWRlSXRlbSgpIDogbnVsbDtcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICAgIHZhciBib3VuZHMgPSAoMCwgX1NlbGVjdGlvbi5nZXRCb3VuZHNGb3JOb2RlKShub2RlKTtcbiAgICAgICAgaWYgKCEoMCwgX2NvbW1vbi5wb2ludEluQ29sdW1uKShib3VuZHMsIHBvaW50KSkgcmV0dXJuIF90aGlzLnJlc2V0KCk7XG4gICAgICAgIF90aGlzLmhhbmRsZURyYWdPdmVyRnJvbU91dHNpZGUocG9pbnQsIGJvdW5kcyk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3RTdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNCZWluZ0RyYWdnZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vblN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9ICgwLCBfU2VsZWN0aW9uLmdldEJvdW5kc0Zvck5vZGUpKG5vZGUpO1xuICAgICAgICBpc0JlaW5nRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhZ0FuZERyb3BBY3Rpb24gPSBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnQW5kRHJvcEFjdGlvbjtcbiAgICAgICAgaWYgKGRyYWdBbmREcm9wQWN0aW9uLmFjdGlvbiA9PT0gJ3Jlc2l6ZScpIHtcbiAgICAgICAgICBfdGhpcy5oYW5kbGVJbnRlcmFjdGlvbkVuZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKCFfdGhpcy5zdGF0ZS5ldmVudCB8fCAhKDAsIF9jb21tb24ucG9pbnRJbkNvbHVtbikoYm91bmRzLCBwb2ludCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuaGFuZGxlSW50ZXJhY3Rpb25FbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0JlaW5nRHJhZ2dlZCkgX3RoaXMucmVzZXQoKTtcbiAgICAgICAgX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25FbmQobnVsbCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdyZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICAgICAgX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25FbmQobnVsbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUludGVyYWN0aW9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlc291cmNlID0gX3RoaXMucHJvcHMucmVzb3VyY2U7XG4gICAgICB2YXIgZXZlbnQgPSBfdGhpcy5zdGF0ZS5ldmVudDtcbiAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vbkVuZCh7XG4gICAgICAgIHN0YXJ0OiBldmVudC5zdGFydCxcbiAgICAgICAgZW5kOiBldmVudC5lbmQsXG4gICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLl90ZWFyZG93blNlbGVjdGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLl9zZWxlY3RvcikgcmV0dXJuO1xuICAgICAgX3RoaXMuX3NlbGVjdG9yLnRlYXJkb3duKCk7XG4gICAgICBfdGhpcy5fc2VsZWN0b3IgPSBudWxsO1xuICAgIH07XG4gICAgX3RoaXMuc3RhdGUgPSB7fTtcbiAgICBfdGhpcy5yZWYgPSAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlUmVmKCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKEV2ZW50Q29udGFpbmVyV3JhcHBlciwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShFdmVudENvbnRhaW5lcldyYXBwZXIsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5fc2VsZWN0YWJsZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuX3RlYXJkb3duU2VsZWN0YWJsZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmV2ZW50KSB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXZlbnQ6IG51bGwsXG4gICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgaGVpZ2h0OiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShldmVudCwgX3JlZikge1xuICAgICAgdmFyIHN0YXJ0RGF0ZSA9IF9yZWYuc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlID0gX3JlZi5lbmREYXRlLFxuICAgICAgICB0b3AgPSBfcmVmLnRvcCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG4gICAgICB2YXIgbGFzdEV2ZW50ID0gdGhpcy5zdGF0ZS5ldmVudDtcbiAgICAgIGlmIChsYXN0RXZlbnQgJiYgc3RhcnREYXRlID09PSBsYXN0RXZlbnQuc3RhcnQgJiYgZW5kRGF0ZSA9PT0gbGFzdEV2ZW50LmVuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICBldmVudDogKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgZXZlbnQpLCB7fSwge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydERhdGUsXG4gICAgICAgICAgZW5kOiBlbmREYXRlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZShwb2ludCwgYm91bmRzKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHM0LmFjY2Vzc29ycyxcbiAgICAgICAgc2xvdE1ldHJpY3MgPSBfdGhpcyRwcm9wczQuc2xvdE1ldHJpY3MsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzNC5sb2NhbGl6ZXI7XG4gICAgICB2YXIgX3RoaXMkY29udGV4dCRkcmFnZ2FiID0gdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnQW5kRHJvcEFjdGlvbixcbiAgICAgICAgZXZlbnQgPSBfdGhpcyRjb250ZXh0JGRyYWdnYWIuZXZlbnQsXG4gICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJGNvbnRleHQkZHJhZ2dhYi5kaXJlY3Rpb247XG4gICAgICB2YXIgbmV3VGltZSA9IHNsb3RNZXRyaWNzLmNsb3Nlc3RTbG90RnJvbVBvaW50KHBvaW50LCBib3VuZHMpO1xuICAgICAgdmFyIF9ldmVudFRpbWVzMyA9ICgwLCBfY29tbW9uLmV2ZW50VGltZXMpKGV2ZW50LCBhY2Nlc3NvcnMsIGxvY2FsaXplciksXG4gICAgICAgIHN0YXJ0ID0gX2V2ZW50VGltZXMzLnN0YXJ0LFxuICAgICAgICBlbmQgPSBfZXZlbnRUaW1lczMuZW5kO1xuICAgICAgdmFyIG5ld1JhbmdlO1xuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ1VQJykge1xuICAgICAgICB2YXIgbmV3U3RhcnQgPSBsb2NhbGl6ZXIubWluKG5ld1RpbWUsIHNsb3RNZXRyaWNzLmNsb3Nlc3RTbG90RnJvbURhdGUoZW5kLCAtMSkpO1xuICAgICAgICAvLyBHZXQgdGhlIG5ldyByYW5nZSBiYXNlZCBvbiB0aGUgbmV3IHN0YXJ0XG4gICAgICAgIC8vIGJ1dCBkb24ndCBvdmVyd3JpdGUgdGhlIGVuZCBkYXRlIGFzIGl0IGNvdWxkIGJlIG91dHNpZGUgdGhpcyBkYXkgYm91bmRhcnkuXG4gICAgICAgIG5ld1JhbmdlID0gc2xvdE1ldHJpY3MuZ2V0UmFuZ2UobmV3U3RhcnQsIGVuZCk7XG4gICAgICAgIG5ld1JhbmdlID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgbmV3UmFuZ2UpLCB7fSwge1xuICAgICAgICAgIGVuZERhdGU6IGVuZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnRE9XTicpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBuZXcgcmFuZ2UgYmFzZWQgb24gdGhlIG5ldyBlbmRcbiAgICAgICAgLy8gYnV0IGRvbid0IG92ZXJ3cml0ZSB0aGUgc3RhcnQgZGF0ZSBhcyBpdCBjb3VsZCBiZSBvdXRzaWRlIHRoaXMgZGF5IGJvdW5kYXJ5LlxuICAgICAgICB2YXIgbmV3RW5kID0gbG9jYWxpemVyLm1heChuZXdUaW1lLCBzbG90TWV0cmljcy5jbG9zZXN0U2xvdEZyb21EYXRlKHN0YXJ0KSk7XG4gICAgICAgIG5ld1JhbmdlID0gc2xvdE1ldHJpY3MuZ2V0UmFuZ2Uoc3RhcnQsIG5ld0VuZCk7XG4gICAgICAgIG5ld1JhbmdlID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgbmV3UmFuZ2UpLCB7fSwge1xuICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZShldmVudCwgbmV3UmFuZ2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJDb250ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczUuY2hpbGRyZW4sXG4gICAgICAgIGFjY2Vzc29ycyA9IF90aGlzJHByb3BzNS5hY2Nlc3NvcnMsXG4gICAgICAgIGNvbXBvbmVudHMgPSBfdGhpcyRwcm9wczUuY29tcG9uZW50cyxcbiAgICAgICAgZ2V0dGVycyA9IF90aGlzJHByb3BzNS5nZXR0ZXJzLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzJHByb3BzNS5zbG90TWV0cmljcyxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM1LmxvY2FsaXplcjtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGV2ZW50ID0gX3RoaXMkc3RhdGUuZXZlbnQsXG4gICAgICAgIHRvcCA9IF90aGlzJHN0YXRlLnRvcCxcbiAgICAgICAgaGVpZ2h0ID0gX3RoaXMkc3RhdGUuaGVpZ2h0O1xuICAgICAgaWYgKCFldmVudCkgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgdmFyIGV2ZW50cyA9IGNoaWxkcmVuLnByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIHN0YXJ0ID0gZXZlbnQuc3RhcnQsXG4gICAgICAgIGVuZCA9IGV2ZW50LmVuZDtcbiAgICAgIHZhciBsYWJlbDtcbiAgICAgIHZhciBmb3JtYXQgPSAnZXZlbnRUaW1lUmFuZ2VGb3JtYXQnO1xuICAgICAgdmFyIHN0YXJ0c0JlZm9yZURheSA9IHNsb3RNZXRyaWNzLnN0YXJ0c0JlZm9yZURheShzdGFydCk7XG4gICAgICB2YXIgc3RhcnRzQWZ0ZXJEYXkgPSBzbG90TWV0cmljcy5zdGFydHNBZnRlckRheShlbmQpO1xuICAgICAgaWYgKHN0YXJ0c0JlZm9yZURheSkgZm9ybWF0ID0gJ2V2ZW50VGltZVJhbmdlRW5kRm9ybWF0JztlbHNlIGlmIChzdGFydHNBZnRlckRheSkgZm9ybWF0ID0gJ2V2ZW50VGltZVJhbmdlU3RhcnRGb3JtYXQnO1xuICAgICAgaWYgKHN0YXJ0c0JlZm9yZURheSAmJiBzdGFydHNBZnRlckRheSkgbGFiZWwgPSBsb2NhbGl6ZXIubWVzc2FnZXMuYWxsRGF5O2Vsc2UgbGFiZWwgPSBsb2NhbGl6ZXIuZm9ybWF0KHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGVuZFxuICAgICAgfSwgZm9ybWF0KTtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3QuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgZXZlbnRzLCBldmVudCAmJiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGltZUdyaWRFdmVudC5kZWZhdWx0LCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgICBjbGFzc05hbWU6IFwicmJjLWFkZG9ucy1kbmQtZHJhZy1wcmV2aWV3XCIsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogMTAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzLFxuICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICAgICAgYWNjZXNzb3JzOiAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBhY2Nlc3NvcnMpLCBfY29tbW9uLmRyYWdBY2Nlc3NvcnMpLFxuICAgICAgICAgIGNvbnRpbnVlc1ByaW9yOiBzdGFydHNCZWZvcmVEYXksXG4gICAgICAgICAgY29udGludWVzQWZ0ZXI6IHN0YXJ0c0FmdGVyRGF5XG4gICAgICAgIH0pKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByZWY6IHRoaXMucmVmXG4gICAgICB9LCB0aGlzLnJlbmRlckNvbnRlbnQoKSk7XG4gICAgfVxuICB9XSk7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5FdmVudENvbnRhaW5lcldyYXBwZXIuY29udGV4dFR5cGUgPSBfRG5EQ29udGV4dC5EbkRDb250ZXh0O1xudmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRDb250YWluZXJXcmFwcGVyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventContainerWrapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventWrapper.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventWrapper.js ***!
  \*************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _clsx = _interopRequireDefault(__webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\"));\nvar _accessors = __webpack_require__(/*! ../../utils/accessors */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/accessors.js\");\nvar _DnDContext = __webpack_require__(/*! ./DnDContext */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js\");\nvar EventWrapper = /*#__PURE__*/function (_React$Component) {\n  function EventWrapper() {\n    var _this;\n    (0, _classCallCheck2.default)(this, EventWrapper);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0, _callSuper2.default)(this, EventWrapper, [].concat(args));\n    _this.handleResizeUp = function (e) {\n      if (e.button !== 0) return;\n      _this.context.draggable.onBeginAction(_this.props.event, 'resize', 'UP');\n    };\n    _this.handleResizeDown = function (e) {\n      if (e.button !== 0) return;\n      _this.context.draggable.onBeginAction(_this.props.event, 'resize', 'DOWN');\n    };\n    _this.handleResizeLeft = function (e) {\n      if (e.button !== 0) return;\n      _this.context.draggable.onBeginAction(_this.props.event, 'resize', 'LEFT');\n    };\n    _this.handleResizeRight = function (e) {\n      if (e.button !== 0) return;\n      _this.context.draggable.onBeginAction(_this.props.event, 'resize', 'RIGHT');\n    };\n    _this.handleStartDragging = function (e) {\n      var _e$target$getAttribut;\n      if (e.button !== 0) return;\n      // hack: because of the way the anchors are arranged in the DOM, resize\n      // anchor events will bubble up to the move anchor listener. Don't start\n      // move operations when we're on a resize anchor.\n      var isResizeHandle = (_e$target$getAttribut = e.target.getAttribute('class')) === null || _e$target$getAttribut === void 0 ? void 0 : _e$target$getAttribut.includes('rbc-addons-dnd-resize');\n      if (!isResizeHandle) {\n        var extendedEvent = (0, _objectSpread2.default)({}, _this.props.event);\n        extendedEvent.sourceResource = _this.props.resource;\n        _this.context.draggable.onBeginAction(_this.props.event, 'move');\n      }\n    };\n    return _this;\n  }\n  (0, _inherits2.default)(EventWrapper, _React$Component);\n  return (0, _createClass2.default)(EventWrapper, [{\n    key: \"renderAnchor\",\n    value: function renderAnchor(direction) {\n      var cls = direction === 'Up' || direction === 'Down' ? 'ns' : 'ew';\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"rbc-addons-dnd-resize-\".concat(cls, \"-anchor\"),\n        onMouseDown: this[\"handleResize\".concat(direction)]\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"rbc-addons-dnd-resize-\".concat(cls, \"-icon\")\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        event = _this$props.event,\n        type = _this$props.type,\n        continuesPrior = _this$props.continuesPrior,\n        continuesAfter = _this$props.continuesAfter,\n        resizable = _this$props.resizable;\n      var children = this.props.children;\n      if (event.__isPreview) return /*#__PURE__*/_react.default.cloneElement(children, {\n        className: (0, _clsx.default)(children.props.className, 'rbc-addons-dnd-drag-preview')\n      });\n      var draggable = this.context.draggable;\n      var draggableAccessor = draggable.draggableAccessor,\n        resizableAccessor = draggable.resizableAccessor;\n      var isDraggable = draggableAccessor ? !!(0, _accessors.accessor)(event, draggableAccessor) : true;\n\n      /* Event is not draggable, no need to wrap it */\n      if (!isDraggable) {\n        return children;\n      }\n\n      /*\n       * The resizability of events depends on whether they are\n       * allDay events and how they are displayed.\n       *\n       * 1. If the event is being shown in an event row (because\n       * it is an allDay event shown in the header row or because as\n       * in month view the view is showing all events as rows) then we\n       * allow east-west resizing.\n       *\n       * 2. Otherwise the event is being displayed\n       * normally, we can drag it north-south to resize the times.\n       *\n       * See `DropWrappers` for handling of the drop of such events.\n       *\n       * Notwithstanding the above, we never show drag anchors for\n       * events which continue beyond current component. This happens\n       * in the middle of events when showMultiDay is true, and to\n       * events at the edges of the calendar's min/max location.\n       */\n      var isResizable = resizable && (resizableAccessor ? !!(0, _accessors.accessor)(event, resizableAccessor) : true);\n      if (isResizable || isDraggable) {\n        /*\n         * props.children is the singular <Event> component.\n         * BigCalendar positions the Event abolutely and we\n         * need the anchors to be part of that positioning.\n         * So we insert the anchors inside the Event's children\n         * rather than wrap the Event here as the latter approach\n         * would lose the positioning.\n         */\n        var newProps = {\n          onMouseDown: this.handleStartDragging,\n          onTouchStart: this.handleStartDragging\n        };\n        if (isResizable) {\n          // replace original event child with anchor-embellished child\n          var StartAnchor = null;\n          var EndAnchor = null;\n          if (type === 'date') {\n            StartAnchor = !continuesPrior && this.renderAnchor('Left');\n            EndAnchor = !continuesAfter && this.renderAnchor('Right');\n          } else {\n            StartAnchor = !continuesPrior && this.renderAnchor('Up');\n            EndAnchor = !continuesAfter && this.renderAnchor('Down');\n          }\n          newProps.children = /*#__PURE__*/_react.default.createElement(\"div\", {\n            className: \"rbc-addons-dnd-resizable\"\n          }, StartAnchor, children.props.children, EndAnchor);\n        }\n        if (draggable.dragAndDropAction.interacting &&\n        // if an event is being dragged right now\n        draggable.dragAndDropAction.event === event // and it's the current event\n        ) {\n          // add a new class to it\n          newProps.className = (0, _clsx.default)(children.props.className, 'rbc-addons-dnd-dragged-event');\n        }\n        children = /*#__PURE__*/_react.default.cloneElement(children, newProps);\n      }\n      return children;\n    }\n  }]);\n}(_react.default.Component);\nEventWrapper.contextType = _DnDContext.DnDContext;\nvar _default = exports[\"default\"] = EventWrapper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9FdmVudFdyYXBwZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLHFNQUErRDtBQUM1Riw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTtBQUNmLDRDQUE0QyxtQkFBTyxDQUFDLG1KQUFzQztBQUMxRiw4Q0FBOEMsbUJBQU8sQ0FBQyxxSkFBdUM7QUFDN0YsMkNBQTJDLG1CQUFPLENBQUMsK0lBQW9DO0FBQ3ZGLHlDQUF5QyxtQkFBTyxDQUFDLDJJQUFrQztBQUNuRix3Q0FBd0MsbUJBQU8sQ0FBQyx5SUFBaUM7QUFDakYsb0NBQW9DLG1CQUFPLENBQUMsc01BQU87QUFDbkQsbUNBQW1DLG1CQUFPLENBQUMsb0ZBQU07QUFDakQsaUJBQWlCLG1CQUFPLENBQUMsc0xBQXVCO0FBQ2hELGtCQUFrQixtQkFBTyxDQUFDLDJMQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGFBQWE7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQSxlQUFlLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9FdmVudFdyYXBwZXIuanM/MTc2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIikpO1xudmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIpKTtcbnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiKSk7XG52YXIgX2NhbGxTdXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NhbGxTdXBlclwiKSk7XG52YXIgX2luaGVyaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIikpO1xudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciBfY2xzeCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImNsc3hcIikpO1xudmFyIF9hY2Nlc3NvcnMgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYWNjZXNzb3JzXCIpO1xudmFyIF9EbkRDb250ZXh0ID0gcmVxdWlyZShcIi4vRG5EQ29udGV4dFwiKTtcbnZhciBFdmVudFdyYXBwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gRXZlbnRXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcztcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBFdmVudFdyYXBwZXIpO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgX3RoaXMgPSAoMCwgX2NhbGxTdXBlcjIuZGVmYXVsdCkodGhpcywgRXZlbnRXcmFwcGVyLCBbXS5jb25jYXQoYXJncykpO1xuICAgIF90aGlzLmhhbmRsZVJlc2l6ZVVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuICAgICAgX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25CZWdpbkFjdGlvbihfdGhpcy5wcm9wcy5ldmVudCwgJ3Jlc2l6ZScsICdVUCcpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlUmVzaXplRG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5idXR0b24gIT09IDApIHJldHVybjtcbiAgICAgIF90aGlzLmNvbnRleHQuZHJhZ2dhYmxlLm9uQmVnaW5BY3Rpb24oX3RoaXMucHJvcHMuZXZlbnQsICdyZXNpemUnLCAnRE9XTicpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlUmVzaXplTGVmdCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZS5idXR0b24gIT09IDApIHJldHVybjtcbiAgICAgIF90aGlzLmNvbnRleHQuZHJhZ2dhYmxlLm9uQmVnaW5BY3Rpb24oX3RoaXMucHJvcHMuZXZlbnQsICdyZXNpemUnLCAnTEVGVCcpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlUmVzaXplUmlnaHQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG4gICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vbkJlZ2luQWN0aW9uKF90aGlzLnByb3BzLmV2ZW50LCAncmVzaXplJywgJ1JJR0hUJyk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVTdGFydERyYWdnaW5nID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfZSR0YXJnZXQkZ2V0QXR0cmlidXQ7XG4gICAgICBpZiAoZS5idXR0b24gIT09IDApIHJldHVybjtcbiAgICAgIC8vIGhhY2s6IGJlY2F1c2Ugb2YgdGhlIHdheSB0aGUgYW5jaG9ycyBhcmUgYXJyYW5nZWQgaW4gdGhlIERPTSwgcmVzaXplXG4gICAgICAvLyBhbmNob3IgZXZlbnRzIHdpbGwgYnViYmxlIHVwIHRvIHRoZSBtb3ZlIGFuY2hvciBsaXN0ZW5lci4gRG9uJ3Qgc3RhcnRcbiAgICAgIC8vIG1vdmUgb3BlcmF0aW9ucyB3aGVuIHdlJ3JlIG9uIGEgcmVzaXplIGFuY2hvci5cbiAgICAgIHZhciBpc1Jlc2l6ZUhhbmRsZSA9IChfZSR0YXJnZXQkZ2V0QXR0cmlidXQgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpID09PSBudWxsIHx8IF9lJHRhcmdldCRnZXRBdHRyaWJ1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UkdGFyZ2V0JGdldEF0dHJpYnV0LmluY2x1ZGVzKCdyYmMtYWRkb25zLWRuZC1yZXNpemUnKTtcbiAgICAgIGlmICghaXNSZXNpemVIYW5kbGUpIHtcbiAgICAgICAgdmFyIGV4dGVuZGVkRXZlbnQgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIF90aGlzLnByb3BzLmV2ZW50KTtcbiAgICAgICAgZXh0ZW5kZWRFdmVudC5zb3VyY2VSZXNvdXJjZSA9IF90aGlzLnByb3BzLnJlc291cmNlO1xuICAgICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vbkJlZ2luQWN0aW9uKF90aGlzLnByb3BzLmV2ZW50LCAnbW92ZScpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKEV2ZW50V3JhcHBlciwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShFdmVudFdyYXBwZXIsIFt7XG4gICAga2V5OiBcInJlbmRlckFuY2hvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJBbmNob3IoZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgY2xzID0gZGlyZWN0aW9uID09PSAnVXAnIHx8IGRpcmVjdGlvbiA9PT0gJ0Rvd24nID8gJ25zJyA6ICdldyc7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWFkZG9ucy1kbmQtcmVzaXplLVwiLmNvbmNhdChjbHMsIFwiLWFuY2hvclwiKSxcbiAgICAgICAgb25Nb3VzZURvd246IHRoaXNbXCJoYW5kbGVSZXNpemVcIi5jb25jYXQoZGlyZWN0aW9uKV1cbiAgICAgIH0sIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInJiYy1hZGRvbnMtZG5kLXJlc2l6ZS1cIi5jb25jYXQoY2xzLCBcIi1pY29uXCIpXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBldmVudCA9IF90aGlzJHByb3BzLmV2ZW50LFxuICAgICAgICB0eXBlID0gX3RoaXMkcHJvcHMudHlwZSxcbiAgICAgICAgY29udGludWVzUHJpb3IgPSBfdGhpcyRwcm9wcy5jb250aW51ZXNQcmlvcixcbiAgICAgICAgY29udGludWVzQWZ0ZXIgPSBfdGhpcyRwcm9wcy5jb250aW51ZXNBZnRlcixcbiAgICAgICAgcmVzaXphYmxlID0gX3RoaXMkcHJvcHMucmVzaXphYmxlO1xuICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmIChldmVudC5fX2lzUHJldmlldykgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2Nsc3guZGVmYXVsdCkoY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lLCAncmJjLWFkZG9ucy1kbmQtZHJhZy1wcmV2aWV3JylcbiAgICAgIH0pO1xuICAgICAgdmFyIGRyYWdnYWJsZSA9IHRoaXMuY29udGV4dC5kcmFnZ2FibGU7XG4gICAgICB2YXIgZHJhZ2dhYmxlQWNjZXNzb3IgPSBkcmFnZ2FibGUuZHJhZ2dhYmxlQWNjZXNzb3IsXG4gICAgICAgIHJlc2l6YWJsZUFjY2Vzc29yID0gZHJhZ2dhYmxlLnJlc2l6YWJsZUFjY2Vzc29yO1xuICAgICAgdmFyIGlzRHJhZ2dhYmxlID0gZHJhZ2dhYmxlQWNjZXNzb3IgPyAhISgwLCBfYWNjZXNzb3JzLmFjY2Vzc29yKShldmVudCwgZHJhZ2dhYmxlQWNjZXNzb3IpIDogdHJ1ZTtcblxuICAgICAgLyogRXZlbnQgaXMgbm90IGRyYWdnYWJsZSwgbm8gbmVlZCB0byB3cmFwIGl0ICovXG4gICAgICBpZiAoIWlzRHJhZ2dhYmxlKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIFRoZSByZXNpemFiaWxpdHkgb2YgZXZlbnRzIGRlcGVuZHMgb24gd2hldGhlciB0aGV5IGFyZVxuICAgICAgICogYWxsRGF5IGV2ZW50cyBhbmQgaG93IHRoZXkgYXJlIGRpc3BsYXllZC5cbiAgICAgICAqXG4gICAgICAgKiAxLiBJZiB0aGUgZXZlbnQgaXMgYmVpbmcgc2hvd24gaW4gYW4gZXZlbnQgcm93IChiZWNhdXNlXG4gICAgICAgKiBpdCBpcyBhbiBhbGxEYXkgZXZlbnQgc2hvd24gaW4gdGhlIGhlYWRlciByb3cgb3IgYmVjYXVzZSBhc1xuICAgICAgICogaW4gbW9udGggdmlldyB0aGUgdmlldyBpcyBzaG93aW5nIGFsbCBldmVudHMgYXMgcm93cykgdGhlbiB3ZVxuICAgICAgICogYWxsb3cgZWFzdC13ZXN0IHJlc2l6aW5nLlxuICAgICAgICpcbiAgICAgICAqIDIuIE90aGVyd2lzZSB0aGUgZXZlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgICAgKiBub3JtYWxseSwgd2UgY2FuIGRyYWcgaXQgbm9ydGgtc291dGggdG8gcmVzaXplIHRoZSB0aW1lcy5cbiAgICAgICAqXG4gICAgICAgKiBTZWUgYERyb3BXcmFwcGVyc2AgZm9yIGhhbmRsaW5nIG9mIHRoZSBkcm9wIG9mIHN1Y2ggZXZlbnRzLlxuICAgICAgICpcbiAgICAgICAqIE5vdHdpdGhzdGFuZGluZyB0aGUgYWJvdmUsIHdlIG5ldmVyIHNob3cgZHJhZyBhbmNob3JzIGZvclxuICAgICAgICogZXZlbnRzIHdoaWNoIGNvbnRpbnVlIGJleW9uZCBjdXJyZW50IGNvbXBvbmVudC4gVGhpcyBoYXBwZW5zXG4gICAgICAgKiBpbiB0aGUgbWlkZGxlIG9mIGV2ZW50cyB3aGVuIHNob3dNdWx0aURheSBpcyB0cnVlLCBhbmQgdG9cbiAgICAgICAqIGV2ZW50cyBhdCB0aGUgZWRnZXMgb2YgdGhlIGNhbGVuZGFyJ3MgbWluL21heCBsb2NhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIGlzUmVzaXphYmxlID0gcmVzaXphYmxlICYmIChyZXNpemFibGVBY2Nlc3NvciA/ICEhKDAsIF9hY2Nlc3NvcnMuYWNjZXNzb3IpKGV2ZW50LCByZXNpemFibGVBY2Nlc3NvcikgOiB0cnVlKTtcbiAgICAgIGlmIChpc1Jlc2l6YWJsZSB8fCBpc0RyYWdnYWJsZSkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBwcm9wcy5jaGlsZHJlbiBpcyB0aGUgc2luZ3VsYXIgPEV2ZW50PiBjb21wb25lbnQuXG4gICAgICAgICAqIEJpZ0NhbGVuZGFyIHBvc2l0aW9ucyB0aGUgRXZlbnQgYWJvbHV0ZWx5IGFuZCB3ZVxuICAgICAgICAgKiBuZWVkIHRoZSBhbmNob3JzIHRvIGJlIHBhcnQgb2YgdGhhdCBwb3NpdGlvbmluZy5cbiAgICAgICAgICogU28gd2UgaW5zZXJ0IHRoZSBhbmNob3JzIGluc2lkZSB0aGUgRXZlbnQncyBjaGlsZHJlblxuICAgICAgICAgKiByYXRoZXIgdGhhbiB3cmFwIHRoZSBFdmVudCBoZXJlIGFzIHRoZSBsYXR0ZXIgYXBwcm9hY2hcbiAgICAgICAgICogd291bGQgbG9zZSB0aGUgcG9zaXRpb25pbmcuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbmV3UHJvcHMgPSB7XG4gICAgICAgICAgb25Nb3VzZURvd246IHRoaXMuaGFuZGxlU3RhcnREcmFnZ2luZyxcbiAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuaGFuZGxlU3RhcnREcmFnZ2luZ1xuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNSZXNpemFibGUpIHtcbiAgICAgICAgICAvLyByZXBsYWNlIG9yaWdpbmFsIGV2ZW50IGNoaWxkIHdpdGggYW5jaG9yLWVtYmVsbGlzaGVkIGNoaWxkXG4gICAgICAgICAgdmFyIFN0YXJ0QW5jaG9yID0gbnVsbDtcbiAgICAgICAgICB2YXIgRW5kQW5jaG9yID0gbnVsbDtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICBTdGFydEFuY2hvciA9ICFjb250aW51ZXNQcmlvciAmJiB0aGlzLnJlbmRlckFuY2hvcignTGVmdCcpO1xuICAgICAgICAgICAgRW5kQW5jaG9yID0gIWNvbnRpbnVlc0FmdGVyICYmIHRoaXMucmVuZGVyQW5jaG9yKCdSaWdodCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTdGFydEFuY2hvciA9ICFjb250aW51ZXNQcmlvciAmJiB0aGlzLnJlbmRlckFuY2hvcignVXAnKTtcbiAgICAgICAgICAgIEVuZEFuY2hvciA9ICFjb250aW51ZXNBZnRlciAmJiB0aGlzLnJlbmRlckFuY2hvcignRG93bicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYWRkb25zLWRuZC1yZXNpemFibGVcIlxuICAgICAgICAgIH0sIFN0YXJ0QW5jaG9yLCBjaGlsZHJlbi5wcm9wcy5jaGlsZHJlbiwgRW5kQW5jaG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHJhZ2dhYmxlLmRyYWdBbmREcm9wQWN0aW9uLmludGVyYWN0aW5nICYmXG4gICAgICAgIC8vIGlmIGFuIGV2ZW50IGlzIGJlaW5nIGRyYWdnZWQgcmlnaHQgbm93XG4gICAgICAgIGRyYWdnYWJsZS5kcmFnQW5kRHJvcEFjdGlvbi5ldmVudCA9PT0gZXZlbnQgLy8gYW5kIGl0J3MgdGhlIGN1cnJlbnQgZXZlbnRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gYWRkIGEgbmV3IGNsYXNzIHRvIGl0XG4gICAgICAgICAgbmV3UHJvcHMuY2xhc3NOYW1lID0gKDAsIF9jbHN4LmRlZmF1bHQpKGNoaWxkcmVuLnByb3BzLmNsYXNzTmFtZSwgJ3JiYy1hZGRvbnMtZG5kLWRyYWdnZWQtZXZlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIG5ld1Byb3BzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gIH1dKTtcbn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTtcbkV2ZW50V3JhcHBlci5jb250ZXh0VHlwZSA9IF9EbkRDb250ZXh0LkRuRENvbnRleHQ7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBFdmVudFdyYXBwZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventWrapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/WeekWrapper.js":
/*!************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/WeekWrapper.js ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireWildcard = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\")[\"default\"]);\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/toConsumableArray.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _EventRow = _interopRequireDefault(__webpack_require__(/*! ../../EventRow */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/EventRow.js\"));\nvar _Selection = _interopRequireWildcard(__webpack_require__(/*! ../../Selection */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/Selection.js\"));\nvar _eventLevels = __webpack_require__(/*! ../../utils/eventLevels */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/eventLevels.js\");\nvar _selection = __webpack_require__(/*! ../../utils/selection */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/selection.js\");\nvar _common = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js\");\nvar _DnDContext = __webpack_require__(/*! ./DnDContext */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js\");\nvar WeekWrapper = /*#__PURE__*/function (_React$Component) {\n  function WeekWrapper() {\n    var _this;\n    (0, _classCallCheck2.default)(this, WeekWrapper);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = (0, _callSuper2.default)(this, WeekWrapper, [].concat(args));\n    _this.handleMove = function (point, bounds, draggedEvent) {\n      if (!(0, _selection.pointInBox)(bounds, point)) return _this.reset();\n      var event = _this.context.draggable.dragAndDropAction.event || draggedEvent;\n      var _this$props = _this.props,\n        accessors = _this$props.accessors,\n        slotMetrics = _this$props.slotMetrics,\n        rtl = _this$props.rtl,\n        localizer = _this$props.localizer;\n      var slot = (0, _selection.getSlotAtX)(bounds, point.x, rtl, slotMetrics.slots);\n      var date = slotMetrics.getDateForSlot(slot);\n\n      // Adjust the dates, but maintain the times when moving\n      var _eventTimes = (0, _common.eventTimes)(event, accessors, localizer),\n        start = _eventTimes.start,\n        duration = _eventTimes.duration;\n      start = localizer.merge(date, start);\n      var end = localizer.add(start, duration, 'milliseconds');\n      // LATER: when dragging a multi-row event, only the first row is animating\n      _this.update(event, start, end);\n    };\n    _this.handleDropFromOutside = function (point, bounds) {\n      if (!_this.context.draggable.onDropFromOutside) return;\n      var _this$props2 = _this.props,\n        slotMetrics = _this$props2.slotMetrics,\n        rtl = _this$props2.rtl,\n        localizer = _this$props2.localizer;\n      var slot = (0, _selection.getSlotAtX)(bounds, point.x, rtl, slotMetrics.slots);\n      var start = slotMetrics.getDateForSlot(slot);\n      _this.context.draggable.onDropFromOutside({\n        start: start,\n        end: localizer.add(start, 1, 'day'),\n        allDay: false\n      });\n    };\n    _this.handleDragOverFromOutside = function (point, node) {\n      var item = _this.context.draggable.dragFromOutsideItem ? _this.context.draggable.dragFromOutsideItem() : null;\n      if (!item) return;\n      _this.handleMove(point, node, item);\n    };\n    _this._selectable = function () {\n      var node = _this.ref.current.closest('.rbc-month-row, .rbc-allday-cell');\n      var container = node.closest('.rbc-month-view, .rbc-time-view');\n      var isMonthRow = node.classList.contains('rbc-month-row');\n\n      // Valid container check only necessary in TimeGrid views\n      var selector = _this._selector = new _Selection.default(function () {\n        return container;\n      }, {\n        validContainers: (0, _toConsumableArray2.default)(!isMonthRow ? ['.rbc-day-slot', '.rbc-allday-cell'] : [])\n      });\n      selector.on('beforeSelect', function (point) {\n        var isAllDay = _this.props.isAllDay;\n        var action = _this.context.draggable.dragAndDropAction.action;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        var isInBox = (0, _selection.pointInBox)(bounds, point);\n        return action === 'move' || action === 'resize' && (!isAllDay || isInBox);\n      });\n      selector.on('selecting', function (box) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        var dragAndDropAction = _this.context.draggable.dragAndDropAction;\n        if (dragAndDropAction.action === 'move') _this.handleMove(box, bounds);\n        if (dragAndDropAction.action === 'resize') _this.handleResize(box, bounds);\n      });\n      selector.on('selectStart', function () {\n        return _this.context.draggable.onStart();\n      });\n      selector.on('select', function (point) {\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!_this.state.segment) return;\n        if (!(0, _selection.pointInBox)(bounds, point)) {\n          _this.reset();\n        } else {\n          _this.handleInteractionEnd();\n        }\n      });\n      selector.on('dropFromOutside', function (point) {\n        if (!_this.context.draggable.onDropFromOutside) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        if (!(0, _selection.pointInBox)(bounds, point)) return;\n        _this.handleDropFromOutside(point, bounds);\n      });\n      selector.on('dragOverFromOutside', function (point) {\n        if (!_this.context.draggable.dragFromOutsideItem) return;\n        var bounds = (0, _Selection.getBoundsForNode)(node);\n        _this.handleDragOverFromOutside(point, bounds);\n      });\n      selector.on('click', function () {\n        return _this.context.draggable.onEnd(null);\n      });\n      selector.on('reset', function () {\n        _this.reset();\n        _this.context.draggable.onEnd(null);\n      });\n    };\n    _this.handleInteractionEnd = function () {\n      var _this$props3 = _this.props,\n        resourceId = _this$props3.resourceId,\n        isAllDay = _this$props3.isAllDay;\n      var event = _this.state.segment.event;\n      _this.reset();\n      _this.context.draggable.onEnd({\n        start: event.start,\n        end: event.end,\n        resourceId: resourceId,\n        isAllDay: isAllDay\n      });\n    };\n    _this._teardownSelectable = function () {\n      if (!_this._selector) return;\n      _this._selector.teardown();\n      _this._selector = null;\n    };\n    _this.state = {};\n    _this.ref = /*#__PURE__*/_react.default.createRef();\n    return _this;\n  }\n  (0, _inherits2.default)(WeekWrapper, _React$Component);\n  return (0, _createClass2.default)(WeekWrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._selectable();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._teardownSelectable();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.state.segment) this.setState({\n        segment: null\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update(event, start, end) {\n      var segment = (0, _eventLevels.eventSegments)((0, _objectSpread2.default)((0, _objectSpread2.default)({}, event), {}, {\n        end: end,\n        start: start,\n        __isPreview: true\n      }), this.props.slotMetrics.range, _common.dragAccessors, this.props.localizer);\n      var lastSegment = this.state.segment;\n      if (lastSegment && segment.span === lastSegment.span && segment.left === lastSegment.left && segment.right === lastSegment.right) {\n        return;\n      }\n      this.setState({\n        segment: segment\n      });\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize(point, bounds) {\n      var _this$context$draggab = this.context.draggable.dragAndDropAction,\n        event = _this$context$draggab.event,\n        direction = _this$context$draggab.direction;\n      var _this$props4 = this.props,\n        accessors = _this$props4.accessors,\n        slotMetrics = _this$props4.slotMetrics,\n        rtl = _this$props4.rtl,\n        localizer = _this$props4.localizer;\n      var _eventTimes2 = (0, _common.eventTimes)(event, accessors, localizer),\n        start = _eventTimes2.start,\n        end = _eventTimes2.end;\n      var slot = (0, _selection.getSlotAtX)(bounds, point.x, rtl, slotMetrics.slots);\n      var date = slotMetrics.getDateForSlot(slot);\n      var cursorInRow = (0, _selection.pointInBox)(bounds, point);\n      if (direction === 'RIGHT') {\n        if (cursorInRow) {\n          if (slotMetrics.last < start) return this.reset();\n          if (localizer.eq(localizer.startOf(end, 'day'), end)) end = localizer.add(date, 1, 'day');else end = date;\n        } else if (localizer.inRange(start, slotMetrics.first, slotMetrics.last) || bounds.bottom < point.y && +slotMetrics.first > +start) {\n          end = localizer.add(slotMetrics.last, 1, 'milliseconds');\n        } else {\n          this.setState({\n            segment: null\n          });\n          return;\n        }\n        var originalEnd = accessors.end(event);\n        end = localizer.merge(end, originalEnd);\n        if (localizer.lt(end, start)) {\n          end = originalEnd;\n        }\n      } else if (direction === 'LEFT') {\n        if (cursorInRow) {\n          if (slotMetrics.first > end) return this.reset();\n          start = date;\n        } else if (localizer.inRange(end, slotMetrics.first, slotMetrics.last) || bounds.top > point.y && localizer.lt(slotMetrics.last, end)) {\n          start = localizer.add(slotMetrics.first, -1, 'milliseconds');\n        } else {\n          this.reset();\n          return;\n        }\n        var originalStart = accessors.start(event);\n        start = localizer.merge(start, originalStart);\n        if (localizer.gt(start, end)) {\n          start = originalStart;\n        }\n      }\n      this.update(event, start, end);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        children = _this$props5.children,\n        accessors = _this$props5.accessors;\n      var segment = this.state.segment;\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: this.ref,\n        className: \"rbc-addons-dnd-row-body\"\n      }, children, segment && /*#__PURE__*/_react.default.createElement(_EventRow.default, Object.assign({}, this.props, {\n        selected: null,\n        className: \"rbc-addons-dnd-drag-row\",\n        segments: [segment],\n        accessors: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, accessors), _common.dragAccessors)\n      })));\n    }\n  }]);\n}(_react.default.Component);\nWeekWrapper.contextType = _DnDContext.DnDContext;\nvar _default = exports[\"default\"] = WeekWrapper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9XZWVrV3JhcHBlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4QkFBOEIsdU1BQWdFO0FBQzlGLDZCQUE2QixxTUFBK0Q7QUFDNUYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWU7QUFDZiw0Q0FBNEMsbUJBQU8sQ0FBQyxtSkFBc0M7QUFDMUYsaURBQWlELG1CQUFPLENBQUMsMkpBQTBDO0FBQ25HLDhDQUE4QyxtQkFBTyxDQUFDLHFKQUF1QztBQUM3RiwyQ0FBMkMsbUJBQU8sQ0FBQywrSUFBb0M7QUFDdkYseUNBQXlDLG1CQUFPLENBQUMsMklBQWtDO0FBQ25GLHdDQUF3QyxtQkFBTyxDQUFDLHlJQUFpQztBQUNqRixvQ0FBb0MsbUJBQU8sQ0FBQyxzTUFBTztBQUNuRCx1Q0FBdUMsbUJBQU8sQ0FBQyx3S0FBZ0I7QUFDL0QseUNBQXlDLG1CQUFPLENBQUMsMEtBQWlCO0FBQ2xFLG1CQUFtQixtQkFBTyxDQUFDLDBMQUF5QjtBQUNwRCxpQkFBaUIsbUJBQU8sQ0FBQyxzTEFBdUI7QUFDaEQsY0FBYyxtQkFBTyxDQUFDLG1MQUFVO0FBQ2hDLGtCQUFrQixtQkFBTyxDQUFDLDJMQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGFBQWE7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsOEdBQThHLFlBQVk7QUFDMUg7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRztBQUNwRyxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLG9HQUFvRztBQUMzRztBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0UsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBLGVBQWUsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9saWIvYWRkb25zL2RyYWdBbmREcm9wL1dlZWtXcmFwcGVyLmpzP2RlZWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIikuZGVmYXVsdDtcbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyXCIpKTtcbnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheVwiKSk7XG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIikpO1xudmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCIpKTtcbnZhciBfY2FsbFN1cGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2FsbFN1cGVyXCIpKTtcbnZhciBfaW5oZXJpdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKSk7XG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xudmFyIF9FdmVudFJvdyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uL0V2ZW50Um93XCIpKTtcbnZhciBfU2VsZWN0aW9uID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcIi4uLy4uL1NlbGVjdGlvblwiKSk7XG52YXIgX2V2ZW50TGV2ZWxzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2V2ZW50TGV2ZWxzXCIpO1xudmFyIF9zZWxlY3Rpb24gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc2VsZWN0aW9uXCIpO1xudmFyIF9jb21tb24gPSByZXF1aXJlKFwiLi9jb21tb25cIik7XG52YXIgX0RuRENvbnRleHQgPSByZXF1aXJlKFwiLi9EbkRDb250ZXh0XCIpO1xudmFyIFdlZWtXcmFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGZ1bmN0aW9uIFdlZWtXcmFwcGVyKCkge1xuICAgIHZhciBfdGhpcztcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBXZWVrV3JhcHBlcik7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBfdGhpcyA9ICgwLCBfY2FsbFN1cGVyMi5kZWZhdWx0KSh0aGlzLCBXZWVrV3JhcHBlciwgW10uY29uY2F0KGFyZ3MpKTtcbiAgICBfdGhpcy5oYW5kbGVNb3ZlID0gZnVuY3Rpb24gKHBvaW50LCBib3VuZHMsIGRyYWdnZWRFdmVudCkge1xuICAgICAgaWYgKCEoMCwgX3NlbGVjdGlvbi5wb2ludEluQm94KShib3VuZHMsIHBvaW50KSkgcmV0dXJuIF90aGlzLnJlc2V0KCk7XG4gICAgICB2YXIgZXZlbnQgPSBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnQW5kRHJvcEFjdGlvbi5ldmVudCB8fCBkcmFnZ2VkRXZlbnQ7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgYWNjZXNzb3JzID0gX3RoaXMkcHJvcHMuYWNjZXNzb3JzLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzJHByb3BzLnNsb3RNZXRyaWNzLFxuICAgICAgICBydGwgPSBfdGhpcyRwcm9wcy5ydGwsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzLmxvY2FsaXplcjtcbiAgICAgIHZhciBzbG90ID0gKDAsIF9zZWxlY3Rpb24uZ2V0U2xvdEF0WCkoYm91bmRzLCBwb2ludC54LCBydGwsIHNsb3RNZXRyaWNzLnNsb3RzKTtcbiAgICAgIHZhciBkYXRlID0gc2xvdE1ldHJpY3MuZ2V0RGF0ZUZvclNsb3Qoc2xvdCk7XG5cbiAgICAgIC8vIEFkanVzdCB0aGUgZGF0ZXMsIGJ1dCBtYWludGFpbiB0aGUgdGltZXMgd2hlbiBtb3ZpbmdcbiAgICAgIHZhciBfZXZlbnRUaW1lcyA9ICgwLCBfY29tbW9uLmV2ZW50VGltZXMpKGV2ZW50LCBhY2Nlc3NvcnMsIGxvY2FsaXplciksXG4gICAgICAgIHN0YXJ0ID0gX2V2ZW50VGltZXMuc3RhcnQsXG4gICAgICAgIGR1cmF0aW9uID0gX2V2ZW50VGltZXMuZHVyYXRpb247XG4gICAgICBzdGFydCA9IGxvY2FsaXplci5tZXJnZShkYXRlLCBzdGFydCk7XG4gICAgICB2YXIgZW5kID0gbG9jYWxpemVyLmFkZChzdGFydCwgZHVyYXRpb24sICdtaWxsaXNlY29uZHMnKTtcbiAgICAgIC8vIExBVEVSOiB3aGVuIGRyYWdnaW5nIGEgbXVsdGktcm93IGV2ZW50LCBvbmx5IHRoZSBmaXJzdCByb3cgaXMgYW5pbWF0aW5nXG4gICAgICBfdGhpcy51cGRhdGUoZXZlbnQsIHN0YXJ0LCBlbmQpO1xuICAgIH07XG4gICAgX3RoaXMuaGFuZGxlRHJvcEZyb21PdXRzaWRlID0gZnVuY3Rpb24gKHBvaW50LCBib3VuZHMpIHtcbiAgICAgIGlmICghX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25Ecm9wRnJvbU91dHNpZGUpIHJldHVybjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgc2xvdE1ldHJpY3MgPSBfdGhpcyRwcm9wczIuc2xvdE1ldHJpY3MsXG4gICAgICAgIHJ0bCA9IF90aGlzJHByb3BzMi5ydGwsXG4gICAgICAgIGxvY2FsaXplciA9IF90aGlzJHByb3BzMi5sb2NhbGl6ZXI7XG4gICAgICB2YXIgc2xvdCA9ICgwLCBfc2VsZWN0aW9uLmdldFNsb3RBdFgpKGJvdW5kcywgcG9pbnQueCwgcnRsLCBzbG90TWV0cmljcy5zbG90cyk7XG4gICAgICB2YXIgc3RhcnQgPSBzbG90TWV0cmljcy5nZXREYXRlRm9yU2xvdChzbG90KTtcbiAgICAgIF90aGlzLmNvbnRleHQuZHJhZ2dhYmxlLm9uRHJvcEZyb21PdXRzaWRlKHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBlbmQ6IGxvY2FsaXplci5hZGQoc3RhcnQsIDEsICdkYXknKSxcbiAgICAgICAgYWxsRGF5OiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5oYW5kbGVEcmFnT3ZlckZyb21PdXRzaWRlID0gZnVuY3Rpb24gKHBvaW50LCBub2RlKSB7XG4gICAgICB2YXIgaXRlbSA9IF90aGlzLmNvbnRleHQuZHJhZ2dhYmxlLmRyYWdGcm9tT3V0c2lkZUl0ZW0gPyBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnRnJvbU91dHNpZGVJdGVtKCkgOiBudWxsO1xuICAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgICBfdGhpcy5oYW5kbGVNb3ZlKHBvaW50LCBub2RlLCBpdGVtKTtcbiAgICB9O1xuICAgIF90aGlzLl9zZWxlY3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5vZGUgPSBfdGhpcy5yZWYuY3VycmVudC5jbG9zZXN0KCcucmJjLW1vbnRoLXJvdywgLnJiYy1hbGxkYXktY2VsbCcpO1xuICAgICAgdmFyIGNvbnRhaW5lciA9IG5vZGUuY2xvc2VzdCgnLnJiYy1tb250aC12aWV3LCAucmJjLXRpbWUtdmlldycpO1xuICAgICAgdmFyIGlzTW9udGhSb3cgPSBub2RlLmNsYXNzTGlzdC5jb250YWlucygncmJjLW1vbnRoLXJvdycpO1xuXG4gICAgICAvLyBWYWxpZCBjb250YWluZXIgY2hlY2sgb25seSBuZWNlc3NhcnkgaW4gVGltZUdyaWQgdmlld3NcbiAgICAgIHZhciBzZWxlY3RvciA9IF90aGlzLl9zZWxlY3RvciA9IG5ldyBfU2VsZWN0aW9uLmRlZmF1bHQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgfSwge1xuICAgICAgICB2YWxpZENvbnRhaW5lcnM6ICgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKCFpc01vbnRoUm93ID8gWycucmJjLWRheS1zbG90JywgJy5yYmMtYWxsZGF5LWNlbGwnXSA6IFtdKVxuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignYmVmb3JlU2VsZWN0JywgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHZhciBpc0FsbERheSA9IF90aGlzLnByb3BzLmlzQWxsRGF5O1xuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0FuZERyb3BBY3Rpb24uYWN0aW9uO1xuICAgICAgICB2YXIgYm91bmRzID0gKDAsIF9TZWxlY3Rpb24uZ2V0Qm91bmRzRm9yTm9kZSkobm9kZSk7XG4gICAgICAgIHZhciBpc0luQm94ID0gKDAsIF9zZWxlY3Rpb24ucG9pbnRJbkJveCkoYm91bmRzLCBwb2ludCk7XG4gICAgICAgIHJldHVybiBhY3Rpb24gPT09ICdtb3ZlJyB8fCBhY3Rpb24gPT09ICdyZXNpemUnICYmICghaXNBbGxEYXkgfHwgaXNJbkJveCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3RpbmcnLCBmdW5jdGlvbiAoYm94KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSAoMCwgX1NlbGVjdGlvbi5nZXRCb3VuZHNGb3JOb2RlKShub2RlKTtcbiAgICAgICAgdmFyIGRyYWdBbmREcm9wQWN0aW9uID0gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUuZHJhZ0FuZERyb3BBY3Rpb247XG4gICAgICAgIGlmIChkcmFnQW5kRHJvcEFjdGlvbi5hY3Rpb24gPT09ICdtb3ZlJykgX3RoaXMuaGFuZGxlTW92ZShib3gsIGJvdW5kcyk7XG4gICAgICAgIGlmIChkcmFnQW5kRHJvcEFjdGlvbi5hY3Rpb24gPT09ICdyZXNpemUnKSBfdGhpcy5oYW5kbGVSZXNpemUoYm94LCBib3VuZHMpO1xuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignc2VsZWN0U3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vblN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9ICgwLCBfU2VsZWN0aW9uLmdldEJvdW5kc0Zvck5vZGUpKG5vZGUpO1xuICAgICAgICBpZiAoIV90aGlzLnN0YXRlLnNlZ21lbnQpIHJldHVybjtcbiAgICAgICAgaWYgKCEoMCwgX3NlbGVjdGlvbi5wb2ludEluQm94KShib3VuZHMsIHBvaW50KSkge1xuICAgICAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuaGFuZGxlSW50ZXJhY3Rpb25FbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3Rvci5vbignZHJvcEZyb21PdXRzaWRlJywgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIGlmICghX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25Ecm9wRnJvbU91dHNpZGUpIHJldHVybjtcbiAgICAgICAgdmFyIGJvdW5kcyA9ICgwLCBfU2VsZWN0aW9uLmdldEJvdW5kc0Zvck5vZGUpKG5vZGUpO1xuICAgICAgICBpZiAoISgwLCBfc2VsZWN0aW9uLnBvaW50SW5Cb3gpKGJvdW5kcywgcG9pbnQpKSByZXR1cm47XG4gICAgICAgIF90aGlzLmhhbmRsZURyb3BGcm9tT3V0c2lkZShwb2ludCwgYm91bmRzKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ2RyYWdPdmVyRnJvbU91dHNpZGUnLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5kcmFnRnJvbU91dHNpZGVJdGVtKSByZXR1cm47XG4gICAgICAgIHZhciBib3VuZHMgPSAoMCwgX1NlbGVjdGlvbi5nZXRCb3VuZHNGb3JOb2RlKShub2RlKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ092ZXJGcm9tT3V0c2lkZShwb2ludCwgYm91bmRzKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZWN0b3Iub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25FbmQobnVsbCk7XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdG9yLm9uKCdyZXNldCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICAgICAgX3RoaXMuY29udGV4dC5kcmFnZ2FibGUub25FbmQobnVsbCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIF90aGlzLmhhbmRsZUludGVyYWN0aW9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICByZXNvdXJjZUlkID0gX3RoaXMkcHJvcHMzLnJlc291cmNlSWQsXG4gICAgICAgIGlzQWxsRGF5ID0gX3RoaXMkcHJvcHMzLmlzQWxsRGF5O1xuICAgICAgdmFyIGV2ZW50ID0gX3RoaXMuc3RhdGUuc2VnbWVudC5ldmVudDtcbiAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICBfdGhpcy5jb250ZXh0LmRyYWdnYWJsZS5vbkVuZCh7XG4gICAgICAgIHN0YXJ0OiBldmVudC5zdGFydCxcbiAgICAgICAgZW5kOiBldmVudC5lbmQsXG4gICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlSWQsXG4gICAgICAgIGlzQWxsRGF5OiBpc0FsbERheVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBfdGhpcy5fdGVhcmRvd25TZWxlY3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5fc2VsZWN0b3IpIHJldHVybjtcbiAgICAgIF90aGlzLl9zZWxlY3Rvci50ZWFyZG93bigpO1xuICAgICAgX3RoaXMuX3NlbGVjdG9yID0gbnVsbDtcbiAgICB9O1xuICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgX3RoaXMucmVmID0gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZVJlZigpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShXZWVrV3JhcHBlciwgX1JlYWN0JENvbXBvbmVudCk7XG4gIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShXZWVrV3JhcHBlciwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLl9zZWxlY3RhYmxlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5fdGVhcmRvd25TZWxlY3RhYmxlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc2VnbWVudCkgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlZ21lbnQ6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGV2ZW50LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgc2VnbWVudCA9ICgwLCBfZXZlbnRMZXZlbHMuZXZlbnRTZWdtZW50cykoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgZXZlbnQpLCB7fSwge1xuICAgICAgICBlbmQ6IGVuZCxcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBfX2lzUHJldmlldzogdHJ1ZVxuICAgICAgfSksIHRoaXMucHJvcHMuc2xvdE1ldHJpY3MucmFuZ2UsIF9jb21tb24uZHJhZ0FjY2Vzc29ycywgdGhpcy5wcm9wcy5sb2NhbGl6ZXIpO1xuICAgICAgdmFyIGxhc3RTZWdtZW50ID0gdGhpcy5zdGF0ZS5zZWdtZW50O1xuICAgICAgaWYgKGxhc3RTZWdtZW50ICYmIHNlZ21lbnQuc3BhbiA9PT0gbGFzdFNlZ21lbnQuc3BhbiAmJiBzZWdtZW50LmxlZnQgPT09IGxhc3RTZWdtZW50LmxlZnQgJiYgc2VnbWVudC5yaWdodCA9PT0gbGFzdFNlZ21lbnQucmlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlZ21lbnQ6IHNlZ21lbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVSZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzaXplKHBvaW50LCBib3VuZHMpIHtcbiAgICAgIHZhciBfdGhpcyRjb250ZXh0JGRyYWdnYWIgPSB0aGlzLmNvbnRleHQuZHJhZ2dhYmxlLmRyYWdBbmREcm9wQWN0aW9uLFxuICAgICAgICBldmVudCA9IF90aGlzJGNvbnRleHQkZHJhZ2dhYi5ldmVudCxcbiAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkY29udGV4dCRkcmFnZ2FiLmRpcmVjdGlvbjtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRwcm9wczQuYWNjZXNzb3JzLFxuICAgICAgICBzbG90TWV0cmljcyA9IF90aGlzJHByb3BzNC5zbG90TWV0cmljcyxcbiAgICAgICAgcnRsID0gX3RoaXMkcHJvcHM0LnJ0bCxcbiAgICAgICAgbG9jYWxpemVyID0gX3RoaXMkcHJvcHM0LmxvY2FsaXplcjtcbiAgICAgIHZhciBfZXZlbnRUaW1lczIgPSAoMCwgX2NvbW1vbi5ldmVudFRpbWVzKShldmVudCwgYWNjZXNzb3JzLCBsb2NhbGl6ZXIpLFxuICAgICAgICBzdGFydCA9IF9ldmVudFRpbWVzMi5zdGFydCxcbiAgICAgICAgZW5kID0gX2V2ZW50VGltZXMyLmVuZDtcbiAgICAgIHZhciBzbG90ID0gKDAsIF9zZWxlY3Rpb24uZ2V0U2xvdEF0WCkoYm91bmRzLCBwb2ludC54LCBydGwsIHNsb3RNZXRyaWNzLnNsb3RzKTtcbiAgICAgIHZhciBkYXRlID0gc2xvdE1ldHJpY3MuZ2V0RGF0ZUZvclNsb3Qoc2xvdCk7XG4gICAgICB2YXIgY3Vyc29ySW5Sb3cgPSAoMCwgX3NlbGVjdGlvbi5wb2ludEluQm94KShib3VuZHMsIHBvaW50KTtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdSSUdIVCcpIHtcbiAgICAgICAgaWYgKGN1cnNvckluUm93KSB7XG4gICAgICAgICAgaWYgKHNsb3RNZXRyaWNzLmxhc3QgPCBzdGFydCkgcmV0dXJuIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICBpZiAobG9jYWxpemVyLmVxKGxvY2FsaXplci5zdGFydE9mKGVuZCwgJ2RheScpLCBlbmQpKSBlbmQgPSBsb2NhbGl6ZXIuYWRkKGRhdGUsIDEsICdkYXknKTtlbHNlIGVuZCA9IGRhdGU7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxpemVyLmluUmFuZ2Uoc3RhcnQsIHNsb3RNZXRyaWNzLmZpcnN0LCBzbG90TWV0cmljcy5sYXN0KSB8fCBib3VuZHMuYm90dG9tIDwgcG9pbnQueSAmJiArc2xvdE1ldHJpY3MuZmlyc3QgPiArc3RhcnQpIHtcbiAgICAgICAgICBlbmQgPSBsb2NhbGl6ZXIuYWRkKHNsb3RNZXRyaWNzLmxhc3QsIDEsICdtaWxsaXNlY29uZHMnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlZ21lbnQ6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRW5kID0gYWNjZXNzb3JzLmVuZChldmVudCk7XG4gICAgICAgIGVuZCA9IGxvY2FsaXplci5tZXJnZShlbmQsIG9yaWdpbmFsRW5kKTtcbiAgICAgICAgaWYgKGxvY2FsaXplci5sdChlbmQsIHN0YXJ0KSkge1xuICAgICAgICAgIGVuZCA9IG9yaWdpbmFsRW5kO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ0xFRlQnKSB7XG4gICAgICAgIGlmIChjdXJzb3JJblJvdykge1xuICAgICAgICAgIGlmIChzbG90TWV0cmljcy5maXJzdCA+IGVuZCkgcmV0dXJuIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICBzdGFydCA9IGRhdGU7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxpemVyLmluUmFuZ2UoZW5kLCBzbG90TWV0cmljcy5maXJzdCwgc2xvdE1ldHJpY3MubGFzdCkgfHwgYm91bmRzLnRvcCA+IHBvaW50LnkgJiYgbG9jYWxpemVyLmx0KHNsb3RNZXRyaWNzLmxhc3QsIGVuZCkpIHtcbiAgICAgICAgICBzdGFydCA9IGxvY2FsaXplci5hZGQoc2xvdE1ldHJpY3MuZmlyc3QsIC0xLCAnbWlsbGlzZWNvbmRzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3JpZ2luYWxTdGFydCA9IGFjY2Vzc29ycy5zdGFydChldmVudCk7XG4gICAgICAgIHN0YXJ0ID0gbG9jYWxpemVyLm1lcmdlKHN0YXJ0LCBvcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgaWYgKGxvY2FsaXplci5ndChzdGFydCwgZW5kKSkge1xuICAgICAgICAgIHN0YXJ0ID0gb3JpZ2luYWxTdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGUoZXZlbnQsIHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM1LmNoaWxkcmVuLFxuICAgICAgICBhY2Nlc3NvcnMgPSBfdGhpcyRwcm9wczUuYWNjZXNzb3JzO1xuICAgICAgdmFyIHNlZ21lbnQgPSB0aGlzLnN0YXRlLnNlZ21lbnQ7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICByZWY6IHRoaXMucmVmLFxuICAgICAgICBjbGFzc05hbWU6IFwicmJjLWFkZG9ucy1kbmQtcm93LWJvZHlcIlxuICAgICAgfSwgY2hpbGRyZW4sIHNlZ21lbnQgJiYgLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0V2ZW50Um93LmRlZmF1bHQsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IG51bGwsXG4gICAgICAgIGNsYXNzTmFtZTogXCJyYmMtYWRkb25zLWRuZC1kcmFnLXJvd1wiLFxuICAgICAgICBzZWdtZW50czogW3NlZ21lbnRdLFxuICAgICAgICBhY2Nlc3NvcnM6ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIGFjY2Vzc29ycyksIF9jb21tb24uZHJhZ0FjY2Vzc29ycylcbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XSk7XG59KF9yZWFjdC5kZWZhdWx0LkNvbXBvbmVudCk7XG5XZWVrV3JhcHBlci5jb250ZXh0VHlwZSA9IF9EbkRDb250ZXh0LkRuRENvbnRleHQ7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBXZWVrV3JhcHBlcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/WeekWrapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.dragAccessors = void 0;\nexports.eventTimes = eventTimes;\nexports.mergeComponents = mergeComponents;\nexports.pointInColumn = pointInColumn;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectWithoutProperties.js\"));\nvar _accessors = __webpack_require__(/*! ../../utils/accessors */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/accessors.js\");\nvar _react = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar _excluded = [\"children\"];\nvar dragAccessors = exports.dragAccessors = {\n  start: (0, _accessors.wrapAccessor)(function (e) {\n    return e.start;\n  }),\n  end: (0, _accessors.wrapAccessor)(function (e) {\n    return e.end;\n  })\n};\nfunction nest() {\n  for (var _len = arguments.length, Components = new Array(_len), _key = 0; _key < _len; _key++) {\n    Components[_key] = arguments[_key];\n  }\n  var factories = Components.filter(Boolean).map(_react.createFactory);\n  var Nest = function Nest(_ref) {\n    var children = _ref.children,\n      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n    return factories.reduceRight(function (child, factory) {\n      return factory(props, child);\n    }, children);\n  };\n  return Nest;\n}\nfunction mergeComponents() {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var addons = arguments.length > 1 ? arguments[1] : undefined;\n  var keys = Object.keys(addons);\n  var result = (0, _objectSpread2.default)({}, components);\n  keys.forEach(function (key) {\n    result[key] = components[key] ? nest(components[key], addons[key]) : addons[key];\n  });\n  return result;\n}\nfunction pointInColumn(bounds, point) {\n  var left = bounds.left,\n    right = bounds.right,\n    top = bounds.top;\n  var x = point.x,\n    y = point.y;\n  return x < right + 10 && x > left && y > top;\n}\nfunction eventTimes(event, accessors, localizer) {\n  var start = accessors.start(event);\n  var end = accessors.end(event);\n  var isZeroDuration = localizer.eq(start, end, 'minutes') && localizer.diff(start, end, 'minutes') === 0;\n  // make zero duration midnight events at least one day long\n  if (isZeroDuration) end = localizer.add(end, 1, 'day');\n  var duration = localizer.diff(start, end, 'milliseconds');\n  return {\n    start: start,\n    end: end,\n    duration: duration\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9jb21tb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLHFNQUErRDtBQUM1Riw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCLHVCQUF1QjtBQUN2QixxQkFBcUI7QUFDckIsNENBQTRDLG1CQUFPLENBQUMsbUpBQXNDO0FBQzFGLHVEQUF1RCxtQkFBTyxDQUFDLHVLQUFnRDtBQUMvRyxpQkFBaUIsbUJBQU8sQ0FBQyxzTEFBdUI7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLHNNQUFPO0FBQzVCO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRFQUE0RSxhQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9jb21tb24uanM/NGI5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRyYWdBY2Nlc3NvcnMgPSB2b2lkIDA7XG5leHBvcnRzLmV2ZW50VGltZXMgPSBldmVudFRpbWVzO1xuZXhwb3J0cy5tZXJnZUNvbXBvbmVudHMgPSBtZXJnZUNvbXBvbmVudHM7XG5leHBvcnRzLnBvaW50SW5Db2x1bW4gPSBwb2ludEluQ29sdW1uO1xudmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyXCIpKTtcbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiKSk7XG52YXIgX2FjY2Vzc29ycyA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9hY2Nlc3NvcnNcIik7XG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIF9leGNsdWRlZCA9IFtcImNoaWxkcmVuXCJdO1xudmFyIGRyYWdBY2Nlc3NvcnMgPSBleHBvcnRzLmRyYWdBY2Nlc3NvcnMgPSB7XG4gIHN0YXJ0OiAoMCwgX2FjY2Vzc29ycy53cmFwQWNjZXNzb3IpKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuc3RhcnQ7XG4gIH0pLFxuICBlbmQ6ICgwLCBfYWNjZXNzb3JzLndyYXBBY2Nlc3NvcikoZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gZS5lbmQ7XG4gIH0pXG59O1xuZnVuY3Rpb24gbmVzdCgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIENvbXBvbmVudHMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgQ29tcG9uZW50c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICB2YXIgZmFjdG9yaWVzID0gQ29tcG9uZW50cy5maWx0ZXIoQm9vbGVhbikubWFwKF9yZWFjdC5jcmVhdGVGYWN0b3J5KTtcbiAgdmFyIE5lc3QgPSBmdW5jdGlvbiBOZXN0KF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcHJvcHMgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMi5kZWZhdWx0KShfcmVmLCBfZXhjbHVkZWQpO1xuICAgIHJldHVybiBmYWN0b3JpZXMucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNoaWxkLCBmYWN0b3J5KSB7XG4gICAgICByZXR1cm4gZmFjdG9yeShwcm9wcywgY2hpbGQpO1xuICAgIH0sIGNoaWxkcmVuKTtcbiAgfTtcbiAgcmV0dXJuIE5lc3Q7XG59XG5mdW5jdGlvbiBtZXJnZUNvbXBvbmVudHMoKSB7XG4gIHZhciBjb21wb25lbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGFkZG9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZG9ucyk7XG4gIHZhciByZXN1bHQgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIGNvbXBvbmVudHMpO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gY29tcG9uZW50c1trZXldID8gbmVzdChjb21wb25lbnRzW2tleV0sIGFkZG9uc1trZXldKSA6IGFkZG9uc1trZXldO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBvaW50SW5Db2x1bW4oYm91bmRzLCBwb2ludCkge1xuICB2YXIgbGVmdCA9IGJvdW5kcy5sZWZ0LFxuICAgIHJpZ2h0ID0gYm91bmRzLnJpZ2h0LFxuICAgIHRvcCA9IGJvdW5kcy50b3A7XG4gIHZhciB4ID0gcG9pbnQueCxcbiAgICB5ID0gcG9pbnQueTtcbiAgcmV0dXJuIHggPCByaWdodCArIDEwICYmIHggPiBsZWZ0ICYmIHkgPiB0b3A7XG59XG5mdW5jdGlvbiBldmVudFRpbWVzKGV2ZW50LCBhY2Nlc3NvcnMsIGxvY2FsaXplcikge1xuICB2YXIgc3RhcnQgPSBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpO1xuICB2YXIgZW5kID0gYWNjZXNzb3JzLmVuZChldmVudCk7XG4gIHZhciBpc1plcm9EdXJhdGlvbiA9IGxvY2FsaXplci5lcShzdGFydCwgZW5kLCAnbWludXRlcycpICYmIGxvY2FsaXplci5kaWZmKHN0YXJ0LCBlbmQsICdtaW51dGVzJykgPT09IDA7XG4gIC8vIG1ha2UgemVybyBkdXJhdGlvbiBtaWRuaWdodCBldmVudHMgYXQgbGVhc3Qgb25lIGRheSBsb25nXG4gIGlmIChpc1plcm9EdXJhdGlvbikgZW5kID0gbG9jYWxpemVyLmFkZChlbmQsIDEsICdkYXknKTtcbiAgdmFyIGR1cmF0aW9uID0gbG9jYWxpemVyLmRpZmYoc3RhcnQsIGVuZCwgJ21pbGxpc2Vjb25kcycpO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGVuZCxcbiAgICBkdXJhdGlvbjogZHVyYXRpb25cbiAgfTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/index.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/index.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _withDragAndDrop = _interopRequireDefault(__webpack_require__(/*! ./withDragAndDrop */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/withDragAndDrop.js\"));\nvar _default = exports[\"default\"] = _withDragAndDrop.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2YsOENBQThDLG1CQUFPLENBQUMscU1BQW1CO0FBQ3pFLGVBQWUsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9saWIvYWRkb25zL2RyYWdBbmREcm9wL2luZGV4LmpzPzc5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF93aXRoRHJhZ0FuZERyb3AgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3dpdGhEcmFnQW5kRHJvcFwiKSk7XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBfd2l0aERyYWdBbmREcm9wLmRlZmF1bHQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/withDragAndDrop.js":
/*!****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/withDragAndDrop.js ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = withDragAndDrop;\nvar _objectSpread2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectSpread2.js\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/objectWithoutProperties.js\"));\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/classCallCheck.js\"));\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/createClass.js\"));\nvar _callSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/callSuper */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/callSuper.js\"));\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/inherits.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.5_@babel+core@7.24.5_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"));\nvar _clsx = _interopRequireDefault(__webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js\"));\nvar _propTypes = __webpack_require__(/*! ../../utils/propTypes */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/propTypes.js\");\nvar _EventWrapper = _interopRequireDefault(__webpack_require__(/*! ./EventWrapper */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventWrapper.js\"));\nvar _EventContainerWrapper = _interopRequireDefault(__webpack_require__(/*! ./EventContainerWrapper */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/EventContainerWrapper.js\"));\nvar _WeekWrapper = _interopRequireDefault(__webpack_require__(/*! ./WeekWrapper */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/WeekWrapper.js\"));\nvar _common = __webpack_require__(/*! ./common */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/common.js\");\nvar _DnDContext = __webpack_require__(/*! ./DnDContext */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/DnDContext.js\");\nvar _excluded = [\"selectable\", \"elementProps\", \"components\"];\nfunction withDragAndDrop(Calendar) {\n  var DragAndDropCalendar = /*#__PURE__*/function (_React$Component) {\n    function DragAndDropCalendar() {\n      var _this;\n      (0, _classCallCheck2.default)(this, DragAndDropCalendar);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = (0, _callSuper2.default)(this, DragAndDropCalendar, [].concat(args));\n      _this.defaultOnDragOver = function (event) {\n        event.preventDefault();\n      };\n      _this.handleBeginAction = function (event, action, direction) {\n        _this.setState({\n          event: event,\n          action: action,\n          direction: direction\n        });\n        var onDragStart = _this.props.onDragStart;\n        if (onDragStart) onDragStart({\n          event: event,\n          action: action,\n          direction: direction\n        });\n      };\n      _this.handleInteractionStart = function () {\n        if (_this.state.interacting === false) _this.setState({\n          interacting: true\n        });\n      };\n      _this.handleInteractionEnd = function (interactionInfo) {\n        var _this$state = _this.state,\n          action = _this$state.action,\n          event = _this$state.event;\n        if (!action) return;\n        _this.setState({\n          action: null,\n          event: null,\n          interacting: false,\n          direction: null\n        });\n        if (interactionInfo == null) return;\n        interactionInfo.event = event;\n        var _this$props = _this.props,\n          onEventDrop = _this$props.onEventDrop,\n          onEventResize = _this$props.onEventResize;\n        if (action === 'move' && onEventDrop) onEventDrop(interactionInfo);\n        if (action === 'resize' && onEventResize) onEventResize(interactionInfo);\n      };\n      _this.state = {\n        interacting: false\n      };\n      return _this;\n    }\n    (0, _inherits2.default)(DragAndDropCalendar, _React$Component);\n    return (0, _createClass2.default)(DragAndDropCalendar, [{\n      key: \"getDnDContextValue\",\n      value: function getDnDContextValue() {\n        return {\n          draggable: {\n            onStart: this.handleInteractionStart,\n            onEnd: this.handleInteractionEnd,\n            onBeginAction: this.handleBeginAction,\n            onDropFromOutside: this.props.onDropFromOutside,\n            dragFromOutsideItem: this.props.dragFromOutsideItem,\n            draggableAccessor: this.props.draggableAccessor,\n            resizableAccessor: this.props.resizableAccessor,\n            dragAndDropAction: this.state\n          }\n        };\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props2 = this.props,\n          selectable = _this$props2.selectable,\n          elementProps = _this$props2.elementProps,\n          components = _this$props2.components,\n          props = (0, _objectWithoutProperties2.default)(_this$props2, _excluded);\n        var interacting = this.state.interacting;\n        delete props.onEventDrop;\n        delete props.onEventResize;\n        props.selectable = selectable ? 'ignoreEvents' : false;\n        this.components = (0, _common.mergeComponents)(components, {\n          eventWrapper: _EventWrapper.default,\n          eventContainerWrapper: _EventContainerWrapper.default,\n          weekWrapper: _WeekWrapper.default\n        });\n        var elementPropsWithDropFromOutside = this.props.onDropFromOutside ? (0, _objectSpread2.default)((0, _objectSpread2.default)({}, elementProps), {}, {\n          onDragOver: this.props.onDragOver || this.defaultOnDragOver\n        }) : elementProps;\n        props.className = (0, _clsx.default)(props.className, 'rbc-addons-dnd', !!interacting && 'rbc-addons-dnd-is-dragging');\n        var context = this.getDnDContextValue();\n        return /*#__PURE__*/_react.default.createElement(_DnDContext.DnDContext.Provider, {\n          value: context\n        }, /*#__PURE__*/_react.default.createElement(Calendar, Object.assign({}, props, {\n          elementProps: elementPropsWithDropFromOutside,\n          components: this.components\n        })));\n      }\n    }]);\n  }(_react.default.Component);\n  DragAndDropCalendar.defaultProps = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, Calendar.defaultProps), {}, {\n    draggableAccessor: null,\n    resizableAccessor: null,\n    resizable: true\n  });\n  return DragAndDropCalendar;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC93aXRoRHJhZ0FuZERyb3AuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLHFNQUErRDtBQUM1Riw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixrQkFBZTtBQUNmLDRDQUE0QyxtQkFBTyxDQUFDLG1KQUFzQztBQUMxRix1REFBdUQsbUJBQU8sQ0FBQyx1S0FBZ0Q7QUFDL0csOENBQThDLG1CQUFPLENBQUMscUpBQXVDO0FBQzdGLDJDQUEyQyxtQkFBTyxDQUFDLCtJQUFvQztBQUN2Rix5Q0FBeUMsbUJBQU8sQ0FBQywySUFBa0M7QUFDbkYsd0NBQXdDLG1CQUFPLENBQUMseUlBQWlDO0FBQ2pGLG9DQUFvQyxtQkFBTyxDQUFDLHNNQUFPO0FBQ25ELG1DQUFtQyxtQkFBTyxDQUFDLG9GQUFNO0FBQ2pELGlCQUFpQixtQkFBTyxDQUFDLHNMQUF1QjtBQUNoRCwyQ0FBMkMsbUJBQU8sQ0FBQywrTEFBZ0I7QUFDbkUsb0RBQW9ELG1CQUFPLENBQUMsaU5BQXlCO0FBQ3JGLDBDQUEwQyxtQkFBTyxDQUFDLDZMQUFlO0FBQ2pFLGNBQWMsbUJBQU8sQ0FBQyxtTEFBVTtBQUNoQyxrQkFBa0IsbUJBQU8sQ0FBQywyTEFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsYUFBYTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHVJQUF1SSxtQkFBbUI7QUFDMUo7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHNFQUFzRTtBQUMvRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCwrRkFBK0YsNEJBQTRCO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC93aXRoRHJhZ0FuZERyb3AuanM/MjkzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB3aXRoRHJhZ0FuZERyb3A7XG52YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIikpO1xudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCIpKTtcbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKSk7XG52YXIgX2NyZWF0ZUNsYXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIikpO1xudmFyIF9jYWxsU3VwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jYWxsU3VwZXJcIikpO1xudmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIpKTtcbnZhciBfcmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgX2Nsc3ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjbHN4XCIpKTtcbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL3Byb3BUeXBlc1wiKTtcbnZhciBfRXZlbnRXcmFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9FdmVudFdyYXBwZXJcIikpO1xudmFyIF9FdmVudENvbnRhaW5lcldyYXBwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL0V2ZW50Q29udGFpbmVyV3JhcHBlclwiKSk7XG52YXIgX1dlZWtXcmFwcGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9XZWVrV3JhcHBlclwiKSk7XG52YXIgX2NvbW1vbiA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbnZhciBfRG5EQ29udGV4dCA9IHJlcXVpcmUoXCIuL0RuRENvbnRleHRcIik7XG52YXIgX2V4Y2x1ZGVkID0gW1wic2VsZWN0YWJsZVwiLCBcImVsZW1lbnRQcm9wc1wiLCBcImNvbXBvbmVudHNcIl07XG5mdW5jdGlvbiB3aXRoRHJhZ0FuZERyb3AoQ2FsZW5kYXIpIHtcbiAgdmFyIERyYWdBbmREcm9wQ2FsZW5kYXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBmdW5jdGlvbiBEcmFnQW5kRHJvcENhbGVuZGFyKCkge1xuICAgICAgdmFyIF90aGlzO1xuICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgRHJhZ0FuZERyb3BDYWxlbmRhcik7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIF90aGlzID0gKDAsIF9jYWxsU3VwZXIyLmRlZmF1bHQpKHRoaXMsIERyYWdBbmREcm9wQ2FsZW5kYXIsIFtdLmNvbmNhdChhcmdzKSk7XG4gICAgICBfdGhpcy5kZWZhdWx0T25EcmFnT3ZlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmhhbmRsZUJlZ2luQWN0aW9uID0gZnVuY3Rpb24gKGV2ZW50LCBhY3Rpb24sIGRpcmVjdGlvbikge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25EcmFnU3RhcnQgPSBfdGhpcy5wcm9wcy5vbkRyYWdTdGFydDtcbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSBvbkRyYWdTdGFydCh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIF90aGlzLmhhbmRsZUludGVyYWN0aW9uU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5zdGF0ZS5pbnRlcmFjdGluZyA9PT0gZmFsc2UpIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnRlcmFjdGluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5oYW5kbGVJbnRlcmFjdGlvbkVuZCA9IGZ1bmN0aW9uIChpbnRlcmFjdGlvbkluZm8pIHtcbiAgICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgYWN0aW9uID0gX3RoaXMkc3RhdGUuYWN0aW9uLFxuICAgICAgICAgIGV2ZW50ID0gX3RoaXMkc3RhdGUuZXZlbnQ7XG4gICAgICAgIGlmICghYWN0aW9uKSByZXR1cm47XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3Rpb246IG51bGwsXG4gICAgICAgICAgZXZlbnQ6IG51bGwsXG4gICAgICAgICAgaW50ZXJhY3Rpbmc6IGZhbHNlLFxuICAgICAgICAgIGRpcmVjdGlvbjogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uSW5mbyA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIGludGVyYWN0aW9uSW5mby5ldmVudCA9IGV2ZW50O1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkV2ZW50RHJvcCA9IF90aGlzJHByb3BzLm9uRXZlbnREcm9wLFxuICAgICAgICAgIG9uRXZlbnRSZXNpemUgPSBfdGhpcyRwcm9wcy5vbkV2ZW50UmVzaXplO1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnbW92ZScgJiYgb25FdmVudERyb3ApIG9uRXZlbnREcm9wKGludGVyYWN0aW9uSW5mbyk7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdyZXNpemUnICYmIG9uRXZlbnRSZXNpemUpIG9uRXZlbnRSZXNpemUoaW50ZXJhY3Rpb25JbmZvKTtcbiAgICAgIH07XG4gICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgaW50ZXJhY3Rpbmc6IGZhbHNlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShEcmFnQW5kRHJvcENhbGVuZGFyLCBfUmVhY3QkQ29tcG9uZW50KTtcbiAgICByZXR1cm4gKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoRHJhZ0FuZERyb3BDYWxlbmRhciwgW3tcbiAgICAgIGtleTogXCJnZXREbkRDb250ZXh0VmFsdWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREbkRDb250ZXh0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZHJhZ2dhYmxlOiB7XG4gICAgICAgICAgICBvblN0YXJ0OiB0aGlzLmhhbmRsZUludGVyYWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBvbkVuZDogdGhpcy5oYW5kbGVJbnRlcmFjdGlvbkVuZCxcbiAgICAgICAgICAgIG9uQmVnaW5BY3Rpb246IHRoaXMuaGFuZGxlQmVnaW5BY3Rpb24sXG4gICAgICAgICAgICBvbkRyb3BGcm9tT3V0c2lkZTogdGhpcy5wcm9wcy5vbkRyb3BGcm9tT3V0c2lkZSxcbiAgICAgICAgICAgIGRyYWdGcm9tT3V0c2lkZUl0ZW06IHRoaXMucHJvcHMuZHJhZ0Zyb21PdXRzaWRlSXRlbSxcbiAgICAgICAgICAgIGRyYWdnYWJsZUFjY2Vzc29yOiB0aGlzLnByb3BzLmRyYWdnYWJsZUFjY2Vzc29yLFxuICAgICAgICAgICAgcmVzaXphYmxlQWNjZXNzb3I6IHRoaXMucHJvcHMucmVzaXphYmxlQWNjZXNzb3IsXG4gICAgICAgICAgICBkcmFnQW5kRHJvcEFjdGlvbjogdGhpcy5zdGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzZWxlY3RhYmxlID0gX3RoaXMkcHJvcHMyLnNlbGVjdGFibGUsXG4gICAgICAgICAgZWxlbWVudFByb3BzID0gX3RoaXMkcHJvcHMyLmVsZW1lbnRQcm9wcyxcbiAgICAgICAgICBjb21wb25lbnRzID0gX3RoaXMkcHJvcHMyLmNvbXBvbmVudHMsXG4gICAgICAgICAgcHJvcHMgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMi5kZWZhdWx0KShfdGhpcyRwcm9wczIsIF9leGNsdWRlZCk7XG4gICAgICAgIHZhciBpbnRlcmFjdGluZyA9IHRoaXMuc3RhdGUuaW50ZXJhY3Rpbmc7XG4gICAgICAgIGRlbGV0ZSBwcm9wcy5vbkV2ZW50RHJvcDtcbiAgICAgICAgZGVsZXRlIHByb3BzLm9uRXZlbnRSZXNpemU7XG4gICAgICAgIHByb3BzLnNlbGVjdGFibGUgPSBzZWxlY3RhYmxlID8gJ2lnbm9yZUV2ZW50cycgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gKDAsIF9jb21tb24ubWVyZ2VDb21wb25lbnRzKShjb21wb25lbnRzLCB7XG4gICAgICAgICAgZXZlbnRXcmFwcGVyOiBfRXZlbnRXcmFwcGVyLmRlZmF1bHQsXG4gICAgICAgICAgZXZlbnRDb250YWluZXJXcmFwcGVyOiBfRXZlbnRDb250YWluZXJXcmFwcGVyLmRlZmF1bHQsXG4gICAgICAgICAgd2Vla1dyYXBwZXI6IF9XZWVrV3JhcHBlci5kZWZhdWx0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZWxlbWVudFByb3BzV2l0aERyb3BGcm9tT3V0c2lkZSA9IHRoaXMucHJvcHMub25Ecm9wRnJvbU91dHNpZGUgPyAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBlbGVtZW50UHJvcHMpLCB7fSwge1xuICAgICAgICAgIG9uRHJhZ092ZXI6IHRoaXMucHJvcHMub25EcmFnT3ZlciB8fCB0aGlzLmRlZmF1bHRPbkRyYWdPdmVyXG4gICAgICAgIH0pIDogZWxlbWVudFByb3BzO1xuICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSAoMCwgX2Nsc3guZGVmYXVsdCkocHJvcHMuY2xhc3NOYW1lLCAncmJjLWFkZG9ucy1kbmQnLCAhIWludGVyYWN0aW5nICYmICdyYmMtYWRkb25zLWRuZC1pcy1kcmFnZ2luZycpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuZ2V0RG5EQ29udGV4dFZhbHVlKCk7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG5EQ29udGV4dC5EbkRDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbnRleHRcbiAgICAgICAgfSwgLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2FsZW5kYXIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgZWxlbWVudFByb3BzOiBlbGVtZW50UHJvcHNXaXRoRHJvcEZyb21PdXRzaWRlLFxuICAgICAgICAgIGNvbXBvbmVudHM6IHRoaXMuY29tcG9uZW50c1xuICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgIH1dKTtcbiAgfShfcmVhY3QuZGVmYXVsdC5Db21wb25lbnQpO1xuICBEcmFnQW5kRHJvcENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIENhbGVuZGFyLmRlZmF1bHRQcm9wcyksIHt9LCB7XG4gICAgZHJhZ2dhYmxlQWNjZXNzb3I6IG51bGwsXG4gICAgcmVzaXphYmxlQWNjZXNzb3I6IG51bGwsXG4gICAgcmVzaXphYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gRHJhZ0FuZERyb3BDYWxlbmRhcjtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/withDragAndDrop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/accessors.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/accessors.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.accessor = accessor;\nexports.wrapAccessor = void 0;\nvar _typeof2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/typeof */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/typeof.js\"));\n/**\n * Retrieve via an accessor-like property\n *\n *    accessor(obj, 'name')   // => retrieves obj['name']\n *    accessor(data, func)    // => retrieves func(data)\n *    ... otherwise null\n */\nfunction accessor(data, field) {\n  var value = null;\n  if (typeof field === 'function') value = field(data);else if (typeof field === 'string' && (0, _typeof2.default)(data) === 'object' && data != null && field in data) value = data[field];\n  return value;\n}\nvar wrapAccessor = exports.wrapAccessor = function wrapAccessor(acc) {\n  return function (data) {\n    return accessor(data, acc);\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL2FjY2Vzc29ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGdCQUFnQjtBQUNoQixvQkFBb0I7QUFDcEIsc0NBQXNDLG1CQUFPLENBQUMscUlBQStCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0EsbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9saW5rcHJvLWF6dGVjLy4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWJpZy1jYWxlbmRhckAxLjE3LjFfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtYmlnLWNhbGVuZGFyL2xpYi91dGlscy9hY2Nlc3NvcnMuanM/NDc1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIikuZGVmYXVsdDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmFjY2Vzc29yID0gYWNjZXNzb3I7XG5leHBvcnRzLndyYXBBY2Nlc3NvciA9IHZvaWQgMDtcbnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mXCIpKTtcbi8qKlxuICogUmV0cmlldmUgdmlhIGFuIGFjY2Vzc29yLWxpa2UgcHJvcGVydHlcbiAqXG4gKiAgICBhY2Nlc3NvcihvYmosICduYW1lJykgICAvLyA9PiByZXRyaWV2ZXMgb2JqWyduYW1lJ11cbiAqICAgIGFjY2Vzc29yKGRhdGEsIGZ1bmMpICAgIC8vID0+IHJldHJpZXZlcyBmdW5jKGRhdGEpXG4gKiAgICAuLi4gb3RoZXJ3aXNlIG51bGxcbiAqL1xuZnVuY3Rpb24gYWNjZXNzb3IoZGF0YSwgZmllbGQpIHtcbiAgdmFyIHZhbHVlID0gbnVsbDtcbiAgaWYgKHR5cGVvZiBmaWVsZCA9PT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSBmaWVsZChkYXRhKTtlbHNlIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnICYmICgwLCBfdHlwZW9mMi5kZWZhdWx0KShkYXRhKSA9PT0gJ29iamVjdCcgJiYgZGF0YSAhPSBudWxsICYmIGZpZWxkIGluIGRhdGEpIHZhbHVlID0gZGF0YVtmaWVsZF07XG4gIHJldHVybiB2YWx1ZTtcbn1cbnZhciB3cmFwQWNjZXNzb3IgPSBleHBvcnRzLndyYXBBY2Nlc3NvciA9IGZ1bmN0aW9uIHdyYXBBY2Nlc3NvcihhY2MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIGFjY2Vzc29yKGRhdGEsIGFjYyk7XG4gIH07XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/accessors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/constants.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/constants.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.views = exports.navigate = void 0;\nvar navigate = exports.navigate = {\n  PREVIOUS: 'PREV',\n  NEXT: 'NEXT',\n  TODAY: 'TODAY',\n  DATE: 'DATE'\n};\nvar views = exports.views = {\n  MONTH: 'month',\n  WEEK: 'week',\n  WORK_WEEK: 'work_week',\n  DAY: 'day',\n  AGENDA: 'agenda'\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixhQUFhLEdBQUcsZ0JBQWdCO0FBQ2hDLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL2NvbnN0YW50cy5qcz8yNmFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy52aWV3cyA9IGV4cG9ydHMubmF2aWdhdGUgPSB2b2lkIDA7XG52YXIgbmF2aWdhdGUgPSBleHBvcnRzLm5hdmlnYXRlID0ge1xuICBQUkVWSU9VUzogJ1BSRVYnLFxuICBORVhUOiAnTkVYVCcsXG4gIFRPREFZOiAnVE9EQVknLFxuICBEQVRFOiAnREFURSdcbn07XG52YXIgdmlld3MgPSBleHBvcnRzLnZpZXdzID0ge1xuICBNT05USDogJ21vbnRoJyxcbiAgV0VFSzogJ3dlZWsnLFxuICBXT1JLX1dFRUs6ICd3b3JrX3dlZWsnLFxuICBEQVk6ICdkYXknLFxuICBBR0VOREE6ICdhZ2VuZGEnXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/eventLevels.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/eventLevels.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.endOfRange = endOfRange;\nexports.eventLevels = eventLevels;\nexports.eventSegments = eventSegments;\nexports.inRange = inRange;\nexports.segsOverlap = segsOverlap;\nexports.sortEvents = sortEvents;\nexports.sortWeekEvents = sortWeekEvents;\nvar _toConsumableArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/toConsumableArray.js\"));\nvar _findIndex = _interopRequireDefault(__webpack_require__(/*! lodash/findIndex */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js\"));\nfunction endOfRange(_ref) {\n  var dateRange = _ref.dateRange,\n    _ref$unit = _ref.unit,\n    unit = _ref$unit === void 0 ? 'day' : _ref$unit,\n    localizer = _ref.localizer;\n  return {\n    first: dateRange[0],\n    last: localizer.add(dateRange[dateRange.length - 1], 1, unit)\n  };\n}\n\n// properly calculating segments requires working with dates in\n// the timezone we're working with, so we use the localizer\nfunction eventSegments(event, range, accessors, localizer) {\n  var _endOfRange = endOfRange({\n      dateRange: range,\n      localizer: localizer\n    }),\n    first = _endOfRange.first,\n    last = _endOfRange.last;\n  var slots = localizer.diff(first, last, 'day');\n  var start = localizer.max(localizer.startOf(accessors.start(event), 'day'), first);\n  var end = localizer.min(localizer.ceil(accessors.end(event), 'day'), last);\n  var padding = (0, _findIndex.default)(range, function (x) {\n    return localizer.isSameDate(x, start);\n  });\n  var span = localizer.diff(start, end, 'day');\n  span = Math.min(span, slots);\n  // The segmentOffset is necessary when adjusting for timezones\n  // ahead of the browser timezone\n  span = Math.max(span - localizer.segmentOffset, 1);\n  return {\n    event: event,\n    span: span,\n    left: padding + 1,\n    right: Math.max(padding + span, 1)\n  };\n}\nfunction eventLevels(rowSegments) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Infinity;\n  var i,\n    j,\n    seg,\n    levels = [],\n    extra = [];\n  for (i = 0; i < rowSegments.length; i++) {\n    seg = rowSegments[i];\n    for (j = 0; j < levels.length; j++) if (!segsOverlap(seg, levels[j])) break;\n    if (j >= limit) {\n      extra.push(seg);\n    } else {\n      ;\n      (levels[j] || (levels[j] = [])).push(seg);\n    }\n  }\n  for (i = 0; i < levels.length; i++) {\n    levels[i].sort(function (a, b) {\n      return a.left - b.left;\n    }); //eslint-disable-line\n  }\n  return {\n    levels: levels,\n    extra: extra\n  };\n}\nfunction inRange(e, start, end, accessors, localizer) {\n  var event = {\n    start: accessors.start(e),\n    end: accessors.end(e)\n  };\n  var range = {\n    start: start,\n    end: end\n  };\n  return localizer.inEventRange({\n    event: event,\n    range: range\n  });\n}\nfunction segsOverlap(seg, otherSegs) {\n  return otherSegs.some(function (otherSeg) {\n    return otherSeg.left <= seg.right && otherSeg.right >= seg.left;\n  });\n}\nfunction sortWeekEvents(events, accessors, localizer) {\n  var base = (0, _toConsumableArray2.default)(events);\n  var multiDayEvents = [];\n  var standardEvents = [];\n  base.forEach(function (event) {\n    var startCheck = accessors.start(event);\n    var endCheck = accessors.end(event);\n    if (localizer.daySpan(startCheck, endCheck) > 1) {\n      multiDayEvents.push(event);\n    } else {\n      standardEvents.push(event);\n    }\n  });\n  var multiSorted = multiDayEvents.sort(function (a, b) {\n    return sortEvents(a, b, accessors, localizer);\n  });\n  var standardSorted = standardEvents.sort(function (a, b) {\n    return sortEvents(a, b, accessors, localizer);\n  });\n  return [].concat((0, _toConsumableArray2.default)(multiSorted), (0, _toConsumableArray2.default)(standardSorted));\n}\nfunction sortEvents(eventA, eventB, accessors, localizer) {\n  var evtA = {\n    start: accessors.start(eventA),\n    end: accessors.end(eventA),\n    allDay: accessors.allDay(eventA)\n  };\n  var evtB = {\n    start: accessors.start(eventB),\n    end: accessors.end(eventB),\n    allDay: accessors.allDay(eventB)\n  };\n  return localizer.sortEvents({\n    evtA: evtA,\n    evtB: evtB\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL2V2ZW50TGV2ZWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDZCQUE2QixxTUFBK0Q7QUFDNUYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQixxQkFBcUI7QUFDckIsZUFBZTtBQUNmLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEIsc0JBQXNCO0FBQ3RCLGlEQUFpRCxtQkFBTyxDQUFDLDJKQUEwQztBQUNuRyx3Q0FBd0MsbUJBQU8sQ0FBQyxvR0FBa0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQSxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL2V2ZW50TGV2ZWxzLmpzP2MzZDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5lbmRPZlJhbmdlID0gZW5kT2ZSYW5nZTtcbmV4cG9ydHMuZXZlbnRMZXZlbHMgPSBldmVudExldmVscztcbmV4cG9ydHMuZXZlbnRTZWdtZW50cyA9IGV2ZW50U2VnbWVudHM7XG5leHBvcnRzLmluUmFuZ2UgPSBpblJhbmdlO1xuZXhwb3J0cy5zZWdzT3ZlcmxhcCA9IHNlZ3NPdmVybGFwO1xuZXhwb3J0cy5zb3J0RXZlbnRzID0gc29ydEV2ZW50cztcbmV4cG9ydHMuc29ydFdlZWtFdmVudHMgPSBzb3J0V2Vla0V2ZW50cztcbnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheVwiKSk7XG52YXIgX2ZpbmRJbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImxvZGFzaC9maW5kSW5kZXhcIikpO1xuZnVuY3Rpb24gZW5kT2ZSYW5nZShfcmVmKSB7XG4gIHZhciBkYXRlUmFuZ2UgPSBfcmVmLmRhdGVSYW5nZSxcbiAgICBfcmVmJHVuaXQgPSBfcmVmLnVuaXQsXG4gICAgdW5pdCA9IF9yZWYkdW5pdCA9PT0gdm9pZCAwID8gJ2RheScgOiBfcmVmJHVuaXQsXG4gICAgbG9jYWxpemVyID0gX3JlZi5sb2NhbGl6ZXI7XG4gIHJldHVybiB7XG4gICAgZmlyc3Q6IGRhdGVSYW5nZVswXSxcbiAgICBsYXN0OiBsb2NhbGl6ZXIuYWRkKGRhdGVSYW5nZVtkYXRlUmFuZ2UubGVuZ3RoIC0gMV0sIDEsIHVuaXQpXG4gIH07XG59XG5cbi8vIHByb3Blcmx5IGNhbGN1bGF0aW5nIHNlZ21lbnRzIHJlcXVpcmVzIHdvcmtpbmcgd2l0aCBkYXRlcyBpblxuLy8gdGhlIHRpbWV6b25lIHdlJ3JlIHdvcmtpbmcgd2l0aCwgc28gd2UgdXNlIHRoZSBsb2NhbGl6ZXJcbmZ1bmN0aW9uIGV2ZW50U2VnbWVudHMoZXZlbnQsIHJhbmdlLCBhY2Nlc3NvcnMsIGxvY2FsaXplcikge1xuICB2YXIgX2VuZE9mUmFuZ2UgPSBlbmRPZlJhbmdlKHtcbiAgICAgIGRhdGVSYW5nZTogcmFuZ2UsXG4gICAgICBsb2NhbGl6ZXI6IGxvY2FsaXplclxuICAgIH0pLFxuICAgIGZpcnN0ID0gX2VuZE9mUmFuZ2UuZmlyc3QsXG4gICAgbGFzdCA9IF9lbmRPZlJhbmdlLmxhc3Q7XG4gIHZhciBzbG90cyA9IGxvY2FsaXplci5kaWZmKGZpcnN0LCBsYXN0LCAnZGF5Jyk7XG4gIHZhciBzdGFydCA9IGxvY2FsaXplci5tYXgobG9jYWxpemVyLnN0YXJ0T2YoYWNjZXNzb3JzLnN0YXJ0KGV2ZW50KSwgJ2RheScpLCBmaXJzdCk7XG4gIHZhciBlbmQgPSBsb2NhbGl6ZXIubWluKGxvY2FsaXplci5jZWlsKGFjY2Vzc29ycy5lbmQoZXZlbnQpLCAnZGF5JyksIGxhc3QpO1xuICB2YXIgcGFkZGluZyA9ICgwLCBfZmluZEluZGV4LmRlZmF1bHQpKHJhbmdlLCBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBsb2NhbGl6ZXIuaXNTYW1lRGF0ZSh4LCBzdGFydCk7XG4gIH0pO1xuICB2YXIgc3BhbiA9IGxvY2FsaXplci5kaWZmKHN0YXJ0LCBlbmQsICdkYXknKTtcbiAgc3BhbiA9IE1hdGgubWluKHNwYW4sIHNsb3RzKTtcbiAgLy8gVGhlIHNlZ21lbnRPZmZzZXQgaXMgbmVjZXNzYXJ5IHdoZW4gYWRqdXN0aW5nIGZvciB0aW1lem9uZXNcbiAgLy8gYWhlYWQgb2YgdGhlIGJyb3dzZXIgdGltZXpvbmVcbiAgc3BhbiA9IE1hdGgubWF4KHNwYW4gLSBsb2NhbGl6ZXIuc2VnbWVudE9mZnNldCwgMSk7XG4gIHJldHVybiB7XG4gICAgZXZlbnQ6IGV2ZW50LFxuICAgIHNwYW46IHNwYW4sXG4gICAgbGVmdDogcGFkZGluZyArIDEsXG4gICAgcmlnaHQ6IE1hdGgubWF4KHBhZGRpbmcgKyBzcGFuLCAxKVxuICB9O1xufVxuZnVuY3Rpb24gZXZlbnRMZXZlbHMocm93U2VnbWVudHMpIHtcbiAgdmFyIGxpbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBJbmZpbml0eTtcbiAgdmFyIGksXG4gICAgaixcbiAgICBzZWcsXG4gICAgbGV2ZWxzID0gW10sXG4gICAgZXh0cmEgPSBbXTtcbiAgZm9yIChpID0gMDsgaSA8IHJvd1NlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VnID0gcm93U2VnbWVudHNbaV07XG4gICAgZm9yIChqID0gMDsgaiA8IGxldmVscy5sZW5ndGg7IGorKykgaWYgKCFzZWdzT3ZlcmxhcChzZWcsIGxldmVsc1tqXSkpIGJyZWFrO1xuICAgIGlmIChqID49IGxpbWl0KSB7XG4gICAgICBleHRyYS5wdXNoKHNlZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIDtcbiAgICAgIChsZXZlbHNbal0gfHwgKGxldmVsc1tqXSA9IFtdKSkucHVzaChzZWcpO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV2ZWxzW2ldLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmxlZnQgLSBiLmxlZnQ7XG4gICAgfSk7IC8vZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIHJldHVybiB7XG4gICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgZXh0cmE6IGV4dHJhXG4gIH07XG59XG5mdW5jdGlvbiBpblJhbmdlKGUsIHN0YXJ0LCBlbmQsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBldmVudCA9IHtcbiAgICBzdGFydDogYWNjZXNzb3JzLnN0YXJ0KGUpLFxuICAgIGVuZDogYWNjZXNzb3JzLmVuZChlKVxuICB9O1xuICB2YXIgcmFuZ2UgPSB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG4gIHJldHVybiBsb2NhbGl6ZXIuaW5FdmVudFJhbmdlKHtcbiAgICBldmVudDogZXZlbnQsXG4gICAgcmFuZ2U6IHJhbmdlXG4gIH0pO1xufVxuZnVuY3Rpb24gc2Vnc092ZXJsYXAoc2VnLCBvdGhlclNlZ3MpIHtcbiAgcmV0dXJuIG90aGVyU2Vncy5zb21lKGZ1bmN0aW9uIChvdGhlclNlZykge1xuICAgIHJldHVybiBvdGhlclNlZy5sZWZ0IDw9IHNlZy5yaWdodCAmJiBvdGhlclNlZy5yaWdodCA+PSBzZWcubGVmdDtcbiAgfSk7XG59XG5mdW5jdGlvbiBzb3J0V2Vla0V2ZW50cyhldmVudHMsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBiYXNlID0gKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkoZXZlbnRzKTtcbiAgdmFyIG11bHRpRGF5RXZlbnRzID0gW107XG4gIHZhciBzdGFuZGFyZEV2ZW50cyA9IFtdO1xuICBiYXNlLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHN0YXJ0Q2hlY2sgPSBhY2Nlc3NvcnMuc3RhcnQoZXZlbnQpO1xuICAgIHZhciBlbmRDaGVjayA9IGFjY2Vzc29ycy5lbmQoZXZlbnQpO1xuICAgIGlmIChsb2NhbGl6ZXIuZGF5U3BhbihzdGFydENoZWNrLCBlbmRDaGVjaykgPiAxKSB7XG4gICAgICBtdWx0aURheUV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhbmRhcmRFdmVudHMucHVzaChldmVudCk7XG4gICAgfVxuICB9KTtcbiAgdmFyIG11bHRpU29ydGVkID0gbXVsdGlEYXlFdmVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBzb3J0RXZlbnRzKGEsIGIsIGFjY2Vzc29ycywgbG9jYWxpemVyKTtcbiAgfSk7XG4gIHZhciBzdGFuZGFyZFNvcnRlZCA9IHN0YW5kYXJkRXZlbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gc29ydEV2ZW50cyhhLCBiLCBhY2Nlc3NvcnMsIGxvY2FsaXplcik7XG4gIH0pO1xuICByZXR1cm4gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKG11bHRpU29ydGVkKSwgKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkoc3RhbmRhcmRTb3J0ZWQpKTtcbn1cbmZ1bmN0aW9uIHNvcnRFdmVudHMoZXZlbnRBLCBldmVudEIsIGFjY2Vzc29ycywgbG9jYWxpemVyKSB7XG4gIHZhciBldnRBID0ge1xuICAgIHN0YXJ0OiBhY2Nlc3NvcnMuc3RhcnQoZXZlbnRBKSxcbiAgICBlbmQ6IGFjY2Vzc29ycy5lbmQoZXZlbnRBKSxcbiAgICBhbGxEYXk6IGFjY2Vzc29ycy5hbGxEYXkoZXZlbnRBKVxuICB9O1xuICB2YXIgZXZ0QiA9IHtcbiAgICBzdGFydDogYWNjZXNzb3JzLnN0YXJ0KGV2ZW50QiksXG4gICAgZW5kOiBhY2Nlc3NvcnMuZW5kKGV2ZW50QiksXG4gICAgYWxsRGF5OiBhY2Nlc3NvcnMuYWxsRGF5KGV2ZW50QilcbiAgfTtcbiAgcmV0dXJuIGxvY2FsaXplci5zb3J0RXZlbnRzKHtcbiAgICBldnRBOiBldnRBLFxuICAgIGV2dEI6IGV2dEJcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/eventLevels.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/propTypes.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/propTypes.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.views = exports.dateRangeFormat = exports.dateFormat = exports.accessor = exports.DayLayoutAlgorithmPropType = void 0;\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js\"));\nvar _constants = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/constants.js\");\nvar viewNames = Object.keys(_constants.views).map(function (k) {\n  return _constants.views[k];\n});\nvar accessor = exports.accessor = _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func]);\nvar dateFormat = exports.dateFormat = _propTypes.default.any;\nvar dateRangeFormat = exports.dateRangeFormat = _propTypes.default.func;\n\n/**\n * accepts either an array of builtin view names:\n *\n * ```\n * views={['month', 'day', 'agenda']}\n * ```\n *\n * or an object hash of the view name and the component (or boolean for builtin)\n *\n * ```\n * views={{\n *   month: true,\n *   week: false,\n *   workweek: WorkWeekViewComponent,\n * }}\n * ```\n */\n\nvar views = exports.views = _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.oneOf(viewNames)), _propTypes.default.objectOf(function (prop, key) {\n  var isBuiltinView = viewNames.indexOf(key) !== -1 && typeof prop[key] === 'boolean';\n  if (isBuiltinView) {\n    return null;\n  } else {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return _propTypes.default.elementType.apply(_propTypes.default, [prop, key].concat(args));\n  }\n})]);\nvar DayLayoutAlgorithmPropType = exports.DayLayoutAlgorithmPropType = _propTypes.default.oneOfType([_propTypes.default.oneOf(['overlap', 'no-overlap']), _propTypes.default.func]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL3Byb3BUeXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGFBQWEsR0FBRyx1QkFBdUIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsR0FBRyxrQ0FBa0M7QUFDcEgsd0NBQXdDLG1CQUFPLENBQUMsaUdBQVk7QUFDNUQsaUJBQWlCLG1CQUFPLENBQUMsNEtBQWE7QUFDdEM7QUFDQTtBQUNBLENBQUM7QUFDRCxlQUFlLGdCQUFnQjtBQUMvQixpQkFBaUIsa0JBQWtCO0FBQ25DLHNCQUFzQix1QkFBdUI7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDJGQUEyRixhQUFhO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlDQUFpQyxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9saWIvdXRpbHMvcHJvcFR5cGVzLmpzPzIzZmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy52aWV3cyA9IGV4cG9ydHMuZGF0ZVJhbmdlRm9ybWF0ID0gZXhwb3J0cy5kYXRlRm9ybWF0ID0gZXhwb3J0cy5hY2Nlc3NvciA9IGV4cG9ydHMuRGF5TGF5b3V0QWxnb3JpdGhtUHJvcFR5cGUgPSB2b2lkIDA7XG52YXIgX3Byb3BUeXBlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInByb3AtdHlwZXNcIikpO1xudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgdmlld05hbWVzID0gT2JqZWN0LmtleXMoX2NvbnN0YW50cy52aWV3cykubWFwKGZ1bmN0aW9uIChrKSB7XG4gIHJldHVybiBfY29uc3RhbnRzLnZpZXdzW2tdO1xufSk7XG52YXIgYWNjZXNzb3IgPSBleHBvcnRzLmFjY2Vzc29yID0gX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlcy5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKTtcbnZhciBkYXRlRm9ybWF0ID0gZXhwb3J0cy5kYXRlRm9ybWF0ID0gX3Byb3BUeXBlcy5kZWZhdWx0LmFueTtcbnZhciBkYXRlUmFuZ2VGb3JtYXQgPSBleHBvcnRzLmRhdGVSYW5nZUZvcm1hdCA9IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jO1xuXG4vKipcbiAqIGFjY2VwdHMgZWl0aGVyIGFuIGFycmF5IG9mIGJ1aWx0aW4gdmlldyBuYW1lczpcbiAqXG4gKiBgYGBcbiAqIHZpZXdzPXtbJ21vbnRoJywgJ2RheScsICdhZ2VuZGEnXX1cbiAqIGBgYFxuICpcbiAqIG9yIGFuIG9iamVjdCBoYXNoIG9mIHRoZSB2aWV3IG5hbWUgYW5kIHRoZSBjb21wb25lbnQgKG9yIGJvb2xlYW4gZm9yIGJ1aWx0aW4pXG4gKlxuICogYGBgXG4gKiB2aWV3cz17e1xuICogICBtb250aDogdHJ1ZSxcbiAqICAgd2VlazogZmFsc2UsXG4gKiAgIHdvcmt3ZWVrOiBXb3JrV2Vla1ZpZXdDb21wb25lbnQsXG4gKiB9fVxuICogYGBgXG4gKi9cblxudmFyIHZpZXdzID0gZXhwb3J0cy52aWV3cyA9IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5hcnJheU9mKF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZih2aWV3TmFtZXMpKSwgX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdE9mKGZ1bmN0aW9uIChwcm9wLCBrZXkpIHtcbiAgdmFyIGlzQnVpbHRpblZpZXcgPSB2aWV3TmFtZXMuaW5kZXhPZihrZXkpICE9PSAtMSAmJiB0eXBlb2YgcHJvcFtrZXldID09PSAnYm9vbGVhbic7XG4gIGlmIChpc0J1aWx0aW5WaWV3KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiBfcHJvcFR5cGVzLmRlZmF1bHQuZWxlbWVudFR5cGUuYXBwbHkoX3Byb3BUeXBlcy5kZWZhdWx0LCBbcHJvcCwga2V5XS5jb25jYXQoYXJncykpO1xuICB9XG59KV0pO1xudmFyIERheUxheW91dEFsZ29yaXRobVByb3BUeXBlID0gZXhwb3J0cy5EYXlMYXlvdXRBbGdvcml0aG1Qcm9wVHlwZSA9IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZihbJ292ZXJsYXAnLCAnbm8tb3ZlcmxhcCddKSwgX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmNdKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/propTypes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/selection.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/selection.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = (__webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.26.9/node_modules/@babel/runtime/helpers/interopRequireDefault.js\")[\"default\"]);\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.dateCellSelection = dateCellSelection;\nexports.getSlotAtX = getSlotAtX;\nexports.isSelected = isSelected;\nexports.pointInBox = pointInBox;\nexports.slotWidth = slotWidth;\nvar _isEqual = _interopRequireDefault(__webpack_require__(/*! lodash/isEqual */ \"(ssr)/./node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js\"));\nfunction isSelected(event, selected) {\n  if (!event || selected == null) return false;\n  return (0, _isEqual.default)(event, selected);\n}\nfunction slotWidth(rowBox, slots) {\n  var rowWidth = rowBox.right - rowBox.left;\n  var cellWidth = rowWidth / slots;\n  return cellWidth;\n}\nfunction getSlotAtX(rowBox, x, rtl, slots) {\n  var cellWidth = slotWidth(rowBox, slots);\n  return rtl ? slots - 1 - Math.floor((x - rowBox.left) / cellWidth) : Math.floor((x - rowBox.left) / cellWidth);\n}\nfunction pointInBox(box, _ref) {\n  var x = _ref.x,\n    y = _ref.y;\n  return y >= box.top && y <= box.bottom && x >= box.left && x <= box.right;\n}\nfunction dateCellSelection(start, rowBox, box, slots, rtl) {\n  var startIdx = -1;\n  var endIdx = -1;\n  var lastSlotIdx = slots - 1;\n  var cellWidth = slotWidth(rowBox, slots);\n\n  // cell under the mouse\n  var currentSlot = getSlotAtX(rowBox, box.x, rtl, slots);\n\n  // Identify row as either the initial row\n  // or the row under the current mouse point\n  var isCurrentRow = rowBox.top < box.y && rowBox.bottom > box.y;\n  var isStartRow = rowBox.top < start.y && rowBox.bottom > start.y;\n\n  // this row's position relative to the start point\n  var isAboveStart = start.y > rowBox.bottom;\n  var isBelowStart = rowBox.top > start.y;\n  var isBetween = box.top < rowBox.top && box.bottom > rowBox.bottom;\n\n  // this row is between the current and start rows, so entirely selected\n  if (isBetween) {\n    startIdx = 0;\n    endIdx = lastSlotIdx;\n  }\n  if (isCurrentRow) {\n    if (isBelowStart) {\n      startIdx = 0;\n      endIdx = currentSlot;\n    } else if (isAboveStart) {\n      startIdx = currentSlot;\n      endIdx = lastSlotIdx;\n    }\n  }\n  if (isStartRow) {\n    // select the cell under the initial point\n    startIdx = endIdx = rtl ? lastSlotIdx - Math.floor((start.x - rowBox.left) / cellWidth) : Math.floor((start.x - rowBox.left) / cellWidth);\n    if (isCurrentRow) {\n      if (currentSlot < startIdx) startIdx = currentSlot;else endIdx = currentSlot; //select current range\n    } else if (start.y < box.y) {\n      // the current row is below start row\n      // select cells to the right of the start cell\n      endIdx = lastSlotIdx;\n    } else {\n      // select cells to the left of the start cell\n      startIdx = 0;\n    }\n  }\n  return {\n    startIdx: startIdx,\n    endIdx: endIdx\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL3V0aWxzL3NlbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw2QkFBNkIscU1BQStEO0FBQzVGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLHlCQUF5QjtBQUN6QixrQkFBa0I7QUFDbEIsa0JBQWtCO0FBQ2xCLGtCQUFrQjtBQUNsQixpQkFBaUI7QUFDakIsc0NBQXNDLG1CQUFPLENBQUMsZ0dBQWdCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCwyQkFBMkI7QUFDcEYsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbGlua3Byby1henRlYy8uL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1iaWctY2FsZW5kYXJAMS4xNy4xX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LWJpZy1jYWxlbmRhci9saWIvdXRpbHMvc2VsZWN0aW9uLmpzP2VlZmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpLmRlZmF1bHQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kYXRlQ2VsbFNlbGVjdGlvbiA9IGRhdGVDZWxsU2VsZWN0aW9uO1xuZXhwb3J0cy5nZXRTbG90QXRYID0gZ2V0U2xvdEF0WDtcbmV4cG9ydHMuaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7XG5leHBvcnRzLnBvaW50SW5Cb3ggPSBwb2ludEluQm94O1xuZXhwb3J0cy5zbG90V2lkdGggPSBzbG90V2lkdGg7XG52YXIgX2lzRXF1YWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvaXNFcXVhbFwiKSk7XG5mdW5jdGlvbiBpc1NlbGVjdGVkKGV2ZW50LCBzZWxlY3RlZCkge1xuICBpZiAoIWV2ZW50IHx8IHNlbGVjdGVkID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICgwLCBfaXNFcXVhbC5kZWZhdWx0KShldmVudCwgc2VsZWN0ZWQpO1xufVxuZnVuY3Rpb24gc2xvdFdpZHRoKHJvd0JveCwgc2xvdHMpIHtcbiAgdmFyIHJvd1dpZHRoID0gcm93Qm94LnJpZ2h0IC0gcm93Qm94LmxlZnQ7XG4gIHZhciBjZWxsV2lkdGggPSByb3dXaWR0aCAvIHNsb3RzO1xuICByZXR1cm4gY2VsbFdpZHRoO1xufVxuZnVuY3Rpb24gZ2V0U2xvdEF0WChyb3dCb3gsIHgsIHJ0bCwgc2xvdHMpIHtcbiAgdmFyIGNlbGxXaWR0aCA9IHNsb3RXaWR0aChyb3dCb3gsIHNsb3RzKTtcbiAgcmV0dXJuIHJ0bCA/IHNsb3RzIC0gMSAtIE1hdGguZmxvb3IoKHggLSByb3dCb3gubGVmdCkgLyBjZWxsV2lkdGgpIDogTWF0aC5mbG9vcigoeCAtIHJvd0JveC5sZWZ0KSAvIGNlbGxXaWR0aCk7XG59XG5mdW5jdGlvbiBwb2ludEluQm94KGJveCwgX3JlZikge1xuICB2YXIgeCA9IF9yZWYueCxcbiAgICB5ID0gX3JlZi55O1xuICByZXR1cm4geSA+PSBib3gudG9wICYmIHkgPD0gYm94LmJvdHRvbSAmJiB4ID49IGJveC5sZWZ0ICYmIHggPD0gYm94LnJpZ2h0O1xufVxuZnVuY3Rpb24gZGF0ZUNlbGxTZWxlY3Rpb24oc3RhcnQsIHJvd0JveCwgYm94LCBzbG90cywgcnRsKSB7XG4gIHZhciBzdGFydElkeCA9IC0xO1xuICB2YXIgZW5kSWR4ID0gLTE7XG4gIHZhciBsYXN0U2xvdElkeCA9IHNsb3RzIC0gMTtcbiAgdmFyIGNlbGxXaWR0aCA9IHNsb3RXaWR0aChyb3dCb3gsIHNsb3RzKTtcblxuICAvLyBjZWxsIHVuZGVyIHRoZSBtb3VzZVxuICB2YXIgY3VycmVudFNsb3QgPSBnZXRTbG90QXRYKHJvd0JveCwgYm94LngsIHJ0bCwgc2xvdHMpO1xuXG4gIC8vIElkZW50aWZ5IHJvdyBhcyBlaXRoZXIgdGhlIGluaXRpYWwgcm93XG4gIC8vIG9yIHRoZSByb3cgdW5kZXIgdGhlIGN1cnJlbnQgbW91c2UgcG9pbnRcbiAgdmFyIGlzQ3VycmVudFJvdyA9IHJvd0JveC50b3AgPCBib3gueSAmJiByb3dCb3guYm90dG9tID4gYm94Lnk7XG4gIHZhciBpc1N0YXJ0Um93ID0gcm93Qm94LnRvcCA8IHN0YXJ0LnkgJiYgcm93Qm94LmJvdHRvbSA+IHN0YXJ0Lnk7XG5cbiAgLy8gdGhpcyByb3cncyBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc3RhcnQgcG9pbnRcbiAgdmFyIGlzQWJvdmVTdGFydCA9IHN0YXJ0LnkgPiByb3dCb3guYm90dG9tO1xuICB2YXIgaXNCZWxvd1N0YXJ0ID0gcm93Qm94LnRvcCA+IHN0YXJ0Lnk7XG4gIHZhciBpc0JldHdlZW4gPSBib3gudG9wIDwgcm93Qm94LnRvcCAmJiBib3guYm90dG9tID4gcm93Qm94LmJvdHRvbTtcblxuICAvLyB0aGlzIHJvdyBpcyBiZXR3ZWVuIHRoZSBjdXJyZW50IGFuZCBzdGFydCByb3dzLCBzbyBlbnRpcmVseSBzZWxlY3RlZFxuICBpZiAoaXNCZXR3ZWVuKSB7XG4gICAgc3RhcnRJZHggPSAwO1xuICAgIGVuZElkeCA9IGxhc3RTbG90SWR4O1xuICB9XG4gIGlmIChpc0N1cnJlbnRSb3cpIHtcbiAgICBpZiAoaXNCZWxvd1N0YXJ0KSB7XG4gICAgICBzdGFydElkeCA9IDA7XG4gICAgICBlbmRJZHggPSBjdXJyZW50U2xvdDtcbiAgICB9IGVsc2UgaWYgKGlzQWJvdmVTdGFydCkge1xuICAgICAgc3RhcnRJZHggPSBjdXJyZW50U2xvdDtcbiAgICAgIGVuZElkeCA9IGxhc3RTbG90SWR4O1xuICAgIH1cbiAgfVxuICBpZiAoaXNTdGFydFJvdykge1xuICAgIC8vIHNlbGVjdCB0aGUgY2VsbCB1bmRlciB0aGUgaW5pdGlhbCBwb2ludFxuICAgIHN0YXJ0SWR4ID0gZW5kSWR4ID0gcnRsID8gbGFzdFNsb3RJZHggLSBNYXRoLmZsb29yKChzdGFydC54IC0gcm93Qm94LmxlZnQpIC8gY2VsbFdpZHRoKSA6IE1hdGguZmxvb3IoKHN0YXJ0LnggLSByb3dCb3gubGVmdCkgLyBjZWxsV2lkdGgpO1xuICAgIGlmIChpc0N1cnJlbnRSb3cpIHtcbiAgICAgIGlmIChjdXJyZW50U2xvdCA8IHN0YXJ0SWR4KSBzdGFydElkeCA9IGN1cnJlbnRTbG90O2Vsc2UgZW5kSWR4ID0gY3VycmVudFNsb3Q7IC8vc2VsZWN0IGN1cnJlbnQgcmFuZ2VcbiAgICB9IGVsc2UgaWYgKHN0YXJ0LnkgPCBib3gueSkge1xuICAgICAgLy8gdGhlIGN1cnJlbnQgcm93IGlzIGJlbG93IHN0YXJ0IHJvd1xuICAgICAgLy8gc2VsZWN0IGNlbGxzIHRvIHRoZSByaWdodCBvZiB0aGUgc3RhcnQgY2VsbFxuICAgICAgZW5kSWR4ID0gbGFzdFNsb3RJZHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNlbGVjdCBjZWxscyB0byB0aGUgbGVmdCBvZiB0aGUgc3RhcnQgY2VsbFxuICAgICAgc3RhcnRJZHggPSAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHN0YXJ0SWR4OiBzdGFydElkeCxcbiAgICBlbmRJZHg6IGVuZElkeFxuICB9O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/utils/selection.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/styles.css":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/styles.css ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"605ee0761067\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9zdHlsZXMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2FkZG9ucy9kcmFnQW5kRHJvcC9zdHlsZXMuY3NzPzI2ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2MDVlZTA3NjEwNjdcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/addons/dragAndDrop/styles.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/css/react-big-calendar.css":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/css/react-big-calendar.css ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"30cde2099f92\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2Nzcy9yZWFjdC1iaWctY2FsZW5kYXIuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b2xpbmtwcm8tYXp0ZWMvLi9ub2RlX21vZHVsZXMvLnBucG0vcmVhY3QtYmlnLWNhbGVuZGFyQDEuMTcuMV9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1iaWctY2FsZW5kYXIvbGliL2Nzcy9yZWFjdC1iaWctY2FsZW5kYXIuY3NzPzM5NzciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIzMGNkZTIwOTlmOTJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/react-big-calendar@1.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-big-calendar/lib/css/react-big-calendar.css\n");

/***/ })

};
;